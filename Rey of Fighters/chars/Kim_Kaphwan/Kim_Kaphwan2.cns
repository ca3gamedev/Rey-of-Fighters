;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;超必殺技
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; 鳳凰脚
[Statedef 2000]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 10
poweradd= 0
anim = 2000
ctrl = 0
sprpriority = 1

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1000
trigger2 = prevstateno = 1205
trigger3 = prevstateno = 1420
trigger4 = prevstateno = 1805
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = time = 0
trigger1 = prevstateno = 1000
trigger2 = prevstateno = 1205
trigger3 = prevstateno = 1420
trigger4 = prevstateno = 1805
value = -1000

;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = var(20) = 0
trigger1 = time = 0
value = -1000

[state a]
type = varset
trigger1 = time = 0
v = 20
value = 0

;---------------------[コマンド判定]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

[state a]
type = varset
trigger1 = !Time
trigger1 = !var(59)
trigger1 = command = "a"
trigger2 = var(5)
v = 5
value = 0

[state a]
type = varset
trigger1 = !Time
trigger1 = !var(59)
trigger1 = command = "b"
trigger2 = var(59)
trigger3 = prevstateno = 261 || prevstateno = 1100 || (prevstateno = 1205 && !var(5)) || prevstateno = 1805
v = 5
value = 1

;---------------------[無敵]
[state a]
type = nothitby
trigger1 = animelem = 7,<0
value = SCA
time = 1

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6000
sprpriority = -9999
postype = p1
pos = -9,-54
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6001
sprpriority = 3
postype = p1
pos = -9,-54
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3000,0

;---------------------[効果音]
[State 2000, 6];鳳凰脚！
type = PlaySnd
trigger1 = animelem = 1
value = 2000,0


[State 2000, 6];ダッシュ
type = PlaySnd
trigger1 = animelem = 7
value = 2000,4

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = animelem = 7
value = A

[state a]
type = velset
trigger1 = var(5) = 0
trigger1 = animelem = 7
x = 10
y = -1

[state a]
type = velset
trigger1 = var(5) = 1
trigger1 = animelem = 7
x = 10
y = -2

[state a]
type = veladd
trigger1 = var(5) = 0
trigger1 = animelem = 7,>0
y = 0.18

[state a]
type = veladd
trigger1 = var(5) = 1
trigger1 = animelem = 7,>0
y = 0.165

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 7
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 1
edge = 24,0

;---------------------[攻撃]
[State 210, 2]
type = HitDef
trigger1 = animelem = 7
attr = A, HA
animtype  = hard
damage    = 0,0
priority = 8, Hit
getpower = 0,0
hitflag = MAF
guardflag = M
pausetime = 7,8
sparkno = s7002
sparkxy = -24,-52
hitsound   = s400,3
guardsound = s120,1
guard.sparkno = s7012
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
ID = 200
nochainID = 9999
fall = 1
fall.recover = 0
kill = 0
p2facing = 1
p1stateno = 2010
p2stateno = 2020

[State 3000, Dream Cancel]
type = ChangeState
Trigger1 = MoveContact
Trigger1 = power >= 3000
Trigger1 = command = "ゼロ距離鳳凰脚"
Trigger1 = Life <= Const(Data.Life)/4
value = ifelse(random < 500,2500,2700)

;---------------------[]
[state a]
type = changestate
trigger1 = moveguarded
value = 2005

[State 821, 3] 
type = changeState
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 2005

;----------------------------------------------------------------------------
; 鳳凰脚・終了
[Statedef 2005]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
;velset = 0,0
anim = 2005
sprpriority = 1
ctrl = 0

;---------------------[コマンド判定]
[State 50, 4];残像
type = AfterImagetime
trigger1 = time = 0
value = 0

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 1
edge = 24,0

;---------------------[移動]
[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = velmul
trigger1 = 1
x = 0.9

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 鳳凰脚・ヒット
[Statedef 2010]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 2010
sprpriority = 1
ctrl = 0

;---------------------[サウンド]
[State a];あたたたたたー
type = PlaySnd
trigger1 = animelem = 1
value = 2000, 1

[State a];あたー
type = PlaySnd
trigger1 = animelem = 33
value = 2000, 2

[State a];うわちゃー！
type = PlaySnd
trigger1 = animelem = 62
value = 2000, 3

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImagetime
trigger1 = time = 0
value = 0

[State a]
type = EnvColor
trigger1 = animelem = 1
trigger2 = animelem = 10
trigger3 = animelem = 12
trigger4 = animelem = 15
trigger5 = animelem = 22
trigger6 = animelem = 35
trigger7 = animelem = 42
time = 1
value = 255,255,255
under = 2

[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 48
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[移動]
[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = velset
trigger1 = time = 0
x = 1

[state a]
type = velset
trigger1 = animelem = 43
x = 0

[state a]
type = posadd
trigger1 = animelem = 29
trigger2 = animelem = 30
trigger3 = animelem = 31
trigger4 = animelem = 32
trigger5 = animelem = 48
trigger6 = animelem = 49
trigger7 = animelem = 50
x = 8

[state a]
type = statetypeset
trigger1 = animelem = 51
value = A

[state a]
type = posadd
trigger1 = animelem = 51
y = -9

[state a]
type = posadd
trigger1 = animelem = 52
x = 8
y = -8

[state a]
type = velset
trigger1 = animelem = 53
y = -8


[state a]
type = veladd
trigger1 = animelem = 53,>0
y = 0.47

;---------------------[無敵]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 90,0

;---------------------[攻撃]
[State 210, 2]
type = HitDef
trigger1 = animelem = 4
trigger2 = animelem = 10
trigger3 = animelem = 12
trigger4 = animelem = 15
trigger5 = animelem = 22
trigger6 = animelem = 35
trigger7 = animelem = 42
attr = S, HA
animtype  = hard
damage    = 42 + var(8)*19,5
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 0,1
sparkno = s7003
sparkxy = -15,-38 - random%50
hitsound   = s400,1 + (random%2)*2
guardsound = s120,1
guard.sparkno = s7012
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
ID = 200
nochainID = 9999
fall = 0
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 52
attr = A, HA
animtype  = high
damage    = 69+var(8)*10,8
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 11,12
sparkno = s7003
sparkxy = -15,-89
hitsound   = s400,4
guard.sparkno = s7012
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = 0,-11.8
air.velocity = 0,-11.8
guard.velocity = -11
yaccel = 0.48
fall = 1
fall.recover = 0
ID = 9999
nochainID = 9999
kill = 0
envshake.time = 11
envshake.ampl = -8
envshake.freq = 92
envshake.phase = 92

[State 240, 2]
type = HitDef
trigger1 = animelem = 66
attr = A, SA
animtype  = up
damage    = 108+var(8)*10,8
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 14,16
sparkno = s7003
sparkxy = -15,-89
hitsound   = s400,4
guard.sparkno = s7012
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -7,12
air.velocity = -7,12
guard.velocity = -6
yaccel = 0.48
fall = 1
fall.recover = 0
ID = 9999
envshake.time = 14
envshake.ampl = -8
envshake.freq = 92
envshake.phase = 92

;---------------------[相手制御]
[state a]
type = targetbind
trigger1 = animelem = 48,< 0
pos = 68,0

[state a]
type = targetstate
trigger1 = time = 0
trigger2 = animelem = 43,<0
trigger2 = movehit = 1
value = 2020+random%2


;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 2015

;---------------------------------------------------------------------------
; 鳳凰脚・着地
[Statedef 2015]
type    = S
movetype= A
physics = N
juggle  = 7
poweradd= 0
velset = 0,0
anim = 2015
sprpriority = 1
ctrl = 0

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImagetime
trigger1 = time = 0
value = 0

;---------------------[サウンド]
[State a];
type = PlaySnd
trigger1 = animelem = 1
value = 41, 0

;---------------------[速度]
[state a]
type = posset
trigger1 = time = 0
y = 0

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
;(ENEMY)鳳凰脚・掴まれ1
[Statedef 2020]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -1

;---------------------[演出]
[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2020

;---------------------[ステート移行]
[State 821, 3] 
type = SelfState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)鳳凰脚・掴まれ2
[Statedef 2021]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -1

;---------------------[演出]
[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2021

;---------------------[ステート移行]
[State 821, 3] 
type = SelfState
trigger1 = animtime = 0
value = 0
ctrl = 1


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; 空中鳳凰脚
[Statedef 2001]
type    = A
movetype= A
physics = N
velset = 0,0
juggle = 8
poweradd= 0
anim = 2001
ctrl = 0
sprpriority = 1

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1310
trigger2 = prevstateno = 1430
trigger3 = prevstateno = 1440
trigger4 = prevstateno = 1605
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = time = 0
trigger1 = prevstateno = 1310
trigger2 = prevstateno = 1430
trigger3 = prevstateno = 1440
trigger4 = prevstateno = 1605
value = -1000

;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = var(20) = 0
trigger1 = time = 0
value = -1000

[state a]
type = varset
trigger1 = time = 0
v = 20
value = 0

;---------------------[コマンド判定]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "a"
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "b"
v = 5
value = 1

;---------------------[無敵]
[state a]
type = nothitby
trigger1 = animelem = 7,<0
value = SCA
time = 1

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6000
sprpriority = -9999
postype = p1
pos = 6,-79
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6001
sprpriority = 3
postype = p1
pos = 6,-79
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3000,0

;---------------------[効果音]
[State 2000, 6];鳳凰脚！
type = PlaySnd
trigger1 = animelem = 1
value = 2000,0


[State 2000, 6];ダッシュ
type = PlaySnd
trigger1 = animelem = 4
value = 2000,4

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = animelem = 4
value = A

[state a]
type = velset
trigger1 = var(5) = 0
trigger1 = animelem = 4
x = 10
y = -1

[state a]
type = velset
trigger1 = var(5) = 1
trigger1 = animelem = 4
x = 10
y = -2

[state a]
type = veladd
trigger1 = var(5) = 0
trigger1 = animelem = 4,>0
y = 0.18

[state a]
type = veladd
trigger1 = var(5) = 1
trigger1 = animelem = 4,>0
y = 0.165

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 4
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 1
edge = 24,0

;---------------------[攻撃]
[State 210, 2]
type = HitDef
trigger1 = animelem = 4
attr = A, HA
animtype  = hard
damage    = 0,0
priority = 8, Hit
getpower = 0,0
hitflag = MAF
guardflag = M
pausetime = 7,8
sparkno = s7002
sparkxy = -24,-52
hitsound   = s400,3
guardsound = s120,1
guard.sparkno = s7012
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
ID = 200
nochainID = 9999
fall = 1
fall.recover = 0
kill = 0
p2facing = 1
p1stateno = 2010
p2stateno = 2020

;---------------------[]
[state a]
type = changestate
trigger1 = moveguarded
value = 2005

[State 821, 3] 
type = changeState
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 2005


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; 鳳凰脚
[Statedef 2050]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 8
poweradd= 0
anim = 2000
ctrl = 0
sprpriority = 1

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1205
trigger2 = prevstateno = 1370
trigger3 = prevstateno = 1500
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = time = 0
trigger1 = prevstateno = 1205
trigger2 = prevstateno = 1370
trigger3 = prevstateno = 1500
value = -1000

;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = var(20) = 0
trigger1 = time = 0
value = -1000

[state a]
type = varset
trigger1 = time = 0
v = 20
value = 0

;---------------------[コマンド判定]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

[state a]
type = varset
triggerall = !Time
trigger1 = !var(59)
trigger1 = command = "a"
v = 5
value = 0

[state a]
type = varset
triggerall = !Time
trigger1 = !var(59)
trigger1 = command = "b"
v = 5
value = 1

[State 2050, set AI 1]
type = varset
triggerall = !Time
triggerall = var(59)
trigger1 = enemynear(var(58)),movetype = H
trigger2 = prevstateno = 261 || prevstateno = 1205 ;|| prevstateno = 1500
v = 5
value = 1

;---------------------[無敵]
[state a]
type = nothitby
trigger1 = animelem = 7,<0
value = SCA
time = 1

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6000
sprpriority = -9999
postype = p1
pos = -9,-54
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6001
sprpriority = 3
postype = p1
pos = -9,-54
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3000,0

;---------------------[効果音]
[State 2000, 6];鳳凰
type = PlaySnd
trigger1 = animelem = 1
value = 2050,0


[State 2000, 6];脚
type = PlaySnd
trigger1 = animelem = 7
value = 2050,1


[State 2000, 6];ダッシュ
type = PlaySnd
trigger1 = animelem = 7
value = 2000,4

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = animelem = 7
value = A

[state a]
type = velset
trigger1 = var(5) = 0
trigger1 = animelem = 7
x = 10
y = -1

[state a]
type = velset
trigger1 = var(5) = 1
trigger1 = animelem = 7
x = 10
y = -2

[state a]
type = veladd
trigger1 = var(5) = 0
trigger1 = animelem = 7,>0
y = 0.18

[state a]
type = veladd
trigger1 = var(5) = 1
trigger1 = animelem = 7,>0
y = 0.165

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 7
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 1
edge = 24,0

;---------------------[攻撃]
[State 210, 2]
type = HitDef
trigger1 = animelem = 7
attr = A, HA
animtype  = hard
damage    = 0,0
priority = 8, Hit
getpower = 0,0
hitflag = MAF
guardflag = M
pausetime = 7,8
sparkno = s7002
sparkxy = -24,-52
hitsound   = s400,3
guardsound = s120,1
guard.sparkno = s7012
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
ID = 200
nochainID = 9999
fall = 1
fall.recover = 0
kill = 0
p2facing = 1
p1stateno = 2060
p2stateno = 2020

;---------------------[]
[state a]
type = changestate
trigger1 = moveguarded
value = 2005

[State 821, 3] 
type = changeState
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 2005

;---------------------------------------------------------------------------
; 鳳凰脚・ヒット
[Statedef 2060]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 2060
sprpriority = 1
ctrl = 0

;---------------------[サウンド]
[State a];あーた
type = PlaySnd
trigger1 = animelem = 1
value = 2050, 2

[State a];たたた
type = PlaySnd
trigger1 = animelem = 24
trigger2 = animelem = 38
trigger3 = animelem = 57
value = 2050, 3

[State a];うわちゃー！
type = PlaySnd
trigger1 = animelem = 72
value = 2050, 4

[State a];蹴り
type = PlaySnd
trigger1 = animelem = 71
value = 1050, 2

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImagetime
trigger1 = time = 0
value = 0

[State a]
type = EnvColor
trigger1 = animelem = 3
trigger2 = animelem = 9
trigger3 = animelem = 15
trigger4 = animelem = 17
trigger5 = animelem = 20
trigger6 = animelem = 27
trigger7 = animelem = 36
trigger8 = animelem = 42
trigger9 = animelem = 55
trigger10= animelem = 62
trigger11= animelem = 1
time = 1
value = 255,255,255
under = 2

[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 68
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State explod];脚
type = Explod
trigger1 = animelem = 69
anim = 1060
id = 1060
sprpriority = 5
postype = p1
pos = 36,0
vel = 1,0
bindtime = 1
supermove = 0
under = 0
trans = addalpha
alpha = 245,80
ownpal = 1
ignorehitpause = 0

;---------------------[移動]
[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = velset
trigger1 = time = 0
x = 1

[state a]
type = velset
trigger1 = animelem = 68
x = 0

[state a]
type = posadd
trigger1 = animelem = 49
trigger2 = animelem = 50
trigger3 = animelem = 51
trigger4 = animelem = 52
trigger5 = animelem = 68
trigger6 = animelem = 69
trigger7 = animelem = 70
x = 8

[state a]
type = statetypeset
trigger1 = animelem = 71
value = A

[state a]
type = posadd
trigger1 = animelem = 71
y = -9


[state a]
type = velset
trigger1 = animelem = 71
x = 1
y = -8


[state a]
type = veladd
trigger1 = animelem = 72,>0
y = 0.47

;---------------------[無敵]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 90,0

;---------------------[攻撃]
[State 210, 2]
type = HitDef
trigger1 = animelem = 3
trigger2 = animelem = 9
trigger3 = animelem = 15
trigger4 = animelem = 17
trigger5 = animelem = 20
trigger6 = animelem = 27
trigger7 = animelem = 36
trigger8 = animelem = 42
trigger9 = animelem = 55
trigger10= animelem = 62
attr = S, HA
animtype  = hard
damage    = 32 + var(8)*19,5
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 0,1
sparkno = s7003
sparkxy = -15,-38 - random%50
hitsound   = s400,1 + (random%2)*2
guardsound = s120,1
guard.sparkno = s7012
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
ID = 200
nochainID = 9999
fall = 0
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 71
trigger2 = animelem = 72
attr = A, HA
animtype  = high
damage    = 49+var(8)*10,8
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 7,7
sparkno = s7003
sparkxy = -15,-89
hitsound   = s1350,2
guard.sparkno = s7012
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -3,-12.8
air.velocity = -3,-12.8
guard.velocity = -11
yaccel = 0.48
fall = 1
fall.recover = 0
ID = 9999
kill = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 73
attr = A, SA
animtype  = diagup
damage    = 108+var(8)*10,8
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 14,16
sparkno = s7003
sparkxy = -15,-89
hitsound   = s1350,2
guard.sparkno = s7012
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5,-9
air.velocity = -5,-9
guard.velocity = -6
yaccel = 0.48
fall = 1
fall.recover = 0
ID = 9999

;---------------------[相手制御]
[state a]
type = targetbind
trigger1 = animelem = 64,< 0
pos = 68,0

[state a]
type = targetstate
trigger1 = time = 0
trigger2 = animelem = 63,<0
trigger2 = movehit = 1
value = 2020+random%2


;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 2065

;---------------------------------------------------------------------------
; 鳳凰脚・着地
[Statedef 2065]
type    = S
movetype= A
physics = N
juggle  = 7
poweradd= 0
velset = 0,0
anim = 2065
sprpriority = 1
ctrl = 0

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImagetime
trigger1 = time = 0
value = 0

;---------------------[サウンド]
[State a];
type = PlaySnd
trigger1 = animelem = 1
value = 41, 0

;---------------------[速度]
[state a]
type = posset
trigger1 = time = 0
y = 0

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
; 空中鳳凰脚
[Statedef 2051]
type    = A
movetype= A
physics = N
velset = 0,0
juggle = 8
poweradd= 0
anim = 2001
ctrl = 0
sprpriority = 1

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1200
trigger2 = prevstateno = 1360
trigger3 = prevstateno = 1700
trigger4 = prevstateno = 1750
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = time = 0
trigger1 = prevstateno = 1200
trigger2 = prevstateno = 1360
trigger3 = prevstateno = 1700
trigger4 = prevstateno = 1750
value = -1000

;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = var(20) = 0
trigger1 = time = 0
value = -1000

[state a]
type = varset
trigger1 = time = 0
v = 20
value = 0

;---------------------[コマンド判定]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

[state a]
type = varset
triggerall = !Time
trigger1 = command = "a"
trigger1 = !var(59)
trigger2 = var(59)>0 && enemynear(var(58)),movetype = H
trigger3 = var(59)>0 && var(20)>0
Trigger4 = PrevStateNo = [200,299]
Trigger5 = (PrevStateNo = 1700 && var(5))
v = 5
value = 0

[state a]
type = varset
triggerall = !Time
trigger1 = command = "b"
trigger1 = !var(59)
trigger2 = var(59)>0 && enemynear(var(58)),movetype != H
trigger3 = var(59)>0 && var(20)>0
Trigger4 = enemynear(var(58)),StateType != A
Trigger4 = PrevStateNo = [200,299]
Trigger4 = (PrevStateNo = 1700 && !var(5))
v = 5
value = 1

;---------------------[無敵]
[state a]
type = nothitby
trigger1 = animelem = 7,<0
value = SCA
time = 1

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6000
sprpriority = -9999
postype = p1
pos = 6,-79
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6001
sprpriority = 3
postype = p1
pos = 6,-79
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3000,0

;---------------------[効果音]
[State 2000, 6];鳳凰
type = PlaySnd
trigger1 = animelem = 1
value = 2050,0

[State 2000, 6];脚
type = PlaySnd
trigger1 = animelem = 4
value = 2050,1

[State 2000, 6];ダッシュ
type = PlaySnd
trigger1 = animelem = 4
value = 2000,4

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = animelem = 4
value = A

[state a]
type = velset
trigger1 = var(5) = 0
trigger1 = animelem = 4
x = 10
y = -1

[state a]
type = velset
trigger1 = var(5) = 1
trigger1 = animelem = 4
x = 10
y = -2

[state a]
type = veladd
trigger1 = var(5) = 0
trigger1 = animelem = 4,>0
y = 0.18

[state a]
type = veladd
trigger1 = var(5) = 1
trigger1 = animelem = 4,>0
y = 0.165

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 4
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 1
edge = 24,0

;---------------------[攻撃]
[State 210, 2]
type = HitDef
trigger1 = animelem = 4
attr = A, HA
animtype  = hard
damage    = 0,0
priority = 8, Hit
getpower = 0,0
hitflag = MAF
guardflag = M
pausetime = 7,8
sparkno = s7002
sparkxy = -24,-52
hitsound   = s400,3
guardsound = s120,1
guard.sparkno = s7012
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
ID = 200
nochainID = 9999
fall = 1
fall.recover = 0
kill = 0
p2facing = 1
p1stateno = 2060
p2stateno = 2020

;---------------------[]
[state a]
type = changestate
trigger1 = moveguarded
value = 2005

[State 821, 3] 
type = changeState
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 2005


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
; 鳳凰飛天脚
[Statedef 2100]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 0
poweradd= 0
anim = 2100
ctrl = 0
sprpriority = 1

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1000
trigger2 = prevstateno = 1205
trigger3 = prevstateno = 1420
trigger4 = prevstateno = 1805
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = time = 0
trigger1 = prevstateno = 1000
trigger2 = prevstateno = 1205
trigger3 = prevstateno = 1420
trigger4 = prevstateno = 1805
value = -1000

;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = var(20) = 0
trigger1 = time = 0
value = -1000

[state a]
type = varset
trigger1 = time = 0
v = 20
value = 0

;---------------------[コマンド判定]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

[state a]
type = varset
triggerall = !Time
trigger1 = !var(59)
trigger1 = command = "a"
trigger2 = var(59)
v = 5
value = 0

[state a]
type = varset
triggerall = !Time
trigger1 = !var(59)
trigger1 = command = "b"
trigger2 = var(59)
v = 5
value = 1

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = var(5) = 1
value = 2101

;---------------------[無敵]
[state a]
type = nothitby
trigger1 = animelem = 5,<0
value = SCA
time = 1

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6000
sprpriority = -9999
postype = p1
pos = 0,-64
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6001
sprpriority = 3
postype = p1
pos = 0,-64
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3000,0

;---------------------[効果音]
[State 2000, 6];見切った
type = PlaySnd
trigger1 = animelem = 1
value = 2100,0


[State 2000, 6];蹴り
type = PlaySnd
trigger1 = animelem = 4
value = 2100,1

;---------------------[移動]
[state a]
type = posadd
trigger1 = animelem = 4
x = 8


;---------------------[エフェクト]
[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;---------------------[攻撃]
[State 240, 2]
type = HitDef
trigger1 = var(5) = 0
trigger1 = animelem = 5
attr = S, HA
animtype  = up
damage    = 138+var(8)*10,16
priority = 11, Hit
getpower = 0,0
guardflag = M
hitflag = MA
pausetime = 8,9
sparkno = s7003
sparkxy = -12,-97
hitsound   = s400,4
guard.sparkno = s7012
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -2,-14.8
air.velocity = -2,-14.8
guard.velocity = -11
yaccel = 0.68
fall = 1
fall.recover = 0
;ID = 9999
;nochainID = 9999

[State 240, 2]
type = HitDef
trigger1 = var(5) = 1
trigger1 = animelem = 5
attr = S, HA
animtype  = up
damage    = 138+var(8)*10,16
priority = 11, Hit
getpower = 0,0
guardflag = M
hitflag = MA
pausetime = 8,9
sparkno = s7003
sparkxy = -12,-97
hitsound   = s400,4
guard.sparkno = s7012
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = 0,-14.8
air.velocity = 0,-14.8
guard.velocity = -11
yaccel = 0.68
fall = 1
fall.recover = 0
;ID = 9999
;nochainID = 9999

;---------------------[]
[state a];ハイアングルネリチャギ
type = changestate
trigger1 = movecontact = 1
trigger1 = command = "おしっぱなしa" || command = "おしっぱなしb"
value = 2110

[state a]
type = changestate
trigger1 = movecontact
value = 2105

[State 821, 3] 
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 鳳凰飛天脚・ヒット
[Statedef 2105]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 0
poweradd= 0
anim = 2105
ctrl = 0
sprpriority = 1

;---------------------[]
[State 821, 3] 
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
; ハイアングルネリチャギ
[Statedef 2110]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 0
poweradd= 0
anim = 2110
ctrl = 0
sprpriority = 1

;---------------------[効果音]
[State 2000, 6];ネリチャギ！
type = PlaySnd
trigger1 = animelemtime(10) = 14
value = 260,0


[State 2000, 6];蹴り
type = PlaySnd
trigger1 = animelem = 11
value = 2100,2

;---------------------[移動]

[state a]
type = posadd
triggerall = var(5) = 0
trigger1 = animelem = 5
trigger2 = animelem = 6
trigger3 = animelem = 8
x = 8


[state a]
type = posadd
trigger1 = animelem = 7
x = 8

;---------------------[エフェクト]
[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;---------------------[攻撃]
[State 240, 2]
type = HitDef
trigger1 = animelem = 12
attr = S, HA
animtype  = up
damage    = 167+var(8)*10,16
priority = 21, Hit
getpower = 0,0
guardflag = H
hitflag = MAFLD
pausetime = 44,45
sparkno = s7003
sparkxy = -12,-97
hitsound   = s1250,2
guard.sparkno = s7012
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -14,12
air.velocity = -14,12
guard.velocity = -11
fall.xvelocity = -2
yaccel = 0.68
fall = 1
fall.recover = 0
envshake.time = 22
envshake.ampl = -8
envshake.freq = 92
envshake.phase = 92

;---------------------[]
[State 821, 3] 
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
; 鳳凰天舞脚
[Statedef 2200]
type    = A
movetype= A
physics = N
velset = 0,0
juggle = 8
poweradd= 0
anim = 2200
ctrl = 0
sprpriority = 1

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1200
trigger2 = prevstateno = 1360
trigger3 = prevstateno = 1700
trigger4 = prevstateno = 1750
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = time = 0
trigger1 = prevstateno = 1200
trigger2 = prevstateno = 1360
trigger3 = prevstateno = 1700
trigger4 = prevstateno = 1750
value = -1000

;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = var(20) = 0
trigger1 = time = 0
value = -1000

[state a]
type = varset
trigger1 = time = 0
v = 20
value = 0

;---------------------[コマンド判定]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "a"
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
trigger1 = command = "b"
v = 5
value = 1

;---------------------[無敵]
[state a]
type = nothitby
trigger1 = animelem = 10,<0
value = SCA
time = 1

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6000
sprpriority = -9999
postype = p1
pos = 4,-74
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6001
sprpriority = 3
postype = p1
pos = 4,-74
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3000,0

;---------------------[効果音]
[State 2000, 6];鳳凰
type = PlaySnd
trigger1 = animelem = 1
value = 2200,0

[State 2000, 6];天舞脚
type = PlaySnd
trigger1 = animelem = 8
value = 2200,1

[State 2000, 6];ダッシュ
type = PlaySnd
trigger1 = animelem = 10
value = 1350,1

;---------------------[移動]
[state a];
type = velset
trigger1 = var(5) = 0
trigger1 = animelem = 10
x = 3.4
y = 8.4

[state a];
type = veladd
trigger1 = var(5) = 1
trigger1 = animelem = 10
x = 6.4
y = 6.4

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 1
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;---------------------[攻撃]
[State 210, 2]
type = HitDef
trigger1 = animelem = 10
attr = A, HA
animtype  = hard
damage    = 0,0
priority = 8, Hit
getpower = 0,0
hitflag = MAF
guardflag = M
pausetime = 7,8
sparkno = s7002
sparkxy = -24,-52
hitsound   = s1350,2
guardsound = s120,1
guard.sparkno = s7012
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-7
air.velocity = -2,-7
ID = 200
nochainID = 9999
fall = 1
fall.recover = 0
kill = 0
p2facing = 1

;---------------------[]
[state a]
type = changestate
trigger1 = movecontact
value = 2210

[State 821, 3] 
type = changeState
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 2205

;---------------------------------------------------------------------------
; 鳳凰天舞脚・着地
[Statedef 2205]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 2205+var(5)
sprpriority = 1
ctrl = 0

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImagetime
trigger1 = time = 0
value = 0

;---------------------[サウンド]
[State a];
type = PlaySnd
trigger1 = animelem = 1
value = 41, 0

;---------------------[速度]
[state a]
type = posset
trigger1 = time = 0
y = 0


;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 鳳凰天舞脚・ヒット
[Statedef 2210]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 2210
sprpriority = 1
ctrl = 0

;---------------------[サウンド]
[State a];あちょ
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 8
trigger3 = animelem = 14
trigger4 = animelem = 20
value = 2200, 2

[State a];あちゃーぁ
type = PlaySnd
trigger1 = animelem = 28
value = 2200, 3

[State a];あちょ
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 8
trigger3 = animelem = 14
trigger4 = animelem = 20
value = 2200, 2

[State a];あちゃーぁ
type = PlaySnd
trigger1 = animelem = 28
value = 2200, 3

[State a];蹴り
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 8
trigger3 = animelem = 14
trigger4 = animelem = 20
trigger5 = animelem = 28
value = 1700, 1

;---------------------[エフェクト]
[State 50, 4];残像
type = null;AfterImagetime
trigger1 = time = 0
value = 0

[State a]
type = EnvColor
trigger1 = animelem = 29,<0
trigger1 = movehit = 1
time = 1
value = 255,255,255
under = 2

[State a]
type = EnvColor
trigger1 = animelem = 29,>=0
trigger1 = movehit = 1
time = 1
value = 255,255,255
under = 2
ignorehitpause = 1
persistent = 0

;---------------------[移動]
[state a]
type = velset
trigger1 = time = 0
y = -3

[state a]
type = velmul
trigger1 = animelem = 29,<0
y = 0.94

[state a]
type = velset
trigger1 = animelem = 32
x = 2
y = -0.5

[state a]
type = veladd
trigger1 = animelem = 32,>0
y = 0.46

;---------------------[無敵]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------[攻撃]
[State 210, 2]
type = HitDef
trigger1 = animelem = 2
trigger2 = animelem = 8
trigger3 = animelem = 14
trigger4 = animelem = 20
attr = S, HA
animtype  = hard
damage    = 42 + var(8)*19,5
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 7,7
sparkno = s7003
sparkxy = -15,-58
hitsound   = s1350,2
guardsound = s120,1
guard.sparkno = s7012
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = 0,-3
air.velocity = 0,-3
ID = 200
nochainID = 9999
fall = 0
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 210, 2]
type = HitDef
trigger1 = animelem = 4
trigger2 = animelem = 10
trigger3 = animelem = 16
trigger4 = animelem = 22
attr = S, HA
animtype  = hard
damage    = 42 + var(8)*19,5
priority = 9999, Hit
getpower = 6,6
guardflag = N
pausetime = 0,0
sparkno = s7003
sparkxy = -15,-98
hitsound   = s1250,1
guardsound = s120,1
guard.sparkno = s7012
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = 0,-3
air.velocity = 0,-3
ID = 200
nochainID = 9999
fall = 0
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0


[State 240, 2]
type = HitDef
trigger1 = animelem = 29
attr = A, SA
animtype  = diagup
damage    = 108+var(8)*10,8
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 26,27
sparkno = s7003
sparkxy = -15,-89
hitsound   = s1250,2
guard.sparkno = s7012
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -7,-8
air.velocity = -7,-8
guard.velocity = -6
yaccel = 0.48
fall = 1
fall.recover = 0
ID = 9999

;---------------------[相手制御]

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 2215

;---------------------------------------------------------------------------
; 鳳凰天舞脚・着地
[Statedef 2215]
type    = S
movetype= A
physics = N
juggle  = 7
poweradd= 0
velset = 0,0
anim = 2215
sprpriority = 1
ctrl = 0

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImagetime
trigger1 = time = 0
value = 0

;---------------------[サウンド]
[State a];
type = PlaySnd
trigger1 = animelem = 1
value = 41, 0

;---------------------[速度]
[state a]
type = posset
trigger1 = time = 0
y = 0

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; MAX鳳凰脚
[Statedef 2300]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 8
poweradd= -1000
anim = 2300
ctrl = 0
sprpriority = 1

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1000
trigger2 = prevstateno = 1205
trigger3 = prevstateno = 1420
trigger4 = prevstateno = 1805
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = time = 0
trigger1 = prevstateno = 1000
trigger2 = prevstateno = 1205
trigger3 = prevstateno = 1420
trigger4 = prevstateno = 1805
value = -1000


;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = var(20) = 0
trigger1 = time = 0
value = -2000

[state a]
type = varset
trigger1 = time = 0
v = 20
value = 0

;---------------------[コマンド判定]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[無敵]
[state a]
type = nothitby
trigger1 = animelem = 7,<0
value = SCA
time = 1

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6010
sprpriority = -9999
postype = p1
pos = -9,-54
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6011
sprpriority = 3
postype = p1
pos = -9,-54
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3000,1

;---------------------[効果音]
[State 2000, 6];鳳凰脚！
type = PlaySnd
trigger1 = animelem = 1
value = 2000,0


[State 2000, 6];ダッシュ
type = PlaySnd
trigger1 = animelem = 7
value = 2000,4

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = animelem = 7
value = A

[state a]
type = velset
trigger1 = animelem = 7
x = 10
y = -2

[state a]
type = veladd
trigger1 = animelem = 7,>0
y = 0.165

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 7
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 1
edge = 24,0

;---------------------[攻撃]
[State 210, 2]
type = HitDef
trigger1 = animelem = 7
attr = A, HA
animtype  = hard
damage    = 0,0
priority = 8, Hit
getpower = 0,0
hitflag = MAF
guardflag = M
pausetime = 7,8
sparkno = s7002
sparkxy = -24,-52
hitsound   = s400,3
guardsound = s120,1
guard.sparkno = s7012
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
ID = 200
nochainID = 9999
fall = 1
fall.recover = 0
kill = 0
p2facing = 1
p1stateno = 2310
p2stateno = 2020

;---------------------[]
[state a]
type = changestate
trigger1 = moveguarded
value = 2305

[State 821, 3] 
type = changeState
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 2305

;----------------------------------------------------------------------------
; MAX鳳凰脚・終了
[Statedef 2305]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
;velset = 0,0
anim = 2305
sprpriority = 1
ctrl = 0

;---------------------[コマンド判定]
[State 50, 4];残像
type = AfterImagetime
trigger1 = time = 0
value = 0

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 1
edge = 24,0

;---------------------[移動]
[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = velmul
trigger1 = 1
x = 0.9

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; MAX鳳凰脚・ヒット
[Statedef 2310]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 2310
sprpriority = 1
ctrl = 0

;---------------------[サウンド]
[State a];あたたたたたー
type = PlaySnd
trigger1 = animelem = 13;22
value = 2000, 1

[State a];あたー
type = PlaySnd
trigger1 = animelem = 67
value = 2000, 2

[State a];うわちゃー！
type = PlaySnd
trigger1 = animelem = 102
value = 2000, 3

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImagetime
trigger1 = time = 0
value = 0

[State a]
type = EnvColor
trigger1 = animelem = 1
trigger2 = animelem = 4
trigger3 = animelem = 10
trigger4 = animelem = 16
trigger5 = animelem = 22
trigger6 = animelem = 25
trigger7 = animelem = 33
trigger8 = animelem = 61
time = 1
value = 255,255,255
under = 2

[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 69
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[移動]
[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = statetypeset
trigger1 = animelem = 75
value = A

[state a]
type = posadd
trigger1 = animelem = 75
y = -9

[state a]
type = velset
trigger1 = animelem = 75
x = 15
y = -4


[state a]
type = veladd
trigger1 = animelem = 98,>0
y = 0.25

[state a]
type = velmul
trigger1 = animelem = 77,>0
x = 0.95

;---------------------[無敵]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = time = 0
edge = 90,0

;---------------------[攻撃]
[State 210, 2]
type = HitDef
trigger1 = animelem = 4
trigger2 = animelem = 10
trigger3 = animelem = 17
trigger4 = animelem = 23
trigger5 = animelem = 26
trigger6 = animelem = 29
trigger7 = animelem = 32
trigger8 = animelem = 35
trigger9 = animelem = 38
trigger10= animelem = 41
trigger11= animelem = 50
attr = A, HA
animtype  = hard
damage    = 42 + var(8)*19,5
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 0,1
sparkno = s7003
sparkxy = -5,-68 - random%20
hitsound   = s400,1 + (random%2)*2
guardsound = s120,1
guard.sparkno = s7012
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
ID = 200
nochainID = 9999
fall = 0
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 210, 2]
type = HitDef
trigger1 = animelem = 60
trigger2 = animelem = 68
attr = A, HA
animtype  = hard
damage    = 42 + var(8)*19,5
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 0,1
sparkno = s7003
sparkxy = -15,-58 - random%20
hitsound   = s400,1 + (random%2)*2
guardsound = s120,1
guard.sparkno = s7012
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
ID = 200
nochainID = 9999
fall = 0
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0



[State 240, 2]
type = HitDef
trigger1 = animelem = 77
trigger2 = animelem = 83
trigger3 = animelem = 89
trigger4 = animelem = 95
attr = A, HA
animtype  = high
damage    = 59+var(8)*10,8
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 8,9
sparkno = s7003
sparkxy = -15,-69
hitsound   = s400,4
guard.sparkno = s7012
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -2,-9.5
air.velocity = -2,-9.5
guard.velocity = -11
yaccel = 0.42
fall = 1
fall.recover = 0
ID = 9999
kill = 0


[State 240, 2]
type = HitDef
trigger1 = animelem = 105
attr = A, SA
animtype  = up
damage    = 72+var(8)*10,8
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 27,28
sparkno = s7003
sparkxy = -15,-89
hitsound   = s400,4
guard.sparkno = s7012
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = 0,12
air.velocity = 0,12
guard.velocity = -6
yaccel = 0.48
fall = 1
fall.recover = 0
ID = 9999
envshake.time = 22
envshake.ampl = -8
envshake.freq = 92
envshake.phase = 92

;---------------------[相手制御]
[state a]
type = targetbind
trigger1 = animelem = 69,< 0
pos = 68,0

[state a]
type = targetstate
trigger1 = time = 0
trigger2 = animelem = 69,<0
trigger2 = movehit = 1
value = 2020+random%2


;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 2315

;---------------------------------------------------------------------------
; MAX鳳凰脚・着地
[Statedef 2315]
type    = S
movetype= A
physics = N
juggle  = 7
poweradd= 0
velset = 0,0
anim = 2315
sprpriority = 1
ctrl = 0

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImagetime
trigger1 = time = 0
value = 0

;---------------------[サウンド]
[State a];
type = PlaySnd
trigger1 = animelem = 1
value = 41, 0

;---------------------[速度]
[state a]
type = posset
trigger1 = time = 0
y = 0

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; MAX空中鳳凰脚
[Statedef 2301]
type    = A
movetype= A
physics = N
velset = 0,0
juggle = 8
poweradd= -1000
anim = 2001
ctrl = 0
sprpriority = 1

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1310
trigger2 = prevstateno = 1430
trigger3 = prevstateno = 1440
trigger4 = prevstateno = 1605
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = time = 0
trigger1 = prevstateno = 1310
trigger2 = prevstateno = 1430
trigger3 = prevstateno = 1440
trigger4 = prevstateno = 1605
value = -1000


;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = var(20) = 0
trigger1 = time = 0
value = -2000

[state a]
type = varset
trigger1 = time = 0
v = 20
value = 0

;---------------------[コマンド判定]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0


;---------------------[無敵]
[state a]
type = nothitby
trigger1 = animelem = 7,<0
value = SCA
time = 1

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6010
sprpriority = -9999
postype = p1
pos = 6,-79
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6011
sprpriority = 3
postype = p1
pos = 6,-79
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3000,1

;---------------------[効果音]
[State 2000, 6];鳳凰脚！
type = PlaySnd
trigger1 = animelem = 1
value = 2000,0


[State 2000, 6];ダッシュ
type = PlaySnd
trigger1 = animelem = 4
value = 2000,4

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = animelem = 4
value = A

[state a]
type = velset
trigger1 = animelem = 4
x = 10
y = -2

[state a]
type = veladd
trigger1 = animelem = 4,>0
y = 0.165

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 4
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 1
edge = 24,0

;---------------------[攻撃]
[State 210, 2]
type = HitDef
trigger1 = animelem = 4
attr = A, HA
animtype  = hard
damage    = 0,0
priority = 8, Hit
getpower = 0,0
hitflag = MAF
guardflag = M
pausetime = 7,8
sparkno = s7002
sparkxy = -24,-52
hitsound   = s400,3
guardsound = s120,1
guard.sparkno = s7012
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
ID = 200
nochainID = 9999
fall = 1
fall.recover = 0
kill = 0
p2facing = 1
p1stateno = 2310
p2stateno = 2020

;---------------------[]
[state a]
type = changestate
trigger1 = moveguarded
value = 2005

[State 821, 3] 
type = changeState
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 2005


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
; MAX空中鳳凰脚EX
[Statedef 2351]
type    = A
movetype= A
physics = N
velset = 0,0
juggle = 8
poweradd= -1000
anim = 2001
ctrl = 0
sprpriority = 1

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1200
trigger2 = prevstateno = 1360
trigger3 = prevstateno = 1700
trigger4 = prevstateno = 1750
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = time = 0
trigger1 = prevstateno = 1200
trigger2 = prevstateno = 1360
trigger3 = prevstateno = 1700
trigger4 = prevstateno = 1750
value = -1000


;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = var(20) = 0
trigger1 = time = 0
value = -2000

[state a]
type = varset
trigger1 = time = 0
v = 20
value = 0

;---------------------[コマンド判定]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[無敵]
[state a]
type = nothitby
trigger1 = animelem = 7,<0
value = SCA
time = 1

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6010
sprpriority = -9999
postype = p1
pos = 6,-79
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6011
sprpriority = 3
postype = p1
pos = 6,-79
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3000,1

;---------------------[効果音]
[State 2000, 6];鳳凰
type = PlaySnd
trigger1 = animelem = 1
value = 2050,0

[State 2000, 6];脚
type = PlaySnd
trigger1 = animelem = 4
value = 2050,1

[State 2000, 6];ダッシュ
type = PlaySnd
trigger1 = animelem = 4
value = 2000,4

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = animelem = 4
value = A

[state a]
type = velset
trigger1 = animelem = 4
x = 10
y = -2

[state a]
type = veladd
trigger1 = animelem = 4,>0
y = 0.165

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 4
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 1
edge = 24,0

;---------------------[攻撃]
[State 210, 2]
type = HitDef
trigger1 = animelem = 4
attr = A, HA
animtype  = hard
damage    = 0,0
priority = 8, Hit
getpower = 0,0
hitflag = MAF
guardflag = M
pausetime = 7,8
sparkno = s7002
sparkxy = -24,-52
hitsound   = s400,3
guardsound = s120,1
guard.sparkno = s7012
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
ID = 200
nochainID = 9999
fall = 1
fall.recover = 0
kill = 0
p1stateno = 2360
p2stateno = 2020

;---------------------[]
[state a]
type = changestate
trigger1 = moveguarded
value = 2005

[State 821, 3] 
type = changeState
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 2005



;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; MAX鳳凰脚EX
[Statedef 2350]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 8
poweradd= -1000
anim = 2300
ctrl = 0
sprpriority = 1

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1205
trigger2 = prevstateno = 1370
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = time = 0
trigger1 = prevstateno = 1205
trigger2 = prevstateno = 1370
value = -1000


;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = var(20) = 0
trigger1 = time = 0
value = -2000

[state a]
type = varset
trigger1 = time = 0
v = 20
value = 0

;---------------------[コマンド判定]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[無敵]
[state a]
type = nothitby
trigger1 = animelem = 7,<0
value = SCA
time = 1

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6010
sprpriority = -9999
postype = p1
pos = -9,-54
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6011
sprpriority = 3
postype = p1
pos = -9,-54
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3000,1

;---------------------[効果音]
[State 2000, 6];鳳凰
type = PlaySnd
trigger1 = animelem = 1
value = 2050,0

[State 2000, 6];脚
type = PlaySnd
trigger1 = animelem = 7
value = 2050,1


[State 2000, 6];ダッシュ
type = PlaySnd
trigger1 = animelem = 7
value = 2000,4

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = animelem = 7
value = A

[state a]
type = velset
trigger1 = animelem = 7
x = 10
y = -2

[state a]
type = veladd
trigger1 = animelem = 7,>0
y = 0.165

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 7
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 1
edge = 24,0

;---------------------[攻撃]
[State 210, 2]
type = HitDef
trigger1 = animelem = 7
attr = A, HA
animtype  = hard
damage    = 0,0
priority = 8, Hit
getpower = 0,0
hitflag = MAF
guardflag = M
pausetime = 7,8
sparkno = s7002
sparkxy = -24,-52
hitsound   = s400,3
guardsound = s120,1
guard.sparkno = s7012
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
ID = 200
nochainID = 9999
fall = 1
fall.recover = 0
kill = 0
p2facing = 1
p1stateno = 2360
p2stateno = 2020

;---------------------[]
[state a]
type = changestate
trigger1 = moveguarded
value = 2305

[State 821, 3] 
type = changeState
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 2305

;----------------------------------------------------------------------------
; MAX鳳凰脚・終了
[Statedef 2305]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
;velset = 0,0
anim = 2305
sprpriority = 1
ctrl = 0

;---------------------[コマンド判定]
[State 50, 4];残像
type = AfterImagetime
trigger1 = time = 0
value = 0

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 1
edge = 24,0

;---------------------[移動]
[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = velmul
trigger1 = 1
x = 0.9

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; MAX鳳凰脚EX・ヒット
[Statedef 2360]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 2360
sprpriority = 1
ctrl = 0

;---------------------[サウンド]
[State a];あーた
type = PlaySnd
trigger1 = animelem = 1
value = 2050, 2

[State a];たたた
type = PlaySnd
trigger1 = animelem = 27
trigger2 = animelem = 39
trigger3 = animelem = 52
value = 2050, 3

[State a];うわちゃー！
type = PlaySnd
trigger1 = animelem = 61
value = 2050, 4

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImagetime
trigger1 = time = 0
value = 0

[State a]
type = EnvColor
trigger1 = animelem = 84,<0
trigger1 = movehit = 1
time = 1
value = 255,255,255
under = 2
;persistent = 0
;ignorehitpause = 1

[State a]
type = EnvColor
trigger1 = animelem = 84,>=0
trigger1 = movehit = 1
time = 1
value = 255,255,255
under = 2
persistent = 0
ignorehitpause = 1

[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 69
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[移動]
[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = velset
trigger1 = time = 0
x = 1

[state a]
type = statetypeset
trigger1 = animelem = 63
value = A

[state a]
type = velset
trigger1 = animelem = 63
x = 15
y = -4


[state a]
type = veladd
trigger1 = animelem = 77,>0
trigger1 = vel y < 6
y = 0.25

[state a]
type = velmul
trigger1 = animelem = 71,>0
x = 0.95

;---------------------[無敵]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = time = 0
edge = 90,0

;---------------------[攻撃]
[State 210, 2]
type = HitDef
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 8
trigger4 = animelem = 17
trigger5 = animelem = 23
trigger6 = animelem = 28
trigger7 = animelem = 30
trigger8 = animelem = 35
trigger9 = animelem = 39
trigger10= animelem = 40
trigger11= animelem = 45
trigger12= animelem = 52
attr = A, HA
animtype  = hard
damage    = 42 + var(8)*19,5
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 0,1
sparkno = s7003
sparkxy = -15,-58 - random%20
hitsound   = s400,1 + (random%2)*2
guardsound = s120,1
guard.sparkno = s7012
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
ID = 200
nochainID = 9999
fall = 0
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0



[State 240, 2]
type = HitDef
trigger1 = animelem = 61
trigger2 = animelem = 63
trigger3 = animelem = 68
trigger4 = animelem = 70
trigger5 = animelem = 74
trigger6 = animelem = 78
trigger7 = animelem = 79
attr = A, HA
animtype  = high
damage    = 59+var(8)*10,8
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 2,2
sparkno = s7003
sparkxy = -15,-69
hitsound   = s400,4
guard.sparkno = s7012
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -6,-6.5
air.velocity = -6,-6.5
guard.velocity = -11
yaccel = 0.42
fall = 1
fall.recover = 0
ID = 9999
kill = 0


[State 240, 2]
type = HitDef
trigger1 = animelem = 85
attr = A, SA
animtype  = up
damage    = 83+var(8)*10,8
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 27,28
sparkno = s7003
sparkxy = -15,-89
hitsound   = s400,4
guard.sparkno = s7012
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -14,14
air.velocity = -14,14
guard.velocity = -6
yaccel = 0.48
fall = 1
fall.recover = 0
ID = 9999
envshake.time = 22
envshake.ampl = -8
envshake.freq = 92
envshake.phase = 92

;---------------------[相手制御]
[state a]
type = targetbind
trigger1 = animelem = 63,< 0
pos = 68,0

[state a]
type = targetstate
trigger1 = time = 0
trigger2 = animelem = 63,<0
trigger2 = movehit = 1
value = 2020+random%2


;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 2365

;---------------------------------------------------------------------------
; MAX鳳凰脚EX・着地
[Statedef 2365]
type    = S
movetype= A
physics = N
juggle  = 7
poweradd= 0
velset = 0,0
anim = 2365
sprpriority = 1
ctrl = 0

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImagetime
trigger1 = time = 0
value = 0

;---------------------[サウンド]
[State a];
type = PlaySnd
trigger1 = animelem = 1
value = 41, 0

;---------------------[速度]
[state a]
type = posset
trigger1 = time = 0
y = 0

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
; MAX空中鳳凰脚EX
[Statedef 2351]
type    = A
movetype= A
physics = N
velset = 0,0
juggle = 8
poweradd= -1000
anim = 2001
ctrl = 0
sprpriority = 1

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1310
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = time = 0
trigger1 = prevstateno = 1310
value = -1000


;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = var(20) = 0
trigger1 = time = 0
value = -2000

[state a]
type = varset
trigger1 = time = 0
v = 20
value = 0

;---------------------[コマンド判定]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0

;---------------------[無敵]
[state a]
type = nothitby
trigger1 = animelem = 7,<0
value = SCA
time = 1

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6010
sprpriority = -9999
postype = p1
pos = 6,-79
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6011
sprpriority = 3
postype = p1
pos = 6,-79
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3000,1

;---------------------[効果音]
[State 2000, 6];鳳凰
type = PlaySnd
trigger1 = animelem = 1
value = 2050,0

[State 2000, 6];脚
type = PlaySnd
trigger1 = animelem = 4
value = 2050,1

[State 2000, 6];ダッシュ
type = PlaySnd
trigger1 = animelem = 4
value = 2000,4

;---------------------[移動]
[state a]
type = statetypeset
trigger1 = animelem = 4
value = A

[state a]
type = velset
trigger1 = animelem = 4
x = 10
y = -2

[state a]
type = veladd
trigger1 = animelem = 4,>0
y = 0.165

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 4
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 1
edge = 24,0

;---------------------[攻撃]
[State 210, 2]
type = HitDef
trigger1 = animelem = 4
attr = A, HA
animtype  = hard
damage    = 0,0
priority = 8, Hit
getpower = 0,0
hitflag = MAF
guardflag = M
pausetime = 7,8
sparkno = s7002
sparkxy = -24,-52
hitsound   = s400,3
guardsound = s120,1
guard.sparkno = s7012
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
ID = 200
nochainID = 9999
fall = 1
fall.recover = 0
kill = 0
p2facing = 1
p1stateno = 2360
p2stateno = 2020

;---------------------[]
[state a]
type = changestate
trigger1 = moveguarded
value = 2005

[State 821, 3] 
type = changeState
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 2005

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;MAX2
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; ゼロ距離鳳凰脚
[Statedef 2500]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 8
poweradd= -1000
anim = 2500
ctrl = 0

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1000
trigger2 = prevstateno = 1205
trigger3 = prevstateno = 1420
trigger4 = prevstateno = 1805
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = time = 0
trigger1 = prevstateno = 1000
trigger2 = prevstateno = 1205
trigger3 = prevstateno = 1420
trigger4 = prevstateno = 1805
value = -1000


;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = var(20) = 0
trigger1 = time = 0
value = -2000

[state a]
type = varset
trigger1 = time = 0
v = 20
value = 0

;---------------------[ステート移行]
[state a]
type = changestate
trigger1 = time = 1
trigger1 = random%16 = 1
value = 2700

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 1];無敵の状態を作る
type = NotHitBy
trigger1 = animelem = 31,<0
value = SCA

[State 2000, 2]
type = Pause
trigger1 = time = 3
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 5
anim = 6020
sprpriority = -9999
postype = p1
pos = 28,-64
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 15
anim = 6021
sprpriority = 3
postype = p1
pos = 28,-64
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 3040, 7]
type = EnvColor
trigger1 = time = 3
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 6
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 3
value = 3000,2

;---------------------[ヘルパー]
[state a];MAX2
type = Helper
trigger1 = time = 30
id = 8000
name = "MAX2"
pos = 0,0
postype = p2
stateno = 8000
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1

[state a];カットイン
type = null;Helper
trigger1 = time = 1
id = 8100
name = "cut"
pos = 0 , 0
postype = p1
stateno = 8100
pausemovetime = 999
supermovetime = 999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1

;---------------------[演出]
[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------[無敵]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = animelem = 3,<0
value = SCA

;---------------------[効果音]
[State 2000, 6];ゼロ距離鳳凰脚
type = PlaySnd
trigger1 = animelem = 2
value = 2500,0

;---------------------[速度]
[state a]
type = velset
trigger1 = animelem = 31
x = 6

[state a]
type = velset
trigger1 = animelem = 42
x = 0

;---------------------[攻撃]
[State 800, 1]
type = HitDef
Trigger1 = time = 0
trigger1 = p2stateno != 40
Trigger1 = p2stateno != [120,159];150 && 151 && 152 && 153 && 130 && 131 && 140
trigger1 = p2dist x <= 80
attr = S, HT
hitflag = M
;guard.dist = -100
priority = 9, miss
sparkno = -1
p2facing = 1
p1stateno = 2510
p2stateno = 2520       ;投げが成功した場合の移動する２Ｐのステート
;hitsound = S800,0
fall = 0            ;落ちる力を２Ｐにかけるか
nochainID = 9999

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ゼロ距離鳳凰脚・ヒット
[Statedef 2510]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 2510
sprpriority = 1
ctrl = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 1];無敵の状態を作る
type = NotHitBy
trigger1 = animelem = 31,<0
value = SCA

[State 2000, 2]
type = SuperPause
trigger1 = time = 3
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 5
anim = 6020
sprpriority = -9999
postype = p1
pos = 28,-64
bindtime = 1
under = 0
ownpal = 1
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 15
anim = 6021
sprpriority = 3
postype = p1
pos = 28,-64
bindtime = 1
under = 0
ownpal = 1
supermovetime = 999

[State 3040, 7]
type = EnvColor
trigger1 = time = 3
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 6
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 3
value = 3000,2

;---------------------[ヘルパー]
[state a];MAX2
type = Helper
trigger1 = time = 30
id = 8000
name = "MAX2"
pos = 0,0
postype = p2
stateno = 8000
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1

[state a];カットイン
type = Helper
trigger1 = time = 1
id = 8100
name = "cut"
pos = 0 , 0
postype = p1
stateno = 8100
pausemovetime = 999
supermovetime = 999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1

;---------------------[サウンド]
[State 2000, 6];ゼロ距離鳳凰脚
type = PlaySnd
trigger1 = animelem = 2
value = 2500,0

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImagetime
trigger1 = time = 0
value = 0

;---------------------[移動]
[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = velset
trigger1 = time = 32
x = 6

;---------------------[無敵]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 90,0

;---------------------[相手制御]
[state a]
type = targetbind
trigger1 = 1;time <= 39
pos = 44,0

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = time = 41
value = 2511

;---------------------------------------------------------------------------
; ゼロ距離鳳凰脚・乱舞
[Statedef 2511]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 2511
sprpriority = 1
ctrl = 0

;---------------------[サウンド]
[State a];あたたたたたー
type = PlaySnd
trigger1 = animelem = 1
value = 2000, 1

[State a];あたー
type = PlaySnd
trigger1 = animelem = 44
value = 2000, 2

[State a];うわちゃー！
type = PlaySnd
trigger1 = animelem = 63
value = 2000, 3

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImagetime
trigger1 = time = 0
value = 0

[State a]
type = null;EnvColor
trigger1 = animelem = 1
trigger2 = animelem = 10
trigger3 = animelem = 12
trigger4 = animelem = 15
trigger5 = animelem = 22
trigger6 = animelem = 35
trigger7 = animelem = 42
time = 1
value = 255,255,255
under = 2

;---------------------[移動]
[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = velset
trigger1 = animelem = 1
x = 0

[state a]
type = statetypeset
trigger1 = animelem = 63
value = A

[state a]
type = velset
trigger1 = animelem = 63
x = 3
y = -10


[state a]
type = veladd
trigger1 = animelem = 63,>0
y = 0.54

;---------------------[無敵]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 63,<0
edge = 90,0

;---------------------[攻撃]
[State 210, 2]
type = HitDef
trigger1 = animelem = 3
trigger2 = animelem = 9
trigger3 = animelem = 18
trigger4 = animelem = 27
trigger5 = animelem = 28
trigger6 = animelem = 35
trigger7 = animelem = 44
trigger8 = animelem = 55
attr = S, HA
animtype  = hard
damage    = 0 + var(8)*19,5
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 3,4
sparkno = s7003
sparkxy = -15,-28 - random%50
hitsound   = s400,1 + (random%2)*2
guardsound = s120,1
guard.sparkno = s7012
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
ID = 200
nochainID = 9999
fall = 0
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 64
attr = A, HA
animtype  = diagup
damage    = 1235+var(8)*10,8
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 27,28
sparkno = s7003
sparkxy = -15,-69
hitsound   = s400,3
guard.sparkno = s7012
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5,-11.8
air.velocity = -5,-11.8
guard.velocity = -11
yaccel = 0.48
fall = 1
fall.recover = 0
ID = 9999
nochainID = 9999

;---------------------[相手制御]
[state a]
type = null;targetbind
trigger1 = animelem = 63,< 0
pos = 68,0

[state a]
type = targetstate
trigger1 = time = 0
trigger2 = animelem = 63,<0
trigger2 = movehit = 1
value = 2020+random%2


;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 2515

;---------------------------------------------------------------------------
; 鳳凰脚・着地
[Statedef 2515]
type    = S
movetype= A
physics = N
juggle  = 7
poweradd= 0
velset = 0,0
anim = 2515
sprpriority = 1
ctrl = 0

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImagetime
trigger1 = time = 0
value = 0

;---------------------[サウンド]
[State a];
type = PlaySnd
trigger1 = animelem = 1
value = 41, 0

;---------------------[速度]
[state a]
type = posset
trigger1 = time = 0
y = 0

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)ゼロ距離鳳凰脚・掴まれ1
[Statedef 2520]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[state a]
type = velset
trigger1 = 1
x = 0

;---------------------[演出]
[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2520

;---------------------[ステート移行]
[State 821, 3]
type = SelfState
trigger1 = animtime = 0
value = 0
ctrl = 1


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; 秘伝鳳凰脚
[Statedef 2600]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 0
poweradd= -1000
anim = 2600
ctrl = 0
sprpriority = 1

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1205
trigger2 = prevstateno = 1370
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = time = 0
trigger1 = prevstateno = 1205
trigger2 = prevstateno = 1370
value = -1000


;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = var(20) = 0
trigger1 = time = 0
value = -2000

[state a]
type = varset
trigger1 = time = 0
v = 20
value = 0


;---------------------[コマンド判定]
[state a]
type = varset
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 6
value = 0


;---------------------[無敵]
[state a]
type = nothitby
trigger1 = time <= 36
value = SCA
time = 1

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6020
sprpriority = -9999
postype = p1
pos = 15,-69
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6021
sprpriority = 3
postype = p1
pos = 15,-69
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3000,2

;---------------------[ヘルパー]
[state a];MAX2
type = Helper
trigger1 = time = 29
id = 8000
name = "MAX2"
pos = 0,0
postype = p2
stateno = 8000
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];カットイン
type = Helper
trigger1 = time = 0
id = 8100
name = "cut"
pos = 0 , 0
postype = p1
stateno = 8100
pausemovetime = 999
supermovetime = 999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[効果音]
[State 2000, 6];行くぞ！
type = PlaySnd
trigger1 = animelem = 1
value = 2600,0

[State 2000, 6];鳳凰
type = PlaySnd
trigger1 = animelem = 5
value = 2200,0

[State 2000, 6];脚
type = PlaySnd
trigger1 = time = 55
value = 2600,1


[State 2000, 6];ダッシュ
type = PlaySnd
trigger1 = animelem = 5
value = 2600,4

;---------------------[移動]
[state a]
type = posadd
trigger1 = animelem = 1
trigger2 = animelem = 2
x = 12

[state a]
type = statetypeset
trigger1 = animelem = 5
value = A

[state a]
type = velset
trigger1 = animelem = 5
x = 12

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 5
time = -1
;trans = none
timegap = 2
framegap = 2
length = 6
ignorehitpause = 0
;palbright = 0,0,0
palcontrast = 256,256,256
;palpostbright = 0,0,0
;paladd = 0,0,0
palmul = 1,1,1

[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 1
edge = 24,0

[State a]
type = EnvColor
trigger1 = movehit
time = 1
value = 255,255,255
;under = 2
ignorehitpause = 1
persistent = 0

;---------------------[攻撃]
[State 210, 2]
type = HitDef
trigger1 = animelem = 5
attr = A, HA
animtype  = hard
damage    = 0,0
priority = 8, Hit
getpower = 0,0
hitflag = MAFLD
guardflag = M
pausetime = 16,17
sparkno = s7002
sparkxy = -24,-52
hitsound   = s1250,2
guardsound = s120,1
guard.sparkno = s7012
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
ID = 200
fall = 1
fall.recover = 0
kill = 0
p2facing = 1
p1stateno = 2610
p2stateno = 2020

;---------------------[]
[State 821, 3] 
type = changeState
trigger1 = time = 66
value = 2605

;----------------------------------------------------------------------------
; 秘伝鳳凰脚・終了
[Statedef 2605]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
;velset = 0,0
anim = 2605
sprpriority = 1
ctrl = 0

;---------------------[コマンド判定]
[State 50, 4];残像
type = AfterImagetime
trigger1 = time = 0
value = 0

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 1
edge = 24,0

;---------------------[移動]
[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = velmul
trigger1 = 1
x = 0.9

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; 秘伝鳳凰脚・ヒット
[Statedef 2610]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 2610
sprpriority = 1
ctrl = 0

;---------------------[サウンド]
[State a];あたたた
type = PlaySnd
trigger1 = animelem = 3
value = 2600, 2

[State a];たたた
type = PlaySnd
trigger1 = animelem = 10
trigger2 = animelem = 16
trigger3 = animelem = 20
trigger4 = animelem = 22
trigger5 = animelem = 31
trigger6 = animelem = 36
trigger7 = animelem = 43
trigger8 = animelem = 52
trigger9 = animelem = 56
trigger10= animelem = 59
trigger11= animelem = 60
value = 2600, 3

[State a];たたた
type = PlaySnd
trigger1 = animelem = 10
trigger2 = animelem = 16
trigger3 = animelem = 20
trigger4 = animelem = 22
trigger5 = animelem = 31
trigger6 = animelem = 36
trigger7 = animelem = 43
trigger8 = animelem = 52
trigger9 = animelem = 56
trigger10= animelem = 59
trigger11= animelem = 60
value = 2600, 3

[State a];うわちゃー！
type = PlaySnd
trigger1 = animelem = 61
value = 2200, 3

[State a];うわちゃー！
type = PlaySnd
trigger1 = animelem = 61
value = 2200, 3

[State a];うわちゃー！
type = PlaySnd
trigger1 = animelem = 61
value = 1250, 2

[State a];蹴り
type = PlaySnd
trigger1 = animelem = 52
value = 2600, 5

[State a];鳴き声
type = PlaySnd
trigger1 = animelem = 60
value = 2600, 6
;---------------------[エフェクト]
[State 50, 4];残像
type = null;AfterImagetime
trigger1 = time = 0
value = 0

[State a]
type = EnvColor
trigger1 = animelem = 10
trigger2 = animelem = 16
trigger3 = animelem = 20
trigger4 = animelem = 22
trigger5 = animelem = 31
trigger6 = animelem = 36
trigger7 = animelem = 43
trigger8 = animelem = 52
trigger9 = animelem = 56
trigger10= animelem = 59
trigger11= animelem = 60
trigger12= animelem = 61
trigger13= animelem = 1
time = 1
value = 255,255,255
;under = 2

[State 50, 4];残像
type = null;AfterImage
trigger1 = animelem = 68
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[移動]
[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = velset
trigger1 = time = 0
x = 1

[state a]
type = velset
trigger1 = animelem = 50
x = 0


[state a]
type = statetypeset
trigger1 = animelem = 51
value = A

[state a]
type = velset
trigger1 = animelem = 51
x = 2
y = -7


[state a]
type = veladd
trigger1 = animelem = 57,>0
trigger1 = vel y < 6
y = 0.52


[state a]
type = velmul
trigger1 = animelem = 58,>0
x = 0.91

;---------------------[無敵]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 52,<0
edge = 90,0

;---------------------[ヘルパー]
[state a];柱
type = Helper
trigger1 = animelem = 59
id = 2620
name = "hasira"
pos = 46,0
postype = p1
stateno = 2620
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[攻撃]
[State 210, 2]
type = HitDef
trigger1 = animelem = 3
trigger2 = animelem = 10
trigger3 = animelem = 16
trigger4 = animelem = 20
trigger5 = animelem = 22
trigger6 = animelem = 31
attr = S, HA
animtype  = hard
damage    = 52 + var(8)*19,5
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 3,4
sparkno = s7003
sparkxy = -15,-38 - random%50
hitsound   = s400,1 + (random%2)*2
guardsound = s120,1
guard.sparkno = s7012
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
ID = 200
nochainID = 9999
fall = 0
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 210, 2]
type = HitDef
trigger1 = animelem = 36
attr = S, HA
animtype  = hard
damage    = 62 + var(8)*19,5
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 3,4
sparkno = s7003
sparkxy = -15,-12
hitsound   = s1350,2
guardsound = s120,1
guard.sparkno = s7012
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -1,-4
air.velocity = -1.2,-4
ID = 200
nochainID = 9999
fall = 0
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 210, 2]
type = HitDef
trigger1 = animelem = 43
attr = S, HA
animtype  = hard
damage    = 62 + var(8)*19,5
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 3,4
sparkno = s7003
sparkxy = -15,-76
hitsound   = s1350,2
guardsound = s120,1
guard.sparkno = s7012
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-7
air.velocity = -2.2,-7
ID = 200
nochainID = 9999
fall = 0
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0



[State 240, 2]
type = HitDef
trigger1 = animelem = 52
trigger2 = animelem = 56
attr = A, HA
animtype  = high
damage    = 79+var(8)*10,8
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 2,3
sparkno = s7003
sparkxy = -10,-52
hitsound   = s1350,2
guard.sparkno = s7012
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -2,-5.8
air.velocity = -2,-5.8
guard.velocity = -11
yaccel = 0.48
fall = 1
fall.recover = 0
ID = 9999
kill = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 59
trigger2 = animelem = 60
attr = A, HA
animtype  = high
damage    = 79+var(8)*10,8
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 7,7
sparkno = s7003
sparkxy = -15,-89
hitsound   = s1250,2
guard.sparkno = s7012
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -2,-8.8
air.velocity = -2,-8.8
guard.velocity = -11
yaccel = 0.48
fall = 1
fall.recover = 0
ID = 9999
kill = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 61
attr = A, HA
animtype  = diagup
damage    = 358+var(8)*10,8
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 34,35;27,28
sparkno = s7003
sparkxy = -15,-89
hitsound   = s1250,2
guard.sparkno = s7012
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -2,-14
air.velocity = -2,-14
guard.velocity = -6
yaccel = 0.38
fall = 1
fall.recover = 0
ID = 9999

;---------------------[相手制御]
[state a]
type = targetbind
trigger1 = animelem = 35,< 0
pos = 56,0

[state a]
type = targetstate
trigger1 = time = 0
trigger2 = animelem = 35,<0
trigger2 = movehit = 1
value = 2020+random%2


;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 2615

;---------------------------------------------------------------------------
; 秘伝鳳凰脚・着地
[Statedef 2615]
type    = S
movetype= A
physics = N
juggle  = 7
poweradd= 0
velset = 0,0
anim = 2615
sprpriority = 1
ctrl = 0

;---------------------[無敵]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = 1

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImagetime
trigger1 = time = 0
value = 0

;---------------------[サウンド]
[State a];
type = PlaySnd
trigger1 = animelem = 1
value = 41, 0

;---------------------[速度]
[state a]
type = posset
trigger1 = time = 0
y = 0

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------
;(HELPER)柱
[Statedef 2620]
type = S
ctrl = 0
anim = 2620
velset = 0,0
physics = N
sprpriority = -5

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = posset
trigger1 = 1
y = 0

;---------------------[ヘルパー]
[state a];鳳凰
type = Helper
trigger1 = time = 0
id = 2625
name = "hasira"
pos = 0,0
postype = p1
stateno = 2625
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = 256

[state a]
type = varadd
trigger1 = time <= 20
v = 1
value = -10

;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

[state a]
type = angledraw
trigger1 = 1
scale = 1.0,1.5 + var(2) * 0.1

;---------------------[変数]
[state a]
type = varadd
trigger1 = animelem = 13,>=0
v = 2
value = 1

[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),var(1)

;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0


;----------------------------------------------------------------------------
;(HELPER)鳳凰
[Statedef 2625]
type = S
ctrl = 0
anim = 2625
velset = 0,0
physics = N
sprpriority = -3

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = 256

[state a]
type = varadd
trigger1 = time <= 20
v = 1
value = -10

;---------------------[速度]
[state a]
type = veladd
trigger1 = animelem = 8,>=0
y = -2;1.2

;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

[state a]
type = null;angledraw
trigger1 = 1
scale = 1.0,1.5

;---------------------[変数]
[state a]
type = null;varadd
trigger1 = var(1) = 1
v = 2
value = 8

[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),var(1)

;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0



;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; 元祖鳳凰脚
[Statedef 2700]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 0
poweradd= 0
anim = 2700
ctrl = 0
sprpriority = 1

;---------------------[効果音]
[State 2000, 6];ダッシュ
type = PlaySnd
trigger1 = animelem = 1
value = 2700,2

;---------------------[エフェクト]
[State 1000, 5]
type = Explod
trigger1 = time % 6 = 0
anim = 2732
sprpriority = 9999
postype = p1
pos = 0,0
bindtime = 1
under = 0
ownpal = 1

;---------------------[移動]
[state a]
type = velset
trigger1 = animelem = 1
x = 6

[state a]
type = velmul
trigger1 = moveguarded
x = 0.5

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 1
edge = 24,0


;---------------------[変数]
[state a];補正
type = varset
trigger1 = 1
fvar(0) = 1.0

;---------------------[攻撃]
[State 210, 2]
type = HitDef
trigger1 = animelem = 4
attr = A, HA
animtype  = hard
damage    = 0,0
priority = 8, Hit
getpower = 0,0
hitflag = MAFLD
guardflag = M
pausetime = 0,0
guard.pausetime = 17,18
sparkno = s-1
sparkxy = 14,-65
hitsound   = s-1,0
guardsound = s2700,4
guard.sparkno = s2731
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
guard.velocity = -16
ID = 200
fall = 1
fall.recover = 0
kill = 0
p2facing = 1
p1stateno = 2710
p2stateno = 2720

;---------------------[]
[State 821, 3]
type = changeState
trigger1 = time = 34
trigger2 = moveguarded
value = 2705

;----------------------------------------------------------------------------
; 元祖鳳凰脚・終了
[Statedef 2705]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
;velset = 0,0
anim = 2705
sprpriority = 1
ctrl = 0

;---------------------[コマンド判定]
[State 50, 4];残像
type = AfterImagetime
trigger1 = time = 0
value = 0

;---------------------[移動]
[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = velmul
trigger1 = 1
x = 0.85

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 元祖鳳凰脚・ヒット
[Statedef 2710]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 2710
sprpriority = 1
ctrl = 0

;---------------------[サウンド]
[State a];たたたた
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 10
trigger3 = animelem = 18
trigger4 = animelem = 28
trigger5 = animelem = 36
value = 2700, 0

[State a];あちゃー！
type = PlaySnd
trigger1 = animelem = 41
value = 2700, 1


[State a];ヒット
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 6
trigger3 = animelem = 11
trigger4 = animelem = 16
trigger5 = animelem = 23
trigger6 = animelem = 29
trigger7 = animelem = 37
value = 2700, 3

[State a];蹴り
type = PlaySnd
trigger1 = animelem = 40
value = 2700, 2

;---------------------[エフェクト]
[State 1000, 5]
type = Explod
trigger1 = animelem = 2
anim = 2730
sprpriority = 9999
postype = p1
pos = 69,-60
bindtime = 1
under = 0
ownpal = 1

[State 1000, 5]
type = Explod
trigger1 = animelem = 6
anim = 2730
sprpriority = 9999
postype = p1
pos = 62,-66
bindtime = 1
under = 0
ownpal = 1

[State 1000, 5]
type = Explod
trigger1 = animelem = 11
anim = 2730
sprpriority = 9999
postype = p1
pos = 33,-61
bindtime = 1
under = 0
ownpal = 1

[State 1000, 5]
type = Explod
trigger1 = animelem = 16
anim = 2730
sprpriority = 9999
postype = p1
pos = 70,-77
bindtime = 1
under = 0
ownpal = 1

[State 1000, 5]
type = Explod
trigger1 = animelem = 23
anim = 2730
sprpriority = 9999
postype = p1
pos = 39,-49
bindtime = 1
under = 0
ownpal = 1

[State 1000, 5]
type = Explod
trigger1 = animelem = 29
anim = 2730
sprpriority = 9999
postype = p1
pos = 65,-87
bindtime = 1
under = 0
ownpal = 1

[State 1000, 5]
type = Explod
trigger1 = animelem = 37
anim = 2730
sprpriority = 9999
postype = p1
pos = 68,-77
bindtime = 1
under = 0
ownpal = 1

;---------------------[移動]
[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = statetypeset
trigger1 = animelem = 40
value = A

[state a]
type = velset
trigger1 = animelem = 40
x = 2
y = -9


[state a]
type = veladd
trigger1 = animelem = 40,>2
y = 0.62

;---------------------[無敵]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 40,<0
edge = 90,0

;---------------------[攻撃]
[State 240, 2]
type = HitDef
trigger1 = 1
attr = A, HA
animtype  = hard
damage    = 500,8
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 14,15
sparkno = s2730
sparkxy = -15,-59
hitsound   = s2700,3
guard.sparkno = s-1
guardsound = s2700,3
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -2.5,-5
air.velocity = -2.5,-5
guard.velocity = -6
yaccel = 0.26
fall = 1
fall.recover = 0
ID = 9999
nochainid = 9999

;---------------------[相手制御]
[state a]
type = targetbind
trigger1 = animelem = 2,>=0
trigger1 = animelem = 40,< 0
pos = 36,0

[state a]
type = targetstate
trigger1 = time = 0
value = 2720

[state a]
type = targetstate
trigger1 = animelem = 2
trigger2 = animelem = 11
trigger3 = animelem = 23
value = 2721

[state a]
type = targetstate
trigger1 = animelem = 6
trigger2 = animelem = 16
trigger3 = animelem = 29
trigger4 = animelem = 37
value = 2722

[state a]
type = targetstate
trigger1 = animelem = 41
value = 2723

[state a]
type = hitadd
trigger1 = 1
value = -100

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 2715

;---------------------------------------------------------------------------
; 元祖鳳凰脚・着地
[Statedef 2715]
type    = S
movetype= A
physics = N
juggle  = 7
poweradd= 0
velset = 0,0
anim = 2715
sprpriority = 1
ctrl = 0

;---------------------[無敵]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = 1

;---------------------[サウンド]
[State a];
type = PlaySnd
trigger1 = animelem = 1
value = 41, 0

;---------------------[速度]
[state a]
type = posset
trigger1 = time = 0
y = 0

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = win
trigger1 = animtime = 0
value = 2750

[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)元祖鳳凰脚・掴まれ1
[Statedef 2720]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[state a]
type = posset
trigger1 = time = 0
y = 0

;---------------------[演出]
[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 0

;---------------------[ステート移行]
[State 821, 3] 
type = SelfState
trigger1 = time = 50
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)元祖鳳凰脚・掴まれ2
[Statedef 2721]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -1

;---------------------[演出]
[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2721

;---------------------[ステート移行]
[State 821, 3] 
type = SelfState
trigger1 = time = 50
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)元祖鳳凰脚・掴まれ3
[Statedef 2722]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -1

;---------------------[演出]
[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2722

;---------------------[ステート移行]
[State 821, 3] 
type = SelfState
trigger1 = time = 50
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)元祖鳳凰脚・掴まれ4
[Statedef 2723]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -1

;---------------------[演出]
[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2723

;---------------------[ステート移行]
[State 821, 3] 
type = SelfState
trigger1 = time = 50
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 元祖立ちモーション
[Statedef 2750]
type = S
physics = S
sprpriority = 0
ctrl = 0

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 2750 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 2750

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 1]
type = ctrlset
trigger1 = time = 100
value = 1

;---------------------------------------------------------------------------
; 元祖勝利
[Statedef 2751]
type = S
ctrl = 0
anim = 2751
velset = 0,0

;---------------------[効果音]
[State 00];はっ！
type = PlaySnd
trigger1 = animelem = 3
value = 2700,5

;---------------------[ヘルパー]
[state a]
type = changestate
trigger1 = matchover = 1
trigger1 = time = 120
value = 2790

;---------------------[演出]
[State 181, 4]
type = AssertSpecial
trigger1 = matchover = 0
trigger1 = time = [0,120]
flag = roundnotover

;---------------------------------------------------------------------------
; 元祖勝利画面
[Statedef 2790]
type = S
ctrl = 0
;anim = 2751
velset = 0,0

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 256
v = 5
value = 0

[state a]
type = varadd
trigger1 = time <= 32
v = 5
value = -8

[state a]
type = varadd
trigger1 = time > 32
trigger1 = time < 64
v = 5
value = 8

;---------------------[]
[State 1000, 0]
type = AllPalFX
trigger1 = time <= 64
time = 1
add = var(5),var(5),var(5)
;mul = 256,256,256
;sinadd = 0,0,0,10
invertall = 0
color = 256

;---------------------[効果音]
[state a]
type = AssertSpecial
trigger1 = time >= 32
flag = nomusic

[State 00];勝利音楽
type = PlaySnd
trigger1 = time = 36
value = 2700,6
loop = 1

;---------------------[エフェクト]
[State explod];
type = Explod
trigger1 = time = 32
anim = 2790
id = 2790
sprpriority = 9999
postype = left
pos = 0,0
bindtime = -1
supermove = 0
removetime = -1
under = 0
ontop = 1

[State explod];
type = Explod
trigger1 = time = 32
anim = 2791
id = 2790
sprpriority = 9999
postype = left
pos = 0,0
bindtime = -1
supermove = 0
removetime = -1
under = 0
ontop = 1
;---------------------[演出]
[State 181, 4]
type = AssertSpecial
trigger1 = time = [0,580]
flag = roundnotover

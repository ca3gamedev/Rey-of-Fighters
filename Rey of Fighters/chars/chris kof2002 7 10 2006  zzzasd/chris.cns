;크리스잡기거리 58안됨 55됨 55로 결정
;410예외
;크리스 체인슬라이드 초필 이상하게 가드유지가 안돼네...이유를 모르겠다
;트리스터 드라이브 vel 값은 완벽하지않다 최대한 근사치
;fvar(0)=버튼유지 x
;fvar(1)=약공격 평지
;fvar(2)=약공격 구석
;fvar(3)=강공격 평지
;fvar(4)=강공격 구석
;fvar(5)=날리기공격 평지
;fvar(6)=날리기공격 구석
;fvar(7)=약공격 코너푸시
;fvar(8)=강공격 코너푸시
;fvar(9)=날리기공격 코너푸시
;fvar(10)=맞고 날아가는 x축
;fvar(11)=맞고 날아가는 y축
;fvar(12)=맞는 상대 중력값
;fvar(13)=높게뜨는공격 x축
;fvar(14)=높게뜨는공격 y축
;fvar(15)=;xi 시스템 막았을때 더밀리기?
;fvar(16)=가드시히트백이 0일때
;fvar(17)=야마뱀술사,야마 드릴 연타모드바
;fvar(18)=야마 드릴 연타입력 셀루기
;fvar(19)=크리스 사지를무는불꽃 안맞게하는바
;fvar(20)=다리걸때 x축
;fvar(21)=착지한순간
;fvar(22)=카운터모드 추가
;fvar(23)=강약구별
;fvar(24)=미닛맞고날아가기 x축
;fvar(25)=미닛맞고날아가기 y축
;fvar(26)=맞고 (멀리,돌면서?) 날아가는 x축
;fvar(27)=맞고 (멀리,돌면서?)날아가는 y축
;fvar(28)=맞고 (멀리,돌면서?)날아가는 중력
;fvar(29)=갑환 초필처럼 진자 높게올라가는 x축
;fvar(30)=갑환 초필처럼 진자 높게올라가는 y축
;fvar(31)=갑환 초필처럼 진자 높게올라가는 중력
;fvar(32)=쿨라 프리즈익스큐전 히트수셀루기
;fvar(33)=케오당했을때 소리두번안나게하기
;fvar(34)=레드킥맞고 밑으로 떨어질때 X축
;fvar(35)=레드킥맞고 밑으로 떨어질때 y축
;fvar(36)=anim 5058 일때 발동
;fvar(37)=구르기바
;fvar(38)=스파트위치 Y축에쓰임 4
;fvar(39)=버튼유지 y키
;var(0)=버튼유지 총괄
;var(1)=시작포즈랜덤결정
;var(2)=2k2모드
;var(3)=2k2모드1이상이면 모드발동상테
;var(4)=기본잡기딜레이관리
;var(5)=바이스가썻고 잡기필살기딜레이관리
;var(6)=추가커멘드입력
;var(7)=???자글류?
;var(8)=점프의 성격나누기
;var(9)=버튼유지 a키
;var(10)=pausetime 의 나 (보통약공격)
;var(11)=pausetime 히트시 상대 (보통약공격)
;var(12)=잡기풀기
;var(13)=업그레이드된자글
;var(14)=쿄의칠십오식에쓰인 업그레이드된자글2(베니의경우환영허리케인에쓰임)
;var(15)=pausetime 가드시 상대 (보통약공격)
;var(16)=업그레이드자금같은데 지금용도를모르겠음;신음소리에있으니쓰이고있지않음
;var(17)=팔렛구분
;var(18)=크리스점프시디전용바 ,초필 반복루트 셀루기까지
;var(19)=2히트이상시 데미지감소바
;var(20)=2k2모드 기관리
;var(21)=2k2모드 캔슬관리1
;var(22)=2k2모드 캔슬시번쩍임관리
;var(23)=2k2모드 캔슬관리2
;var(24)=기본기모드 캔슬관리3
;var(25)=필살기류 선입력
;var(26)=기본기류 선입력
;var(27)=캔슬관리 히트했을때만
;var(28)=초필살기류 선입력
;var(29)=약공격 hittime 가드시
;var(30)=점프했을때 성격관리
;var(31)=강공격 hittime 가드시
;var(33)=슈켄에쓰이는데 2k2모드인지아닌지구분
;var(34)=약공격 hittime
;var(35)=강공격 hittime
;var(36)=카운터모드좌우구분
;var(37)=카운터시+공격결정
;var(38)=카운터모드에쓰임왠지37이랑똑같은것같은데;;
;var(39)=카운터시대미지증가
;var(40)=히트사운드결정
;var(41)=구석인지아닌지 판단
;var(44)=이젠안씀(반동삼단차기 약강구분)(쿄의경우 황물기히트수셀루기)
;var(45)=pausetime 의 나 (보통강공격)
;var(46)=pausetime 히트시 상대 (보통강공격)
;var(47)=pausetime 가드시 상대 (보통강공격)
;var(48)=승리대사결정
;var(49)=2라운드승리시일러스트결정
;var(50)=사용시 2k2모드에 번쩍임기도깍임
;var(51)=2라운드승리시대사결정
;var(52)=라운드수셀루기
;var(53)=쓰이고는있으나 적용은 안하고있음 2k2
;var(54)=(가드포즈결정바)
;var(55)=AI
;var(56)= 버튼유지 b키
;var(57)=2k2모드게이지좌우구분?
;var(58~59)=점프..

[Data]
life = 1000
;power = 5000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 30
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 0
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = 1
yscale = 1
ground.back = 16
ground.front = 15
air.back = 12
air.front = 11
height = 48
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = -16, -88
mid.pos = 32, -56
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 3.3		;3.5
walk.back = -3.3	;-3.5
run.fwd  = 5.85		;6.1, 0
run.back = -4.5,-3.8
jump.neu = 0,-11.16
jump.back = -3.44
jump.fwd = 3.44
runjump.back = -2.55,-8.1
runjump.fwd = 4,-8.1
airjump.neu = 0,-8.1
airjump.back = -2.55
airjump.fwd = 2.5

[Movement]
airjump.num = 0      
airjump.height = 35
yaccel = .74
stand.friction = .842 	;.6
crouch.friction = .842	;.1

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
; CNS 깒긹깑: 딈?
[Statedef 180]
type = S
velset = 0

[State 180, 1]
type = ChangeState
trigger1 = var(52) = 3
value = 176

[State 180, 1]
type = ChangeState
trigger1 = var(52) = 2
value = 179

[State 180, 1]
type = VarRandom
trigger1 = Time = 0
v = 1
range = 0,100

[State 180, 2]
type = ChangeState
trigger1 = command = "hold_x"
value = 181

[State 180, 3]
type = ChangeState
trigger1 = command = "hold_a"
value = 182

[State 180, 4]
type = ChangeState
trigger1 = command = "hold_y"
value = 183

[State 180, 4]
type = ChangeState
trigger1 = command = "hold_b"
value = 184

[State 180, 5]
type = ChangeState
trigger1 = Var(1) = [0,25]
value = 181

[State 180, 6]
type = ChangeState
trigger1 = Var(1) = [26,50]
value = 182

[State 180, 7]
type = ChangeState
trigger1 = Var(1) = [51,75]
value = 183

[State 180, 7]
type = ChangeState
trigger1 = Var(1) = [76,100]
value = 184

;---------------------------------------------------------------------------
; Win pose 1 - Bow
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 181, 1]
type = ChangeState
triggerall = Time = 0
trigger1 =  Palno > 6 || var(17) >= 2
value = 185

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 7
value = 181,1

[State 181, 1]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = RoundNotOver

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 2 - Bow
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 182, 1]
type = ChangeState
triggerall = Time = 0
trigger1 =  Palno > 6 || var(17) >= 2
value = 187

[State 182, 1]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = RoundNotOver

[State 182, 3]
type = PlaySnd
trigger1 = AnimElem = 8;6
value = 182, 1

[State 182, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 3 - Bow
[Statedef 183]
type = S
ctrl = 0
anim = 183
velset = 0,0

[State 183, 1]
type = ChangeState
triggerall = Time = 0
trigger1 =  Palno > 6 || var(17) >= 2
value = 185

[State 183, 1]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = RoundNotOver

[State 183, 3]
type = PlaySnd
trigger1 = AnimElem = 6
value = 183, 1

[State 183, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 4 - Bow
[Statedef 184]
type = S
ctrl = 0
anim = 184
velset = 0,0

[State 184, 1]
type = ChangeState
triggerall = Time = 0
trigger1 =  Palno > 6 || var(17) >= 2
value = 187

[State 184, 1]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = RoundNotOver

[State 184, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 183, 1

[State 184, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 1 - Bow진크리스용1
[Statedef 185]
type = S
ctrl = 0
anim = 185
velset = 0,0

[State 185, 1]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = RoundNotOver

[State 185, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 185, 1

[State 185, 2]
type = Projectile
trigger1 = AnimElem = 6
projanim = 186
projshadow = 68,68,68
offset = 32,-86
velocity = 0,0
projremovetime = 6

[State 185, 2]
type = Projectile
trigger1 = AnimElem = 7
projanim = 186
projshadow = 68,68,68
offset = 35,-80
velocity = 0,0
projremovetime = 7

[State 185, 2]
type = Projectile
trigger1 = AnimElem = 8
projanim = 186
projshadow = 68,68,68
offset = 34,-80
velocity = 0,0

[State 185, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 2 - Bow진크리스용2
[Statedef 187]
type = S
ctrl = 0
anim = 187
velset = 0,0

[State 187, 1]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = RoundNotOver

[State 187, 2]
type = PlaySnd
trigger1 = time = 5
value = 187, 1

[State 187]
type = Projectile
trigger1 = AnimElem = 1
projanim = 193
projshadow = 68,68,68
offset = 18,-66
velocity = 0,0
projremovetime = 14

[State 187]
type = Projectile
trigger1 = AnimElem = 1
projanim = 194
projshadow = 68,68,68
offset = -28,-64
velocity = 0,0
projremovetime = 14

[State 187]
type = Projectile
trigger1 = AnimElem = 2
projanim = 193
projshadow = 68,68,68
offset = 8,-84
velocity = 0,0
projremovetime = 6

[State 187]
type = Projectile
trigger1 = AnimElem = 2
projanim = 194
projshadow = 68,68,68
offset = -10,-84
velocity = 0,0
projremovetime = 6

[State 187]
type = Projectile
trigger1 = AnimElem = 3
projanim = 194
projshadow = 68,68,68
offset = 24,-86
velocity = 0,0
projremovetime = 6

[State 187]
type = Projectile
trigger1 = AnimElem = 3
projanim = 193
projshadow = 68,68,68
offset = -4,-92
velocity = 0,0
projremovetime = 6

[State 187]
type = Projectile
trigger1 = AnimElem = 4
projanim = 194
projshadow = 68,68,68
offset = 23,-102
velocity = 0,0
projremovetime = 7

[State 187]
type = Projectile
trigger1 = AnimElem = 4
projanim = 193
projshadow = 68,68,68
offset = 16,-102
velocity = 0,0
projremovetime = 7

[State 185, 2]
type = Projectile
trigger1 = AnimElem = 5
projanim = 186
projshadow = 68,68,68
offset = 19,-110
velocity = 0,0
projremovetime = 7

[State 185, 2]
type = Projectile
trigger1 = AnimElem = 6
projanim = 188
projshadow = 68,68,68
offset = 16,-122
velocity = 0,0

[State 187, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Introduction 시작 포즈
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

;VS 야시로
[State 191, 1]
type = ChangeState
triggerall = Time = 0
trigger1 =  P2Name = "yashiro" || P4Name = "yashiro"
trigger2 =  P2Name = "orochi-yashiro" || P4Name = "orochi-yashiro"
trigger3 =  P2Name = "O-yashiro" || P4Name = "O-yashiro"
trigger4 =  P2Name = "Yashiro Nanakase" || P4Name = "Yashiro Nanakase"
value = 176

;VS 쉘미
[State 191, 1]
type = ChangeState
triggerall = Time = 0
trigger1 =  P2Name = "shermie" || P4Name = "shermie"
trigger2 =  P2Name = "orochi-shermie" || P4Name = "orochi-shermie"
trigger3 =  P2Name = "O-shermie" || P4Name = "O-shermie"
value = 177

[State 191, 1]
type = ChangeState
triggerall = Time = 0
trigger1 =  Palno > 6 || var(17) >= 2
value = 192

[State 191, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 191, 1]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 2]
type = PlaySnd
trigger1 = time = 16
value = 191,1

[state 192, 1]
type = poweradd
trigger1 = time = 0
value = 1000

[State 191, 4]
type = SprPriority
trigger1 = 1
value = 2

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Introduction 진크리스 시작 포즈
[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 192, 1]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 4	;2
value = 192,1

[state 192, 1]
type = poweradd
trigger1 = time = 0
value = 1000

[State 192, 4]
type = SprPriority
trigger1 = 1
value = 2

[State 192]
type = Projectile
trigger1 = AnimElem = 9
projanim = 193
projshadow = 68,68,68
offset = 26,-64
velocity = 0,0
projremovetime = 44

[State 192]
type = Projectile
trigger1 = AnimElem = 11
projanim = 194
projshadow = 68,68,68
offset = -38,-64
velocity = 0,0
projremovetime = 24

[State 192]
type = Projectile
trigger1 = AnimElem = 13
projanim = 193
projshadow = 68,68,68
offset = 20,-64
velocity = 0,0
projremovetime = 8

[State 192]
type = Projectile
trigger1 = AnimElem = 13
projanim = 194
projshadow = 68,68,68
offset = -32,-64
velocity = 0,0
projremovetime = 8

[State 192]
type = Projectile
trigger1 = AnimElem = 14
projanim = 193
projshadow = 68,68,68
offset = 18,-66
velocity = 0,0
projremovetime = 7

[State 192]
type = Projectile
trigger1 = AnimElem = 14
projanim = 194
projshadow = 68,68,68
offset = -28,-66
velocity = 0,0
projremovetime = 7

[State 192, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Introduction vs 야시로 시작포즈
[Statedef 176]
type = S
ctrl = 0
anim = 176
velset = 0,0

[State 176, 1]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 176, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = 176,1

[state 176, 1]
type = poweradd
trigger1 = time = 0
value = 1000

[State 176, 4]
type = SprPriority
trigger1 = 1
value = 2

[State 176, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Introduction vs 쉘미 시작포즈
[Statedef 177]
type = S
ctrl = 0
anim = 176
velset = 0,0

[State 177, 1]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 177, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = 177,1

[state 177, 1]
type = poweradd
trigger1 = time = 0
value = 1000

[State 177, 4]
type = SprPriority
trigger1 = 1
value = 2

[State 177, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;라운드2시작
[Statedef 174]
type = S
ctrl = 0
anim = 174
velset = 0,0

[State 174, 1]
type = ChangeState
triggerall = Time = 0
trigger1 =  Palno > 6 || var(17) >= 2
value = 172

[State 174, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,100]
flag = Intro

[State 174]
type = Projectile
trigger1 = AnimElem = 4 || AnimElem = 8 || AnimElem = 12
projanim = 173
projshadow = 68,68,68
offset = 24,-72
velocity = 0,0
projremovetime = 16

[State 174, 2]
type = PlaySnd
trigger1 = AnimElem = 4 || AnimElem = 8 || AnimElem = 12
value = 174,1

[State 174, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;라운드2시작 진크리스
[Statedef 172]
type = S
ctrl = 0
anim = 172
velset = 0,0

[State 172, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,100]
flag = Intro

[State 172, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 172,1

[State 172, 2]
type = PlaySnd
trigger1 = AnimTime = 0
value = 172,2

[State 172]
type = Projectile
trigger1 = AnimElem = 4
projanim = 193
projshadow = 68,68,68
offset = -12,-110
velocity = 0,0
projremovetime = 5

[State 172]
type = Projectile
trigger1 = AnimElem = 4
projanim = 194
projshadow = 68,68,68
offset = 4,-110
velocity = 0,0
projremovetime = 5

[State 172]
type = Projectile
trigger1 = AnimElem = 5
projanim = 193
projshadow = 68,68,68
offset = 11,-110
velocity = 0,0
projremovetime = 5

[State 172]
type = Projectile
trigger1 = AnimElem = 5
projanim = 194
projshadow = 68,68,68
offset = -29,-110
velocity = 0,0
projremovetime = 5

[State 172]
type = Projectile
trigger1 = AnimElem = 6
projanim = 193
projshadow = 68,68,68
offset = 22,-86
velocity = 0,0
projremovetime = 5

[State 172]
type = Projectile
trigger1 = AnimElem = 6
projanim = 194
projshadow = 68,68,68
offset = -34,-90
velocity = 0,0
projremovetime = 5

[State 172]
type = Projectile
trigger1 = AnimElem = 7
projanim = 193
projshadow = 68,68,68
offset = 20,-74
velocity = 0,0
projremovetime = 5

[State 172]
type = Projectile
trigger1 = AnimElem = 7
projanim = 194
projshadow = 68,68,68
offset = -28,-72
velocity = 0,0
projremovetime = 5

[State 172]
type = Projectile
trigger1 = AnimElem = 8
projanim = 193
projshadow = 68,68,68
offset = 18,-66
velocity = 0,0
projremovetime = 5

[State 172]
type = Projectile
trigger1 = AnimElem = 8
projanim = 194
projshadow = 68,68,68
offset = -28,-66
velocity = 0,0
projremovetime = 5

[State 172, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Taunt
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 191, 1]
type = ChangeState
trigger1 = Time = 0 && var(17) >= 2
value = 196

[State 195, 2]
type = PlaySnd
trigger1=AnimElem = 1
value = 195,1

[State 195, 1]
type = CtrlSet
trigger1 = Time = 33
value = 1

[State 195, 4]
type = lifeadd
trigger1 = command = "die"
value = -999
kill = 0

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Taunt 진크리스도발
[Statedef 196]
type = S
ctrl = 0
anim = 196
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 196, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 196, 1

[State 196, 1]
type = CtrlSet
trigger1 = Time = 33
value = 1

[State 196, 1]
type = Explod
trigger1 = AnimElem = 9
anim = 197
ID = 197
sprpriority = 4
postype = p1
pos = 16,-80
bindtime = -1
pausemovetime = -1
removeongethit = 1

[State 195, 4]
type = lifeadd
trigger1 = command = "die"
value = -999
kill = 0

[State 196, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 원거리 약펀치
[Statedef 200]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 200
poweradd = 0
facep2 = 1

[State 200, 4]
type = ChangeState
trigger1 = P2dist X <= 64 && Time = 0
value = 205

[State 200, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 200, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 200, 1]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = S, NA
damage = 34
animtype = Light
guardflag = M
getpower = 46,46
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
sparkno = s6000
guard.sparkno = s6005
sparkxy = -10, -80
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),200
guardsound = s200, 3
ground.type = High
air.type = Low
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 10
guard.hittime  = var(29)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
;p2stateno = ifelse(p2statetype = C,4277,4330)

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 200,4

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
trigger1 = Random < 500
value = 200,1

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 근접 약펀치
[Statedef 205]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 205
poweradd = 0
facep2 = 1

[State 205, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 205, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 205, 1]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = S, NA
damage = 34
animtype = Light
guardflag = M
getpower = 46,46
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
sparkno = s6000
guard.sparkno = s6005
sparkxy = -10, -80
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),200
guardsound = s200,3
ground.type = High
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 10
guard.hittime  = var(29)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
;p2stateno = ifelse(p2statetype = C,4277,4330)

[State 205, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 200,4

[State 205, 2]
type = PlaySnd
trigger1 = time = 2
trigger1 = Random < 500
value = 200,1

[State 205, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 강펀치
[Statedef 210]
type    = S
movetype= A
physics = S
velset = 0,0
poweradd= 0
ctrl = 0
anim = 210
facep2 = 1

[State 210, 4]
type = ChangeState
trigger1 = P2dist X <= 64 && Time = 0
value = 215

[State 210, movetype]
type = StateTypeSet
trigger1 = AnimElem = 11
movetype = I

[State 210, 0]
type = varrandom
trigger1 = time = 0 || movehit
v = 40
range = 2

[State 210, 0]
type = VarSet
trigger1 = time = 0
var(19) = 1

[State 210, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 5 && (var(13) = 0 || var(37) = 1)
attr = S, NA
animtype  = Hard
damage    = 89/var(19)
guardflag = M
getpower = 91,91
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001
guard.sparkno = s6006
sparkxy = -10,-82
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),210
guardsound = s200, 3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(16)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = fvar(16)	;ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
;p2stateno = ifelse(p2statetype = C,4277,4330)

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 10 && (var(13) = 0 || var(37) = 1)
attr = S, NA
animtype  = Hard
damage    = 89/var(19)
guardflag = M
getpower = 91,91
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001
guard.sparkno = s6006
sparkxy = -10,-80
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),210
guardsound = s200, 3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
;p2stateno = ifelse(p2statetype = C,4277,4330)

[State 210, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 200,4

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = 210,1

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;근접 강펀치
[Statedef 215]
type    = S
movetype= A
physics = S
velset = 0,0
poweradd= 0
ctrl = 0
anim = 215
facep2 = 1

[State 215, movetype]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 215, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 200,4

[State 215, 2]
type = PlaySnd
trigger1 = time = 2
value = 210,1

[State 215, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 215, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = S, NA
animtype  = Hard
damage    = 88
guardflag = M
getpower = 91,91
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001
guard.sparkno = s6006
sparkxy = -10,-64
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),210
guardsound = s200,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
;p2stateno = ifelse(p2statetype = C,4277,4330)

[State 215, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 원거리 약킥
[Statedef 230]
type    = S
movetype= A
physics = S
velset = 0,0
poweradd= 0
ctrl = 0
anim = 230
facep2 = 1

[State 230, 4]
type = ChangeState
trigger1 = P2dist X <= 64 && Time = 0
value = 235

[State 230, movetype]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 230, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 230, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = S, NA
animtype  = Light
damage    = 34
guardflag = M
getpower = 46,46
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
sparkno = s6000
guard.sparkno = s6005
sparkxy = -10,-82
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),230
guardsound = s200,3
ground.type = High
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 10
guard.hittime  = var(29)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
;p2stateno = ifelse(p2statetype = C,4277,4330)

[State 230, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 230, 2]
type = PlaySnd
trigger1 = time = 2
trigger1 = Random < 500
value = 200,1

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 근접 약킥
[Statedef 235]
type    = S
movetype= A
physics = S
velset = 0,0
poweradd= 0
ctrl = 0
anim = 235
facep2 = 1

[State 235, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 235, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 235, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = S, NA
animtype  = Light
damage    = 29
guardflag = M
getpower = 46,46
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
sparkno = s6000
guard.sparkno = s6005
sparkxy = -10,-92
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),230
guardsound = s200,3
ground.type = High
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 10
guard.hittime  = var(29)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
;p2stateno = ifelse(p2statetype = C,4277,4330)

[State 235, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 235, 2]
type = PlaySnd
trigger1 = time = 2
trigger1 = Random < 500
value = 200,1

[State 235, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 원거리 강킥
[Statedef 240]
type    = S
movetype= A
physics = S
velset = 0,0
poweradd= 0
ctrl = 0
anim = 240
facep2 = 1

[State 240, 4]
type = ChangeState
trigger1 = P2dist X <= 64 && Time = 0
value = 245

[State 240, movetype]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 240, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 240, 2]
type = PlaySnd
trigger1 = time = 2
value = 210,1

[State 240, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 240, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = S, NA
animtype  = Hard
damage    = 108
guardflag = M
getpower = 91,91
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001
guard.sparkno = s6006
sparkxy = -10,-92
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),240
guardsound = s200,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
;p2stateno = ifelse(p2statetype = C,4277,4330)

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 근접 강킥
[Statedef 245]
type    = S
movetype= A
physics = S
velset = 0,0
poweradd= 0
ctrl = 0
anim = 245
facep2 = 1

[State 245, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 245, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 245, 2]
type = PlaySnd
trigger1 = time = 2
value = 210,1

[State 245, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 245, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = S, NA
animtype  = Hard
damage    = 78
guardflag = M
getpower = 91,91
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001
guard.sparkno = s6006
sparkxy = -10,-92
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),240
guardsound = s200,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
;p2stateno = ifelse(p2statetype = C,4277,4330)

[State 245, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;CD 날리기 공격
[Statedef 250]
type=S
movetype=A
physics=S
velset = 0,0
poweradd=0
ctrl=0
anim=250
facep2 = 1
juggle = 1

[State 250, movetype]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 250, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 250, 0]
type=PlaySnd
trigger1 = time = 2
trigger1 = Random < 500
value=250,1

[State 250, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = S, NA
animtype  = Hard
damage    = 147
guardflag = M
getpower = 121,121
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001
guard.sparkno = s6006
sparkxy = -10,-92
hitsound   = s250,2
guardsound = s200,3
ground.type = High
fall = 1
ground.slidetime = 22
ground.hittime  = var(35)+4
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 22
guard.hittime  = var(31)+4
guard.velocity = (ifelse(var(41)=0,fvar(5)*fvar(15),ifelse(var(41)=1,fvar(6)*fvar(15),fvar(6)*fvar(15))))
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State 250, 0]
type = varset
trigger1 = movehit
var(13) = 1
ignorehitpause = 1
persistent = 0

[State 250, 4]
type=ChangeState
trigger1=AnimTime = 0
value=0
ctrl=1

;---------------------------------------------------------------------------
;가드켄슬 CD 날리기 공격
[Statedef 260]
type=S
movetype=A
physics=S
velset = 0,0
poweradd=0
ctrl=0
anim=260
facep2 = 1
juggle = 1

[State 260, movetype]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 260, 0]
type = varadd
trigger1 = time = 0
var(20) = 10
[State 260, 0]
type = varadd
trigger1 = time = 0 && var(3) > 0
var(2) = -1000

[State 260,0]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 10

[State 260,1]
type = HitBy
trigger1 = AnimElem = 1
value = SCA, NT, ST, HT
time = 10

[State 260, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2,=1
value = 210,4

[State 260, 0]
type=PlaySnd
trigger1 = time = 2
trigger1 = Random < 500
value=250,1

[State 260, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = S, NA
animtype  = Hard
damage    = 39
guardflag = M
getpower = 46,46
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001
guard.sparkno = s6006
sparkxy = -10,-92
hitsound   = s250,2
guardsound = s200,3
ground.type = High
fall = 1
ground.slidetime = 22
ground.hittime  = var(35)+4
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 22
guard.hittime  = var(31)+4
guard.velocity = (ifelse(var(41)=0,fvar(5)*fvar(15),ifelse(var(41)=1,fvar(6)*fvar(15),fvar(6)*fvar(15))))
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
kill = 0

;[State 260, 0]
;type = varset
;trigger1 = movehit
;var(13) = 1
;ignorehitpause = 1
;persistent = 0

[State 260, 4]
type=ChangeState
trigger1=AnimTime = 0
value=0
ctrl=1

;---------------------------------------------------------------------------
;앉아 약펀치
[Statedef 400]
type    = C
movetype= A
physics = C
velset = 0,0
poweradd= 0
ctrl = 0
anim = 400
facep2 = 1

[State 400, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 400, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 200,4

[State 400, 2]
type = PlaySnd
trigger1 = time = 2
trigger1 = Random < 500
value = 200,1

[State 400, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 400, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = C, NA
damage = 20
animtype  = Light
guardflag = M
getpower = 46,46
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
sparkno = s6000
guard.sparkno = s6005
sparkxy = -10,-41
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),200
guardsound = s200,3
ground.type = Low
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 10
guard.hittime  = var(29)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
;p2stateno = ifelse(p2statetype = C,4277,4330)

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;앉아 강펀치
[Statedef 410]
type    = C
movetype= A
physics = C
velset = 0,0
poweradd= 0
ctrl = 0
anim = 410
facep2 = 1

[State 410, movetype]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 410, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 200,4

[State 410, 0]
type = PlaySnd
trigger1 = time = 2
value = 210,1

[State 410, 0]
type = varrandom
trigger1 = time = 0 || AnimElem = 4
v = 40
range = 2

[State 410, 0]
type = VarSet
trigger1 = time = 0
var(19) = 1

[State 410, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 410, 2]
type = HitDef
trigger1 = AnimElem = 3 && (var(13) = 0 || var(37) = 1)
attr = C, NA
damage    = 72/var(19)
animtype  = Hard
guardflag = M
getpower = 91,91
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001
guard.sparkno = s6006
sparkxy = -10,-84
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),210
guardsound = s200,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
;p2stateno = ifelse(p2statetype = C,4277,4330)

[State 410, 2]
type = HitDef
trigger1 = AnimElem = 4 && (var(13) = 0 || var(37) = 1)
attr = C, NA
damage    = 72/var(19)
animtype  = Hard
guardflag = M
getpower = 91,91
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
sparkno = s6001
guard.sparkno = s6006
sparkxy = -10,-78
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),210
guardsound = s200,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
;p2stateno = ifelse(p2statetype = C,4277,4330)

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;앉아 약킥
[Statedef 430]
type    = C
movetype= A
physics = C
velset = 0,0
poweradd= 0
ctrl = 0
anim = 430
facep2 = 1

[State 430, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 430, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 430, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = C, NA
damage    = 20
animtype  = Light
guardflag = L
getpower = 46,46
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
sparkno = s6000
guard.sparkno = s6005
sparkxy = -10,-11
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),230
guardsound = s200,3
ground.type = Low
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 10
guard.hittime  = var(29)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
;p2stateno = ifelse(p2statetype = C,4277,4330)

[State 430, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 430, 0]
type = PlaySnd
trigger1 = time = 2
trigger1 = Random < 500
value = 200,1

[State 430, 3]
type = ChangeState 
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;앉아 강킥
[Statedef 440]
type    = C
movetype= A
physics = C
velset = 0,0
poweradd= 0
ctrl = 0
anim = 440
facep2 = 1
juggle = 1

[State 440, movetype]
type = StateTypeSet
trigger1 = AnimElem = 8
movetype = I

[State 440, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 440, 0]
type = PlaySnd
trigger1 = time = 2
value = 210,1

[State 440, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 440, 3]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = C, NA
damage    = 123
guardflag = L
getpower = 91,91
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001
guard.sparkno = s6006
sparkxy = -10,-41
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),240
guardsound = s200,3
ground.type = Trip
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(20),fvar(11)
air.velocity = fvar(20),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
fall = 1
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State 440, 0]
type = varset
trigger1 = movehit
var(13) = 1
ignorehitpause = 1
persistent = 0

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;점프 약펀치
[Statedef 600]
type    = A
movetype= A
physics = A
poweradd= 0
ctrl = 0

[State 600, ANIM1]
type = changeanim
trigger1 = !Time && var(30) = 1
value = 605

[State 600, ANIM2]
type = changeanim
trigger1 = !Time && var(30) = 2
value = 600

[State 600, ANIM3]
type = changeanim
trigger1 = !Time && var(30) = 3
value = 600

[State 600, movetype]
type = StateTypeSet
trigger1 = AnimElem = 5 && Anim = 605
movetype = I

[State 600, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4 && (Anim = 600 || Anim = 601)
movetype = I

[State 600, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 200,4

[State 600, 0]
type = PlaySnd
trigger1 = time = 2
trigger1 = Random < 500
value = 200,1

[State 600, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 600, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = A, NA
damage = ifelse(var(30)=1,59,ifelse(var(30)=3,39,49))
animtype = Medium
guardflag = H
getpower = 46,46
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6000
guard.sparkno = s6005
sparkxy = -10,-75
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),200
guardsound = s200,3
ground.type = Low
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 10
guard.hittime  = var(29)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
;p2stateno = ifelse(p2statetype = C,4277,4330)

;---------------------------------------------------------------------------
;점프 강펀치
[Statedef 610]
type    = A
movetype= A
physics = A
poweradd= 0
ctrl = 0

[State 610, ANIM1]
type = changeanim
trigger1 = !Time && var(30) = 1
value = 615

[State 610, ANIM2]
type = changeanim
trigger1 = !Time && var(30) = 2
value = 610

[State 610, ANIM3]
type = changeanim
trigger1 = !Time && var(30) = 3
value = 611

[State 610, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4 && Anim = 615
movetype = I

[State 610, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4 && Anim = 610
movetype = I

[State 610, movetype]
type = StateTypeSet
trigger1 = AnimElem = 7 && Anim = 611
movetype = I

[State 610, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 200,4

[State 610, 0]
type = PlaySnd
trigger1 = time = 2
value = 210,1

[State 610, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 610, 3]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = A, NA
damage = ifelse(var(30)=1,93,ifelse(var(30)=3,74,83))
guardflag = H
animtype = Medium
getpower = 91,91
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001
guard.sparkno = s6006
sparkxy =-10,-65
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),210
guardsound = s200,3
ground.type = Low
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
;p2stateno = ifelse(p2statetype = C,4277,4330)

;---------------------------------------------------------------------------
;점프 약킥
[Statedef 630]
type    = A
movetype= A
physics = A
poweradd= 0
ctrl = 0

[State 630, ANIM1]
type = changeanim
trigger1 = !Time && var(30) = 1
value = 635

[State 630, ANIM2]
type = changeanim
trigger1 = !Time && var(30) = 2
value = 630

[State 630, ANIM3]
type = changeanim
trigger1 = !Time && var(30) = 3
value = 630

[State 630, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4 && Anim = 635
movetype = I

[State 630, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4 && (Anim = 630 || Anim = 631)
movetype = I

[State 630, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 630, 0]
type = PlaySnd
trigger1 = time = 2
trigger1 = Random < 500
value = 200,1

[State 630, 0]
type = varrandom
trigger1 = time = 0
trigger2 = AnimElem = 3
v = 40
range = 2

[State 630, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = A, NA
damage = ifelse(var(30)=1,49,39)
guardflag = H
animtype = Medium
getpower = 46,46
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6000
guard.sparkno = s6005
sparkxy = -10,ifelse(var(30)=1,-80,-51)
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),230
guardsound = s200,3
ground.type = Low
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 10
guard.hittime  = var(29)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
;p2stateno = ifelse(p2statetype = C,4277,4330)

;---------------------------------------------------------------------------
;점프 강킥
[Statedef 640]
type    = A
movetype= A
physics = A
poweradd= 0
ctrl = 0

[State 640, ANIM1]
type = changeanim
trigger1 = !Time && var(30) = 1
value = 645

[State 640, ANIM2]
type = changeanim
trigger1 = !Time && var(30) = 2
value = 640

[State 640, ANIM3]
type = changeanim
trigger1 = !Time && var(30) = 3
value = 640

[State 640, movetype]
type = StateTypeSet
trigger1 = AnimElem = 6 && Anim = 645
movetype = I

[State 640, movetype]
type = StateTypeSet
trigger1 = AnimElem = 5 && (Anim = 640 || Anim = 641)
movetype = I

[State 640, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 640, 0]
type = PlaySnd
trigger1 = time = 2
value = 210,1

[State 640, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 640, 3]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = A, NA
damage = ifelse(var(30)=1,103,93)
guardflag = H
animtype = Medium
getpower = 91,91
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001
guard.sparkno = s6006
sparkxy = -10,ifelse(var(30)=1,-70,-36)
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),240
guardsound = s200,3
ground.type = Low
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
;p2stateno = ifelse(p2statetype = C,4277,4330)

;---------------------------------------------------------------------------
;점프 CD 날리기공격
[Statedef 650]
type=A
movetype=A
physics=A
poweradd= 0
ctrl=0
juggle = 1

[State 650, ANIM1]
type = changeanim
trigger1 = !Time && var(30) = 1
value = 651

[State 650, ANIM2]
type = changeanim
trigger1 = !Time && var(30) = 2
value = 650

[State 650, ANIM3]
type = changeanim
trigger1 = !Time && var(30) = 3
value = 651

[State 650, movetype]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 250, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 210,4

[State 650, 1]
type=PlaySnd
trigger1 = time = 2
trigger1 = Random < 500
value=250,1

[State 650, 0]
type = varset
trigger1 = time = 0
var(18) = 1
ignorehitpause = 1
persistent = 0

[State 650, 3]
type=HitDef
trigger1 = AnimElem = 4 && (var(13) = 0 || var(37) = 1)
attr=A, NA
damage=118
animtype=Hard
guardflag=M
getpower = 139,139
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001
guard.sparkno = s6006
sparkxy = -10,-54
hitsound= s250,2
guardsound= s200,3
ground.type=High
ground.slidetime = 22
ground.hittime  = var(35)+4
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 22
guard.hittime  = var(31)+4
guard.velocity = (ifelse(var(41)=0,fvar(5)*fvar(15),ifelse(var(41)=1,fvar(6)*fvar(15),fvar(6)*fvar(15))))
fall=1
air.type = High                       
ground.cornerpush.veloff = -0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State 650, 3]
type=HitDef
triggerall = var(18) = 0
trigger1 = AnimElem = 5 && (var(13) = 0 || var(37) = 1)
attr=A, NA
damage=118
animtype=Hard
guardflag=M
getpower = 139,139
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001
guard.sparkno = s6006
sparkxy = -10,-22
hitsound= s250,2
guardsound= s200,3
ground.type=High
ground.slidetime = 22
ground.hittime  = var(35)+4
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 22
guard.hittime  = var(31)+4
guard.velocity = (ifelse(var(41)=0,fvar(5)*fvar(15),ifelse(var(41)=1,fvar(6)*fvar(15),fvar(6)*fvar(15))))
fall=1
air.type = High                       
ground.cornerpush.veloff = -0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State 650, 0]
type = varset
trigger1 = movecontact
var(18) = 1
ignorehitpause = 1
persistent = 0

[State 650, 0]
type = varset
trigger1 = movehit > 0
var(13) = 1
ignorehitpause = 1
persistent = 0

;---------------------------------------------------------------------------
;스피닝 어레이
[Statedef 700]
type=S
movetype=A
physics=S
poweradd = 0
ctrl=0
velset = 0,0
anim=700
facep2 = 1

[State 700, movetype]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 700, PlaySnd]
type = posadd
trigger1 = AnimElem = 2 || AnimElem = 3 || AnimElem = 4 || AnimElem = 5 || AnimElem = 6 || AnimElem = 7 || AnimElem = 8
x = 8

[State 700, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 210,4

[State 700, 1]
type = PlaySnd
trigger1 = time = 1
value = 700,1

[State 700, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = S, NA
animtype  = Hard
damage    = 20
guardflag = M
getpower = 106,106
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001
guard.sparkno = s6006
sparkxy = -10,-66
hitsound = s5,210
guardsound = s200,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State 700 , 4]
type=ChangeState
trigger1=AnimTime = 0
value = 0
ctrl=1

;---------------------------------------------------------------------------
;리버스 앵커 킥
[Statedef 720]
type=S
movetype=A
physics=S
velset = 0,0
poweradd = 0
ctrl=0
anim=720
facep2 = 1

[State 720, movetype]
type = StateTypeSet
trigger1 = AnimElem = 10
movetype = I

[State 720, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 210,4

[State 720, 1]
type = PlaySnd
trigger1 = time = 1
value = 700,1

[State 720, 0]
type = VarSet
trigger1 = time = 0
var(19) = 1

[State 720, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 720, 2]
type = HitDef
trigger1 = AnimElem = 7 && (var(13) = 0 || var(37) = 1)
attr = S, NA
animtype  = Hard
damage    = 82/var(19)
guardflag = M
getpower = 62,62
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001
guard.sparkno = s6006
sparkxy = -10,-82
hitsound = s5,240
guardsound = s200,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State 720, 2]
type = HitDef
trigger1 = AnimElem = 9 && (var(13) = 0 || var(37) = 1)
attr = S, NA
animtype  = Hard
damage    = 82/var(19)
guardflag = H
getpower = 62,62
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001
guard.sparkno = s6006
sparkxy = -10,-60
hitsound = s5,240
guardsound = s200,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State 720 , 4]
type=ChangeState
trigger1=AnimTime = 0
value = 0
ctrl=1

;---------------------------------------------------------------------------
;캐리 오프 킥
[Statedef 740]
type=C
movetype=A
physics=C
velset = 0,0
poweradd = 0
ctrl=0
anim=740
facep2 = 1

[State 740, movetype]
type = StateTypeSet
trigger1 = AnimElem = 9
movetype = I

;[State 740,VelSet]
;type = VelSet
;trigger1 = AnimElem = 2,=3
;x = 10.8

;[State 740, 4]
;type = VelMul
;trigger1 = 1
;x = .9

;[State 740, 4]
;type = VelMul
;triggerall = statetype != A && P2statetype != A && var(41) >= 1
;triggerall = target,GetHitVar(xvel) != 0 && target,GetHitVar(yvel) = 0
;trigger1 = target,GetHitVar(slidetime)
;;trigger1 = fvar(24) >= 1
;;trigger2 = var(41) = 1 && (ProjContactTime(0) = -1 || ProjContactTime(0) >= 30)
;x = 0.94444444444

;[State 740, 6]
;type = VelSet
;trigger1 = (var(41) >= 1 && movecontact = 0) || var(41) = 0
;trigger1 = AnimElem = 9,=1
;trigger2 = (var(41) >= 1 && movecontact = 1)
;trigger2 = fvar(24) = 16
;x = 0

[State 740, 4]
type = posadd
trigger1 = time = [6,7]
x = 9

[State 740, 4]
type = posadd
trigger1 = time = 8
x = 8

[State 740, 4]
type = posadd
trigger1 = time = 9
x = 7

[State 740, 4]
type = posadd
trigger1 = time = [10,12]
x = 6

[State 740, 4]
type = posadd
trigger1 = time = [13,14]
x = 5

[State 740, 4]
type = posadd
trigger1 = time = [15,18]
x = 4

[State 740, 4]
type = posadd
trigger1 = time = [19,20]
x = 3

[State 740, 4]
type = posadd
trigger1 = time = 21
x = 2

[State 740, 1]
type = PlaySnd
trigger1 = AnimElem = 2,=3
value = 740,4

[State 740, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 700,1

[State 740, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = S, NA
animtype  = Hard
damage    = 69
guardflag = L
getpower = 77,77
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001
guard.sparkno = s6006
sparkxy = -10,-7
hitsound = s5,240
guardsound = s200,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State 740 , 4]
type=ChangeState
trigger1=AnimTime = 0
value = 11
ctrl=1

;---------------------------------------------------------------------------
;리버스 앵커 킥 캔슬
[Statedef 750]
type=S
movetype=A
physics=S
velset = 0,0
poweradd = 0
ctrl=0
anim=720
facep2 = 1

[State 720, movetype]
type = StateTypeSet
trigger1 = AnimElem = 10
movetype = I

[State 720, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 210,4

[State 720, 1]
type = PlaySnd
trigger1 = time = 1
value = 700,1

[State 720, 0]
type = VarSet
trigger1 = time = 0
var(19) = 1

[State 720, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 720, 2]
type = HitDef
trigger1 = AnimElem = 7 && (var(13) = 0 || var(37) = 1)
attr = S, NA
animtype  = Hard
damage    = 50/var(19)
guardflag = M
getpower = 62,62
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001
guard.sparkno = s6006
sparkxy = -10,-82
hitsound = s5,240
guardsound = s200,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State 720, 2]
type = HitDef
trigger1 = AnimElem = 9 && (var(13) = 0 || var(37) = 1)
attr = S, NA
animtype  = Hard
damage    = 50/var(19)
guardflag = H
getpower = 62,62
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001
guard.sparkno = s6006
sparkxy = -10,-60
hitsound = s5,240
guardsound = s200,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State 720 , 4]
type=ChangeState
trigger1=AnimTime = 0
value = 0
ctrl=1

;---------------------------------------------------------------------------
;C잡기
[Statedef 800]
type = S
movetype = A
physics = S
velset = 0,0
poweradd= 0
anim = 800
ctrl = 0
facep2 = 1

[State 800, 1]
type = HitDef
trigger1 = var(4)<=0
trigger1 = time = 0
trigger1 = P2StateNo != [150,155]
trigger1 = P2StateNo != [40,49]
attr = S, NT
priority = 2, miss
sparkno = -1
snap = 37,0,0,1
p2stateno = 820

[State 800, 2]
type = ChangeState
trigger1 = movehit = 1
trigger1 = AnimTime = 0
value = 810

[State 800, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 215
ctrl = 1

;-------------------------------------------------------------------------------
; C잡기 성공
[Statedef 810]
type = S
movetype = A
physics = S
anim = 810
velset = 0,0
poweradd = 0
sprpriority = 1

[State 810, Width]
type = width
trigger1 = AnimElem = 1, >= 0 && AnimElem = 4, <= 4
edge = 57,0

[State 810, GrabSpark]
type = Explod
trigger1 = AnimElem = 4
id = 6002
anim = 6002
pos = 52,-22
sprpriority = 3
ownpal = 1
removeongethit = 1
removetime = 16

[State 810, GrabSpark]
type = Explod
trigger1 = AnimElem = 7
id = 6002
anim = 6002
pos = 68,-24
sprpriority = 3
ownpal = 1
removeongethit = 1
removetime = 16

[State 810, GrabSpark]
type = Explod
trigger1 = AnimElem = 9
id = 6002
anim = 6002
pos = 70,-38
sprpriority = 3
ownpal = 1
removeongethit = 1
removetime = 16

;[State 810,VelSet]
;type = posadd
;trigger1 = AnimElem = 4
;x = 4

[State 810,VelSet]
type = posadd
trigger1 = AnimElem = 5
x = 0;-4
y = -20

[State 810,VelSet]
type = posadd
trigger1 = AnimElem = 8
x = -4
y = -16

[State 810,VelSet]
type = posadd
trigger1 = AnimElem = 9
x = -4

[State 810, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 810,1

[State 810, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4 || animelem = 7 || animelem = 9
value= 5,240

[State 810, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1510,2

[State 810, 4]
type = TargetBind
trigger1 = animelem = 1
pos = 36,0

[State 810, 4]
type = targetlifeadd
trigger1 = animelem = 4 || animelem = 7 || animelem = 9
value = -41
kill = 1

[State 810, VarSet]
type = VarSet
trigger1 = Time = 0
var(12) = 0

[State 810, Cancel Var]
type = varset
Triggerall = Time = [0,20]
trigger1 = target, command = "x"
trigger2 = target, command = "y"
trigger3 = target, command = "z"
var(12) = 1

[State 810, Cancel]
type = changestate
Trigger1 = Time = [8,12]
trigger1 = var(12) = 1 && (target,command = "holdfwd" || target,command = "holdback") && target,command != "holddown"
value = 811

[State 810, Cancel]
type = targetstate
Trigger1 = Time = [8,12]
trigger1 = var(12) = 1 && (target,command = "holdfwd" || target,command = "holdback") && target,command != "holddown"
value = 812

[State 810, Cancel Var]
type = varset
Trigger1 = animtime = 0
var(12) = 0

[State 810,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
statetype = A
physics = N

[State 810,VelSet]
type = VelSet
trigger1 = AnimElem = 9,=8
x = -2.82
y = -8.3

[State 810,VelAdd]
type = VelAdd
trigger1 = AnimElem = 9, >= 8
y = .43

[State 810 , 3]
type = ChangeState
trigger1 = Pos Y >= -8 && Vel Y > 0
value = 815
ctrl = 0

;---------------------------------------------------------------------------
;C잡기 착지
[Statedef 815]
type = S
movetype = I
physics = S
velset = 0,0
poweradd = 0
anim = 815
facep2 = 0

[State 815, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 815, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 815, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 815, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; C잡기 맞는
[Statedef 820]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 0
facep2 = 1

[State 820,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 820, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 820

[State 820,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 825

;---------------------------------------------------------------------------
; C잡기 맞는2
[Statedef 825]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0

;날리기랑같다
[State 825]
type = VelSet
trigger1 = time = 0
x = -4.64
y = -6

[State 825, 1]
type = ChangeAnim
trigger1 = time = 0
value = 5050

[State 825,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 825, 1]
type = VelAdd
trigger1 = 1
y = 0.42

[State 825, ANIM2]
type = SelfState
trigger1 = Pos Y >= -4 && Vel Y > 0
value = 5100

;--------------------------------------------------------------
;C잡기 실패
[Statedef 811]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 811
ctrl = 0

[State 811,2]
type = PlayerPush
trigger1 = 1
value = 0

[State 811, PlaySnd]
type = PlaySnd
trigger1 = time = 11
value = 250,2

[State 811, 0]
type = Envcolor
trigger1 = Time = 9
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 1
under = 1
supermove = 1

;[State 811, 0]
;type = NotHitBy
;trigger1 = 1
;value = SCA

;[State 811]
;type = VelSet
;trigger1 = AnimElem = 2
;x = -8.6

;[State 811]
;type = VelSet
;trigger1 = AnimElem = 2,=17
;x = 0

[State 811]
type = posadd
trigger1 = time = 9
x = -12

[State 811]
type = posadd
trigger1 = time = 10
x = -9

[State 811]
type = posadd
trigger1 = time = 11
x = -7

[State 811]
type = posadd
trigger1 = time = 12
x = -5

[State 811]
type = posadd
trigger1 = time = 13
x = -4

[State 811]
type = posadd
trigger1 = time = 14
x = -3

[State 811]
type = posadd
trigger1 = time = [15,16]
x = -2

[State 811]
type = posadd
trigger1 = time = [17,18]
trigger2 = time = 20
trigger3 = time = 22
x = -1

[State 811, Cancel]
type = targetstate
Trigger1 = time = 0
value = 812

;[State 811, MD]
;type = makedust
;Trigger1 = 1
;pos = 0,0
;spacing = 3

[State 811, Cancel Var]
type = varset
Trigger1 = animtime = 0
var(12) = 0

[State 811, END]
type = changestate
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------
;P2 잡기풀기
[Statedef 812]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0

[State 812, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 812, 0]
type = NotHitBy
trigger1 = 1
value = SCA

;[State 812]
;type = VelSet
;trigger1 = time = 0
;x = -8.6

;[State 812]
;type = VelSet
;trigger1 = time = 10
;x = 0

[State 812]
type = VelSet
trigger1 = time = 0
x = -12

[State 812]
type = VelSet
trigger1 = time = 1
x = -9

[State 812]
type = VelSet
trigger1 = time = 2
x = -7

[State 812]
type = VelSet
trigger1 = time = 3
x = -5

[State 812]
type = VelSet
trigger1 = time = 4
x = -4

[State 812]
type = VelSet
trigger1 = time = 5
x = -3

[State 812]
type = VelSet
trigger1 = time = [6,7]
x = -2

[State 812]
type = VelSet
trigger1 = time = [8,9]
trigger2 = time = 11
trigger3 = time = 13
x = -1

[State 812, ANIM1]
type = changeanim
trigger1 = selfanimexist(812)
Trigger1 = time = 0
value = 812

[State 812, ANIM2]
type = changeanim
trigger1 = !selfanimexist(812)
trigger1 = selfanimexist(200)
Trigger1 = Time = 0
value = 200

[State 812, ANIM3]
type = changeanim
trigger1 = !selfanimexist(812)
trigger1 = !selfanimexist(200)
Trigger1 = Time = 0
value = 5000

[State 812, END]
type = selfstate
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;D잡기
[Statedef 850]
type = S
movetype = A
physics = S
poweradd= 0
velset = 0,0
anim = 800
ctrl = 0
facep2 = 1

[State 850, 1]
type = HitDef
trigger1 = var(4)<=0
trigger1 = time = 0
trigger1 = P2StateNo != [150,155]
trigger1 = P2StateNo != [40,49]
attr = S, NT
priority = 2, miss
sparkno = -1
snap = 37,0,0,1
p2stateno = 870

[State 850, 2]
type = ChangeState
trigger1 = movehit = 1
trigger1 = AnimTime = 0
value = 860

[State 850, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 245
ctrl = 1

;-------------------------------------------------------------------------------
; D잡기 성공
[Statedef 860]
type = S
movetype = A
physics = S
velset = 0,0
anim = 860
poweradd = 0
sprpriority = 1

[State 860, Width]
type = width
trigger1 = AnimElem = 1, >= 0 && AnimElem = 8, <= 4
edge = 69,0

[State 860, Width]
type = width
trigger1 = AnimElem = 9, >= 0 && AnimElem = 15, <= 4
edge = 0,73

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem = 2
id = 890
anim = 890
pos = 56,-76
sprpriority = 1
ownpal = 1
removeongethit = 1
removetime = 29

[State 860, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 860,2

[State 860, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 10
value = 210,1

[State 860, 2]
type = PlaySnd
trigger1 = animelem = 16
value = 47,1

[State 860, 4]
type = TargetBind
trigger1 = animelem = 1
pos = 68,0

[State 860, 4]
type = TargetBind
trigger1 = animelem = 2
pos = 56,0

[State 860, 4]
type = TargetBind
trigger1 = animelem = 3
pos = 60,0

[State 860, 4]
type = TargetBind
trigger1 = animelem = 4
pos = 48,0

[State 860, 4]
type = TargetBind
trigger1 = animelem = 5
pos = 42,-72

[State 860, 4]
type = TargetBind
trigger1 = animelem = 6
pos = 38,-54

[State 860, 4]
type = TargetBind
trigger1 = animelem = 7
pos = 28,-58

[State 860, 4]
type = TargetBind
trigger1 = animelem = 8
pos = 0,-58

[State 860, 4]
type = TargetBind
trigger1 = animelem = 9
pos = -18,-65

[State 860, 4]
type = TargetBind
trigger1 = animelem = 10
pos = -81,-117

[State 860, 4]
type = turn
trigger1 = animelem = 17

[State 860, 4]
type = targetlifeadd
trigger1 = animelem = 10
value = -162
kill = 1

[State 860, VarSet]
type = VarSet
trigger1 = Time = 0
var(12) = 0

[State 860, Cancel Var]
type = varset
Triggerall = Time = [0,20]
trigger1 = target, command = "a"
trigger2 = target, command = "b"
trigger3 = target, command = "c"
var(12) = 1

[State 860, Cancel]
type = changestate
Trigger1 = Time = [7,18]
trigger1 = var(12) = 1 && (target,command = "holdfwd" || target,command = "holdback") && target,command != "holddown"
value = 811

[State 860, Cancel]
type = targetstate
Trigger1 = Time = [7,18]
trigger1 = var(12) = 1 && (target,command = "holdfwd" || target,command = "holdback") && target,command != "holddown"
value = 812

[State 860, Cancel Var]
type = varset
Trigger1 = animtime = 0
var(12) = 0

[State 860,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; D잡기 맞는1
[Statedef 870]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,0
sprpriority = 0
facep2 = 1

[State 870,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 870, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 870

[State 900,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 875

;---------------------------------------------------------------------------
; D잡기 맞는2
[Statedef 875]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0

;높게뛰우는거랑같다
[State 875]
type = VelSet
trigger1 = time = 0
x = 1.06
y = -11.26

[State 875, 1]
type = ChangeAnim2
trigger1 = !selfanimexist(5164)
trigger1 = time = 0
value = 875

[State 875, 1]
type = ChangeAnim
trigger1 = selfanimexist(5164)
trigger1 = time = 0
value = 5164

[State 875,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 875, 1]
type = VelAdd
trigger1 = 1
y = .56

[State 875, ANIM2]
type = SelfState
trigger1 = Pos Y >= -6 && Vel Y > 0
value = 5100

;---------------------------------------------------------------------
; 앞구르기
[Statedef 900]
type = S
movetype = I
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 900
facep2 = 1

[State 900, 4]
type = SprPriority
trigger1 = Time = 0
value = -2

[State 900,0]
type = NotHitBy
trigger1 = Time = 0
time = 20
value = SCA

[State 900,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 20

[State 900, 2]
type = PlaySnd
trigger1 = Time = 0
value = 900,1

[State 900,2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 900,3]
type = posadd
trigger1 = time = [8,25]
x = 5

;[State 900,9]
;type = AfterImage
;trigger1 = Time = 0
;time = 12
;length = 15
;palbright = 40,40,40
;palcontrast = 250,250,250
;palpostbright = -80,-80,-80
;timegap = 1
;flamegap = 1
;trans = add1

[State 900, 3]
type = Afterimage
trigger1 = Time = 0
time = 13
length = 9
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9
FrameGap = 3
Trans = Add1

[State 900, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0 && time <=12
time = 2

[State 900,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; 달리면서 구르기
[Statedef 910]
type = S
movetype = I
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 900
facep2 = 1

[State 910, 4]
type = SprPriority
trigger1 = Time = 0
value = -2

[State 910,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 20

[State 910,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 20

[State 910, 2]
type = PlaySnd
trigger1 = Time = 0
value = 900,1

[State 910,2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 910,3]
type = posadd
trigger1 = time = [8,25]
x = 7

;[State 910,9]
;type = AfterImage
;trigger1 = Time = 0
;time = 12
;length = 15
;palbright = 40,40,40
;palcontrast = 250,250,250
;palpostbright = -80,-80,-80
;timegap = 1
;flamegap = 1
;trans = add1

[State 910, 3]
type = Afterimage
trigger1 = Time = 0
time = 13
length = 9
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9
FrameGap = 3
Trans = Add1

[State 910, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0 && time <=12
time = 2

[State 910,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; 가드캔슬 구르기
[Statedef 920]
type = S
movetype = I
physics = S
ctrl = 0
anim = 920
velset = 0,0
;poweradd=-1000
facep2 = 1

[State 920, 0]
type = varadd
trigger1 = time = 0
var(20) = 10
[State 920, 0]
type = varadd
trigger1 = time = 0 && var(3) > 0
var(2) = -1000

[State 920, 4]
type = SprPriority
trigger1 = Time = 0
value = -2

[State 920,0]
type = NotHitBy
trigger1 = Time >= 0
value = SCA

;[State 920,1]
;type = HitBy
;trigger1 = Time >= 0
;value = SCA, NT, ST, HT

[State 920, 2]
type = PlaySnd
trigger1 = Time = 0
value = 900,1

[State 920,2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 920,3]
type = posadd
trigger1 = time = [12,29]
x = 5

[State 92AfterImage]
type = AfterImage
trigger1 = time = 0
time = 32
length = 8
palcolor = 256
palinvertall = 0
palbright = 20,20,30
palcontrast = 100,100,220
palpostbright = 0, 0, 0
paladd = 10,10,45
palmul = .65,.65,.85
timegap = 1
framegap = 2
trans = add1

[State 920, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0 && time <=31
time = 2

[State 920,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; 캔슬 구르기
[Statedef 930]
type = S
movetype = I
physics = S
ctrl = 0
anim = 930
velset = 0,0
;poweradd=-1000
facep2 = 1

[State 930, 0]
type = varadd
trigger1 = time = 0
var(20) = 10
[State 930, 0]
type = varadd
trigger1 = time = 0 && var(3) > 0
trigger1 = time = 0
var(2) = -1000

[State 930, 5]
type = Projectile
trigger1 = time = 0
projanim = 940
offset = -16, -80
velocity = 0,0
projremovetime = 11
supermovetime = 9999

[State 930, 4]
type = SprPriority
trigger1 = Time = 0
value = -2

[State 930,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 24

[State 930,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 24

[State 930,PosFreeze]
type = PosFreeze
trigger1 = Time >= 1 && Time <= 11

[State 930, 0]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3001, 1]
type = SuperPause
trigger1 = Time = 0
time = 10
movetime = 10
darken = 0
anim = -1

[State 930, 2]
type = PlaySnd
trigger1 = Time = 0
value = 900,1

[State 930,2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

;[State 930,3]
;type = VelSet
;trigger1 = time = 12
;x = 5.2

;[State 930,4]
;type = VelSet
;trigger1 = time = 29
;x = 0

[State 930,3]
type = posadd
trigger1 = time = 12 || time = 17 || time = 22 || time = 27
x = 6

[State 930,3]
type = posadd
trigger1 = time = 13 || time = 14 || time = 15 || time = 16 || time = 18 || time = 19 || time = 20 || time = 21
trigger2 = time = 23 || time = 24 || time = 25 || time = 26 || time = 28
x = 5

[State 930,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; 뒤구르기
[Statedef 950]
type = S
movetype = I
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 950
facep2 = 1

[State 950, 4]
type = SprPriority
trigger1 = Time = 0
value = -2

[State 950,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 20

[State 950,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 20

[State 950, 2]
type = PlaySnd
trigger1 = Time = 0
value = 900,1

[State 950,2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 950,3]
type = posadd
trigger1 = time = [8,25]
x = -5

;[State 950,9]
;type = AfterImage
;trigger1 = Time = 0
;time = 12
;length = 15
;palbright = 40,40,40
;palcontrast = 250,250,250
;palpostbright = -80,-80,-80
;timegap = 1
;flamegap = 1
;trans = add1

[State 950, 3]
type = Afterimage
trigger1 = Time = 0
time = 13
length = 9
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9
FrameGap = 3
Trans = Add1

[State 950, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0 && time <=12
time = 2

[State 950,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; 가드캔슬 뒤구르기
[Statedef 960]
type = S
movetype = I
physics = S
ctrl = 0
anim = 960
velset = 0,0
;poweradd=-1000
facep2 = 1

[State 960, 0]
type = varadd
trigger1 = time = 0
var(20) = 10
[State 960, 0]
type = varadd
trigger1 = time = 0 && var(3) > 0
var(2) = -1000

[State 960, 4]
type = SprPriority
trigger1 = Time = 0
value = -2

[State 960,0]
type = NotHitBy
trigger1 = Time >= 0
value = SCA

;[State 960,1]
;type = HitBy
;trigger1 = Time >= 0
;value = SCA, NT, ST, HT

[State 960, 2]
type = PlaySnd
trigger1 = Time = 0
value = 900,1

[State 960,2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 960,3]
type = posadd
trigger1 = time = [12,29]
x = -5

[State 960,AfterImage]
type = AfterImage
trigger1 = time = 0
time = 32
length = 8
palcolor = 256
palinvertall = 0
palbright = 20,20,30
palcontrast = 100,100,220
palpostbright = 0, 0, 0
paladd = 10,10,45
palmul = .65,.65,.85
timegap = 1
framegap = 2
trans = add1

[State 920, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0 && time <=31
time = 2

[State 960,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;슬라이드터치 약
[Statedef 1000]
type    = S
movetype= A
physics = S
poweradd = 106
ctrl = 0
anim = 1000
velset = 0,0
facep2 = 1

[State 1000, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1000, 1]
type = poweradd
triggerall = prevstateno != 1920
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1000,0]
type = NotHitBy
trigger1 = AnimElem = 4
value = SCA
time = 1

[State 1000,1]
type = HitBy
trigger1 = AnimElem = 4
value = SCA, NT, ST, HT
time = 1

[State 1000, movetype]
type = StateTypeSet
trigger1 = AnimElem = 12
movetype = I

[State 1000,VelSet]
type = posadd
trigger1 = time = 7
x = 8

[State 1000,VelSet]
type = posadd
trigger1 = time = 8
x = 6

[State 1000,VelSet]
type = posadd
trigger1 = time = 9
x = 7

[State 1000,VelSet]
type = posadd
trigger1 = time = 10 || time = 12
x = 5

[State 1000,VelSet]
type = posadd
trigger1 = time = 11
x = 6

[State 1000,VelSet]
type = posadd
trigger1 = time = 13
x = 4

;[State 1000, 1]
;type = velset
;trigger1 = AnimElem = 5
;x = 6

;[State 1000, 1]
;type = velset
;trigger1 = AnimElem = 10,=2
;x = 0

[State 1000, 4]
type = Projectile
trigger1 = AnimElem = 4
projanim = 1010
offset = 0, 0
velocity = 0,0
projremovetime = 12

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1000,4

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 11
value = 1000,5

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1000,1

[State 1000, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = S, SA
animtype  = Hard
damage = 113,10
guardflag = M
getpower = 60,60
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-40
hitsound = s250,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
fall = 1

[State 1000 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;슬라이드터치 강
[Statedef 1050]
type    = S
movetype= A
physics = S
poweradd = 106
ctrl = 0
anim = 1050
velset = 0,0
facep2 = 1

[State 1050, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1050, 1]
type = poweradd
triggerall = prevstateno != 1920
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1050,0]
type = NotHitBy
trigger1 = AnimElem = 4
value = SCA
time = 3

[State 1050,1]
type = HitBy
trigger1 = AnimElem = 4
value = SCA, NT, ST, HT
time = 3

[State 1050, movetype]
type = StateTypeSet
trigger1 = AnimElem = 11
movetype = I

;[State 1050, 1]
;type = velset
;trigger1 = AnimElem = 4,=1
;x = 4.4

;[State 1050, 1]
;type = velset
;trigger1 = AnimElem = 10,=2
;x = 0

[State 1050,VelSet]
type = posadd
trigger1 = time = [10,11]
x = 7

[State 1050,VelSet]
type = posadd
trigger1 = time = [12,13]
x = 6

[State 1050,VelSet]
type = posadd
trigger1 = time = [14,15]
trigger2 = time = 17
x = 5

[State 1050,VelSet]
type = posadd
trigger1 = time = 16 || time = 19
x = 4

[State 1050,VelSet]
type = posadd
trigger1 = time = 18 || time = 20 || time = 21
x = 3

[State 1050, 4]
type = Projectile
trigger1 = AnimElem = 4
projanim = 1010
offset = 0, 0
velocity = 0,0
projremovetime = 12

[State 1050, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1000,4

[State 1050, 1]
type = PlaySnd
trigger1 = AnimElem = 10
value = 1000,5

[State 1050, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1000,1

[State 1050, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = S, SA
animtype  = Hard
damage = 137,10
guardflag = M
getpower = 60,60
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-64
hitsound = s250,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
fall = 1

[State 1050 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;스크램블 대시 약
[Statedef 1100]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 1100
velset = 0,0
facep2 = 1

[State 1100,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 2
statetype = S
physics = N

[State 1100, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1100, 1]
type = poweradd
triggerall = prevstateno != 1920
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1100, 3] ; Shadows
type = Afterimage
trigger1 = AnimElem = 4
time = 7
length = 9
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9
FrameGap = 3
Trans = Add1

[State 1100, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0 && AnimElem = 4,<=7
time = 2

[State 1100,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 7

[State 1100,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 7

[State 1100, movetype]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 1100,2]
type = PlayerPush
trigger1 = Time <= 17
value = 0

[State 1100, 4]
type = SprPriority
trigger1 = Time = 0
value = -2

[State 1100, 4]
type = Projectile
trigger1 = AnimElem = 3
projanim = 1110
offset = 0, 0
velocity = 0,0
projremovetime = 12

[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1100,1

[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1100,4

[State 1100, 1]
type = PlaySnd
trigger1 = AnimElem = 3,=1
value = 1000,4

;[State 1100, 1]
;type = posadd
;trigger1 = AnimElem = 7
;x = 16

;[State 1100, 1]
;type = velset
;trigger1 = AnimElem = 3
;x = 12

;[State 1100, 1]
;type = velset
;trigger1 = AnimElem = 7
;x = 6.3

;[State 1100, 1]
;type = velset
;trigger1 = AnimElem = 8
;x = 4.3

;[State 1100, 1]
;type = velset
;trigger1 = AnimElem = 9
;x = 2.3

;[State 1100, 1]
;type = velset
;trigger1 = AnimElem = 10
;x = 2

[State 1100, 1]
type = posadd
trigger1 = time = [7,16]
x = 11

[State 1100, 1]
type = posadd
trigger1 = time = 17
x = 21

[State 1100, 1]
type = posadd
trigger1 = time = 18
x = 8

[State 1100, 1]
type = posadd
trigger1 = time = 19
x = 7

[State 1100, 1]
type = posadd
trigger1 = time = [20,21]
x = 6

[State 1100, 1]
type = posadd
trigger1 = time = [22,24]
x = 4

[State 1100, 1]
type = posadd
trigger1 = time = [25,26]
x = 3

[State 1100, 1]
type = posadd
trigger1 = time = [27,28]
x = 2

[State 1100 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;스크램블 대시 강
[Statedef 1150]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 1150
velset = 0,0
facep2 = 1

[State 1150,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 2
statetype = S
physics = N

[State 1150, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1150, 1]
type = poweradd
triggerall = prevstateno != 1920
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1150, 3] ; Shadows
type = Afterimage
trigger1 = AnimElem = 4
time = 7
length = 9
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9
FrameGap = 3
Trans = Add1

[State 1150, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0 && AnimElem = 4,<=7
time = 2

[State 1150,0]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 7

[State 1150,1]
type = HitBy
trigger1 = time = 0
value = SCA, NT, ST, HT
time = 7

[State 1150,2]
type = PlayerPush
trigger1 = 1
value = 0

[State 1150, 4]
type = SprPriority
trigger1 = Time = 0
value = -2

[State 1150, 4]
type = Projectile
trigger1 = AnimElem = 3
projanim = 1110
offset = 0, 0
velocity = 0,0
projremovetime = 12

[State 1150,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3
statetype = A
physics = N

[State 1150,VelSet]
type = VelSet
trigger1 = AnimElem = 3
x = 8.38
y = -6.5

[State 1150,VelAdd]
type = VelAdd
trigger1 = AnimElem = 3, >= 0
y = .56

[State 1150, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1100,1

[State 1150, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1100,4

[State 1150, 1]
type = PlaySnd
trigger1 = AnimElem = 3,=1
value = 1000,4

[State 1150 , 3]
type = ChangeState
trigger1 = Pos Y >= -6 && Vel Y > 0
value = 1160
ctrl = 0

;---------------------------------------------------------------------------
;스클램블대쉬 강 착지
[Statedef 1160]
type = S
movetype = I
physics = S
poweradd = 0
anim = 1160
velset = 0,0
facep2 = 0

[State 1160, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 1160, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1160, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1160, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;슈팅댄서
[Statedef 1200]
type    = S
movetype= A
physics = S
poweradd = 106
ctrl = 0
anim = 1200
velset = 0,0
facep2 = 1

[State 1200, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1200, 1]
type = poweradd
triggerall = prevstateno != 1920
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

;[State 1200,VelSet]
;type = posadd
;trigger1 = AnimElem = 5
;x = 8

;[State 1200,VelSet]
;type = posadd
;trigger1 = AnimElem = 5,=1
;x = 6;7

;[State 1200,VelSet]
;type = posadd
;trigger1 = AnimElem = 6
;x = 4

;[State 1200,VelSet]
;type = VelSet
;trigger1 = AnimElem = 3
;x = 8.3

;[State 1200,VelSet]
;type = VelSet
;trigger1 = AnimElem = 5
;x = 6.3

;[State 1200,VelSet]
;type = VelSet
;trigger1 = AnimElem = 3
;x = 10

;[State 740, 4]
;type = VelMul
;trigger1 = 1
;x = .95

;[State 740, 4]
;type = VelMul
;triggerall = statetype != A && P2statetype != A && var(41) >= 1
;triggerall = target,GetHitVar(xvel) != 0 && target,GetHitVar(yvel) = 0
;trigger1 = target,GetHitVar(slidetime)
;;trigger2 = var(41) = 1 && (ProjContactTime(0) = -1 || ProjContactTime(0) >= 30)
;x = 0.89473684210526315789473684210526

;[State 1200,VelSet]
;type = VelSet
;;trigger1 = (var(41) >= 1 && movecontact = 0) || var(41) = 0
;trigger1 = AnimElem = 6,=2
;;trigger2 = (var(41) >= 1 && movecontact = 1)
;;trigger2 = fvar(24) = 16
;x = 0

[State 1200,VelSet]
type = posadd
trigger1 = time = [9,14]
x = 8

[State 1200,VelSet]
type = posadd
trigger1 = time = 15
x = 15

[State 1200,VelSet]
type = posadd
trigger1 = time = 16
x = 13

[State 1200,VelSet]
type = posadd
trigger1 = time = 17
x = 6

[State 1200,VelSet]
type = posadd
trigger1 = time = 18
x = 10

[State 1200,VelSet]
type = posadd
trigger1 = time = 19
x = 5

[State 1200, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = S, SA
animtype  = Hard
damage = 54,10
guardflag = M
getpower = 60,60
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-82
hitsound = s250,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
fall = 0
air.fall = 1

[State 1200, VarSet]
type = VarSet
trigger1 = Time = 0 && command = "hold_y"
var(6) = 2

[State 1200, VarSet]
type = VarSet
trigger1 = Time = 0 && command = "hold_x"
var(6) = 1

[State 1200, VarSet]
type = VarSet
trigger1 = Time = 0 && command = "hold_a"
var(6) = 3

[State 1200, VarSet]
type = VarSet
trigger1 = Time = 0 && command = "hold_b"
var(6) = 4

[State 1200, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0 && var(6) = 2
value = 1220
ctrl = 0

[State 1200, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0 && var(6) = 1
value = 1210
ctrl = 0

[State 1200, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0 && var(6) = 4
value = 1250
ctrl = 0

[State 1200, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0 && var(6) = 3
value = 1230
ctrl = 0

;---------------------------------------------------------------------------
;슈팅댄서 A
[Statedef 1210]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 1210
velset = 0,0
facep2 = 0

[State 1210, movetype]
type = StateTypeSet
trigger1 = AnimElem = 9
movetype = I

[State 1210,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 2

[State 1210,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 2

[State 1210, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 1210, 2]
type = PlaySnd
trigger1 = time = 1
value = (ifelse(var(42)=0,1210,ifelse(var(42)=1,1211,1212))),1

[State 1210, 2]
type = PlaySnd
trigger1 = AnimElem = 2 || AnimElem = 3
value = 1000,4

[State 1210, 1]
type = PlaySnd
trigger1 = AnimElem = 8
value = 1000,5

[State 1210, 4]
type = Projectile
trigger1 = time = 0
projanim = 1205
offset = 0, 0
velocity = 0,0
projremovetime = 12

;[State 1210,VelSet]
;type = VelSet
;trigger1 = AnimElem = 1
;x = 9

;[State 1210, 4]
;type = VelMul
;trigger1 = 1
;x = 0.91

;[State 1210, 4]
;type = VelMul
;triggerall = statetype != A && P2statetype != A && var(41) >= 1
;triggerall = target,GetHitVar(xvel) != 0 && target,GetHitVar(yvel) = 0
;trigger1 = target,GetHitVar(slidetime)
;;trigger2 = var(41) = 1 && (ProjContactTime(0) = -1 || ProjContactTime(0) >= 30)
;x = .934065934

;[State 1210,VelSet]
;type = VelSet
;;trigger1 = (var(41) >= 1 && movecontact = 0) || var(41) = 0
;trigger1 = AnimElem = 9,=1
;;trigger2 = (var(41) >= 1 && movecontact = 1)
;;trigger2 = fvar(24) = 16
;x = 0

[State 1210, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = S, SA
animtype  = Hard
damage = 69,10
guardflag = L
getpower = 60,60
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-14
hitsound = s250,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
fall = 0
air.fall = 1

[State 1210,VelSet]
type = posadd
trigger1 = time = [0,1]
x = 7

[State 1210,VelSet]
type = posadd
trigger1 = time = [2,3]
x = 6

[State 1210,VelSet]
type = posadd
trigger1 = time = [4,6]
x = 5

[State 1210,VelSet]
type = posadd
trigger1 = time = [7,8]
x = 4

[State 1210,VelSet]
type = posadd
trigger1 = time = [9,13]
x = 3

[State 1210,VelSet]
type = posadd
trigger1 = time = [14,18]
trigger2 = time = 20
x = 2

[State 1210,VelSet]
type = posadd
trigger1 = time = 19
x = 1

[State 1210 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;슈팅댄서 C
[Statedef 1220]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 1220
velset = 0,0
facep2 = 0

[State 1220, movetype]
type = StateTypeSet
trigger1 = AnimElem = 12
movetype = I

[State 1220,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 4

[State 1220,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 4

;[State 1220,StateTypeSet]
;type = StateTypeSet
;trigger1 = AnimElem = 9
;statetype = A
;physics = s

;[State 1220,StateTypeSet]
;type = StateTypeSet
;trigger1 = AnimElem = 15
;statetype = s
;physics = s

[State 1220, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 1220, 2]
type = PlaySnd
trigger1 = time = 1
value = (ifelse(var(42)=0,1210,ifelse(var(42)=1,1211,1212))),1

[State 1220, 2]
type = PlaySnd
trigger1 = AnimElem = 2 || AnimElem = 3
value = 1000,4

[State 1220, 1]
type = PlaySnd
trigger1 = AnimElem = 11
value = 1000,5

[State 1220, 4]
type = Projectile
trigger1 = time = 0
projanim = 1205
offset = 0, 0
velocity = 0,0
projremovetime = 12

;[State 1220,VelSet]
;type = VelSet
;trigger1 = AnimElem = 1
;x = 9.2

;[State 1210, 4]
;type = VelMul
;trigger1 = 1
;x = .9

;[State 1210, 4]
;type = VelMul
;triggerall = statetype != A && P2statetype != A && var(41) >= 1
;triggerall = target,GetHitVar(xvel) != 0 && target,GetHitVar(yvel) = 0
;trigger1 = target,GetHitVar(slidetime)
;;trigger2 = var(41) = 1 && (ProjContactTime(0) = -1 || ProjContactTime(0) >= 30)
;x = .94444444444

;[State 1210,VelSet]
;type = VelSet
;trigger1 = AnimElem = 16,=3
;x = 0

[State 1220,VelSet]
type = posadd
trigger1 = time = [0,1]
x = 7

[State 1220,VelSet]
type = posadd
trigger1 = time = [2,3]
x = 6

[State 1220,VelSet]
type = posadd
trigger1 = time = [4,6]
x = 5

[State 1220,VelSet]
type = posadd
trigger1 = time = [7,8]
x = 4

[State 1220,VelSet]
type = posadd
trigger1 = time = [9,13]
x = 3

[State 1220,VelSet]
type = posadd
trigger1 = time = [14,18]
trigger2 = time = 21
x = 2

[State 1220,VelSet]
type = posadd
trigger1 = time = [19,20]
trigger2 = time = 22 || time = 32 || time = 34 || time = 36 || time = 39 || time = 44 || time = 50
trigger3 = time = [24,27]
trigger4 = time = [29,30]
x = 1

[State 1220,VelSet]
type = posadd
trigger1 = time = 23
x = 4

[State 1220,VelSet]
type = posadd
trigger1 = AnimElem = 8 || AnimElem = 9 || AnimElem = 10
x = 8

[State 1220, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = S, SA
animtype  = Hard
damage = 120,10
guardflag = M
getpower = 60,60
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-66
hitsound = s250,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
fall = 1

[State 1220 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;슈팅댄서 B
[Statedef 1230]
type    = A
movetype= A
physics = N
poweradd = 0
ctrl = 0
anim = 1230
velset = 0,0
facep2 = 0

[State 1230,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 6

[State 1230,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 6

[State 1230, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 1230, 2]
type = PlaySnd
trigger1 = time = 1
value = (ifelse(var(42)=0,1210,ifelse(var(42)=1,1211,1212))),1

[State 1230, 2]
type = PlaySnd
trigger1 = time = 5
value = 1000,4

[State 1230, 1]
type = PlaySnd
trigger1 = time = 3
value = 2040,1

[State 1230,VelSet]
type = VelSet
trigger1 = time = 1
x = 3.1
y = -7.4

[State 1230,VelAdd]
type = VelAdd
trigger1 = 1
y = .44

[State 1220, 4]
type = Projectile
trigger1 = time = 0
projanim = 1205
offset = 0, 0
velocity = 0,0
projremovetime = 12

[State 1230, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = A, SA
animtype = Hard
damage = 127,10
guardflag = H
getpower = 60,60
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-46
hitsound = s250,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(34),fvar(35)
air.velocity = fvar(34),fvar(35)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = 0
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
fall = 1
p2stateno = ifelse(p2statetype = A,4020,(ifelse(p2statetype = C,5972,5971)))
fall.envshake.time = 14
fall.xvelocity = 0
fall.yvelocity = -4

[State 1230, 6]
type = ChangeState
trigger1 = MoveContact = 1
value = 1240

[State 1230 , 3]
type = ChangeState
trigger1 = Pos Y >= -8 && Vel Y > 0 && time > 6
value = 1235
ctrl = 0

;---------------------------------------------------------------------------
;슈팅댄서 B 착지
[Statedef 1235]
type = S
movetype = I
physics = S
poweradd = 0
anim = 1235
velset = 0,0
facep2 = 0

[State 1235, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 1235, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1235, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1235, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;슈팅댄서 B 성공후 앞으로 날아가기
[Statedef 1240]
type    = A
movetype= I
physics = N
poweradd = 0
ctrl = 0
anim = 1240
velset = 0,0
facep2 = 0

[State 1240,VelSet]
type = VelSet
trigger1 = time = 0
x = 3.96
y = -7.54

[State 1240,VelAdd]
type = VelAdd
trigger1 = 1
y = .44

[State 1240 , 3]
type = ChangeState
trigger1 = Pos Y >= -8 && Vel Y > 0 && time > 6 
value = 1245
ctrl = 0

;---------------------------------------------------------------------------
;슈팅댄서 B 성공후 착지
[Statedef 1245]
type = S
movetype = I
physics = S
poweradd = 0
anim = 1245
velset = 0,0
facep2 = 0
ctrl = 0

[State 1245, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 1245, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1245, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1245, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;슈팅댄서 D
[Statedef 1250]
type    = A
movetype= A
physics = N
poweradd = 0
ctrl = 0
anim = 1230
velset = 0,0
facep2 = 0

[State 1250,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 6

[State 1250,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 6

[State 1250, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 1250, 2]
type = PlaySnd
trigger1 = time = 1
value = (ifelse(var(42)=0,1210,ifelse(var(42)=1,1211,1212))),1

[State 1250, 2]
type = PlaySnd
trigger1 = time = 5
value = 1000,4

[State 1250, 1]
type = PlaySnd
trigger1 = time = 3
value = 2040,1

[State 1250,VelSet]
type = VelSet
trigger1 = time = 1
x = 3.1
y = -7.4

[State 1250,VelAdd]
type = VelAdd
trigger1 = 1
y = .44

[State 1250, 4]
type = Projectile
trigger1 = time = 0
projanim = 1205
offset = 0, 0
velocity = 0,0
projremovetime = 12

[State 1250, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = A, SA
animtype = Hard
damage = 157,10
guardflag = H
getpower = 60,60
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-46
hitsound = s250,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(34),fvar(35)
air.velocity = fvar(34),fvar(35)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = 0
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
fall = 1
p2stateno = ifelse(p2statetype = A,4020,(ifelse(p2statetype = C,5972,5971)))
fall.envshake.time = 14
fall.xvelocity = 0
fall.yvelocity = -4

[State 1250, 6]
type = ChangeState
trigger1 = MoveContact = 1
value = 1260

[State 1250 , 3]
type = ChangeState
trigger1 = Pos Y >= -8 && Vel Y > 0 && time > 6 
value = 1265
ctrl = 0

;---------------------------------------------------------------------------
;슈팅댄서 D 착지
[Statedef 1265]
type = S
movetype = I
physics = S
poweradd = 0
anim = 1235
velset = 0,0
facep2 = 0

[State 1265, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 1265, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1265, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1265, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;슈팅댄서 D 성공후 뒤로 날아가기
[Statedef 1260]
type    = A
movetype= I
physics = N
poweradd = 0
ctrl = 0
anim = 1260
velset = 0,0
facep2 = 0

[State 1260,VelSet]
type = VelSet
trigger1 = time = 0
x = -2.12
y = -7.54

[State 1260,VelAdd]
type = VelAdd
trigger1 = 1
y = .44

[State 1260 , 3]
type = ChangeState
trigger1 = Pos Y >= -8 && Vel Y > 0 && time > 6 
value = 1245
ctrl = 0

;---------------------------------------------------------------------------
;글라이더 스템프 약
[Statedef 1300]
type    = A
movetype= A
physics = N
poweradd = 91
ctrl = 0
velset = 0,0
anim = 1300
facep2 = 0

[State 1300, varset]
type = varset
trigger1 = (prevstateno = [600,605]) || (prevstateno = [630,635])
trigger1 = time = 0
trigger2 = (prevstateno = [640,645]) || (prevstateno = [650,655])
trigger2 = time = 0
trigger3 = (prevstateno = [1400,1499])
trigger3 = time = 0
var(50) = 15

[state 1300, 1]
type = poweradd
triggerall = var(3) < 1
trigger1 = (prevstateno = [600,605]) || (prevstateno = [630,635])
trigger1 = time = 0
trigger2 = (prevstateno = [640,645]) || (prevstateno = [650,655])
trigger2 = time = 0
trigger3 = (prevstateno = [1400,1499])
trigger3 = time = 0
value = -1000

[State 1300,0]
type = NotHitBy
trigger1 = AnimElem = 2
value = SCA
time = 3

[State 1300,1]
type = HitBy
trigger1 = AnimElem = 2
value = SCA, NT, ST, HT
time = 3

[State 1300, 4]
type = Projectile
trigger1 = AnimElem = 2
projanim = 1305
offset = 0, 0
velocity = 0,0
projremovetime = 12

[State 1300,PosFreeze]
type = PosFreeze
trigger1 = Time <= 6

[State 1300,VelSet]
type = VelSet
trigger1 = time = 7
x = 4
y = 9

[State 1300, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1100,4

[State 1300, 1]
type = PlaySnd
trigger1 = AnimElem = 2,=2
trigger2 = AnimElem = 2,=4
value = 1000,4

[State 1300, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1300,4

[State 1300, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = A, SA
animtype  = Hard
damage = 132,10
guardflag = M
getpower = 91,91
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-21
hitsound = s250,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
fall = 1

[State 1300 , 3]
type = ChangeState
trigger1 = Pos Y >= -9 && Vel Y > 0 && time > 6 
value = 1310
ctrl = 0

;---------------------------------------------------------------------------
;글라이더 스템프 약 착지
[Statedef 1310]
type = S
movetype = I
physics = S
poweradd = 0
anim = 1310
velset = 0,0
facep2 = 0

[State 1310, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 1310, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1310, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1310, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;글라이더 스템프 강
[Statedef 1350]
type    = A
movetype= A
physics = N
poweradd = 91
ctrl = 0
velset = 0,0
anim = 1350
facep2 = 0

[State 1350, varset]
type = varset
trigger1 = (prevstateno = [600,605]) || (prevstateno = [630,635])
trigger1 = time = 0
trigger2 = (prevstateno = [640,645]) || (prevstateno = [650,655])
trigger2 = time = 0
trigger3 = (prevstateno = [1400,1499])
trigger3 = time = 0
var(50) = 15

[state 1350, 1]
type = poweradd
triggerall = var(3) < 1
trigger1 = (prevstateno = [600,605]) || (prevstateno = [630,635])
trigger1 = time = 0
trigger2 = (prevstateno = [640,645]) || (prevstateno = [650,655])
trigger2 = time = 0
trigger3 = (prevstateno = [1400,1499])
trigger3 = time = 0
value = -1000

[State 1350,0]
type = NotHitBy
trigger1 = AnimElem = 2
value = SCA
time = 3

[State 1350,1]
type = HitBy
trigger1 = AnimElem = 2
value = SCA, NT, ST, HT
time = 3

[State 1350, 4]
type = Projectile
trigger1 = AnimElem = 2
projanim = 1305
offset = 0, 0
velocity = 0,0
projremovetime = 12

[State 1350,PosFreeze]
type = PosFreeze
trigger1 = Time <= 6

[State 1350,VelSet]
type = VelSet
trigger1 = time = 7
x = 7
y = 7

[State 1350, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1100,4

[State 1350, 1]
type = PlaySnd
trigger1 = AnimElem = 2,=2
trigger2 = AnimElem = 2,=4
value = 1000,4

[State 1350, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1300,4

[State 1350, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = A, SA
animtype  = Hard
damage = 132,10
guardflag = M
getpower = 91,91
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-49
hitsound = s250,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
fall = 1

[State 1350 , 3]
type = ChangeState
trigger1 = Pos Y >= -7 && Vel Y > 0 && time > 6 
value = 1310
ctrl = 0

;---------------------------------------------------------------------------
;헌팅 에어 약
[Statedef 1400]
type    = S
movetype= A
physics = S
poweradd = 31
ctrl = 0
velset = 0,0
anim = 1400
facep2 = 1

[State 1400, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1400, 1]
type = poweradd
triggerall = prevstateno != 1920
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1400,0]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 1

[State 1400,1]
type = HitBy
trigger1 = AnimElem = 1
value = SCA, NT, ST, HT
time = 1

[State 1400,0]
type = NotHitBy
trigger1 = AnimElem = 4
value = SCA
time = 4

[State 1400,1]
type = HitBy
trigger1 = AnimElem = 4
value = SCA, NT, ST, HT
time = 4

[State 1400, 4]
type = Projectile
trigger1 = AnimElem = 4
projanim = 1405
offset = 0, 0
velocity = 0,0
projremovetime = 12

[State 1400, SuperSpark2]
type = Explod
trigger1 = AnimElem = 7
anim = 1490
sprpriority = 2
pos = 0, 0
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1

[State 1400,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
statetype = A
physics = N

[State 1400,VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = 3.1
y = -6.58

[State 1400,VelSet]
type = VelSet
trigger1 = AnimElem = 10
x = 0

[State 1400,VelAdd]
type = VelAdd
trigger1 = AnimElem = 4, >= 0
y = .46

[State 1400, 4]
type = VelMul
trigger1 = AnimElem = 4, >= 0
x = .9554

[State 1400, movetype]
type = StateTypeSet
trigger1 = AnimElem = 9
movetype = I

[State 1400, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1400,1

[State 1400, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1000,4

[State 1400, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = A, SA
animtype  = Hard
damage = 132,10
guardflag = M
getpower = 91,91
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-37
hitsound = s250,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(13),fvar(14)
air.velocity = fvar(13),fvar(14)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
fall = 1

[State 1400 , 3]
type = ChangeState
trigger1 = Pos Y >= -6 && Vel Y > 0 && time > 6 
value = 1410
ctrl = 0

;---------------------------------------------------------------------------
;헌팅에어 약 착지
[Statedef 1410]
type = S
movetype = I
physics = S
poweradd = 0
anim = 1410
velset = 0,0
facep2 = 0

[State 1410, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 1410, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1410, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;헌팅 에어 강
[Statedef 1450]
type    = S
movetype= A
physics = S
poweradd = 31
ctrl = 0
velset = 0,0
anim = 1450
facep2 = 1

[State 1450, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1450, 1]
type = poweradd
triggerall = prevstateno != 1920
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1450,0]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 4

[State 1450,1]
type = HitBy
trigger1 = AnimElem = 1
value = SCA, NT, ST, HT
time = 4

[State 1450,0]
type = NotHitBy
trigger1 = AnimElem = 4
value = SCA
time = 6

[State 1450,1]
type = HitBy
trigger1 = AnimElem = 4
value = SCA, NT, ST, HT
time = 6

[State 1450, 4]
type = Projectile
trigger1 = AnimElem = 4
projanim = 1405
offset = 0, 0
velocity = 0,0
projremovetime = 12

[State 1450, SuperSpark2]
type = Explod
trigger1 = AnimElem = 7
anim = 1490
sprpriority = 2
pos = 0, 0
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1

[State 1450,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4,1
statetype = A
physics = N

[State 1450,VelSet]
type = VelSet
trigger1 = AnimElem = 4,1
x = 2.98
y = -9.12

[State 1450,VelSet]
type = VelSet
trigger1 = AnimElem = 13
x = 0

[State 1450,VelAdd]
type = VelAdd
trigger1 = AnimElem = 4, >= 1
y = .46

[State 1450, 4]
type = VelMul
trigger1 = AnimElem = 4, >= 0
x = .9554

[State 1450, movetype]
type = StateTypeSet
trigger1 = AnimElem = 9
movetype = I

[State 1450, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1400,1

[State 1450, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1000,4

[State 1450, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = A, SA
animtype  = Hard
damage = 142,10
guardflag = M
getpower = 91,91
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-37
hitsound = s250,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(13),fvar(14)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State 1450 , 3]
type = ChangeState
trigger1 = Pos Y >= -8 && Vel Y > 0 && time > 6 
value = 1460
ctrl = 0

;---------------------------------------------------------------------------
;헌팅에어 강 착지
[Statedef 1460]
type = S
movetype = I
physics = S
poweradd = 0
anim = 1460
velset = 0,0
facep2 = 0

[State 1460, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 1460, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1460, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1460, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;디렉션 체인지 약
[Statedef 1500]
type    = S
movetype= I
physics = S
poweradd = 76
ctrl = 0
velset = 0,0
anim = 1500
facep2 = 1

[State 1500, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1500, 1]
type = poweradd
triggerall = prevstateno != 1920
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1500,6]
type = Turn
trigger1 = AnimElem = 2
persistent = 1

[State 1500,0]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 14

[State 1500,1]
type = HitBy
trigger1 = AnimElem = 1
value = SCA, NT, ST, HT
time = 14

[State 1500,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3
statetype = A
physics = N

[State 1500,VelSet]
type = VelSet
trigger1 = AnimElem = 3
x = -3.2
y = -9

[State 1500,VelAdd]
type = VelAdd
trigger1 = AnimElem = 3, >= 0
y = .56

[State 1500, movetype]
type = StateTypeSet
trigger1 = AnimElem = 8
movetype = I

[State 1500, 2] ; Play sound when jumping (long)
type = PlaySnd
trigger1 = AnimElem = 3
value = 2040,1

[State 1500, movetype]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = A

[State 1500, movetype]
type = StateTypeSet
trigger1 = AnimElem = 8
movetype = I

[State 1500 , 1]
type = HitDef
triggerall = var(4)<=0
triggerall = var(14)<=0
trigger1= P2Dist x <= 55 && AnimElem = 7
trigger1 = AnimElem = 7
trigger1 = P2StateNo != [150,155]
trigger1 = P2StateNo != [40,49]
trigger1 = P2StateNo != 50 && 52
trigger1 = p2statetype != A
numhits = 0
attr = A, ST
getpower = 0,0
hitflag = M
guard.dist = 0
priority = 4, Miss
hitsound = s1300,2
sparkno = -1
p1stateno = 1510
p2stateno = 1520
p2getp1state = 1
p2facing = -1
Palfx.time = 1

[State 1500 , 3]
type = ChangeState
trigger1 = Pos Y >= -6 && Vel Y > 0 && time > 6 
value = 1505
ctrl = 0

;---------------------------------------------------------------------------
;디렉션체인지 약 착지
[Statedef 1505]
type = S
movetype = I
physics = S
poweradd = 0
anim = 1505
velset = 0,0
facep2 = 0

[State 1505, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 1505, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1505, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1505, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;디렉션체인지 약 성공
[Statedef 1510]
type    = A
movetype= A
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1510
facep2 = 0

[State 1510,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1510, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1500,2

[State 1510, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1500,1

;[State 1510, 1]
;type = Helper
;trigger1 = time = 0
;name = "tama"
;ID = 1511
;pos = -8,0
;postype = p1
;stateno = 1511
;ownpal = 1

[State 1510, GrabSpark]
type = Explod
trigger1 = time = 0
id = 1580
anim = 1580
pos = 0,-16
sprpriority = 1
ownpal = 1
removeongethit = 1
removetime = 29

[State 3250 1]
type = BindToTarget
trigger1 = AnimElem = 1
pos = target,Const(size.head.pos.x),target,Const(size.head.pos.y)+12
time = 12

[State 1510, 1]
type = BindToTarget
trigger1 = AnimElem = 3
pos = -4,-76,Foot
time = 2

[State 1511,VelSet]
type = VelSet
trigger1 = AnimElem = 3,= 2
x = -3.2

[State 1511,VelAdd]
type = VelAdd
trigger1 = AnimElem = 3, >= 2
y = .48

[State 1511 , 3]
type = ChangeState
trigger1 = Pos Y >= -8 && Vel Y > 0
value = 1515
ctrl = 0

;---------------------------------------------------------------------------
; 디렉션체인지 환영;;;무겐엔진환경상 쓸데없이 만들었다
[Statedef 1511]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 1511
ctrl = 0

[State 1511,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1510, 1]
type = BindToTarget
trigger1 = time = 0
pos = 4,16,head	;4,16,head
time = 12

[State 1510, 4]
type = SprPriority
trigger1 = Time = 0
value = 3

[State 1511, 1]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;디렉션체인지 약 성공 착지
[Statedef 1515]
type = S
movetype = I
physics = S
poweradd = 0
anim = 1515
velset = 0,0
facep2 = 0

[State 1515, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 1515, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1515, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1515, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------------- 
;디렉션체인지 약 맞는상테
[Statedef 1520] 
type = S 
movetype = H
physics = S 
ctrl = 0
facep2 = 0

;[State 1520,6]
;type = Turn
;trigger1 = P2Dist x >= 0 && time = 0

;[State 1520, 5]
;type = hitfallset 
;trigger1 = time = 0
;value = 0

[State 1520, 5]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 1520, 5] 
type = PosSet 
trigger1 = time = 0 
y = 0

[State 1520 1] 
type = ChangeAnim2
trigger1 = time = 0 
value = 1520

[State 1520 1] 
type = ChangeAnim
trigger1 = Anim = 1520 
trigger1 = AnimTime = 0
value = 5002

[State 1520 1] 
type = ChangeAnim
trigger1 = Anim = 5002 
trigger1 = AnimTime = 0
value = 5007

[State 1520 1] 
type = ChangeAnim
trigger1 = time = 27
value = 5012

[State 1520 1] 
type = ChangeAnim
trigger1 = Anim = 5012 
trigger1 = AnimTime = 0
value = 5017

[State 1520, 6] 
type = selfState 
trigger1 = time = 44
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;디렉션 체인지 강
[Statedef 1550]
type    = S
movetype= I
physics = S
poweradd = 76
ctrl = 0
velset = 0,0
anim = 1500
facep2 = 1

[State 1550, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1550, 1]
type = poweradd
triggerall = prevstateno != 1920
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1550,6]
type = Turn
trigger1 = AnimElem = 2
persistent = 1

[State 1550,0]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 14

[State 1550,1]
type = HitBy
trigger1 = AnimElem = 1
value = SCA, NT, ST, HT
time = 14

[State 1550,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3
statetype = A
physics = N

[State 1550,VelSet]
type = VelSet
trigger1 = AnimElem = 3
x = -4.82
y = -9

[State 1550,VelAdd]
type = VelAdd
trigger1 = AnimElem = 3, >= 0
y = .56

[State 1550, 2] ; Play sound when jumping (long)
type = PlaySnd
trigger1 = AnimElem = 3
value = 2040,1

[State 1550, movetype]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = A

[State 1550, movetype]
type = StateTypeSet
trigger1 = AnimElem = 8
movetype = I

[State 1550 , 1]
type = HitDef
triggerall = var(4)<=0
triggerall = var(14)<=0
trigger1= P2Dist x <= 55 && AnimElem = 7
trigger1 = AnimElem = 7
trigger1 = P2StateNo != [150,155]
trigger1 = P2StateNo != [40,49]
trigger1 = P2StateNo != 50 && 52
trigger1 = p2statetype != A
numhits = 0
attr = A, ST
getpower = 0,0
hitflag = M
guard.dist = 0
priority = 4, Miss
hitsound = s1300,2
sparkno = -1
p1stateno = 1560
p2stateno = 1520
p2getp1state = 1
p2facing = -1
Palfx.time = 1

[State 1550 , 3]
type = ChangeState
trigger1 = Pos Y >= -6 && Vel Y > 0 && time > 6 
value = 1555
ctrl = 0

;---------------------------------------------------------------------------
;디렉션체인지 강 착지
[Statedef 1555]
type = S
movetype = I
physics = S
poweradd = 0
anim = 1555
velset = 0,0
facep2 = 0

[State 1555, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 1555, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1555, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1555, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;디렉션체인지 강 성공
[Statedef 1560]
type    = A
movetype= A
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1510
facep2 = 0

[State 1560,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1560, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1500,2

[State 1560, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1500,1

;[State 1510, 1]
;type = Helper
;trigger1 = time = 0
;name = "tama"
;ID = 1511
;pos = -8,0
;postype = p1
;stateno = 1511
;ownpal = 1

[State 1560, GrabSpark]
type = Explod
trigger1 = time = 0
id = 1580
anim = 1580
pos = 0,-16
sprpriority = 1
ownpal = 1
removeongethit = 1
removetime = 29

[State 3250 1]
type = BindToTarget
trigger1 = AnimElem = 1
pos = target,Const(size.head.pos.x),target,Const(size.head.pos.y)+12
time = 12

[State 1560, 1]
type = BindToTarget
trigger1 = AnimElem = 3
pos = -4,-76,Foot
time = 2

[State 1560,VelSet]
type = VelSet
trigger1 = AnimElem = 3,= 2
x = -4.8

[State 1560,VelAdd]
type = VelAdd
trigger1 = AnimElem = 3, >= 2
y = .48

[State 1511 , 3]
type = ChangeState
trigger1 = Pos Y >= -8 && Vel Y > 0
value = 1515
ctrl = 0

;---------------------------------------------------------------------------
;리딩 하이
[Statedef 1530]
type    = S
movetype= A
physics = S
poweradd = 46
ctrl = 0
anim = 1530
velset = 0,0
facep2 = 1

[State 1530, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1530, 1]
type = poweradd
triggerall = prevstateno != 1920
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1530,0]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 16

[State 1530,1]
type = HitBy
trigger1 = AnimElem = 1
value = SCA, NT, ST, HT
time = 16

[State 1530, movetype]
type = StateTypeSet
trigger1 = AnimElem = 9
movetype = I

[State 1530, PlaySnd]
type = posadd
trigger1 = AnimElem = 7 || AnimElem = 8
x = 8

[State 1530, PlaySnd]
type = posadd
trigger1 = AnimElem = 9
x = 4

[State 1530, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = S, SA
animtype  = Hard
damage = 20,10	;원레 데미지13인데 너무약해서수정;
guardflag = M
getpower = 46,46
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-65
hitsound = s250,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State 1530 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;리딩 로우
[Statedef 1570]
type    = S
movetype= A
physics = S
poweradd = 46
ctrl = 0
anim = 1570
velset = 0,0
facep2 = 1

[State 1570, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1570, 1]
type = poweradd
triggerall = prevstateno != 1920
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1570,0]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 16

[State 1570,1]
type = HitBy
trigger1 = AnimElem = 1
value = SCA, NT, ST, HT
time = 16

[State 1570, movetype]
type = StateTypeSet
trigger1 = AnimElem = 8
movetype = I

[State 1570, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = S, SA
animtype  = Hard
damage = 20,10	;원레 데미지13인데 너무약해서수정;
guardflag = L
getpower = 46,46
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-13
hitsound = s250,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State 1570 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;거울을 가르는 불꽃 약
[Statedef 1600]
type    = S
movetype= A
physics = S
poweradd = 106
ctrl = 0
velset = 0,0
anim = 1600
facep2 = 1

[State 1600, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1600, 1]
type = poweradd
triggerall = prevstateno != 1920
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1600, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1600, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1600, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1600, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1600, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1600, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1600,VelSet]
type = posadd
trigger1 = AnimElem = 1 || AnimElem = 2 || AnimElem = 3 || AnimElem = 4
x = 8

[State 1600, 5]
type = Projectile
trigger1 = AnimElem = 8 || AnimElem = 8,=1 || AnimElem = 8,=2 || AnimElem = 8,=3
projanim = 1691
offset = 0, 0
velocity = 0,0
projremovetime = 1

[State 1600, 5]
type = Projectile
trigger1 = AnimElem = 9 || AnimElem = 9,=1 || AnimElem = 9,=2 || AnimElem = 9,=3
projanim = 1692
offset = 0, 0
velocity = 0,0
projremovetime = 1

[State 1600, SuperSpark2]
type = Explod
trigger1 = AnimElem = 8
anim = 1690
sprpriority = 3
pos = 0, 0
supermove = 1
bindtime = 12
ownpal = 1
removeongethit = 1

[State 1600,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
statetype = A
physics = N

[State 1600,VelSet]
type = VelSet
trigger1 = AnimElem = 5
x = 3.12
y = -6.44

[State 1600,VelAdd]
type = VelAdd
trigger1 = AnimElem = 5, >= 0
y = .44

[State 1600, movetype]
type = StateTypeSet
trigger1 = AnimElem = 10
movetype = I

[State 1600, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1600,1

[State 1600, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 2040,1

[State 1600, 2]
type = PlaySnd
trigger1 = AnimElem = 7,=2
value = 1600,4

[State 1600, 2]
type = PlaySnd
trigger1 = AnimElem = 8
value = 1600,5

[State 1600, 0]
type = varset
trigger1 = time = 0
var(18) = 1
ignorehitpause = 1
persistent = 0

[State 1600, 2]
type = HitDef
trigger1 = AnimElem = 8 && (var(13) = 0 || var(37) = 1)
attr = A, SA
animtype  = Hard
damage = 103,10
guardflag = M
getpower = 61,61
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-55
hitsound = s1600,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
fall = 1
Palfx.time = 42
Palfx.color = 0
Palfx.add = 140,100,240
Palfx.mul = 180,180,180
Palfx.sinadd = 50,40,60,30

[State 1600, 2]
type = HitDef
triggerall = var(18) = 0
trigger1 = AnimElem = 9 && (var(13) = 0 || var(37) = 1)
attr = A, SA
animtype  = Hard
damage = 103,10
guardflag = M
getpower = 61,61
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-36
hitsound = s1600,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
fall = 1
Palfx.time = 42
Palfx.color = 0
Palfx.add = 140,100,240
Palfx.mul = 180,180,180
Palfx.sinadd = 50,40,60,30

[State 1600, 0]
type = varset
trigger1 = movecontact
var(18) = 1
ignorehitpause = 1
persistent = 0

[State 1600 , 3]
type = ChangeState
trigger1 = Pos Y >= -6 && Vel Y > 0
value = 1610
ctrl = 0

;---------------------------------------------------------------------------
;거울을 가르는 불꽃 약 착지
[Statedef 1610]
type = S
movetype = I
physics = S
poweradd = 0
anim = 1611
velset = 0,0
facep2 = 0

[State 1610, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 1610, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1610, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1610, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;거울을 가르는 불꽃 강
[Statedef 1650]
type    = S
movetype= A
physics = S
poweradd = 106
ctrl = 0
velset = 0,0
anim = 1600
facep2 = 1

[State 1650, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1650, 1]
type = poweradd
triggerall = prevstateno != 1920
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1650, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1650, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1650, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1650, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1650, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1650, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1650,VelSet]
type = posadd
trigger1 = AnimElem = 1 || AnimElem = 2 || AnimElem = 3 || AnimElem = 4
x = 8

[State 1650, 5]
type = Projectile
trigger1 = AnimElem = 8 || AnimElem = 8,=1 || AnimElem = 8,=2 || AnimElem = 8,=3
projanim = 1691
offset = 0, 0
velocity = 0,0
projremovetime = 1

[State 1650, 5]
type = Projectile
trigger1 = AnimElem = 9 || AnimElem = 9,=1 || AnimElem = 9,=2 || AnimElem = 9,=3
projanim = 1692
offset = 0, 0
velocity = 0,0
projremovetime = 1

[State 1650, SuperSpark2]
type = Explod
trigger1 = AnimElem = 8
anim = 1690
sprpriority = 3
pos = 0, 0
supermove = 1
bindtime = 12
ownpal = 1
removeongethit = 1

[State 1650,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
statetype = A
physics = N

[State 1650,VelSet]
type = VelSet
trigger1 = AnimElem = 5
x = 4.16
y = -6.44

[State 1650,VelAdd]
type = VelAdd
trigger1 = AnimElem = 5, >= 0
y = .44

[State 1650, movetype]
type = StateTypeSet
trigger1 = AnimElem = 10
movetype = I

[State 1650, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1600,1

[State 1650, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 2040,1

[State 1650, 2]
type = PlaySnd
trigger1 = AnimElem = 7,=2
value = 1600,4

[State 1650, 2]
type = PlaySnd
trigger1 = AnimElem = 8
value = 1600,5

[State 1650, 0]
type = varset
trigger1 = time = 0
var(18) = 1
ignorehitpause = 1
persistent = 0

[State 1650, 2]
type = HitDef
trigger1 = AnimElem = 8 && (var(13) = 0 || var(37) = 1)
attr = A, SA
animtype  = Hard
damage = 118,10
guardflag = M
getpower = 61,61
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-55
hitsound = s1600,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
fall = 1
Palfx.time = 42
Palfx.color = 0
Palfx.add = 140,100,240
Palfx.mul = 180,180,180
Palfx.sinadd = 50,40,60,30

[State 1650, 2]
type = HitDef
triggerall = var(18) = 0
trigger1 = AnimElem = 9 && (var(13) = 0 || var(37) = 1)
attr = A, SA
animtype  = Hard
damage = 118,10
guardflag = M
getpower = 61,61
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-36
hitsound = s1600,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
fall = 1
Palfx.time = 42
Palfx.color = 0
Palfx.add = 140,100,240
Palfx.mul = 180,180,180
Palfx.sinadd = 50,40,60,30

[State 1650, 0]
type = varset
trigger1 = movecontact
var(18) = 1
ignorehitpause = 1
persistent = 0

[State 1650 , 3]
type = ChangeState
trigger1 = Pos Y >= -6 && Vel Y > 0
value = 1660
ctrl = 0

;---------------------------------------------------------------------------
;거울을 가르는 불꽃 약 착지
[Statedef 1660]
type = S
movetype = I
physics = S
poweradd = 0
anim = 1661
velset = 0,0
facep2 = 0

[State 1660, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 1660, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1660, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1660, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;달을 떼어내는 불꽃 약
[Statedef 1700]
type    = S
movetype= A
physics = S
poweradd = 91
ctrl = 0
velset = 0,0
anim = 1700
facep2 = 1

[State 1700, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1700, 1]
type = poweradd
triggerall = prevstateno != 1920
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1700, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1700, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1700, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1700, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1700, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1700, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1700,0]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 5

[State 1700,1]
type = HitBy
trigger1 = AnimElem = 1
value = SCA, NT, ST, HT
time = 5

[State 1700,VelSet]
type = posadd
trigger1 = AnimElem = 2 || AnimElem = 3 || AnimElem = 4 || AnimElem = 5 || AnimElem = 6 || AnimElem = 7
x = 8

[State 1700,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 8
statetype = A
physics = N

[State 1700,VelSet]
type = VelSet
trigger1 = AnimElem = 8
x = 1
y = -6.56;-6.4

[State 1700,VelAdd]
type = VelAdd
trigger1 = AnimElem = 8, >= 0
y = .46;.44

[State 1700, 4]
type = VelMul
trigger1 = AnimElem = 8, >= 0
x = .9554

[State 1700,VelSet]
type = VelSet
trigger1 = AnimElem = 13
x = 0

[State 1700, movetype]
type = StateTypeSet
trigger1 = AnimElem = 11
movetype = I

[State 1700, 6]
type = Projectile
trigger1 = AnimElem = 5,=1
projanim = 1790
offset = 0,0
velocity = 0,0
projremovetime = 17
sprpriority = 3

[State 1700, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1700,1

[State 1700, 2]
type = PlaySnd
trigger1 = AnimElem = 4 || AnimElem = 9
value = 1600,4

[State 1700, 2]
type = PlaySnd
trigger1 = AnimElem = 5 || AnimElem = 8
value = 1700,5

[State 1700, 0]
type = varset
trigger1 = time = 0
var(18) = 1
ignorehitpause = 1
persistent = 0

[State 1700, 0]
type = VarSet
trigger1 = time = 0
var(19) = 1

[State 1700, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 1700, 2]
type = HitDef
trigger1 = AnimElem <= 5 && (var(13) = 0 || var(37) = 1) &&  prevstateno != 1920
attr = S, SA
animtype  = Hard
damage = 108/var(19),10/var(19)
guardflag = M
getpower = 46,46
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-45
hitsound = s1600,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = 0
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
fall = 1
Palfx.time = 42
Palfx.color = 0
Palfx.add = 140,100,240
Palfx.mul = 180,180,180
Palfx.sinadd = 50,40,60,30

[State 1700, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = (AnimElem = 8 && 9 && 10) &&  prevstateno != 1920
trigger2 = (AnimElem = 10,=2) &&  prevstateno = 1920
attr = A, SA
animtype  = Hard
damage = 108/var(19),10/var(19)
guardflag = M
getpower = 46,46
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-62
hitsound = s1600,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
fall = 1
Palfx.time = 42
Palfx.color = 0
Palfx.add = 140,100,240
Palfx.mul = 180,180,180
Palfx.sinadd = 50,40,60,30

[State 1700, 0]
type = varset
trigger1 = movehit > 0
var(13) = 1
ignorehitpause = 1
persistent = 0

[State 1700 , 3]
type = ChangeState
trigger1 = Pos Y >= -8 && Vel Y > 0
value = 1710
ctrl = 0

;---------------------------------------------------------------------------
;달을 떼어내는 불꽃 약 착지
[Statedef 1710]
type = S
movetype = I
physics = S
poweradd = 0
anim = 1710
velset = 0,0
facep2 = 0

[State 1710, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 1710, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1710, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1710, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;달을 떼어내는 불꽃 강
[Statedef 1750]
type    = S
movetype= A
physics = S
poweradd = 91
ctrl = 0
velset = 0,0
anim = 1750
facep2 = 1

[State 1750, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1750, 1]
type = poweradd
triggerall = prevstateno != 1920
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1750, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1750, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1750, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1750, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1750, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1750, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 5
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1750,VelSet]
type = posadd
trigger1 = AnimElem = 2 || AnimElem = 3 || AnimElem = 6 || AnimElem = 7 || AnimElem = 8 || AnimElem = 15 || AnimElem = 16
trigger2 = AnimElem = 4 || AnimElem = 5
x = 8

[State 1750,VelSet]
type = posadd
trigger1 = AnimElem = 9
x = 9			;이상하지만 몇번을해도 이값이;;

[State 1750,VelSet]
type = posadd
trigger1 = AnimElem = 14
x = 16

[State 1750,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 17
statetype = A
physics = N

[State 1750,VelSet]
type = VelSet
trigger1 = AnimElem = 17
x = 2.4
y = -9.1

[State 1700,VelAdd]
type = VelAdd
trigger1 = AnimElem = 17, >= 0
y = .46

[State 1700, 4]
type = VelMul
trigger1 = AnimElem = 17, >= 0
x = .9554

[State 1750,VelSet]
type = VelSet
trigger1 = AnimElem = 24
x = 0

[State 1750, movetype]
type = StateTypeSet
trigger1 = AnimElem = 20
movetype = I

[State 1750, 6]
type = Projectile
trigger1 = AnimElem = 5,=1 || AnimElem = 14,=1
projanim = 1790
offset = 0,0
velocity = 0,0
projremovetime = 17
sprpriority = 3

[State 1750, 6]
type = Projectile
trigger1 = AnimElem = 9,=1
projanim = 1792
offset = 0,0
velocity = 0,0
projremovetime = 17
sprpriority = 3

[State 1750, 6]
type = Projectile
trigger1 = AnimElem = 16,=1
projanim = 1794
offset = 0,0
velocity = 0,0
projremovetime = 17
sprpriority = 2

[State 1750, 6]
type = Projectile
trigger1 = AnimElem = 16,=1
projanim = 1796
offset = 53,-96
velocity = 0,0
projremovetime = 16
sprpriority = 4

[State 1750, 6]
type = Projectile
trigger1 = AnimElem = 16,=1
projanim = 1797
offset = 44,-141	;25,-103
velocity = 0,0
projremovetime = 22
sprpriority = 3

[State 1750, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1700,1

[State 1750, 2]
type = PlaySnd
trigger1 = AnimElem = 4 || AnimElem = 7 || AnimElem = 13 || AnimElem = 18
value = 1600,4

[State 1750, 2]
type = PlaySnd
trigger1 = AnimElem = 5 || AnimElem = 8 || AnimElem = 14 || AnimElem = 17
value = 1700,5

[State 1750, 0]
type = VarSet
trigger1 = time = 0
var(19) = 1

[State 1750, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 1750, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 5 || AnimElem = 14
attr = S, SA
animtype  = Hard
damage    = 78/var(19),10/var(19)
guardflag = M
getpower = 46,46
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-43	;1타45 3타40
hitsound = s1600,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = 0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = 0
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1
palfx.time = 30
Palfx.color = 0
Palfx.add = 140,100,240
Palfx.mul = 180,180,180
Palfx.sinadd = 50,40,60,30

[State 1750, 2]
type = HitDef
trigger1 = AnimElem = 8 && (var(13) = 0 || var(37) = 1)
attr = S, SA
animtype  = Hard
damage    = 78/var(19),10/var(19)
guardflag = M
getpower = 46,46
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-68
hitsound = s1600,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = 0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = 0
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1
palfx.time = 30
Palfx.color = 0
Palfx.add = 140,100,240
Palfx.mul = 180,180,180
Palfx.sinadd = 50,40,60,30

[State 1750, 2]
type = HitDef
trigger1 = AnimElem = 17 && 18 && 19
trigger1 = var(13) = 0 || var(37) = 1
attr = A, SA
animtype  = Hard
damage    = 78/var(19),10/var(19)
guardflag = M
getpower = 46,46
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-60
hitsound = s1600,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(13),fvar(14)
air.velocity = fvar(13),fvar(14)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
fall = 1
palfx.time = 53
Palfx.color = 0
Palfx.add = 140,100,240
Palfx.mul = 180,180,180
Palfx.sinadd = 50,40,60,30

[State 1750 , 3]
type = ChangeState
trigger1 = Pos Y >= -8 && Vel Y > 0 
value = 1760
ctrl = 0

;---------------------------------------------------------------------------
;달을 떼어내는 불꽃 강 착지
[Statedef 1760]
type = S
movetype = I
physics = S
poweradd = 0
anim = 1760
velset = 0,0
facep2 = 0

[State 1760, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 1760, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1760, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1760, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;태양을 쏘는 불꽃 약
[Statedef 1800]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 1800
velset = 0,0
facep2 = 1

[State 1800, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1800, 1]
type = poweradd
triggerall = prevstateno != 1920
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1800, movetype]
type = StateTypeSet
trigger1 = AnimElem = 16
movetype = I

[State 1800,VelSet]
type = posadd
trigger1 = AnimElem = 8 || AnimElem = 9 || AnimElem = 10
x = 8

[State 1800, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1800,1

[State 1800, 1]
type = Helper
trigger1 = AnimElem = 14,=1
ID = 1801
offset = 0,0
postype = P1
stateno = 1801
keyctrl = 0
ownpal = 1

[State 1800, 4]		;1타
type = Projectile
trigger1 = AnimElem = 14,=1
attr = SC, SP
animtype  = Hard
damage = 46,10
guardflag = M     
getpower = 61,61
pausetime = 0,13
guard.pausetime = 0,11
sparkno = s6002
guard.sparkno = s6007
sparkxy = 11,-30+(Random/20)
hitsound=s1800,2
guardsound = s1000,3
ground.type = High
air.fall = 1
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,0,0)),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,0*fvar(15),0*fvar(15)))
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
palfx.time = 28
Palfx.color = 0
Palfx.add = 140,100,240
Palfx.mul = 180,180,180
Palfx.sinadd = 50,40,60,30
projanim = 1890
ProjHitAnim = 1890
projsprpriority = 5
projID = 1890
offset = 88,-50
velocity = 0,0
air.juggle = ifelse(var(13) = 1 && P2StateNo != 5040,30,(ifelse(var(37) = 0,0,0)))
projremovetime = 21

[State 1800, 4]		;2타
type = Projectile
trigger1 = AnimElem = 14,=1
attr = SC, SP
animtype  = Hard
damage = 46,10
guardflag = M     
getpower = 61,61
pausetime = 0,13
guard.pausetime = 0,11
sparkno = s6002
guard.sparkno = s6007
sparkxy = 11,-30+(Random/20)
hitsound=s1800,2
guardsound = s1000,3
ground.type = High
air.fall = 1
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,0,0)),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,0*fvar(15),0*fvar(15)))
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
palfx.time = 28
Palfx.color = 0
Palfx.add = 140,100,240
Palfx.mul = 180,180,180
Palfx.sinadd = 50,40,60,30
projanim = 1892
ProjHitAnim = 1892
projsprpriority = 4
projID = 1890
offset = 120,-50
velocity = 0,0
air.juggle = ifelse(var(13) = 1 && P2StateNo != 5040,30,(ifelse(var(37) = 0,0,0)))
projremovetime = 30

[State 1800, 4]		;3타
type = Projectile
trigger1 = AnimElem = 14,=1
attr = SC, SP
animtype  = Hard
damage = 46,10
guardflag = M     
getpower = 61,61
pausetime = 0,13
guard.pausetime = 0,11
sparkno = s6002
guard.sparkno = s6007
sparkxy = 11,-30+(Random/20)
hitsound=s1800,2
guardsound = s1000,3
ground.type = High
air.fall = 1
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,0,0)),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,0*fvar(15),0*fvar(15)))
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
palfx.time = 28
Palfx.color = 0
Palfx.add = 140,100,240
Palfx.mul = 180,180,180
Palfx.sinadd = 50,40,60,30
projanim = 1894
ProjHitAnim = 1894
projsprpriority = 3
projID = 1890
offset = 152,-50
velocity = 0,0
air.juggle = ifelse(var(13) = 1 && P2StateNo != 5040,30,(ifelse(var(37) = 0,0,0)))
projremovetime = 39

[State 1800 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------
;태양을쏘는불꽃소리효과
[Statedef 1801]
type = S
movetype = A
physics = N
anim = 1801
sprpriority = 2

[State 1800,VelSet]
type = PlaySnd
trigger1 = time = 0 || time = 9 || time = 18
value = 1800,4

[State end]
type = destroyself
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
;태양을 쏘는 불꽃 강
[Statedef 1850]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 1850
velset = 0,0
facep2 = 1

[State 1850, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1850, 1]
type = poweradd
triggerall = prevstateno != 1920
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1850, movetype]
type = StateTypeSet
trigger1 = AnimElem = 16
movetype = I

[State 1850,VelSet]
type = posadd
trigger1 = AnimElem = 8 || AnimElem = 9 || AnimElem = 10
x = 8

[State 1850, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1800,1

[State 1850, 1]
type = Helper
trigger1 = AnimElem = 14,=1
ID = 1801
offset = 0,0
postype = P1
stateno = 1801
keyctrl = 0
ownpal = 1

[State 1850, 4]		;1타
type = Projectile
trigger1 = AnimElem = 14,=1
attr = SC, SP
animtype  = Hard
damage = 46,10
guardflag = M     
getpower = 61,61
pausetime = 0,13
guard.pausetime = 0,11
sparkno = s6002
guard.sparkno = s6007
sparkxy = 11,-30+(Random/20)
hitsound=s1800,2
guardsound = s1000,3
ground.type = High
air.fall = 1
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,0,0)),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,0*fvar(15),0*fvar(15)))
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
palfx.time = 28
Palfx.color = 0
Palfx.add = 140,100,240
Palfx.mul = 180,180,180
Palfx.sinadd = 50,40,60,30
projanim = 1890
ProjHitAnim = 1890
projsprpriority = 5
projID = 1890
offset = 96,-50
velocity = 0,0
air.juggle = ifelse(var(13) = 1 && P2StateNo != 5040,30,(ifelse(var(37) = 0,0,0)))
projremovetime = 21

[State 1850, 4]		;2타
type = Projectile
trigger1 = AnimElem = 14,=1
attr = SC, SP
animtype  = Hard
damage = 46,10
guardflag = M     
getpower = 61,61
pausetime = 0,13
guard.pausetime = 0,11
sparkno = s6002
guard.sparkno = s6007
sparkxy = 11,-30+(Random/20)
hitsound=s1800,2
guardsound = s1000,3
ground.type = High
air.fall = 1
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,0,0)),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,0*fvar(15),0*fvar(15)))
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
palfx.time = 28
Palfx.color = 0
Palfx.add = 140,100,240
Palfx.mul = 180,180,180
Palfx.sinadd = 50,40,60,30
projanim = 1892
ProjHitAnim = 1892
projsprpriority = 4
projID = 1890
offset = 144,-50
velocity = 0,0
air.juggle = ifelse(var(13) = 1 && P2StateNo != 5040,30,(ifelse(var(37) = 0,0,0)))
projremovetime = 30

[State 1850, 4]		;3타
type = Projectile
trigger1 = AnimElem = 14,=1
attr = SC, SP
animtype  = Hard
damage = 46,10
guardflag = M     
getpower = 61,61
pausetime = 0,13
guard.pausetime = 0,11
sparkno = s6002
guard.sparkno = s6007
sparkxy = 11,-30+(Random/20)
hitsound=s1800,2
guardsound = s1000,3
ground.type = High
air.fall = 1
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,0,0)),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,0*fvar(15),0*fvar(15)))
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
palfx.time = 28
Palfx.color = 0
Palfx.add = 140,100,240
Palfx.mul = 180,180,180
Palfx.sinadd = 50,40,60,30
projanim = 1894
ProjHitAnim = 1894
projsprpriority = 3
projID = 1890
offset = 192,-50
velocity = 0,0
air.juggle = ifelse(var(13) = 1 && P2StateNo != 5040,30,(ifelse(var(37) = 0,0,0)))
projremovetime = 39

[State 1850 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;사지를무는 불꽃1타 가불
[Statedef 1900]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 1900
velset = 0,0
facep2 = 1

;[State 1900,PosFreeze];이건 명령줄은 원랜 들어가면안돼는것이나....한번추가해본것;;
;type = PosFreeze
;trigger1 = 1

[State 1900, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1900, 1]
type = poweradd
triggerall = prevstateno != 1920
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[state 1900, 1]
type = velset
trigger1 = movecontact = 1
x = 0

[State 1900,0]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 5

[State 1900,1]
type = HitBy
trigger1 = AnimElem = 1
value = SCA, NT, ST, HT
time = 5

[State 1900, PlaySnd]
type = posadd
trigger1 = AnimElem = 2 || AnimElem = 3 || AnimElem = 4
x = 8

[State 1900, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1900,1

[State 1900, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1000,5

[State 1900, 0]
type = VarSet
trigger1 = time = 0
var(19) = 1

[State 1900, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 1900, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = S, SA
animtype  = Hard
damage    = 63/var(19),10/var(19)
;guardflag = M
getpower = 30,30
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-89
hitsound = s5,210
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = 0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = 0
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1
kill = 0

[State 1900 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1910
ctrl = 0

;---------------------------------------------------------------------------
;사지를무는 불꽃4번치기
[Statedef 1910]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 1910
velset = 0,0
facep2 = 0

[State 1910, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 5
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1910, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 3
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1910, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1910, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1910, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1910, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 5
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1900, varset]
type = velset
trigger1 = 1
x = 0

[State 1910, 1]
type = PlaySnd
trigger1 = AnimElem = 6 || AnimElem = 11 || AnimElem = 16 || AnimElem = 12
value = 1000,5

[State 1910, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 1910, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 6 || AnimElem = 16
attr = S, SA
animtype  = Hard
damage    = 63/var(19),10/var(19)
guardflag = M
getpower = 30,30
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-72
hitsound = s1600,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = 0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = 0
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1
palfx.time = 30
Palfx.color = 0
Palfx.add = 140,100,240
Palfx.mul = 180,180,180
Palfx.sinadd = 50,40,60,30
kill = 0

[State 1910, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 11 || AnimElem = 22
attr = S, SA
animtype  = Hard
damage    = 63/var(19),10/var(19)
guardflag = M
getpower = 30,30
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-64
hitsound = s1600,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = 0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = 0
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1
palfx.time = 30
Palfx.color = 0
Palfx.add = 140,100,240
Palfx.mul = 180,180,180
Palfx.sinadd = 50,40,60,30
kill = 0

[State 1910 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1920
ctrl = 0

;---------------------------------------------------------------------------
;사지를무는 불꽃피니쉬 발차기
[Statedef 1920]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 1920
velset = 0,0
facep2 = 0

[State 1900, varset]
type = velset
trigger1 = 1
x = 0

[State 1920, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 210,1

[State 1920, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1000,5

[State 1920, movetype]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 1920, fvar(19)]
type = VarSet
trigger1 = time = 0
fvar(19) = 0

[State 1920, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = S, SA
animtype  = Hard
damage    = 63/var(19),10/var(19)
guardflag = M
getpower = 30,30
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = -10,-68
hitsound = s250,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(13),fvar(14)
air.velocity = fvar(13),fvar(14)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
fall = 1

[State 1920 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;사지를무는 불꽃피니쉬 발차기 맞는...
[Statedef 1930]
type    = A
movetype= H
physics = N
ctrl = 0

[State 1930, 0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1930, 0]
type = VelAdd
trigger1 = 1
y = 0.6

[State 1930, 0]
type = SelfState
trigger1 = Pos Y >= -8 && Vel Y > 0
value = 5100

;---------------------------------------------------------------------------
;레드킥 지상히트
[Statedef 5971]
type    = S
movetype= H
physics = S
;velset = 0,0

[State 5971, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5976, 6]
type = SelfState
trigger1 = Time = 0 && !selfanimexist(5971)
value = 5000

[State 5971, 2]
type = ChangeAnim
trigger1 = Time = 0 && selfanimexist(5971)
value = 5971

[State 5971,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5971,1]
type = HitBy
trigger1 = 1
value = SCA, NT, ST, HT

[State 5971, EnvShake]
type = FallEnvShake
trigger1 = AnimElem = 2

[State 5971, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 5976

;---------------------------------------------------------------------------
;레드킥 지상앉았을때히트
[Statedef 5972]
type    = S
movetype= H
physics = S
;velset = 0,0

[State 5971, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5972, 6]
type = SelfState
trigger1 = Time = 0 && !selfanimexist(5972)
value = 5000

[State 5972, 2]
type = ChangeAnim
trigger1 = Time = 0 && selfanimexist(5972)
value = 5972

[State 5971,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5971,1]
type = HitBy
trigger1 = 1
value = SCA, NT, ST, HT

[State 5972]
type = FallEnvShake
trigger1 = AnimElem = 2

[State 5972, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 5976

;---------------------------------------------------------------------------
;레드킥 지상히트2
[Statedef 5976]
type    = L
movetype= H
physics = N
velset = 0,-2.4

[State 5971, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5976, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
trigger1= time = 0
value = 5976

;[State 5976, 3]
;type = HitFallVel
;trigger1 = Time = 0

[State 5976, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .46

[State 5971,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5971,1]
type = HitBy
trigger1 = 1
value = SCA, NT, ST, HT

[State 5976, 6]
type = SelfState
trigger1 = Pos Y >= -4 && Vel Y > 0
value = 5110

;--------------------------------------------------------------------
; 2k2 mode start 캔슬
[Statedef 1990]
type    = S
movetype= I
physics = S
ctrl = 1
anim = 0
facep2 = 0
velset = 0,0
poweradd= -2000

;[state 1990, 1]
;type = varadd
;trigger1 = time = 0
;var(20) = 10

[State 1990, 5]
type = varset
trigger1 = time = 0
var(2) = power - var(20)*200

[State 1990, 2]
type = PlaySnd
trigger1 = Time = 0
value = 1991,2

;[State 1421, 4]
;type = VelAdd
;trigger1 = Time > 0
;y = .46

[State 1421, 8]
type = VelSet
trigger1 = time = 0
x = 0

;[State 1990,PosSet]
;type = PosSet
;trigger1 = Time = 0
;x = 0

[State 1990, 5]
type = varset
trigger1 = 1;time = 0 || time = 1
var(3) = 769

;[State 1990, 4]
;type = EnvShake
;Trigger1 = time = 0
;persistent = 0
;time = 14
;ampl = -3
;freq = 255
;phase = 10
;ignorehitpause = 1

;[State 1990, 5]
;type = Explod
;trigger1 = animelem = 1
;anim = 1992
;sprpriority = -1
;pos = 43,-95
;bindtime = -1
;supermove = 1
;ownpal = 1

;[State 1991, 5]
;type = explod
;trigger1 = animelem = 1 && var(53) = 0
;trigger1 = var(57) = 1
;anim = 1995
;pos = 0,203
;postype = left
;id = 1995
;ignorehitpause = 1
;bindtime = -1
;supermove = 1
;ontop = 1
;ownpal = 1

;[State 1991, 5]
;type = explod
;trigger1 = animelem = 1 && var(53) = 0
;trigger1 = var(57) = 2
;anim = 1996
;pos = -56,203
;postype = right
;id = 1995
;ignorehitpause = 1
;supermove = 1
;bindtime = -1
;ontop = 1
;ownpal = 1

;[State 1991, 5]
;type = explod
;trigger1 = animelem = 1 && var(53) = 0
;trigger1 = var(57) = 1
;anim = 1997
;pos = 24,213
;postype = left
;id = 1997
;ignorehitpause = 1
;bindtime = -1
;supermove = 1
;ontop = 1
;ownpal = 1

;[State 1991, 5]
;type = explod
;trigger1 = animelem = 1 && var(53) = 0
;trigger1 = var(57) = 2
;anim = 1998
;pos = -24,213
;postype = right
;id = 1997
;ignorehitpause = 1
;supermove = 1
;bindtime = -1
;ontop = 1
;ownpal = 1

[State 1990, 5]
type = explod
trigger1 = animelem = 1; && var(53) = 1
trigger1 = var(57) = 1
anim = 1995
pos = 0,227
postype = left
id = 1995
ignorehitpause = 1
bindtime = -1
supermove = 1
ontop = 1
ownpal = 1

[State 1990, 5]
type = explod
trigger1 = animelem = 1; && var(53) = 1
trigger1 = var(57) = 2
anim = 1996
pos = -56,227
postype = right
id = 1995
ignorehitpause = 1
supermove = 1
bindtime = -1
ontop = 1
ownpal = 1

[State 1990, 5]
type = explod
trigger1 = animelem = 1; && var(53) = 1
trigger1 = var(57) = 1
anim = 1997
pos = 24,237
postype = left
id = 1997
ignorehitpause = 1
bindtime = -1
supermove = 1
ontop = 1
ownpal = 1

[State 1990, 5]
type = explod
trigger1 = animelem = 1; && var(53) = 1
trigger1 = var(57) = 2
anim = 1998
pos = -24,237
postype = right
id = 1997
ignorehitpause = 1
supermove = 1
bindtime = -1
ontop = 1
ownpal = 1

[State 1990, mode]
type = Changestate
trigger1 = command = "holdfwd"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = command != "holdback"
value = 100
ctrl = 1

[State 1990, 4]
type = ChangeState
trigger1 = animtime = 0
trigger1 = command != "holdfwd"
value = 0
ctrl = 1

;--------------------------------------------------------------------
; 2k2 mode start
[Statedef 1991]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1991
facep2 = 0
velset = 0,0

[State 1991,1]
type = HitBy
trigger1 = AnimElem = 1
value = SCA,NA,SA,HA,AP
time = 28

[State 1991, 2]
type = PlaySnd
trigger1 = Time = 1
value = 210,1

[State 1991, 2]
type = PlaySnd
trigger1 = animelem = 5
value = 3500,1

[state 1991, 1]
type = varadd
trigger1 = time = 0
var(20) = 10

[State 1991, 5]
type = varset
trigger1 = 1;time = 0 || time = 1
var(3) = 769

[State 1531, 5]
type = varset
trigger1 = time = 0
var(2) = power - var(20)*100

;[State 1991, 4]
;type = EnvShake
;trigger1 = animelem = 4
;persistent = 0
;time = 14
;ampl = -4
;freq = 255
;phase = 10
;ignorehitpause = 1

[State 1991]
type = Projectile
trigger1 = animelem = 5
projanim = 1992
offset = -20,-48
velocity = 0,0
projremovetime = 10
supermove = 1

;[State 1991, 5]
;type = explod
;trigger1 = animelem = 1 && var(53) = 0
;trigger1 = var(57) = 1
;anim = 1995
;pos = 0,203
;postype = left
;id = 1995
;ignorehitpause = 1
;bindtime = -1
;supermove = 1
;ontop = 1
;ownpal = 1

;[State 1991, 5]
;type = explod
;trigger1 = animelem = 1 && var(53) = 0
;trigger1 = var(57) = 2
;anim = 1996
;pos = -56,203
;postype = right
;id = 1995
;ignorehitpause = 1
;supermove = 1
;bindtime = -1
;ontop = 1
;ownpal = 1

;[State 1991, 5]
;type = explod
;trigger1 = animelem = 1 && var(53) = 0
;trigger1 = var(57) = 1
;anim = 1997
;pos = 24,213
;postype = left
;id = 1997
;ignorehitpause = 1
;bindtime = -1
;supermove = 1
;ontop = 1
;ownpal = 1

;[State 1991, 5]
;type = explod
;trigger1 = animelem = 1 && var(53) = 0
;trigger1 = var(57) = 2
;anim = 1998
;pos = -24,213
;postype = right
;id = 1997
;ignorehitpause = 1
;supermove = 1
;bindtime = -1
;ontop = 1
;ownpal = 1

[State 1991, 5]
type = explod
trigger1 = animelem = 1; && var(53) = 1
trigger1 = var(57) = 1
anim = 1995
pos = 0,227
postype = left
id = 1995
ignorehitpause = 1
bindtime = -1
supermove = 1
ontop = 1
ownpal = 1

[State 1991, 5]
type = explod
trigger1 = animelem = 1; && var(53) = 1
trigger1 = var(57) = 2
anim = 1996
pos = -56,227
postype = right
id = 1995
ignorehitpause = 1
supermove = 1
bindtime = -1
ontop = 1
ownpal = 1

[State 1991, 5]
type = explod
trigger1 = animelem = 1; && var(53) = 1
trigger1 = var(57) = 1
anim = 1997
pos = 24,237
postype = left
id = 1997
ignorehitpause = 1
bindtime = -1
supermove = 1
ontop = 1
ownpal = 1

[State 1991, 5]
type = explod
trigger1 = animelem = 1; && var(53) = 1
trigger1 = var(57) = 2
anim = 1998
pos = -24,237
postype = right
id = 1997
ignorehitpause = 1
supermove = 1
bindtime = -1
ontop = 1
ownpal = 1

[State 1991, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------
; 2k2 mode start22222222222222222 캔슬 ai 를 위한것..
[Statedef 1993]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 100
facep2 = 1
velset = 0
poweradd= -2000

[State 1850, 3]
type = VelSet
trigger1 = 1
x = 6.4

[State 1990, 5]
type = varset
trigger1 = time = 0
var(2) = power - var(20)*200

[State 1990, 2]
type = PlaySnd
trigger1 = Time = 0
value = 1991,1

[State 1990, 5]
type = varset
trigger1 = 1;time = 0 || time = 1
var(3) = 769

[State 1990, 5]
type = explod
trigger1 = animelem = 1; && var(53) = 1
trigger1 = var(57) = 1
anim = 1995
pos = 0,227
postype = left
id = 1995
ignorehitpause = 1
bindtime = -1
supermove = 1
ontop = 1
ownpal = 1

[State 1990, 5]
type = explod
trigger1 = animelem = 1; && var(53) = 1
trigger1 = var(57) = 2
anim = 1996
pos = -56,227
postype = right
id = 1995
ignorehitpause = 1
supermove = 1
bindtime = -1
ontop = 1
ownpal = 1

[State 1990, 5]
type = explod
trigger1 = animelem = 1; && var(53) = 1
trigger1 = var(57) = 1
anim = 1997
pos = 24,237
postype = left
id = 1997
ignorehitpause = 1
bindtime = -1
supermove = 1
ontop = 1
ownpal = 1

[State 1990, 5]
type = explod
trigger1 = animelem = 1; && var(53) = 1
trigger1 = var(57) = 2
anim = 1998
pos = -24,237
postype = right
id = 1997
ignorehitpause = 1
supermove = 1
bindtime = -1
ontop = 1
ownpal = 1

[State 215, 5]
type = ChangeState
triggerall = var(55) = 1
trigger1 = time = 14
value = 245
ctrl = 0

[State 1990, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;체인 슬라이드 터치 약
[Statedef 3000]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3000
ctrl = 0
facep2 = 1

[State 3000, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 22

[state 3000, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(33) = 1
[state 3000, 1]
type = varset
trigger1 = time = 0 && var(3) < 1
var(33) = 0

[state 3000, 1]
type = varadd
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(33) = 0
var(20) = 10
[state 3000, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) = 0
var(20) = 20
[state 3000, 1]
type = varset
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(3) > 0
var(3) = 0
[state 3000, 1]
type = varset
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(3) > 0
var(3) = 0
[state 3000, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) > 0
var(20) = 10

[State 3000, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3500,2

[State 3000, 2]
type = PlaySnd
trigger1 = Time = 1
value = 3000,1

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 8 || AnimElem = 16 || AnimElem = 24 || AnimElem = 32 || AnimElem = 10
value = 1000,4

[State 3000,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 31

[State 3000,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 31

[State 3000,0]
type = NotHitBy
trigger1 = AnimElem = 8 || AnimElem = 16 || AnimElem = 24 || AnimElem = 32
value = SCA
time = 3

[State 3000,1]
type = HitBy
trigger1 = AnimElem = 8 || AnimElem = 16 || AnimElem = 24 || AnimElem = 32
value = SCA, NT, ST, HT
time = 3

[State 3000, movetype]
type = StateTypeSet
trigger1 = AnimElem = 40
movetype = I

[State 3300,PosFreeze]
type = PosFreeze
trigger1 = Time <= 29

[State 3000, 1]
type = SuperPause
trigger1 = Time = 1
time = 29
movetime = 29
p2defmul = 1
darken = 0
anim = -1

[State 3000, 0]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3000, 6]
type = Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 24
under = 1
supermove = 1

[State 3000, SuperSpark1]
type = Explod
trigger1 = Time = 1
anim = 3500
sprpriority = -1
pos = -28,-104
supermove = 1
bindtime = -1
ownpal = 1

[State 3000, SuperSpark2]
type = Explod
trigger1 = Time = 1
anim = 3550
sprpriority = 7
pos = -28,-104
supermove = 1
bindtime = -1
ownpal = 1

[State 3000, PlaySnd]
type = posadd
trigger1 = AnimElem = 9 || AnimElem = 10 || AnimElem = 11 || AnimElem = 12
trigger2 = AnimElem = 17 || AnimElem = 18 || AnimElem = 19 || AnimElem = 20
trigger3 = AnimElem = 25 || AnimElem = 26 || AnimElem = 27 || AnimElem = 28
trigger4 = AnimElem = 33 || AnimElem = 34 || AnimElem = 35 || AnimElem = 36
x = 8

[State 3000, 4]
type = Projectile
trigger1 = AnimElem = 8
projanim = 3001
offset = 0, 0
velocity = 0,0
projremovetime = 12

[State 3000, 4]
type = Projectile
trigger1 = AnimElem = 16 || AnimElem = 24 || AnimElem = 32
projanim = 3002
offset = 0, 0
velocity = 0,0
projremovetime = 12

[State 3000, 0]
type = VarSet
trigger1 = time = 0
var(19) = 1

[State 3000, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 3000, 1]
type = HitDef
triggerall = var(13) = 0 || var(37) = 1
trigger1 = AnimElem = 5 && 6 && 7
attr = S, HA
animtype  = Hard
damage    = 89/var(19),20/var(19)
getpower = 0,0
guardflag = M
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
sparkno = s6003
guard.sparkno = s6007
sparkxy = -10,-66
hitsound = s250,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = 0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = 0
air.fall = 1
air.type = Low  
yaccel = fvar(12)            
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 3000, 1]
type = HitDef
triggerall = var(13) = 0 || var(37) = 1
trigger1 = AnimElem = 13 && 14 && 15
trigger2 = AnimElem = 21 && 22 && 23
trigger3 = AnimElem = 29 && 30 && 31
attr = S, HA
animtype  = Hard
damage    = 89/var(19),20/var(19)
getpower = 0,0
guardflag = M
pausetime = var(10)-5,var(11)-5
guard.pausetime = var(10)-5,var(15)-5
sparkno = s6003
guard.sparkno = s6007
sparkxy = -10,-66
hitsound = s250,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = 0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = 0
air.fall = 1
air.type = Low  
yaccel = fvar(12)            
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 3000, 1]
type = HitDef
triggerall = var(13) = 0 || var(37) = 1
trigger1 = AnimElem = 37 && 38 && 39
attr = S, HA
animtype  = diagup
damage    = 89/var(19),20/var(19)
getpower = 0,0
guardflag = M
pausetime = var(10)-5,var(11)-5
guard.pausetime = var(10)-5,var(15)-5
sparkno = s6003
guard.sparkno = s6007
sparkxy = -10,-66
hitsound = s250,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(24),fvar(25)
air.velocity = fvar(24),fvar(25)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = 0
fall = 1
air.type = Low  
yaccel = fvar(28)          
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.envshake.time = 10
fall.envshake.ampl = -8

[State 250, 0]
type = varset
trigger1 = MoveHit = 1 && time = [68,71]
var(13) = 1
ignorehitpause = 1
persistent = 0

[State 3000]
type = EnvColor
trigger1 = MoveHit = 1 && time = [32,35]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3000]
type = EnvColor
trigger1 = MoveHit = 1 && time = [41,44]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3000]
type = EnvColor
trigger1 = MoveHit = 1 && time = [50,53]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3000]
type = EnvColor
trigger1 = MoveHit = 1 && time = [59,62]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3000]
type = EnvColor
trigger1 = MoveHit = 1 && time = [68,71]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3000, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;체인 슬라이드 터치 강
[Statedef 3020]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3020
ctrl = 0
facep2 = 1

[State 3020, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 22

[state 3020, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(33) = 1
[state 3020, 1]
type = varset
trigger1 = time = 0 && var(3) < 1
var(33) = 0

[state 3020, 1]
type = varadd
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(33) = 0
var(20) = 10
[state 3020, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) = 0
var(20) = 20
[state 3020, 1]
type = varset
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(3) > 0
var(3) = 0
[state 3020, 1]
type = varset
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(3) > 0
var(3) = 0
[state 3020, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) > 0
var(20) = 10

[State 3020, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3500,2

[State 3020, 2]
type = PlaySnd
trigger1 = Time = 1
value = 3000,1

[State 1020, 1]
type = PlaySnd
trigger1 = AnimElem = 8 || AnimElem = 16 || AnimElem = 24 || AnimElem = 32 || AnimElem = 10
value = 1000,4

[State 3020,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 34

[State 3020,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 34

[State 3020,0]
type = NotHitBy
trigger1 = AnimElem = 8 || AnimElem = 16 || AnimElem = 24 || AnimElem = 32
value = SCA
time = 3

[State 3020,1]
type = HitBy
trigger1 = AnimElem = 8 || AnimElem = 16 || AnimElem = 24 || AnimElem = 32
value = SCA, NT, ST, HT
time = 3

[State 3020, movetype]
type = StateTypeSet
trigger1 = AnimElem = 40
movetype = I

[State 3300,PosFreeze]
type = PosFreeze
trigger1 = Time <= 29

[State 3020, 1]
type = SuperPause
trigger1 = Time = 1
time = 29
movetime = 29
p2defmul = 1
darken = 0
anim = -1

[State 3020, 0]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3020, 6]
type = Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 24
under = 1
supermove = 1

[State 3020, SuperSpark1]
type = Explod
trigger1 = Time = 1
anim = 3500
sprpriority = -1
pos = -28,-104
supermove = 1
bindtime = -1
ownpal = 1

[State 3020, SuperSpark2]
type = Explod
trigger1 = Time = 1
anim = 3550
sprpriority = 7
pos = -28,-104
supermove = 1
bindtime = -1
ownpal = 1

[State 3020, PlaySnd]
type = posadd
trigger1 = AnimElem = 9 || AnimElem = 10 || AnimElem = 11 || AnimElem = 12
trigger2 = AnimElem = 17 || AnimElem = 18 || AnimElem = 19 || AnimElem = 20
trigger3 = AnimElem = 25 || AnimElem = 26 || AnimElem = 27 || AnimElem = 28
trigger4 = AnimElem = 33 || AnimElem = 34 || AnimElem = 35 || AnimElem = 36
x = 8

[State 3020, 4]
type = Projectile
trigger1 = AnimElem = 8
projanim = 3001
offset = 0, 0
velocity = 0,0
projremovetime = 12

[State 3020, 4]
type = Projectile
trigger1 = AnimElem = 16 || AnimElem = 24 || AnimElem = 32
projanim = 3002
offset = 0, 0
velocity = 0,0
projremovetime = 12

[State 3020, 0]
type = VarSet
trigger1 = time = 0
var(19) = 1

[State 3020, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 3020, 1]
type = HitDef
triggerall = var(13) = 0 || var(37) = 1
trigger1 = AnimElem = 5 && 6 && 7
attr = S, HA
animtype  = Hard
damage    = 89/var(19),20/var(19)
getpower = 0,0
guardflag = M
pausetime = var(10)-5,var(11)-5
guard.pausetime = var(10)-5,var(15)-5
sparkno = s6003
guard.sparkno = s6007
sparkxy = -10,-66
hitsound = s250,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = 0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = 0
air.fall = 1
air.type = Low  
yaccel = fvar(12)            
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 3020, 1]
type = HitDef
triggerall = var(13) = 0 || var(37) = 1
trigger1 = AnimElem = 13 && 14 && 15
trigger2 = AnimElem = 21 && 22 && 23
trigger3 = AnimElem = 29 && 30 && 31
attr = S, HA
animtype  = Hard
damage    = 89/var(19),20/var(19)
getpower = 0,0
guardflag = M
pausetime = var(10)-5,var(11)-5
guard.pausetime = var(10)-5,var(15)-5
sparkno = s6003
guard.sparkno = s6007
sparkxy = -10,-66
hitsound = s250,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = 0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = 0
air.fall = 1
air.type = Low  
yaccel = fvar(12)            
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 3020, 1]
type = HitDef
triggerall = var(13) = 0 || var(37) = 1
trigger1 = AnimElem = 37 && 38 && 39
attr = S, HA
animtype  = diagup
damage    = 89/var(19),20/var(19)
getpower = 0,0
guardflag = M
pausetime = var(10)-5,var(11)-5
guard.pausetime = var(10)-5,var(15)-5
sparkno = s6003
guard.sparkno = s6007
sparkxy = -10,-66
hitsound = s250,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(24),fvar(25)
air.velocity = fvar(24),fvar(25)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = 0
fall = 1
air.type = Low  
yaccel = fvar(28)           
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.envshake.time = 10
fall.envshake.ampl = -8

[State 3020]
type = EnvColor
trigger1 = MoveHit = 1 && time = [36,39]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3020]
type = EnvColor
trigger1 = MoveHit = 1 && time = [45,48]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3020]
type = EnvColor
trigger1 = MoveHit = 1 && time = [54,57]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3020]
type = EnvColor
trigger1 = MoveHit = 1 && time = [63,66]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3020]
type = EnvColor
trigger1 = MoveHit = 1 && time = [72,75]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 250, 0]
type = varset
trigger1 = MoveHit = 1 && time = [72,75]
var(13) = 1
ignorehitpause = 1
persistent = 0

[State 3020, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;체인 슬라이드 터치MAX
[Statedef 3050]
type    = S
movetype= A
physics = N
velset = 0,0
anim = 3050
ctrl = 0
facep2 = 1

[State 3050, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 22

[state 3050, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(33) = 1
[state 3050, 1]
type = varset
trigger1 = time = 0 && var(3) < 1
var(33) = 0

[state 3050, 1]
type = varadd
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(33) = 1
var(20) = 10
[state 3050, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) = 1
var(20) = 20
[state 3050, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(3) = 0

[State 3050, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3500,3

[State 3050, 2]
type = PlaySnd
trigger1 = Time = 1
value = 3000,1

[State 3050,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 30

[State 3050,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 30

[State 3300,PosFreeze]
type = PosFreeze
trigger1 = Time <= 29

[State 3050, 1]
type = SuperPause
trigger1 = Time = 1
time = 29
movetime = 29
p2defmul = 1
darken = 0
anim = -1

[State 3050, 0]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3050, 6]
type = Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 24
under = 1
supermove = 1

[State 3050, SuperSpark1]
type = Explod
trigger1 = Time = 1
anim = 3501
sprpriority = -1
pos = -28,-104
supermove = 1
bindtime = -1
ownpal = 1

[State 3050, SuperSpark2]
type = Explod
trigger1 = Time = 1
anim = 3551
sprpriority = 7
pos = -28,-104
supermove = 1
bindtime = -1
ownpal = 1

[State 3050,0]
type = varset
trigger1 = time = 0
fvar(18) = 0

[State 3050, 0]
type = VarSet
trigger1 = time = 0
var(19) = 0

[State 3050, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3055
ctrl = 0

;---------------------------------------------------------------------------
;체인 슬라이드 터치MAX 연타
[Statedef 3055]
type    = S
movetype= A
physics = N
velset = 0,0
anim = 3055
ctrl = 0
facep2 = 0

[State 3055, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 3055, 0]
type = Varadd
trigger1 = time = 0
fvar(18) = 1

[State 3055, 1]
type = PlaySnd
trigger1 = AnimElem = 1 || AnimElem = 3
value = 1000,4

[State 3055, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 3050,4

[State 3055,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 1

[State 3055,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 1

[State 3055, 4]
type = Projectile
trigger1 = time = 0 && fvar(18) = 1
projanim = 3001
offset = 0, 0
velocity = 0,0
projremovetime = 12

[State 3055, 4]
type = Projectile
trigger1 = time = 0 && fvar(18) > 1
projanim = 3002
offset = 0, 0
velocity = 0,0
projremovetime = 12

[State 3055, 4]
type = Projectile
trigger1 = AnimElem = 7
projanim = 3090
offset = 38,-80
velocity = 0,0
projremovetime = 14
projsprpriority = 4

[State 3055, PlaySnd]
type = posadd
trigger1 = AnimElem = 2 || AnimElem = 3 || AnimElem = 4 || AnimElem = 5 || AnimElem = 6
x = 7

[State 3055, 1]
type = HitDef
triggerall = var(13) = 0 || var(37) = 1
trigger1 = AnimElem = 7
attr = S, HA
animtype  = Hard
damage    = 117/ifelse(var(19) = 0,1,var(19)+1),20/ifelse(var(19) = 0,1,var(19)+1)
getpower = 0,0
guardflag = M
pausetime = var(10)-5,var(11)-5
guard.pausetime = var(10)-5,var(15)-5
sparkno = s6003
guard.sparkno = s6007
sparkxy = -10,-72
hitsound = s250,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = 0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 22
guard.hittime  = var(31)+4
guard.velocity = 0
air.fall = 1
air.type = Low  
yaccel = fvar(12)            
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 3055]
type = EnvColor
trigger1 = MoveHit = 1
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3055,End]
type = ChangeState
trigger1 = AnimTime = 0 && fvar(18) > 6
value = 3060

[State 3055,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 3055

;---------------------------------------------------------------------------
;체인 슬라이드 터치MAX 막타
[Statedef 3060]
type    = S
movetype= A
physics = N
velset = 0,0
anim = 3060
ctrl = 0
facep2 = 0

[State 3060, movetype]
type = StateTypeSet
trigger1 = AnimElem = 10
movetype = I

[State 3060, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,4

[State 3060, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 3050,4

[State 3060,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 1

[State 3060,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 1

[State 3055, 4]
type = Projectile
trigger1 = AnimElem = 8
projanim = 3090
offset = 70,-50
velocity = 0,0
projremovetime = 14
projsprpriority = 4

[State 3055, 4]
type = Projectile
trigger1 = time = 0
projanim = 3002
offset = 0,0
velocity = 0,0
projremovetime = 12

[State 3060, 1]
type = velset
trigger1 = AnimElem = 1
x = 12

[State 3060, 1]
type = velset
trigger1 = AnimElem = 8
x = 0

[State 1750, 4]
type = VelMul
trigger1 = 1
x = .83

[State 3060, 1]
type = HitDef
triggerall = var(13) = 0 || var(37) = 1
trigger1 = time = 0
attr = S, HA
animtype  = diagup
damage    = 117/ifelse(var(19) = 0,1,var(19)+1),20/var(19)
getpower = 0,0
guardflag = M
pausetime = var(45)+21,var(46)+21
guard.pausetime = var(45)+21,var(47)+21
sparkno = s6003
guard.sparkno = s6007
sparkxy = -10,-58
hitsound = s250,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(24),fvar(25)
air.velocity = fvar(24),fvar(25)
airguard.velocity = -3.6,-2
guard.slidetime = 22
guard.hittime  = var(31)+4
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
fall = 1
air.type = Low  
yaccel = fvar(28)            
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.envshake.time = 10
fall.envshake.ampl = -8

[State 3060]
type = EnvColor
trigger1 = MoveHit = 1
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 250, 0]
type = varset
trigger1 = MoveHit = 1
var(13) = 1
ignorehitpause = 1
persistent = 0

[State 3060,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;트위스터 드라이브 약
[Statedef 3100]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3100
ctrl = 0
facep2 = 1

[State 3100, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 22

[state 3100, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(33) = 1
[state 3100, 1]
type = varset
trigger1 = time = 0 && var(3) < 1
var(33) = 0

[state 3100, 1]
type = varadd
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(33) = 0
var(20) = 10
[state 3100, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) = 0
var(20) = 20
[state 3100, 1]
type = varset
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(3) > 0
var(3) = 0
[state 3100, 1]
type = varset
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(3) > 0
var(3) = 0
[state 3100, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) > 0
var(20) = 10

[State 3100, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3500,2

[State 3100, 2]
type = PlaySnd
trigger1 = Time = 1
value = 3100,1

[State 3100, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 2040,1

[State 3100, 2]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1000,4

[State 3100, 2]
type = PlaySnd
trigger1 = AnimElem = 9
value = 1400,1

[State 3100, 1]
type = PlaySnd
trigger1 = AnimElem = 10 || AnimElem = 18 || AnimElem = 26
value = 1000,5

[State 3100, 0]
type=PlaySnd
trigger1 = AnimElem = 25
value=250,1

[State 3100,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 34

[State 3100,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 34

[State 3300,PosFreeze]
type = PosFreeze
trigger1 = Time <= 29

[State 3100, 1]
type = SuperPause
trigger1 = Time = 1
time = 29
movetime = 29
p2defmul = 1
darken = 0
anim = -1

[State 3100, 0]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3100, 6]
type = Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 24
under = 1
supermove = 1

[State 3100, SuperSpark1]
type = Explod
trigger1 = Time = 1
anim = 3500
sprpriority = -1
pos = -5,-43
supermove = 1
bindtime = -1
ownpal = 1

[State 3100, SuperSpark2]
type = Explod
trigger1 = Time = 1
anim = 3550
sprpriority = 7
pos = -5,-43
supermove = 1
bindtime = -1
ownpal = 1

[State 3100,AfterImage]
type = AfterImage
trigger1 = AnimElem = 5
time = 64
length = 8
palcolor = 256
palinvertall = 0
palbright = 20,20,30
palcontrast = 100,100,220
palpostbright = 0, 0, 0
paladd = 10,10,45
palmul = .65,.65,.85
timegap = 1
framegap = 2
trans = add1

[State 3100, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0
time = 2

[State 3100, movetype]
type = StateTypeSet
trigger1 = AnimElem = 27
movetype = I

[State 3100, 4]
type = Projectile
trigger1 = AnimElem = 5
projanim = 3101
offset = 0, 0
velocity = 0,0
projremovetime = 12

[State 3100, SuperSpark2]
type = Explod
trigger1 = AnimElem = 9 || AnimElem = 17 || AnimElem = 24
anim = 1490
sprpriority = 2
pos = 0, 0
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
projsprpriority = 5

[State 3100,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
statetype = A
physics = N

[State 3100,VelSet]
type = VelSet
trigger1 = AnimElem = 5
x = 2
y = -3.8

[State 3100,VelSet]
type = VelSet
trigger1 = AnimElem = 26, >= 0
x = 0
y = 0

[State 3100,PosFreeze]
type = PosFreeze
trigger1 = AnimElem = 26, >= 0

[State 3100,VelAdd]
type = VelAdd
trigger1 = AnimElem = 5, >= 0 && AnimElem = 25, <= 2
y = .1

[State 3100, 0]
type = VarSet
trigger1 = time = 0
var(19) = 1

[State 3100, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 3100, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 7 || AnimElem = 14
attr = S, HA
animtype  = Up
damage    = 69/var(19),10/var(19)
guardflag = M
getpower = 0,0
pausetime = var(10)-5,var(11)-5
guard.pausetime = var(10)-5,var(15)-5
sparkno = s6003
guard.sparkno = s6007
sparkxy = -10,-56
hitsound = s250,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(29),fvar(30)
air.velocity = fvar(29),fvar(30)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(31)
fall = 1

[State 3100, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 10 || AnimElem = 12 || AnimElem = 16
trigger2 = AnimElem = 18 || AnimElem = 20 || AnimElem = 22 || AnimElem = 24
attr = S, HA
animtype  = Up
damage    = 69/var(19),10/var(19)
guardflag = M
getpower = 0,0
pausetime = var(10)-2,var(11)
guard.pausetime = var(10)-2,var(15)
sparkno = s6003
guard.sparkno = s6007
sparkxy = -10,-100+(Random/20)
hitsound = s250,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(29),fvar(30)
air.velocity = fvar(29),fvar(30)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(31)
fall = 1

[State 3100, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 26
attr = S, HA
animtype  = Up
damage    = 69/var(19),20/var(19)
guardflag = M
getpower = 0,0
pausetime = var(45)+4,var(46)+4
guard.pausetime = var(45)+4,var(47)+4
sparkno = s6003
guard.sparkno = s6007
sparkxy = -10,-100
hitsound = s250,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(29),fvar(30)
air.velocity = fvar(29),fvar(30)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(31)
fall = 1
envshake.time = 10

[State 3100]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 7, >= 1 && AnimElem = 7, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3100]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 10, >= 1 && AnimElem = 10, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3100]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 12, >= 1 && AnimElem = 12, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3060]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 14, >= 1 && AnimElem = 14, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3060]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 16, >= 1 && AnimElem = 16, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3060]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 18, >= 1 && AnimElem = 18, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3060]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 20, >= 1 && AnimElem = 20, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3060]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 22, >= 1 && AnimElem = 22, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3060]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 24, >= 1 && AnimElem = 24, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3060]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 26, >= 1 && AnimElem = 26, <= 5
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3100 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 3105
ctrl = 0

;---------------------------------------------------------------------------
;트위스터 드라이브 약 하강
[Statedef 3105]
type    = A
movetype= A
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
anim = 3105
facep2 = 0

[State 3105, 2]
type = PlaySnd
trigger1 = AnimElem = 1 || AnimElem = 2
value = 1000,4

[State 3105, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1300,4

[State 1300, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1100,4

[State 3105,AfterImage]
type = AfterImage
trigger1 = time = 0
time = 12
length = 8
palcolor = 256
palinvertall = 0
palbright = 20,20,30
palcontrast = 100,100,220
palpostbright = 0, 0, 0
paladd = 10,10,45
palmul = .65,.65,.85
timegap = 1
framegap = 2
trans = add1

[State 3105, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0
time = 2

[State 3105, 4]
type = Projectile
trigger1 = time = 0
projanim = 1305
offset = 0, 0
velocity = 0,0
projremovetime = 12

[State 3105,VelSet]
type = VelSet
trigger1 = time = 0
x = 7
y = 6.4

[State 3105 , 3]
type = ChangeState
trigger1 = Pos Y >= -8 && Vel Y > 0
value = 3110
ctrl = 0

;---------------------------------------------------------------------------
;트위스터 드라이브 약 착지
[Statedef 3110]
type = S
movetype = I
physics = S
poweradd = 0
anim = 3110
velset = 0,0
facep2 = 0

[State 3110,AfterImage]
type = AfterImage
trigger1 = time = 0
time = 30
length = 8
palcolor = 256
palinvertall = 0
palbright = 20,20,30
palcontrast = 100,100,220
palpostbright = 0, 0, 0
paladd = 10,10,45
palmul = .65,.65,.85
timegap = 1
framegap = 2
trans = add1

[State 3110, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0
time = 2

[State 3110, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 3110, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 3110, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3110, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;트위스터 드라이브 강
[Statedef 3120]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3120
ctrl = 0
facep2 = 1

[State 3120, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 22

[state 3120, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(33) = 1
[state 3120, 1]
type = varset
trigger1 = time = 0 && var(3) < 1
var(33) = 0

[state 3120, 1]
type = varadd
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(33) = 0
var(20) = 10
[state 3120, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) = 0
var(20) = 20
[state 3120, 1]
type = varset
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(3) > 0
var(3) = 0
[state 3120, 1]
type = varset
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(3) > 0
var(3) = 0
[state 3120, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) > 0
var(20) = 10

[State 3120, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3500,2

[State 3120, 2]
type = PlaySnd
trigger1 = Time = 1
value = 3100,1

[State 3120, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 2040,1

[State 3120, 2]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1000,4

[State 3120, 2]
type = PlaySnd
trigger1 = AnimElem = 10
value = 1400,1

[State 3120, 1]
type = PlaySnd
trigger1 = AnimElem = 11 || AnimElem = 19 || AnimElem = 27
value = 1000,5

[State 3120, 0]
type=PlaySnd
trigger1 = AnimElem = 26
value=250,1

[State 3120,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 34

[State 3120,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 34

[State 3300,PosFreeze]
type = PosFreeze
trigger1 = Time <= 29

[State 3120, 1]
type = SuperPause
trigger1 = Time = 1
time = 29
movetime = 29
p2defmul = 1
darken = 0
anim = -1

[State 3120, 0]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3120, 6]
type = Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 24
under = 1
supermove = 1

[State 3120, SuperSpark1]
type = Explod
trigger1 = Time = 1
anim = 3500
sprpriority = -1
pos = -5,-43
supermove = 1
bindtime = -1
ownpal = 1

[State 3120, SuperSpark2]
type = Explod
trigger1 = Time = 1
anim = 3550
sprpriority = 7
pos = -5,-43
supermove = 1
bindtime = -1
ownpal = 1

[State 3120,AfterImage]
type = AfterImage
trigger1 = AnimElem = 5
time = 64
length = 8
palcolor = 256
palinvertall = 0
palbright = 20,20,30
palcontrast = 100,100,220
palpostbright = 0, 0, 0
paladd = 10,10,45
palmul = .65,.65,.85
timegap = 1
framegap = 2
trans = add1

[State 3120, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0
time = 2

[State 3120, movetype]
type = StateTypeSet
trigger1 = AnimElem = 28
movetype = I

[State 3120, 4]
type = Projectile
trigger1 = AnimElem = 5
projanim = 3101
offset = 0, 0
velocity = 0,0
projremovetime = 12

[State 3120, SuperSpark2]
type = Explod
trigger1 = AnimElem = 10 || AnimElem = 18 || AnimElem = 25
anim = 1490
sprpriority = 2
pos = 0, 0
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
projsprpriority = 5

[State 3120,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
statetype = A
physics = N

[State 3120,VelSet]
type = VelSet
trigger1 = AnimElem = 5
x = 2
y = -3.88

[State 3120,VelSet]
type = VelSet
trigger1 = AnimElem = 27, >= 0
x = 0
y = 0

[State 3120,PosFreeze]
type = PosFreeze
trigger1 = AnimElem = 27, >= 0

[State 3120,VelAdd]
type = VelAdd
trigger1 = AnimElem = 5, >= 0 && AnimElem = 26, <= 2
y = .1

[State 3120, 0]
type = VarSet
trigger1 = time = 0
var(19) = 1

[State 3120, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 3120, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 8 || AnimElem = 15
attr = S, HA
animtype  = Up
damage    = 69/var(19),20/var(19)
guardflag = M
getpower = 0,0
pausetime = var(10)-5,var(11)-5
guard.pausetime = var(10)-5,var(15)-5
sparkno = s6003
guard.sparkno = s6007
sparkxy = -10,-56
hitsound = s250,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(29),fvar(30)
air.velocity = fvar(29),fvar(30)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(31)
fall = 1

[State 3120, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 11 || AnimElem = 13 || AnimElem = 17
trigger2 = AnimElem = 19 || AnimElem = 21 || AnimElem = 23 || AnimElem = 25
attr = S, HA
animtype  = Up
damage    = 69/var(19),20/var(19)
guardflag = M
getpower = 0,0
pausetime = var(10)-2,var(11)
guard.pausetime = var(10)-2,var(15)
sparkno = s6003
guard.sparkno = s6007
sparkxy = -10,-100+(Random/20)
hitsound = s250,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(29),fvar(30)
air.velocity = fvar(29),fvar(30)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(31)
fall = 1

[State 3120, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 27
attr = S, HA
animtype  = Up
damage    = 69/var(19),20/var(19)
guardflag = M
getpower = 0,0
pausetime = var(45)+4,var(46)+4
guard.pausetime = var(45)+4,var(47)+4
sparkno = s6003
guard.sparkno = s6007
sparkxy = -10,-100
hitsound = s250,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(29),fvar(30)
air.velocity = fvar(29),fvar(30)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(31)
fall = 1
envshake.time = 10

[State 3120]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 8, >= 1 && AnimElem = 8, <= 3
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3120]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 11, >= 1 && AnimElem = 11, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3120]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 13, >= 1 && AnimElem = 13, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3120]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 15, >= 1 && AnimElem = 15, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3120]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 17, >= 1 && AnimElem = 17, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3120]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 19, >= 1 && AnimElem = 19, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3120]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 21, >= 1 && AnimElem = 21, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3120]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 23, >= 1 && AnimElem = 23, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3120]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 25, >= 1 && AnimElem = 25, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3120]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 27, >= 1 && AnimElem = 27, <= 5
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3120 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 3125
ctrl = 0

;---------------------------------------------------------------------------
;트위스터 드라이브 강 하강
[Statedef 3125]
type    = A
movetype= A
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
anim = 3105
facep2 = 0

[State 3125, 2]
type = PlaySnd
trigger1 = AnimElem = 1 || AnimElem = 2
value = 1000,4

[State 3125, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1300,4

[State 1320, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1100,4

[State 3125,AfterImage]
type = AfterImage
trigger1 = time = 0
time = 12
length = 8
palcolor = 256
palinvertall = 0
palbright = 20,20,30
palcontrast = 100,100,220
palpostbright = 0, 0, 0
paladd = 10,10,45
palmul = .65,.65,.85
timegap = 1
framegap = 2
trans = add1

[State 3125, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0
time = 2

[State 3125, 4]
type = Projectile
trigger1 = time = 0
projanim = 1305
offset = 0, 0
velocity = 0,0
projremovetime = 12

[State 3125,VelSet]
type = VelSet
trigger1 = time = 0
x = 7
y = 6.4	;원렌 6인데..

[State 3125 , 3]
type = ChangeState
trigger1 = Pos Y >= -8 && Vel Y > 0
value = 3110
ctrl = 0

;---------------------------------------------------------------------------
;트위스터 드라이브 강 착지
[Statedef 3130]
type = S
movetype = I
physics = S
poweradd = 0
anim = 3130
velset = 0,0
facep2 = 0

[State 3130,AfterImage]
type = AfterImage
trigger1 = time = 0
time = 30
length = 8
palcolor = 256
palinvertall = 0
palbright = 20,20,30
palcontrast = 100,100,220
palpostbright = 0, 0, 0
paladd = 10,10,45
palmul = .65,.65,.85
timegap = 1
framegap = 2
trans = add1

[State 3130, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0
time = 2

[State 3130, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 3130, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 3130, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3130, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;트위스터 드라이브MAX
[Statedef 3150]
type    = S
movetype= A
physics = N
velset = 0,0
anim = 3150
ctrl = 0
facep2 = 1

[State 3150, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 22

[state 3150, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(33) = 1
[state 3150, 1]
type = varset
trigger1 = time = 0 && var(3) < 1
var(33) = 0

[state 3150, 1]
type = varadd
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(33) = 1
var(20) = 10
[state 3150, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) = 1
var(20) = 20
[state 3150, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(3) = 0

[State 3150, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3500,3

[State 3150, 2]
type = PlaySnd
trigger1 = Time = 1
value = 3100,1

[State 3150, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 2040,1

[State 3150, 2]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1000,4

[State 3150, 2]
type = PlaySnd
trigger1 = AnimElem = 9
value = 1400,1

[State 3150, 1]
type = PlaySnd
trigger1 = AnimElem = 11
value = 1000,5

[State 3150,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 34

[State 3150,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 34

[State 3300,PosFreeze]
type = PosFreeze
trigger1 = Time <= 29

[State 3150, 1]
type = SuperPause
trigger1 = Time = 1
time = 29
movetime = 29
p2defmul = 1
darken = 0
anim = -1

[State 3150, 0]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3150, 6]
type = Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 24
under = 1
supermove = 1

[State 3150, SuperSpark1]
type = Explod
trigger1 = Time = 1
anim = 3501
sprpriority = -1
pos = -5,-43
supermove = 1
bindtime = -1
ownpal = 1

[State 3150, SuperSpark2]
type = Explod
trigger1 = Time = 1
anim = 3551
sprpriority = 7
pos = -5,-43
supermove = 1
bindtime = -1
ownpal = 1

[State 3150,AfterImage]
type = AfterImage
trigger1 = AnimElem = 5
time = 26
length = 8
palcolor = 256
palinvertall = 0
palbright = 20,20,30
palcontrast = 100,100,220
palpostbright = 0, 0, 0
paladd = 10,10,45
palmul = .65,.65,.85
timegap = 1
framegap = 2
trans = add1

[State 3150, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0
time = 2

[State 3150, 4]
type = Projectile
trigger1 = AnimElem = 5
projanim = 3101
offset = 0, 0
velocity = 0,0
projremovetime = 12

[State 3150, SuperSpark2]
type = Explod
trigger1 = AnimElem = 9
anim = 1490
sprpriority = 2
pos = 0, 0
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
projsprpriority = 5

[State 3150,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
statetype = A
physics = N

[State 3150,VelSet]
type = VelSet
trigger1 = AnimElem = 5
x = 2
y = -3.3

[State 3150,VelSet]
type = VelSet
trigger1 = AnimElem = 16, >= 2
x = 0
y = 0

[State 3150,PosFreeze]
type = PosFreeze
trigger1 = AnimElem = 16, >= 2

[State 3150,VelAdd]
type = VelAdd
trigger1 = AnimElem = 5, >= 0
y = .1

[State 3150, 0]
type = VarSet
trigger1 = time = 0
var(19) = 1

[State 3150, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 3150, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 7 || AnimElem = 15
attr = S, HA
animtype  = Up
damage    = 90/var(19),20/var(19)
guardflag = M
getpower = 0,0
pausetime = var(10)-5,var(11)-5
guard.pausetime = var(10)-5,var(15)-5
sparkno = s6003
guard.sparkno = s6007
sparkxy = -10,-56
hitsound = s250,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(29),fvar(30)
air.velocity = fvar(29),fvar(30)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(31)
fall = 1

[State 3150, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 9 || AnimElem = 11 || AnimElem = 13
attr = S, HA
animtype  = Up
damage    = 90/var(19),20/var(19)
guardflag = M
getpower = 0,0
pausetime = var(10)-2,var(11)
guard.pausetime = var(10)-2,var(15)
sparkno = s6003
guard.sparkno = s6007
sparkxy = -10,-100+(Random/20)
hitsound = s250,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(29),fvar(30)
air.velocity = fvar(29),fvar(30)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(31)
fall = 1

[State 3150]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 7, >= 1 && AnimElem = 7, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3150]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 9, >= 1 && AnimElem = 9, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3150]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 11, >= 1 && AnimElem = 11, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3150]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 13, >= 1 && AnimElem = 13, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3150]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 15, >= 1 && AnimElem = 15, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3150 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 3155
ctrl = 0

;---------------------------------------------------------------------------
;트위스터 드라이브 MAX 하강
[Statedef 3155]
type    = A
movetype= A
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
anim = 3105
facep2 = 0

[State 3155, 2]
type = PlaySnd
trigger1 = AnimElem = 1 || AnimElem = 2
value = 1000,4

[State 3155, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1300,4

[State 1350, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1100,4

[State 3155,AfterImage]
type = AfterImage
trigger1 = time = 0
time = 6
length = 8
palcolor = 256
palinvertall = 0
palbright = 20,20,30
palcontrast = 100,100,220
palpostbright = 0, 0, 0
paladd = 10,10,45
palmul = .65,.65,.85
timegap = 1
framegap = 2
trans = add1

[State 3155, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0
time = 2

[State 3155, 4]
type = Projectile
trigger1 = time = 0
projanim = 1305
offset = 0, 0
velocity = 0,0
projremovetime = 12

[State 3155,VelSet]
type = VelSet
trigger1 = time = 0
x = 7
y = 6.2

[State 3155 , 3]
type = ChangeState
trigger1 = Pos Y >= -8 && Vel Y > 0
value = 3160
ctrl = 0

;---------------------------------------------------------------------------
;트위스터 드라이브 MAX 첫번째 착지
[Statedef 3160]
type = S
movetype = I
physics = S
poweradd = 0
anim = 3160
velset = 0,0
facep2 = 0

[State 3160,AfterImage]
type = AfterImage
trigger1 = time = 0
time = 13
length = 8
palcolor = 256
palinvertall = 0
palbright = 20,20,30
palcontrast = 100,100,220
palpostbright = 0, 0, 0
paladd = 10,10,45
palmul = .65,.65,.85
timegap = 1
framegap = 2
trans = add1

[State 3160, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0
time = 2

[State 3160, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 3160, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 3160, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3160, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3170
ctrl = 0

;---------------------------------------------------------------------------
;트위스터 드라이브 MAX 두번째뛰기
[Statedef 3170]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3170
ctrl = 0
facep2 = 1

[State 3170,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 8

[State 3170,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 8

[State 3170, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2040,1

[State 3170, 2]
type = PlaySnd
trigger1 = AnimElem = 2,=2
value = 1000,4

[State 3170, 2]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1400,1

[State 3170, 1]
type = PlaySnd
trigger1 = AnimElem = 8 || AnimElem = 16 || AnimElem = 24
value = 1000,5

[State 3170, 0]
type=PlaySnd
trigger1 = AnimElem = 23
value=250,1

[State 3170,AfterImage]
type = AfterImage
trigger1 = AnimElem = 1
time = 73
length = 8
palcolor = 256
palinvertall = 0
palbright = 20,20,30
palcontrast = 100,100,220
palpostbright = 0, 0, 0
paladd = 10,10,45
palmul = .65,.65,.85
timegap = 1
framegap = 2
trans = add1

[State 3170, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0
time = 2

[State 3170, movetype]
type = StateTypeSet
trigger1 = AnimElem = 27
movetype = I

[State 3170, 4]
type = Projectile
trigger1 = time = 0
projanim = 3171
offset = 0, 0
velocity = 0,0
projremovetime = 12

[State 3170, SuperSpark2]
type = Explod
trigger1 = AnimElem = 7 || AnimElem = 15 || AnimElem = 22
anim = 1490
sprpriority = 2
pos = 0, 0
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
projsprpriority = 5

[State 3170,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 2
statetype = A
physics = N

[State 3170,VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = 2
y = -4.92

[State 3170,VelSet]
type = VelSet
trigger1 = AnimElem = 23, >= 2
x = 0
y = 0

[State 3170,PosFreeze]
type = PosFreeze
trigger1 = AnimElem = 23, >= 2

[State 3170,VelAdd]
type = VelAdd
trigger1 = AnimElem = 2, >= 0
y = .1

[State 3170, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 3170, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 10 || AnimElem = 16
attr = S, HA
animtype  = Up
damage    = 90/var(19),20/var(19)
guardflag = M
getpower = 0,0
pausetime = var(10)-5,var(11)-5
guard.pausetime = var(10)-5,var(15)-5
sparkno = s6003
guard.sparkno = s6007
sparkxy = -10,-56
hitsound = s250,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(29),fvar(30)
air.velocity = fvar(29),fvar(30)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(31)
fall = 1

[State 3170, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 5 || AnimElem = 8 || AnimElem = 12 || AnimElem = 14 || AnimElem = 18 || AnimElem = 20 || AnimElem = 22
attr = S, HA
animtype  = Up
damage    = 90/var(19),20/var(19)
guardflag = M
getpower = 0,0
pausetime = var(10)-2,var(11)
guard.pausetime = var(10)-2,var(15)
sparkno = s6003
guard.sparkno = s6007
sparkxy = -10,-100+(Random/20)
hitsound = s250,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(29),fvar(30)
air.velocity = fvar(29),fvar(30)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(31)
fall = 1

[State 3170, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 24
attr = S, HA
animtype  = Up
damage    = 90/var(19),20/var(19)
guardflag = M
getpower = 0,0
pausetime = var(45)+4,var(46)+4
guard.pausetime = var(45)+4,var(47)+4
sparkno = s6003
guard.sparkno = s6007
sparkxy = -10,-100
hitsound = s250,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(29),fvar(30)
air.velocity = fvar(29),fvar(30)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(31)
fall = 1
envshake.time = 10

[State 3150]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 5, >= 1 && AnimElem = 5, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3150]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 8, >= 1 && AnimElem = 8, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3150]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 10, >= 1 && AnimElem = 10, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3150]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 12, >= 1 && AnimElem = 12, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3150]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 14, >= 1 && AnimElem = 14, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3150]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 16, >= 1 && AnimElem = 16, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3150]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 18, >= 1 && AnimElem = 18, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3150]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 20, >= 1 && AnimElem = 20, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3150]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 22, >= 1 && AnimElem = 22, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3150]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 24, >= 1 && AnimElem = 24, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3170 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 3175
ctrl = 0

;---------------------------------------------------------------------------
;트위스터 드라이브 MAX 두번째 하강
[Statedef 3175]
type    = A
movetype= A
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
anim = 3105
facep2 = 0

[State 3175, 2]
type = PlaySnd
trigger1 = AnimElem = 1 || AnimElem = 2
value = 1000,4

[State 3175, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1300,4

[State 3175, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1100,4

[State 3175,AfterImage]
type = AfterImage
trigger1 = time = 0
time = 18
length = 8
palcolor = 256
palinvertall = 0
palbright = 20,20,30
palcontrast = 100,100,220
palpostbright = 0, 0, 0
paladd = 10,10,45
palmul = .65,.65,.85
timegap = 1
framegap = 2
trans = add1

[State 3175, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0
time = 2

[State 3175, 4]
type = Projectile
trigger1 = time = 0
projanim = 1305
offset = 0, 0
velocity = 0,0
projremovetime = 12

[State 3175,VelSet]
type = VelSet
trigger1 = time = 0
x = 7
y = 7	;대충했다;

[State 3175 , 3]
type = ChangeState
trigger1 = Pos Y >= -8 && Vel Y > 0
value = 3180
ctrl = 0

;---------------------------------------------------------------------------
;트위스터 드라이브 MAX 두번째 착지
[Statedef 3180]
type = S
movetype = I
physics = S
poweradd = 0
anim = 3180
velset = 0,0
facep2 = 0

[State 3180,AfterImage]
type = AfterImage
trigger1 = time = 0
time = 36
length = 8
palcolor = 256
palinvertall = 0
palbright = 20,20,30
palcontrast = 100,100,220
palpostbright = 0, 0, 0
paladd = 10,10,45
palmul = .65,.65,.85
timegap = 1
framegap = 2
trans = add1

[State 3180, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0
time = 2

[State 3180, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 3180, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 3180, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3180, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;불꽃의 숙명의 크리스 MAX2
[Statedef 3200]
type = S
movetype = A
physics = S
ctrl = 0
anim = 3200
velset = 0,0
poweradd = 0
facep2 = 1

;---------------2002 um fondo------------------
[State 3250, Helper]
type = Helper
triggerall = !numhelper(40001)
trigger1 = time = 6
helpertype = normal
name = "HSDM"
ID = 40001
stateno = 40001
pos = 160,120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
;---------------2002 um fondo------------------

[State -2, Helper]
type = Helper
triggerall = !numhelper(40003)
trigger1 = time = 0
helpertype = normal
name = "H.Port"
ID = 40003
stateno = 40003
pos = 160,120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1

[State -2, Helper]
type = Helper
triggerall = !numhelper(40004)
trigger1 = time = 0
helpertype = normal
name = "Player 1"
ID = 40004
stateno = 40004
pos = 160,120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1


[State 3200, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 22

[state 3200, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(33) = 1
[state 3200, 1]
type = varset
trigger1 = time = 0 && var(3) < 1
var(33) = 0
[state 3200, 1]
type = varset
trigger1 = time = 0 && life > 250
var(33) = 2

[state 3200, 1]
type = varadd
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(33) = 2
var(20) = 20
[state 3200, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) = 2
var(20) = 30
[state 3200, 1]
type = varadd
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(33) = 1
var(20) = 10
[state 3200, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) = 1
var(20) = 20
[state 3200, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(3) = 0

[State 3200,0]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 28

[State 3200,1]
type = HitBy
trigger1 = time = 0
value = SCA, NT, ST, HT
time = 28

[State 3200,0]
type = NotHitBy
trigger1 = AnimElem = 25
value = SCA
time = 16

[State 3200,1]
type = HitBy
trigger1 = AnimElem = 25
value = SCA, NT, ST, HT
time = 16

[State 3200, 2]
type = PlaySnd
trigger1 = Time = 4
value = 3200,1

[State 3200, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3500,4

[State 3300,PosFreeze]
type = PosFreeze
trigger1 = Time <= 29

[State 3200, 1]
type = SuperPause
trigger1 = Time = 1
time = 29
movetime = 29
p2defmul = 1
darken = 0
anim = -1

[State 3200, 0]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3200, 6]
type = Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 24
under = 1
supermove = 1

[State 3200, SuperSpark1]
type = Explod
trigger1 = Time = 2
anim = 3502
sprpriority = -1
pos = 8,-52
supermove = 1
bindtime = -1
ownpal = 1

[State 3200, SuperSpark2]
type = Explod
trigger1 = Time = 2
anim = 3552
sprpriority = 7
pos = 8,-52
supermove = 1
bindtime = -1
ownpal = 1

[State 3200, 긽긤깒?봶똧뚼됈]
type = Explod
trigger1 = AnimElem = 8
;trigger1 = Var(20) = 1
anim = 3560
ID = 3560
sprpriority = -12
postype = back
pos = 0,0;-5,-3
vel = 0, 0
removetime = 78
ownpal = 1
bindtime = -1
removeongethit = 1

[State 3200, 2]
type = Projectile
trigger1 = AnimElem = 16
projanim = 188
projshadow = 68,68,68
offset = 16,-80
velocity = 0,0
projremovetime = 28

[State 3200]
type = Projectile
trigger1 = AnimElem = 25
projanim = 193
projshadow = 68,68,68
offset = 18,-74
velocity = 0,0
projremovetime = 4

[State 3200]
type = Projectile
trigger1 = AnimElem = 26
projanim = 193
projshadow = 68,68,68
offset = 16,-66
velocity = 0,0
projremovetime = 5

[State 3200]
type = Projectile
trigger1 = AnimElem = 26
projanim = 194
projshadow = 68,68,68
offset = -28,-60
velocity = 0,0
projremovetime = 5

[State 3200]
type = Projectile
trigger1 = AnimElem = 27
projanim = 193
projshadow = 68,68,68
offset = 18,-66
velocity = 0,0
projremovetime = 7

[State 3200]
type = Projectile
trigger1 = AnimElem = 27
projanim = 194
projshadow = 68,68,68
offset = -28,-66
velocity = 0,0
projremovetime = 7

[State 3200, 0]
type = VarSet
trigger1 = AnimElem = 28
var(17) = 3

[State 3200,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;번데기를 찢고, 나비는 춤춘다 MAX2
[Statedef 3250]
type = S
movetype = A
physics = S
ctrl = 0
anim = 3250
velset = 0,0
poweradd = 0
facep2 = 1

;---------------2002 um fondo------------------
[State 3250, Helper]
type = Helper
triggerall = !numhelper(40001)
trigger1 = time = 6
helpertype = normal
name = "HSDM"
ID = 40001
stateno = 40001
pos = 160,120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
;---------------2002 um fondo------------------

[State -2, Helper]
type = Helper
triggerall = !numhelper(40003)
trigger1 = time = 0
helpertype = normal
name = "H.Port"
ID = 40003
stateno = 40003
pos = 160,120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1

[State -2, Helper]
type = Helper
triggerall = !numhelper(40004)
trigger1 = time = 0
helpertype = normal
name = "Player 1"
ID = 40004
stateno = 40004
pos = 160,120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1


[State 3250, varset]
type = varset
trigger1 = (var(22) = 1 && prevstateno != [0,999]) || prevstateno = 1920
trigger1 = time = 0
var(50) = 22

[state 3250, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(33) = 1
[state 3250, 1]
type = varset
trigger1 = time = 0 && var(3) < 1
var(33) = 0
[state 3250, 1]
type = varset
trigger1 = time = 0 && life > 250
var(33) = 2

[state 3250, 1]
type = varadd
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(33) = 2
var(20) = 20
[state 3250, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) = 2
var(20) = 30
[state 3250, 1]
type = varadd
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(33) = 1
var(20) = 10
[state 3250, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) = 1
var(20) = 20
[state 3250, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(3) = 0

[State 3250,0]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 41

[State 3250,1]
type = HitBy
trigger1 = time = 0
value = SCA, NT, ST, HT
time = 41

[State 3250, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3500,4

[State 3250, 2]
type = PlaySnd
trigger1 = AnimElem = 31
value = 3250,1

[State 3300,PosFreeze]
type = PosFreeze
trigger1 = Time >= 5 && Time <= 33

[State 3250, 1]
type = SuperPause
trigger1 = Time = 5
time = 29
movetime = 29
p2defmul = 1
darken = 0
anim = -1

[State 3250, 0]
type = Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3250, 6]
type = Envcolor
trigger1 = Time = 9
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 24
under = 1
supermove = 1

[State 3250, SuperSpark1]
type = Explod
trigger1 = Time = 7
anim = 3502
sprpriority = -1
pos = -6,-92
supermove = 1
bindtime = -1
ownpal = 1

[State 3250, SuperSpark2]
type = Explod
trigger1 = Time = 7
anim = 3552
sprpriority = 7
pos = -6,-92
supermove = 1
bindtime = -1
ownpal = 1

[State 3250,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3260

;-------------------------------------------------------------------------------
;번데기를 찢고, 나비는 춤춘다 공격MAX2
[Statedef 3260]
type = S
movetype = A
physics = S
ctrl = 0
anim = 3260
velset = 0,0
poweradd = 0
facep2 = 0

[State 3260,0]
type = NotHitBy
trigger1 = AnimElem = 6
value = SCA
time = 92

[State 3260,1]
type = HitBy
trigger1 = AnimElem = 6
value = SCA, NT, ST, HT
time = 92

[State 3250, 2]
type = PlaySnd
trigger1 = AnimElem = 6,=1 || AnimElem = 6,=3
value = 3250,4

;[State 3260, 긽긤깒?봶똧뚼됈]
;type = Explod
;trigger1 = AnimElem = 6,=1
;;trigger1 = Var(20) = 1
;anim = 3290
;ID = 3290
;sprpriority = -12
;postype = back
;pos = 0,0;-5,-3
;vel = 0, 0
;removetime = 91
;ownpal = 1
;bindtime = -1
;removeongethit = 1

;[State 3260, 긽긤깒?봶똧뚼됈]
;type = Explod
;trigger1 = time = 0
;;trigger1 = Var(20) = 1
;anim = 3291
;ID = 3291
;sprpriority = -11
;postype = back
;pos = 0,0;-5,-3
;vel = 0, 0
;removetime = 91
;ownpal = 1
;bindtime = -1
;removeongethit = 1

[State 3260, 1]
type = Helper
Triggerall = Facing = 1
trigger1 = AnimElem = 6,=1
ID = 3280
offset = 0,0
postype = left
stateno = 3280
keyctrl = 0
ownpal = 1

[State 3260, 1]
type = Helper
Triggerall = Facing = -1
trigger1 = AnimElem = 6,=1
ID = 3285
offset = 0,0
postype = right
stateno = 3285
keyctrl = 0
ownpal = 1

[State 3260,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = WinKO
value = 3270

;-------------------------------------------------------------------------------
;번데기를 찢고, 나비는 춤춘다 해제MAX2
[Statedef 3270]
type = S
movetype = I
physics = S
ctrl = 0
anim = 3270
velset = 0,0
poweradd = 0
facep2 = 0

[State 3270,0]
type = NotHitBy
trigger1 = TIME = 0
value = SCA
time = 27

[State 3270,1]
type = HitBy
trigger1 = TIME = 0
value = SCA, NT, ST, HT
time = 27

[State 3270,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;전체화면필살기 판정 왼쪽버전
[Statedef 3280]
ctrl = 0
velset = 0,0
movetype= A
sprpriority = -12
anim = 3280
facep2 = 1

[State 3280, 0]
type = Explod
trigger1 = Time = 0
anim = 3290
ID = 3290
pos = 0,0
postype = left
sprpriority = -12
ownpal = 1
removetime = 91
bindtime = -1

[State 3280, 0]
type = Explod
trigger1 = Time = 0
anim = 3291
ID = 3291
pos = 0,0
postype = left
sprpriority = -11
ownpal = 1
removetime = 91
bindtime = -1

[State 3280, 5]
type = Projectile
trigger1 = AnimElem = 2 || AnimElem = 4 || AnimElem = 6 || AnimElem = 8
trigger2 = AnimElem = 10 || AnimElem = 12 || AnimElem = 14 || AnimElem = 16
projanim = 3281
offset = 0, 0
velocity = 0,0
projremovetime = 1
postype = left

[State 3280, 0]
type = VarSet
trigger1 = time = 0
var(19) = 1

[State 3280, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 3280, 4]
type = HitDef
trigger1 = AnimElem = 2 || AnimElem = 4 || AnimElem = 6 || AnimElem = 8
trigger2 = AnimElem = 10 || AnimElem = 12 || AnimElem = 14
attr = S, HP
animtype  = Hard
air.animtype  = Hard
damage    = 210/var(19),20/var(19)
guardflag = M
pausetime = 0,0
getpower = 0,0
sparkno = s6003999
guard.sparkno = s6007
sparkxy = -10,-92
hitsound   = s250,2999
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = parent,var(35)
ground.velocity = 0,0
air.velocity = parent,fvar(10),parent,fvar(11)/1.4
airguard.velocity = -1.9,-.8 
guard.slidetime = 18
guard.hittime  = parent,var(31)
guard.velocity = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
air.fall = 1
yaccel = parent,fvar(12)

[State 3280, 4]
type = HitDef
trigger1 = AnimElem = 16
attr = S, HP
animtype  = diagup
air.animtype  = diagup
damage    = 210/var(19),20/var(19)
guardflag = M
pausetime = 0,0
guard.pausetime = parent,var(10),parent,var(15)
getpower = 0,0
sparkno = s6003999
guard.sparkno = s6007
sparkxy = -10,-92
hitsound   = s250,2999
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = parent,var(35)
ground.velocity =parent,fvar(26),parent,fvar(27)
air.velocity = parent,fvar(26),parent,fvar(27)
airguard.velocity = -1.9,-.8 
guard.slidetime = 18
guard.hittime  = parent,var(31)
guard.velocity = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 1
air.fall = 1
yaccel = parent,fvar(28)
fall.envshake.time = 10
fall.envshake.ampl = -8

;;맞는상대 나의스텟으로 옳기기
;[State 3280, 2]
;type = TargetState
;trigger1 = target,stateno = [5000,5101]
;value = (target,stateno)-1000
;ignorehitpause = 1

[State 3280, 7]
type = Explod
triggerall = MoveHit
trigger1 = AnimElem = 2 || AnimElem = 4 || AnimElem = 6 || AnimElem = 8
trigger2 = AnimElem = 10 || AnimElem = 12 || AnimElem = 14 || AnimElem = 16
anim = 6003
postype = P2
pos = -28,-68
random = -5,5
facing = -1
sprpriority = 4
ignorehitpause = 1
bindtime = 1
ownpal = 1

[State 3280, FFB Hard]
type = PlaySnd
trigger1 = MoveHit = 1
value = s250,2
ignorehitpause = 1
channel = 3

[State 3280, 2]
type = RemoveExplod
trigger1 = WinKO
ID = 3290
ignorehitpause = 1

[State 3280, 2]
type = RemoveExplod
trigger1 = WinKO
ID = 3291
ignorehitpause = 1

[State 3280, 2]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = WinKO

;---------------------------------------------------------------------------
;전체화면필살기 판정 오른쪽버젼
[Statedef 3285]
ctrl = 0
velset = 0,0
movetype= A
sprpriority = -12
anim = 3280
facep2 = 1

[State 3280, 0]
type = Explod
trigger1 = Time = 0
anim = 3290
ID = 3290
pos = 0,0
postype = right
sprpriority = -12
ownpal = 1
removetime = 91
bindtime = -1
facing = -1

[State 3280, 0]
type = Explod
trigger1 = Time = 0
anim = 3291
ID = 3291
pos = 0,0
postype = right
sprpriority = -11
ownpal = 1
removetime = 91
bindtime = -1
facing = -1

[State 3280, 5]
type = Projectile
trigger1 = AnimElem = 2 || AnimElem = 4 || AnimElem = 6 || AnimElem = 8
trigger2 = AnimElem = 10 || AnimElem = 12 || AnimElem = 14 || AnimElem = 16
projanim = 3281
offset = 0, 0
velocity = 0,0
projremovetime = 1
postype = right

[State 3280, 0]
type = VarSet
trigger1 = time = 0
var(19) = 1

[State 3280, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 3280, 4]
type = HitDef
trigger1 = AnimElem = 2 || AnimElem = 4 || AnimElem = 6 || AnimElem = 8
trigger2 = AnimElem = 10 || AnimElem = 12 || AnimElem = 14
attr = S, HP
animtype  = Hard
air.animtype  = Hard
damage    = 210/var(19),20/var(19)
guardflag = M
pausetime = 0,0
getpower = 0,0
sparkno = s6003999
guard.sparkno = s6007
sparkxy = -10,-92
hitsound   = s250,2999
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = parent,var(35)
ground.velocity = 0,0
air.velocity = parent,fvar(10),parent,fvar(11)/1.4
airguard.velocity = -1.9,-.8 
guard.slidetime = 18
guard.hittime  = parent,var(31)
guard.velocity = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 1
yaccel = parent,fvar(12)
kill = 0

[State 3280, 4]
type = HitDef
trigger1 = AnimElem = 16
attr = S, HP
animtype  = diagup
air.animtype  = diagup
damage    = 210/var(19),20/var(19)
guardflag = M
pausetime = 0,0
guard.pausetime = parent,var(10),parent,var(15)
getpower = 0,0
sparkno = s6003999
guard.sparkno = s6007
sparkxy = -10,-92
hitsound   = s250,2999
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = parent,var(35)
ground.velocity =parent,fvar(26),parent,fvar(27)
air.velocity = parent,fvar(26),parent,fvar(27)
airguard.velocity = -1.9,-.8 
guard.slidetime = 18
guard.hittime  = parent,var(31)
guard.velocity = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 1
air.fall = 1
yaccel = parent,fvar(28)
fall.envshake.time = 10
fall.envshake.ampl = -8

;;맞는상대 나의스텟으로 옳기기
;[State 3280, 2]
;type = TargetState
;trigger1 = target,stateno = [5000,5101]
;value = (target,stateno)-1000
;ignorehitpause = 1

[State 3280, 7]
type = Explod
triggerall = MoveHit
trigger1 = AnimElem = 2 || AnimElem = 4 || AnimElem = 6 || AnimElem = 8
trigger2 = AnimElem = 10 || AnimElem = 12 || AnimElem = 14 || AnimElem = 16
anim = 6003
postype = P2
pos = -28,-68
random = -5,5
facing = -1
sprpriority = 4
ignorehitpause = 1
bindtime = 1
ownpal = 1

[State 3280, FFB Hard]
type = PlaySnd
trigger1 = MoveHit = 1
value = s250,2
ignorehitpause = 1
channel = 3

[State 3280, 2]
type = RemoveExplod
trigger1 = WinKO
ID = 3290
ignorehitpause = 1

[State 3280, 2]
type = RemoveExplod
trigger1 = WinKO
ID = 3291
ignorehitpause = 1

[State 3280, 2]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = WinKO

;---------------------------------------------------------------------------
;암흑대사치 약
[Statedef 3300]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3300
ctrl = 0
facep2 = 1

[State 3300, varset]
type = varset
trigger1 = var(22) = 1 || prevstateno = 1920
trigger1 = time = 0
var(50) = 22

[state 3300, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(33) = 1
[state 3300, 1]
type = varset
trigger1 = time = 0 && var(3) < 1
var(33) = 0

[state 3300, 1]
type = varadd
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(33) = 0
var(20) = 10
[state 3300, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) = 0
var(20) = 20
[state 3300, 1]
type = varset
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(3) > 0
var(3) = 0
[state 3300, 1]
type = varset
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(3) > 0
var(3) = 0
[state 3300, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) > 0
var(20) = 10

[State 3300, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3500,2

[State 3300, 2]
type = PlaySnd
trigger1 = Time = 1
value = 3300,1

[State 3300,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 30

[State 3300,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 30

[State 3300,PosFreeze]
type = PosFreeze
trigger1 = Time <= 29

[State 3300, 1]
type = SuperPause
trigger1 = Time = 1
time = 29
movetime = 29
p2defmul = 1
darken = 0
anim = -1

[State 3300, 0]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3300, 6]
type = Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 24
under = 1
supermove = 1

[State 3300, SuperSpark1]
type = Explod
trigger1 = Time = 1
anim = 3500
sprpriority = -1
pos = 14,-104
supermove = 1
bindtime = -1
ownpal = 1

[State 3300, SuperSpark2]
type = Explod
trigger1 = Time = 1
anim = 3550
sprpriority = 7
pos = 14,-104
supermove = 1
bindtime = -1
ownpal = 1

[State 3300]
type = Explod
trigger1 = AnimElem = 2
anim = 3390
sprpriority = 2
pos = 13, -103
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 3

[State 3300]
type = Explod
trigger1 = AnimElem = 3
anim = 3390
sprpriority = 2
pos = 14, -103
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 3

[State 3300]
type = Explod
trigger1 = AnimElem = 4
anim = 3390
id = 3390
sprpriority = 2
pos = 15, -103
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1

[State 3300, 7]
type = ChangeState
trigger1 = command != "hold_x" && time >= 30
trigger1 = command != "hold_y" && time >= 30
trigger1 = command != "hold_c" && time >= 30
value = 3310

[State 3300, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3310

;---------------------------------------------------------------------------
;암흑 대사치 약 발동
[Statedef 3310]
type    = S
movetype= A
physics = S
poweradd = 0
anim = 3310

[State 3110, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3110, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3110, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3110, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3110, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3110, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3310, 2]
type = PlaySnd
trigger1 = Time = 1
value = 3310,1

[State 3310, 2]
type = PlaySnd
trigger1 = AnimElem = 7
value = 3310,4

[State 3310, movetype]
type = StateTypeSet
trigger1 = AnimElem = 11;10원렌 이건데 공격판정없어질까봐;;
movetype = I

[State 3310, 0]
type = RemoveExplod
trigger1 = Time = 0
ID = 3390

;[State 3310,VelSet]
;type = VelSet
;trigger1 = AnimElem = 5,=1
;x = 18

;[State 3310,VelAdd]
;type = VelSet
;trigger1 = AnimElem = 10
;x = 0

;[State 3310, 4]
;type = VelMul
;trigger1 = 1
;x = .83

[State 3310,VelSet]
type = posadd
trigger1 = time = 12
x = 13

[State 3310,VelSet]
type = posadd
trigger1 = time = 13
x = 11

[State 3310,VelSet]
type = posadd
trigger1 = time = 14
x = 9

[State 3310,VelSet]
type = posadd
trigger1 = time = 15
x = 8

[State 3310,VelSet]
type = posadd
trigger1 = time = 16
x = 7

[State 3310,VelSet]
type = posadd
trigger1 = time = 17
x = 6

[State 3310,VelSet]
type = posadd
trigger1 = time = 18
x = 5

[State 3310,VelSet]
type = posadd
trigger1 = time = [19,20]
x = 4

[State 3310,VelSet]
type = posadd
trigger1 = time = [21,22]
x = 3

[State 3310,VelSet]
type = posadd
trigger1 = time = [23,25]
x = 2

[State 3310]
type = Explod
trigger1 = AnimElem = 1
anim = 3390
sprpriority = 2
pos = 5, -61
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 4

[State 3310]
type = Explod
trigger1 = AnimElem = 3
anim = 3390
sprpriority = 2
pos = -45, -105
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 3

[State 3310]
type = Explod
trigger1 = AnimElem = 4
anim = 3390
sprpriority = 2
pos = -41, -109
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 4

[State 3310]
type = Explod
trigger1 = AnimElem = 5
anim = 3390
sprpriority = 2
pos = -36, -94
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 2

[State 3310]
type = Explod
trigger1 = AnimElem = 6
anim = 3390
sprpriority = 2
pos = 16, -54
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 2

[State 3310]
type = Explod
trigger1 = AnimElem = 7
anim = 3390
sprpriority = 2
pos = -37, -100
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 6

[State 3310]
type = Explod
trigger1 = AnimElem = 9
anim = 3390
sprpriority = 2
pos = -32, -105
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 21

[State 3310, 6]
type = Projectile
trigger1 = AnimElem = 9,=21
projanim = 3395
offset = -32, -105
velocity = 0,0
projremovetime = 19
sprpriority = 3

[State 3310]
type = Explod
trigger1 = AnimElem = 6,=1
anim = 3380
sprpriority = 5
pos = 0,0
supermove = 1
bindtime = 11
ownpal = 1
removeongethit = 1

[State 3310]
type = Explod
trigger1 = AnimElem = 8
anim = 3385
sprpriority = 4
pos = 0,0
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1

[State 3310, Bright]
type = PalFX
trigger1 = AnimElem = 4,=3
time = 31
color = 0
add = 140,100,240
mul = 180,180,180
sinadd = 50,40,60,30
ignorehitpause = 1

[State 3310, 5]
type = Projectile
trigger1 = AnimElem = 8 || AnimElem = 8,=1 || AnimElem = 8,=2 || AnimElem = 8,=3 || AnimElem = 8,=4
trigger2 = AnimElem = 9 || AnimElem = 9,=1 || AnimElem = 9,=2 || AnimElem = 9,=3
projanim = 3315
offset = 0, 0
velocity = 0,0
projremovetime = 1

[State 3310, 5]
type = Projectile
trigger1 = AnimElem = 10
projanim = 3315
offset = 0, 0
velocity = 0,0
projremovetime = 12

[State 3310, 1]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = S, HP
animtype  = Up
air.animtype  = Up
damage    = 279,20
guardflag = M
getpower = 0,0
pausetime = 0,var(46)
guard.pausetime = 0,var(47)
sparkno = s6003
guard.sparkno = s6007
sparkxy = -10,-60
hitsound   = s3310,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
Palfx.time = 40
Palfx.color = 0
Palfx.add = 140,100,240
Palfx.mul = 180,180,180
Palfx.sinadd = 50,40,60,30
fall = 1
air.type = Low  
yaccel = fvar(12)
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 3310, 0]
type = varset
trigger1 = movehit > 0
var(13) = 1
ignorehitpause = 1
persistent = 0

[State 3310]
type = EnvColor
trigger1 = MoveHit > 0
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3310, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;암흑대사치 강
[Statedef 3320]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3300
ctrl = 0
facep2 = 1

[State 3320, varset]
type = varset
trigger1 = var(22) = 1 || prevstateno = 1920
trigger1 = time = 0
var(50) = 22

[state 3320, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(33) = 1
[state 3320, 1]
type = varset
trigger1 = time = 0 && var(3) < 1
var(33) = 0

[state 3320, 1]
type = varadd
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(33) = 0
var(20) = 10
[state 3320, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) = 0
var(20) = 20
[state 3320, 1]
type = varset
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(3) > 0
var(3) = 0
[state 3320, 1]
type = varset
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(3) > 0
var(3) = 0
[state 3320, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) > 0
var(20) = 10

[State 3320, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3500,2

[State 3320, 2]
type = PlaySnd
trigger1 = Time = 1
value = 3300,1

[State 3320,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 30

[State 3320,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 30

[State 3300,PosFreeze]
type = PosFreeze
trigger1 = Time <= 29

[State 3320, 1]
type = SuperPause
trigger1 = Time = 1
time = 29
movetime = 29
p2defmul = 1
darken = 0
anim = -1

[State 3320, 0]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3320, 6]
type = Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 24
under = 1
supermove = 1

[State 3320, SuperSpark1]
type = Explod
trigger1 = Time = 1
anim = 3500
sprpriority = -1
pos = 14,-104
supermove = 1
bindtime = -1
ownpal = 1

[State 3320, SuperSpark2]
type = Explod
trigger1 = Time = 1
anim = 3550
sprpriority = 7
pos = 14,-104
supermove = 1
bindtime = -1
ownpal = 1

[State 3320]
type = Explod
trigger1 = AnimElem = 2
anim = 3390
sprpriority = 2
pos = 13, -103
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 3

[State 3320]
type = Explod
trigger1 = AnimElem = 3
anim = 3390
sprpriority = 2
pos = 14, -103
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 3

[State 3320]
type = Explod
trigger1 = AnimElem = 4
anim = 3390
id = 3390
sprpriority = 2
pos = 15, -103
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1

[State 3320, 7]
type = ChangeState
trigger1 = command != "hold_x" && time >= 30
trigger1 = command != "hold_y" && time >= 30
trigger1 = command != "hold_c" && time >= 30
value = 3330

[State 3320, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3330

;---------------------------------------------------------------------------
;암흑 대사치 강 발동
[Statedef 3330]
type    = S
movetype= A
physics = S
poweradd = 0
anim = 3330

[State 3110, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3110, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3110, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3110, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3110, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3110, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3330, 2]
type = PlaySnd
trigger1 = Time = 1
value = 3310,1

[State 3330, 2]
type = PlaySnd
trigger1 = AnimElem = 7
value = 3310,4

[State 3330, movetype]
type = StateTypeSet
trigger1 = AnimElem = 11;10원렌 이건데 공격판정없어질까봐;;
movetype = I

[State 3330, 0]
type = RemoveExplod
trigger1 = Time = 0
ID = 3390

;[State 3330,VelSet]
;type = VelSet
;trigger1 = AnimElem = 5,=1
;x = 18

;[State 3330,VelAdd]
;type = VelSet
;trigger1 = AnimElem = 10
;x = 0

;[State 3330, 4]
;type = VelMul
;trigger1 = 1
;x = .83

[State 3310,VelSet]
type = posadd
trigger1 = time = 12
x = 13

[State 3310,VelSet]
type = posadd
trigger1 = time = 13
x = 11

[State 3310,VelSet]
type = posadd
trigger1 = time = 14
x = 10

[State 3310,VelSet]
type = posadd
trigger1 = time = 15
x = 8

[State 3310,VelSet]
type = posadd
trigger1 = time = 16
x = 7

[State 3310,VelSet]
type = posadd
trigger1 = time = 17
x = 5

[State 3310,VelSet]
type = posadd
trigger1 = time = 18
x = 6

[State 3310,VelSet]
type = posadd
trigger1 = time = [19,20]
x = 4

[State 3310,VelSet]
type = posadd
trigger1 = time = [21,22]
x = 3

[State 3310,VelSet]
type = posadd
trigger1 = time = [23,25]
trigger2 = time = 27
x = 2

[State 3310,VelSet]
type = posadd
trigger1 = time = 26
trigger2 = time = 28
x = 1

[State 3330]
type = Explod
trigger1 = AnimElem = 1
anim = 3390
sprpriority = 2
pos = 5, -61
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 4

[State 3330]
type = Explod
trigger1 = AnimElem = 3
anim = 3390
sprpriority = 2
pos = -45, -105
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 3

[State 3330]
type = Explod
trigger1 = AnimElem = 4
anim = 3390
sprpriority = 2
pos = -41, -109
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 4

[State 3330]
type = Explod
trigger1 = AnimElem = 5
anim = 3390
sprpriority = 2
pos = -36, -94
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 3

[State 3330]
type = Explod
trigger1 = AnimElem = 6
anim = 3390
sprpriority = 2
pos = 16, -54
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 4

[State 3330]
type = Explod
trigger1 = AnimElem = 7
anim = 3390
sprpriority = 2
pos = -37, -100
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 6

[State 3330]
type = Explod
trigger1 = AnimElem = 9
anim = 3390
sprpriority = 2
pos = -32, -105
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 21

[State 3330, 6]
type = Projectile
trigger1 = AnimElem = 9,=21
projanim = 3396
offset = -32, -105
velocity = 0,0
projremovetime = 22
sprpriority = 3

[State 3330]
type = Explod
trigger1 = AnimElem = 6,=1
anim = 3381
sprpriority = 5
pos = 0,0
supermove = 1
bindtime = 13
ownpal = 1
removeongethit = 1

[State 3330]
type = Explod
trigger1 = AnimElem = 8
anim = 3385
sprpriority = 4
pos = 0,0
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1

[State 3330, Bright]
type = PalFX
trigger1 = AnimElem = 4,=3
time = 34
color = 0
add = 140,100,240
mul = 180,180,180
sinadd = 50,40,60,30
ignorehitpause = 1

[State 3330, 5]
type = Projectile
trigger1 = AnimElem = 8 || AnimElem = 8,=1 || AnimElem = 8,=2 || AnimElem = 8,=3 || AnimElem = 8,=4
trigger2 = AnimElem = 9 || AnimElem = 9,=1 || AnimElem = 9,=2 || AnimElem = 9,=3
projanim = 3315
offset = 0, 0
velocity = 0,0
projremovetime = 1

[State 3330, 5]
type = Projectile
trigger1 = AnimElem = 10
projanim = 3315
offset = 0, 0
velocity = 0,0
projremovetime = 12

[State 3330, 1]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = S, HP
animtype  = Up
air.animtype  = Up
damage    = 279,20
guardflag = M
getpower = 0,0
pausetime = 0,var(46)
guard.pausetime = 0,var(47)
sparkno = s6003
guard.sparkno = s6007
sparkxy = -10,-60
hitsound   = s3310,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
Palfx.time = 40
Palfx.color = 0
Palfx.add = 140,100,240
Palfx.mul = 180,180,180
Palfx.sinadd = 50,40,60,30
fall = 1
air.type = Low  
yaccel = fvar(12)
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 3330, 0]
type = varset
trigger1 = movehit > 0
var(13) = 1
ignorehitpause = 1
persistent = 0

[State 3330]
type = EnvColor
trigger1 = MoveHit > 0
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3330, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;암흑 대사치MAX
[Statedef 3350]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3300
ctrl = 0
facep2 = 1

[State 3350, varset]
type = varset
trigger1 = var(22) = 1 || prevstateno = 1920
trigger1 = time = 0
var(50) = 22

[state 3350, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(33) = 1
[state 3350, 1]
type = varset
trigger1 = time = 0 && var(3) < 1
var(33) = 0

[state 3350, 1]
type = varadd
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(33) = 1
var(20) = 10
[state 3350, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) = 1
var(20) = 20
[state 3350, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(3) = 0

[State 3350, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3500,3

[State 3350, 2]
type = PlaySnd
trigger1 = Time = 1
value = 3300,1

[State 3350,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 30

[State 3350,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 30

[State 3300,PosFreeze]
type = PosFreeze
trigger1 = Time <= 29

[State 3350, 1]
type = SuperPause
trigger1 = Time = 1
time = 29
movetime = 29
p2defmul = 1
darken = 0
anim = -1

[State 3350, 0]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3350, 6]
type = Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 24
under = 1
supermove = 1

[State 3350, SuperSpark1]
type = Explod
trigger1 = Time = 1
anim = 3501
sprpriority = -1
pos = 14,-104
supermove = 1
bindtime = -1
ownpal = 1

[State 3350, SuperSpark2]
type = Explod
trigger1 = Time = 1
anim = 3551
sprpriority = 7
pos = 14,-104
supermove = 1
bindtime = -1
ownpal = 1

[State 3350]
type = Explod
trigger1 = AnimElem = 2
anim = 3390
sprpriority = 2
pos = 13, -103
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 3

[State 3350]
type = Explod
trigger1 = AnimElem = 3
anim = 3390
sprpriority = 2
pos = 14, -103
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 3

[State 3350]
type = Explod
trigger1 = AnimElem = 4
anim = 3390
id = 3390
sprpriority = 2
pos = 15, -103
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1

[State 3350, 7]
type = ChangeState
trigger1 = command != "hold_x" && time >= 30
trigger1 = command != "hold_y" && time >= 30
trigger1 = command != "hold_c" && time >= 30
value = 3360

[State 3350, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3360

;---------------------------------------------------------------------------
;암흑 대사치 max 발동
[Statedef 3360]
type    = S
movetype= A
physics = S
poweradd = 0
anim = 3360

[State 3210, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3210, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3210, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3210, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3210, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3210, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3360, 2]
type = PlaySnd
trigger1 = Time = 1
value = 3310,1

[State 3360, 2]
type = PlaySnd
trigger1 = AnimElem = 8; || AnimElem = 11 || AnimElem = 13
value = 3310,4

[State 3360, movetype]
type = StateTypeSet
trigger1 = AnimElem = 15
movetype = I

[State 3360, 0]
type = RemoveExplod
trigger1 = Time = 0
ID = 3390

;[State 3360,VelSet]
;type = VelSet
;trigger1 = AnimElem = 5,=1
;x = 18

;[State 3360,VelAdd]
;type = VelSet
;trigger1 = AnimElem = 10
;x = 0

;[State 3360, 4]
;type = VelMul
;trigger1 = 1
;x = .83

[State 3310,VelSet]
type = posadd
trigger1 = time = 12
x = 13

[State 3310,VelSet]
type = posadd
trigger1 = time = 13
x = 11

[State 3310,VelSet]
type = posadd
trigger1 = time = 14
x = 10

[State 3310,VelSet]
type = posadd
trigger1 = time = 15
x = 8

[State 3310,VelSet]
type = posadd
trigger1 = time = 16
x = 7

[State 3310,VelSet]
type = posadd
trigger1 = time = 17
x = 5

[State 3310,VelSet]
type = posadd
trigger1 = time = 18
x = 6

[State 3310,VelSet]
type = posadd
trigger1 = time = [19,20]
x = 4

[State 3310,VelSet]
type = posadd
trigger1 = time = [21,22]
x = 3

[State 3310,VelSet]
type = posadd
trigger1 = time = [23,25]
trigger2 = time = 27
x = 2

[State 3310,VelSet]
type = posadd
trigger1 = time = 26
trigger2 = time = 28
x = 1

[State 3360]
type = Explod
trigger1 = AnimElem = 1
anim = 3390
sprpriority = 2
pos = 5, -61
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 4

[State 3360]
type = Explod
trigger1 = AnimElem = 3
anim = 3390
sprpriority = 2
pos = -45, -105
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 3

[State 3360]
type = Explod
trigger1 = AnimElem = 4
anim = 3390
sprpriority = 2
pos = -41, -109
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 4

[State 3360]
type = Explod
trigger1 = AnimElem = 5
anim = 3390
sprpriority = 2
pos = -36, -94
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 3

[State 3360]
type = Explod
trigger1 = AnimElem = 6
anim = 3390
sprpriority = 2
pos = 16, -54
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 4

[State 3360]
type = Explod
trigger1 = AnimElem = 7
anim = 3390
sprpriority = 2
pos = -37, -100
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 6

[State 3360]
type = Explod
trigger1 = AnimElem = 9
anim = 3390
sprpriority = 2
pos = -32, -105
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 21

[State 3360, 6]
type = Projectile
trigger1 = AnimElem = 9,=21
projanim = 3397
offset = -32, -105
velocity = 0,0
projremovetime = 24
sprpriority = 3

[State 3360]
type = Explod
trigger1 = AnimElem = 6,=1
anim = 3381
sprpriority = 5
pos = 0,0
supermove = 1
bindtime = 13
ownpal = 1
removeongethit = 1

[State 3360]
type = Explod
trigger1 = AnimElem = 13
anim = 3385
sprpriority = 4
pos = 32,0
supermove = 1
bindtime = 1
ownpal = 1
removeongethit = 1

[State 3360]
type = Explod
trigger1 = AnimElem = 8
anim = 3386
sprpriority = 4
pos = 0,0
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1

[State 3360]
type = Explod
trigger1 = AnimElem = 11
anim = 3386
sprpriority = 4
pos = 16,0
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1

[State 3360, Bright]
type = PalFX
trigger1 = AnimElem = 4,=3
time = 34
color = 0
add = 140,100,240
mul = 180,180,180
sinadd = 50,40,60,30
ignorehitpause = 1

[State 3360, 5]
type = Projectile
trigger1 = AnimElem = 8 || AnimElem = 8,=1 || AnimElem = 8,=2 || AnimElem = 8,=3 || AnimElem = 8,=4
trigger2 = AnimElem = 9 || AnimElem = 9,=1 || AnimElem = 9,=2 || AnimElem = 9,=3
projanim = 3315
offset = 0, 0
velocity = 0,0
projremovetime = 1

[State 3360, 5]
type = Projectile
trigger1 = AnimElem = 10
projanim = 3315
offset = 0, 0
velocity = 0,0
projremovetime = 12

[State 3360, 5]
type = Projectile
trigger1 = AnimElem = 11 || AnimElem = 13
projanim = 3315
offset = 0, 0
velocity = 0,0
projremovetime = 16

;[State 3360, 0]
;type = VarSet
;trigger1 = time = 0
;var(19) = 1

;[State 3360, 0]
;type = Varadd
;trigger1 = MoveContact = 1
;var(19) = 1

[State 3360, 1]
type = HitDef
triggerall = AnimElem = 7 && 8 && 9 && 10
triggerall = var(13) = 0 || var(37) = 1
trigger1 = p2bodydist X < 75
attr = S, HP
animtype  = Up
air.animtype  = Up
damage    = 136,20
guardflag = M
getpower = 0,0
pausetime = 0,var(46)
guard.pausetime = 0,var(47)
sparkno = s6003
guard.sparkno = s6007
sparkxy = -10,-60
hitsound   = s3310,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
Palfx.time = 40
Palfx.color = 0
Palfx.add = 140,100,240
Palfx.mul = 180,180,180
Palfx.sinadd = 50,40,60,30
fall = 1
air.type = Low  
yaccel = fvar(12)
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 3360, 1]
type = HitDef
triggerall = AnimElem = 11 && 12 && 13
triggerall = var(13) = 0 || var(37) = 1
trigger1 = p2bodydist X < 91
attr = S, HP
animtype  = Up
air.animtype  = Up
damage    = 136,20
guardflag = M
getpower = 0,0
pausetime = 0,var(46)
guard.pausetime = 0,var(47)
sparkno = s6003
guard.sparkno = s6007
sparkxy = -10,-60
hitsound   = s3310,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
Palfx.time = 40
Palfx.color = 0
Palfx.add = 140,100,240
Palfx.mul = 180,180,180
Palfx.sinadd = 50,40,60,30
fall = 1
air.type = Low  
yaccel = fvar(12)
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 3360, 1]
type = HitDef
triggerall = AnimElem = 13 && 14
triggerall = var(13) = 0 || var(37) = 1
trigger1 = p2bodydist X < 107
attr = S, HP
animtype  = Up
air.animtype  = Up
damage    = 136,20
guardflag = M
getpower = 0,0
pausetime = 0,var(46)
guard.pausetime = 0,var(47)
sparkno = s6003
guard.sparkno = s6007
sparkxy = -10,-60
hitsound   = s3310,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
Palfx.time = 40
Palfx.color = 0
Palfx.add = 140,100,240
Palfx.mul = 180,180,180
Palfx.sinadd = 50,40,60,30
fall = 1
air.type = Low  
yaccel = fvar(12)
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 3360]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 8, >= 1 && AnimElem = 11, <= 5
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3360]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 11, >= 1 && AnimElem = 13, <= 5
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3360]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 13, >= 1 && AnimElem = 14, <= 16
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3360, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;대지를 없에는 겁화 약
[Statedef 3400]
type    = S
movetype= A
physics = s
velset = 0,0
anim = 3400
ctrl = 0
facep2 = 1
juggle = 1

[State 3400, varset]
type = varset
trigger1 = time = 0
fvar(18)= 0

[State 3400, varset]
type = varset
trigger1 = var(22) = 1 || prevstateno = 1920
trigger1 = time = 0
var(50) = 22

[state 3400, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(33) = 1
[state 3400, 1]
type = varset
trigger1 = time = 0 && var(3) < 1
var(33) = 0

[state 3400, 1]
type = varadd
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(33) = 0
var(20) = 10
[state 3400, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) = 0
var(20) = 20
[state 3400, 1]
type = varset
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(3) > 0
var(3) = 0
[state 3400, 1]
type = varset
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(3) > 0
var(3) = 0
[state 3400, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) > 0
var(20) = 10

[State 3110, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3110, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3110, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3110, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3110, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3110, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3400, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3500,2

[State 3400, 2]
type = PlaySnd
trigger1 = Time = 1
value = 3400,1

[State 3400, 2]
type = PlaySnd
trigger1 = AnimElem = 10
value = 3400,4

[State 3400,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 33

[State 3400,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 33

[State 3300,PosFreeze]
type = PosFreeze
trigger1 = Time <= 29

[State 3400, 1]
type = SuperPause
trigger1 = Time = 1
time = 29
movetime = 29
p2defmul = 1
darken = 0
anim = -1

[State 3400, 0]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3400, 6]
type = Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 24
under = 1
supermove = 1

[State 3400, SuperSpark1]
type = Explod
trigger1 = Time = 1
anim = 3500
sprpriority = -1
pos = 8,-80
supermove = 1
bindtime = -1
ownpal = 1

[State 3400, SuperSpark2]
type = Explod
trigger1 = Time = 1
anim = 3550
sprpriority = 7
pos = 8,-80
supermove = 1
bindtime = -1
ownpal = 1

[State 3400,0]
type = NotHitBy
trigger1 = AnimElem = 11
value = SCA
time = 3

[State 3400,1]
type = HitBy
trigger1 = AnimElem = 11
value = SCA, NT, ST, HT
time = 3

[State 3400,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 10
statetype = A
physics = N

[State 3400, PlaySnd]
type = posadd
trigger1 = AnimElem = 4
x = 8

[State 3400,VelSet]
type = posadd
trigger1 = AnimElem = 10,>=0 && AnimElem = 12,<=0
x = 7

[State 3400,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 12,=1
statetype = A
physics = N

[State 3400,VelSet]
type = VelSet
trigger1 = AnimElem = 12,=1
x = 1.92
y = -7.2

[State 3400,VelAdd]
type = VelAdd
trigger1 = AnimElem = 12, >= 1
y = .42

[State 3400, movetype]
type = StateTypeSet
trigger1 = AnimElem = 12
movetype = I

[State 3400,2]
type = PlayerPush
trigger1 = AnimElem = 10, >= 1 && AnimElem = 11, <= 3
value = 0

[State 3400]
type = Explod
trigger1 = AnimElem = 5,=1
anim = 3490
sprpriority = 2
pos = 16, -48
supermove = 0
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 11

[State 3400]
type = Explod
trigger1 = AnimElem = 10
anim = 3495
sprpriority = 2
pos = 0,0
supermove = 0
bindtime = -1
ownpal = 1
removeongethit = 1
removetime = 18

[State 3400]
type = Explod
trigger1 = AnimElem = 10
anim = 3480
sprpriority = 4
pos = 0,0
supermove = 0
bindtime = 18
ownpal = 1
removeongethit = 1
removetime = 999
ID = 3480
vel = 7.2,0

[State 3400, 5]
type = Projectile
trigger1 = AnimElem = 10
projanim = 3401
offset = 0, 0
velocity = 7.2,0
projremovetime = 17
projpriority = 3

[State 3400, 0]
type = varset
trigger1 = time = 0
var(18) = 0
ignorehitpause = 1
persistent = 0

[State 3400, 4]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = SC, HP
animtype  = Up
damage = 279,20
guardflag = M     
getpower = 0,0
pausetime = 0,13
guard.pausetime = 0,11
sparkno = s6003
guard.sparkno = s6007
sparkxy = 0,-40
hitsound=s3400,2
guardsound = s1000,3
ground.type = Low
fall = 1
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = 0
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
Palfx.time = 40
Palfx.color = 0
Palfx.add = 140,100,240
Palfx.mul = 180,180,180
Palfx.sinadd = 50,40,60,30

[State 3400, 0]
type = varset
trigger1 = movecontact
var(18) = 1
ignorehitpause = 1
persistent = 0

[State 3400, 0]
type = varset
trigger1 = movehit
var(13) = 1
ignorehitpause = 1
persistent = 0

[State 3400]
type = EnvColor
trigger1 = MoveHit = 1
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3100, 1]
type = Helper
trigger1 = AnimElem = 12,=1
ID = 3410
offset = 0,0
postype = P1
stateno = 3410
keyctrl = 0
ownpal = 1

[State 3400, 7]
type = ChangeState
trigger1 = Pos Y >= -2 && Vel Y > 0
value = 3405
ctrl = 0

;---------------------------------------------------------------------------
;대지겁화초필장풍
[Statedef 3410]
ctrl = 0
anim = 3410
velset = 7.2,0
movetype= A
sprpriority = 2

[State 3400, 5]
type = Projectile
trigger1 = time = 0
projanim = 3411
offset = 0, 0
velocity = 7.2,0
;projremovetime = 17
projpriority = 3

[State 3410, 4]
type = HitDef
triggerall = parent,var(18) = 0
trigger1 = !Time && (parent,var(13) = 0 || parent,var(37) = 1)
attr = SC, HP
animtype  = Up
damage = 279,20
guardflag = M     
getpower = 0,0
pausetime = 0,13
guard.pausetime = 0,11
sparkno = s6003
guard.sparkno = s6007
sparkxy = 0,-40
hitsound=s3400,2
guardsound = s1000,3
ground.type = Low
fall = 1
ground.slidetime = 18
ground.hittime  = parent,var(35)
ground.velocity = parent,fvar(10),parent,fvar(11)
air.velocity = parent,fvar(10),parent,fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = parent,var(31)
guard.velocity = ifelse(parent,var(41)=0,parent,fvar(3)*parent,fvar(15),ifelse(parent,var(41)=1,parent,fvar(4)*parent,fvar(15),parent,fvar(4)*parent,fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = parent,fvar(12)
Palfx.time = 40
Palfx.color = 0
Palfx.add = 140,100,240
Palfx.mul = 180,180,180
Palfx.sinadd = 50,40,60,30
;projanim = 3410
;projhitanim = 3485
;projshadow = -1
;projpriority = 3
;projsprpriority = 3
;projID = 3410
;offset = 0,0
;velocity = 7.2,0
;air.juggle = ifelse(var(13) = 1 && P2StateNo != 5040,30,(ifelse(var(37) = 0,0,0)))

[State 3410, 2]
type = ChangeState
trigger1 = movecontact = 1
trigger2 =ProjCancelTime(3411) = 1
value = 3415

;---------------------------------------------------------------------------
;대지겁화초필맞췄을때효과
[Statedef 3415]
ctrl = 0
anim = 3485
velset = 0,0
sprpriority = 2

[State 3110, 7]
type = Explod
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3110, 8]
type = Explod
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3110, 9]
type = Explod
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3110, 10]
type = Explod
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3110, 11]
type = Explod
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3110, 12]
type = Explod
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3400, varset]
type = ParentVarSet
trigger1 = time = 0
fvar(18)= 1

[State 3415, 1]
type = Pause
trigger1 = (time = [13,24]) || roundstate != 2
time = 1
ignorehitpause = 1

[State 3415]
type = EnvColor
trigger1 = time = 0
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3415, 5]
type = Projectile
trigger1 = time = 0
projanim = ifelse(random < 500,3470,3475)	
offset = -7,-47;-7,-7원레 뒷수치인데 이게더보기좋을것같다
velocity = -7,-7
projremovetime = 50
projpriority = 3

[State 3415, 5]
type = Projectile
trigger1 = time = 0
projanim = ifelse(random < 500,3470,3475)
offset = 0,-50;0,-10원레 뒷수치인데 이게더보기좋을것같다
velocity = 0,-10
projremovetime = 50
projpriority = 3

[State 3415, 5]
type = Projectile
trigger1 = time = 0
projanim = ifelse(random < 500,3470,3475)
offset = 7,-47;7,-7원레 뒷수치인데 이게더보기좋을것같다
velocity = 7,-7
projremovetime = 50
projpriority = 3

[State 3415, 5]
type = Projectile
trigger1 = time = 0
projanim = ifelse(random < 500,3470,3475)
offset = 10,-40;10,0원레 뒷수치인데 이게더보기좋을것같다
velocity = 10,0
projremovetime = 50
projpriority = 3

[State 3415, 5]
type = Projectile
trigger1 = time = 0
projanim = ifelse(random < 500,3470,3475)
offset = 7,-33;7,7원레 뒷수치인데 이게더보기좋을것같다
velocity = 7,7
projremovetime = 50
projpriority = 3

[State 3415, 5]
type = Projectile
trigger1 = time = 0
projanim = ifelse(random < 500,3470,3475)
offset = 0,-30;0,10원레 뒷수치인데 이게더보기좋을것같다
velocity = 0,10
projremovetime = 50
projpriority = 3

[State 3415, 5]
type = Projectile
trigger1 = time = 0
projanim = ifelse(random < 500,3470,3475)
offset = -7,-33;-7,7원레 뒷수치인데 이게더보기좋을것같다
velocity = -7,7
projremovetime = 50
projpriority = 3

[State 3415, 2]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
;대지를 없에는 겁화 약 착지
[Statedef 3405]
type = S
movetype = I
physics = S
poweradd = 0
anim = 3405
velset = 0,0
facep2 = 0

[State 3405, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 3405, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 3405, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3405, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;화면멈춤소스태양을쏘는불꽃
[Statedef 3600]
ctrl = 0
anim = 3600

[State 3600, 1]
type = Pause
;trigger1 = time = [13,24];위엤게 원작중시형인데 키입력이 너무안먹어서 밑으로수정
trigger1 = time = 13 | time = 15 | time = 17 | time = 19 | time = 21 | time = 23 | time = 25
time = 1

[State 3600, 2]
type = DestroySelf
trigger1 = time = 24|roundstate != 2
trigger2 = projhit1890 = 1

;---------------------------------------------------------------------------
;화면멈춤소스초필1-182식타임 3프레임모질라지만 그냥하자;크리스 max초필 막타;;
[Statedef 3605]
ctrl = 0
anim = 3600

[State 3605, 1]
type = Pause
trigger1 = time = [0,11];이상하게 시간길게 제대로 작동안하지만 일단 이대로 크리스
time = 1
ignorehitpause = 1

[State 3605, 2]
type = DestroySelf
trigger1 = time = 12|roundstate != 2
ignorehitpause = 1

;---------------------------------------------------------------------------
;화면멈춤소스3-대사치ormax
[Statedef 3610]
ctrl = 0
anim = 3600

[State 3610, 1]
type = Pause
trigger1 = time = [13,24]
time = 1

[State 3610, 2]
type = DestroySelf
trigger1 = time = 24|roundstate != 2

;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; Initialize (at the start of the round)라운드포즈결정
[Statedef 5900]
type = S

[State 5900, 1]
type = VarRangeSet
trigger1 = roundno = 1
first = 0
last = 16
value = 0

[State 5900, 1]
type = VarRangeSet
trigger1 = roundno = 1
first = 18
last = 59
value = 0

;[State 5900, 1] ;Clear all int variables 크리스변신모드다음라운드까지유지
;type = VarRangeSet
;trigger1 = roundno = 1
;value = 0

[State 5900, 2] ;Clear all float variables
type = VarRangeSet
trigger1 = roundno = 1
fvalue = 0

[State 5900, 3] ;Intro
type = ChangeState
trigger1 = roundno = 1
value = 190

[State 5900, 3]
type = ChangeState
trigger1 = roundno >= 2
value = 174

;---------------------------------------------------------------------
; HIT_FALLRECOVER (on the ground)
; KOF safe landing
; 낙법
[Statedef 5200]
type = S
movetype = I
physics = S
anim = 5200
poweradd=0
facep2 = 1

[State 5200, 4]
type = SprPriority
trigger1 = Time = 0
value = -2

[State 5200,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5200,1]
type = HitBy
trigger1 = 1
value = SCA, NT, ST, HT

[State 5200, 2]
type = PlaySnd
trigger1 = Time = 0
value = 5200,1

[State 5201, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5201, 3]
type = PosSet
trigger1 = Time >= 0
y = 0

[State 5200,2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 5200,2]
type = Posadd
trigger1 = Time = 0
x = -10;예측수치

[State 5200,2]
type = Posadd
trigger1 = Time = 1
x = -8

[State 5200,2]
type = Posadd
trigger1 = Time = [2,3]
x = -6

[State 5200,2]
type = Posadd
trigger1 = Time = 4
x = -4

[State 5200,2]
type = Posadd
trigger1 = Time = [5,6]
x = -3

[State 5200,2]
type = Posadd
trigger1 = Time = [7,9]
x = -2

[State 5200,2]
type = Posadd
trigger1 = Time = [10,12]
trigger2 = Time = 14
trigger3 = Time = 16
trigger4 = Time = 20
x = -1

[State 5200,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; 가드KO 막았을때
;------------------------ 
[Statedef 5950]
type = S
movetype = H
physics = S
ctrl = 0
velset = 0, 0

[State 5950,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5950, 1]
type = ChangeAnim
trigger1 = HitOver!
value = ifelse(PrevStateNo = 152,151,150)

[State 5950, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5950, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0
y = 0

[State 5950, 1]
type = ChangeAnim
trigger1 = HitOver && anim != 5950
value = 5950

[State -3,PlaySnd]
type = PlaySnd
trigger1 = anim = 5950
trigger1 = AnimElem = 1,=0
value = 5950+Var(39)*10000, 0

[State 5950,End]
type = ChangeState
trigger1 = anim = 5950 && AnimElem = 4
value = 5150
ctrl = 0

;---------------------------------------------------------------------
; 가드KO 기본기때
;------------------------ 
[Statedef 5951]
type = S
movetype = H
physics = S
ctrl = 0
;anim = 5950
velset = 0, 0

[State 5951,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5951, 1]
type = HitVelSet
trigger1 = Time = 0
x = 0

[State 5951, 2]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 5950, 1]
type = ChangeAnim
trigger1 = anim != 5950
value = 5950

[State -3,PlaySnd]
type = PlaySnd
trigger1 = anim = 5950
trigger1 = AnimElem = 1,=0
value = 5950+Var(39)*10000, 0

[State 5951,End]
type = ChangeState
trigger1 = AnimElem = 10
value = 5150
ctrl = 0

;---------------------------------------------------------------------------
; HIT_LIEDEAD
[Statedef 5150]
type    = L
movetype= H
physics = N
sprpriority = -3

[State 5150, 5]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = PrevStateNo = 5950
value = 5950
elem = 4

[State 5150, 8]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------
[Statedef -2]
;---------------------------------------------------------------------------

;피니쉬효과
[State -2, 1]
type = helper
trigger1 = winko && Numhelper(5600) = 0 && Stateno = [900,4999]
helpertype = normal
id = 5600
pos = 1000,1000
name = "KO"
stateno = 5600
keyctrl = 0
ignorehitpause = 1
persistent = 0

[State -2, 2]
type = helper
trigger1 = winko && Numhelper(5600) = 0 && Stateno = [0,899]
helpertype = normal
id = 5600
pos = 1000,1000
name = "KO"
stateno = 5650
keyctrl = 0
persistent = 0

[State -2, 2]
type = helper
trigger1 = winko && Numhelper(5610) = 0 && matchover
helpertype = normal
id = 5610
pos = 1000,1000
name = "KO"
stateno = 5610
keyctrl = 0
persistent = 0

[State -2, 2]
type = varset
trigger1 = roundstate = 0 
var(52) = 1

[State -1, 2]
type = ChangeState
triggerall = loseko && SelfAnimexist(5950)
trigger1 = PrevStateNo = 130 || PrevStateNo = 131
trigger2 = PrevStateNo = 140 || PrevStateNo = 141
trigger3 = PrevStateNo = 120 || PrevStateNo = 121
trigger4 = PrevStateNo = 150 || PrevStateNo = 151
;trigger2 = P2StateNo = [199,799]
value = 5950

[State -2, 2]
type = ChangeState
triggerall = loseko && (P2StateNo != [800,999]) && (P2StateNo != [0,199]) && Pos Y >= 0 && SelfAnimexist(5950)
trigger1 = var(54) = 1 || var(54) = 2
value = 5951

;--------------------------------------------------------------------------------------------------------------------
[State -2, var(13)]
type = varset
trigger1 = ((StateNo = [200,249]) || (StateNo = [400,439]) || (StateNo = [600,649])) && movehit = 1 && P2statetype = A
var(13) = 1
ignorehitpause = 1

[State -2, var(13)]
type = VarSet
trigger1 = p2stateno = 5110 || p2stateno = 5045
trigger2 = p2stateno = [0,199]
var(13) = 0
ignorehitpause = 1

[State -2, var(16)]
type = VarSet
trigger1 = p2stateno = 5110
trigger2 = p2stateno = 0
var(16) = 0
ignorehitpause = 1

;크리스 사지를무는불꽃전용
[State 1920 , 3]
type = Varset
trigger1 = stateno = 1920 && movehit = 1
fvar(19) = 1

;크리스 사지를무는불꽃전용
[State -2, fvar(19)]
type = Varadd
trigger1 = fvar(19) >= 1
fvar(19) = 1
ignorehitpause = 1

;크리스 사지를무는불꽃전용
[State -2, fvar(19)]
type = Varset
trigger1 = fvar(19) = 60
trigger2 =(StateNo = [3000,9999]);걍 추가했다 앞으로 맘에안들면 빼던가하자
fvar(19) = 0

;크리스 사지를무는불꽃전용
[State -2, fvar(19)]
type = targetstate
trigger1 = fvar(19) = 39 ;38
value = 1930

;크리스점프시디전용으로 추가된것
;[State -2, var(18)]
;type = VarSet
;trigger1 = p2stateno = 5110
;trigger2 = p2stateno = 0
;var(18) = 0
;ignorehitpause = 1

[State -3, 0]
type = VarSet
trigger1 = p2stateno = 5000
trigger2 = p2stateno = 5010
v = 7
value = 0

;--------------------------------------------------------------------------
;장풍히트시 멈춤설정태양을쏘는불꽃
[State -2]
type = Helper
;triggerall = numhelper(3600) = 0
trigger1 = projhit1890 = 1
ID = 3600
stateno = 3600
ownpal = 1
ignorehitpause = 1

;--------------------------------------------------------------------------
;장풍히트시 멈춤설정 크리스max 초필 막타
[State -2]
type = Helper
triggerall = numhelper(3605) = 0
trigger1 = MoveHit = 1 && stateno = 3060
trigger2 = MoveHit = 1 && stateno = 3100
trigger2 = AnimElem = 26, >= 1 && AnimElem = 26, <= 5
trigger3 = MoveHit = 1 && stateno = 3120
trigger3 = AnimElem = 27, >= 1 && AnimElem = 27, <= 5
trigger4 = MoveHit = 1 && stateno = 3170
trigger4 = AnimElem = 24, >= 1 && AnimElem = 24, <= 5
ID = 3605
stateno = 3605
ownpal = 1
ignorehitpause = 1
persistent = 0

;--------------------------------------------------------------------------
;장풍히트시 멈춤설정 대사치
[State -2]
type = Helper
triggerall = numhelper(3610) = 0
trigger1 = MoveHit = 1 && (stateno = 3310 || stateno = 3330 || stateno = 3400)
trigger2 = MoveHit = 1 && stateno = 3360
trigger2 = AnimElem = 13, >= 1 && AnimElem = 14, <= 16
trigger3 = projhit3410 = 1
ID = 3610
stateno = 3610
ownpal = 1
ignorehitpause = 1
persistent = 0

;--------------------------------------------------------------------------
;대지겁화초필 맞췄을떄효과
;[State -2]
;type = Helper
;triggerall = numhelper(3615) = 0
;trigger1 = projhit3410 = 1
;ID = 3615
;stateno = 3615
;ownpal = 1
;ignorehitpause = 1
;persistent = 0

;--------------------------------------------------------------------------
;대지겁화초필 맞췄을떄효과없에기
[State -2]
type = RemoveExplod
trigger1 = fvar(18)= 1
ID = 3480

;----------------------------------------------------------------------------------------------

;--------------------------------------------------------------------------------------------------------------------
;프로텍트 불꽃효과
[State 7000, 7]    ;Bbl
type = Explod
triggerall = (NumExplod(2200) < 4) && Random < 450 && p2movetype = H
trigger1 = ProjHit1890 = 1, < 15
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = 0,-50
random = 100,100
ignorehitpause = 1
ownpal = 1

[State 7000, 8]   ;Bbs
type = Explod
triggerall = (NumExplod(2200) < 4) && Random < 450 && p2movetype = H
trigger1 = ProjHit1890 = 1, < 15
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = 0,-50
random = 100,100
ignorehitpause = 1
ownpal = 1

[State 7000, 9]
type = Explod
triggerall = (NumExplod(2200) < 4) && Random < 450 && p2movetype = H
trigger1 = ProjHit1890 = 1, < 15
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = 0,-50
random = 100,100
ignorehitpause = 1
ownpal = 1

[State 7000, 10]
type = Explod
triggerall = (NumExplod(2200) < 4) && Random < 500 && p2movetype = H
trigger1 = ProjHit1890 = 1, < 15
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = 0,-50
random = 100,100
ignorehitpause = 1
ownpal = 1

[State 7000, 11]
type = Explod
triggerall = (NumExplod(2200) < 4) && Random < 700 && p2movetype = H
trigger1 = ProjHit1890 = 1, < 15
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 7000, 12]
type = Explod
triggerall = (NumExplod(2200) < 6) && Random < 700 && p2movetype = H
trigger1 = ProjHit1890 = 1, < 15
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

;Sorrow edge' Throw limitter-------------------------------
[State -2, throwa]
type = VarSet
trigger1 = HitDefAttr = SCA, NA, AP && MoveContact
trigger2 = StateNo = [1000,1090]
trigger3 = P2StateNo = [120,190]
var(4) = 15
ignorehitpause = 1 

[State -2, throwb]
type = VarAdd
trigger1 = var(4) >= 1
var(4) = -1
ignorehitpause = 1 

;Modified it a bit for special throws
[State -2, throwa]
type = VarSet
trigger1 = MoveGuarded
trigger2 = (StateNo = [600,699]) && MoveContact
trigger3 = (StateNo = [600,699]) && MoveGuarded
;trigger4 = P2StateNo = 5120
var(5) = 21	;15
ignorehitpause = 1 

[State -2, throwb]
type = VarAdd
trigger1 = var(5) >= 1
var(5) = -1
ignorehitpause = 1

[State -2, throwa]
type = VarSet
trigger1 = (StateNo != [600,699]) && MoveHit
var(5) = 0
ignorehitpause = 1

;Modified it a bit for special throws 디렉션체인지
[State -2, throwa]
type = VarSet
triggerall = StateNo = [0,999]
triggerall = fvar(23) >= 2 && statetype != A
trigger1 = MoveGuarded
trigger2 = MoveContact
trigger3 = MoveGuarded
;trigger4 = P2StateNo = 5120
var(14) = 28
ignorehitpause = 1

[State -2, throwb]
type = VarAdd
trigger1 = var(14) >= 1
var(14) = -1
ignorehitpause = 1

;--------------------------------------------------------------------------------------------------------------------
;yiori 2k2 모드..
;1p2p위치조절..
[State -2, 2]
type = varset
trigger1 = roundstate = 0 
trigger1 = facing = 1
var(57) = 1

[State -2, 2] 
type = varset
trigger1 = roundstate = 0
trigger1 = facing = -1
var(57) = 2

[State -2]
type = varadd
trigger1 = var(3) > 0 && var(50) = 15
var(3) = -128
ignorehitpause = 1
persistent = 0

[State -2, 15]
type = Varset
trigger1 = var(3) != -128 && var(3) <= 0 && var(50) = 0
var(3) = -128
ignorehitpause = 1
[State -2, 15]
type = Varadd
trigger1 = var(3) > 0
var(3) = -1
ignorehitpause = 1

[State -4, 1]
type = removeexplod
trigger1 = numexplod(1995) > 0
trigger1 = var(3) < 1
id = 1995
[State -4, 1]
type = removeexplod
trigger1 = numexplod(1997) > 0
trigger1 = var(3) < 1
id = 1997

[State -2, 1]
type = varadd
trigger1 = var(50) > 0
var(50) = -1
ignorehitpause = 1

[State -2, 17]
type = PalFX
trigger1 = (GameTime%2)=0
trigger1 = Var(3) > 0
time = 1
add = 120,100,40
ignorehitpause = 1

[State -2, 1]
type = PalFX
trigger1 = var(50) > 6 && gametime%2 = 0
time = 1
add = 255,255,255 
ignorehitpause = 1

[State -4, 1] 
type = modifyexplod
trigger1 = numexplod(1997) > 0 && var(3) > 0
id = 1997
scale = var(3)/769.0,1
ignorehitpause = 1

[State -2, 15]
type = AttackMulSet
trigger1 = stateno != [1999,4000]
trigger1 = stateno != [6999,7103]
trigger1 = stateno != [7599,7630]
trigger1 = stateno != [3000,4000]
trigger1 = var(3) > 0
value = 0.7

[State -2, 15]
type = AttackMulSet
trigger1 = var(3) < 1
trigger2 = stateno = [1999,4000]
trigger3 = stateno = [6999,7103]
trigger4 = stateno = [7599,7630]
value = 1

[State -2, 15]
type = Powerset
trigger1 = Var(3) > 0 && var(20) = 0
value = var(2)
ignorehitpause = 1

;이건 기 관련..
[State -2, 3]
type = poweradd
trigger1 = var(20) > 0
value = -100
ignorehitpause = 1
[State -2, 3]
type = varadd
trigger1 = var(20) > 0
var(20) = -1
ignorehitpause = 1

;--------------------------------------------------------------------------------------------------------------------
;카운터모드
[State -2, Player 1 Setting]
type = VarSet
trigger1 = Facing = 1 && roundstate = 0
var(36) = 1

[State -2, Player 2 Setting]
type = VarSet
trigger1 = Facing = -1 && roundstate = 0
var(36) = 2

[State -2, Counter Hit Envcolor]
type = EnvColor
trigger1 = NumExplod(8004) = 0 && !Win = 1 && var(38) = 1 && movehit = 1
value = 255,255,255
persistent = 0
time = 1
ignorehitpause = 1
under = 1

[State -2, Counter hit Logo (Player 1)]
type = Explod
triggerall = var(36) = 1 && NumExplod(8004) = 0 && !Win = 1 && var(38) = 1 
trigger1 = stateno < 800 && movehit > 0
trigger2 = stateno >= 900 && movehit > 0
trigger3 = projhittime(0) >= 0 && projhittime(0) <= 10
anim = 8004
ID = 8004
pos = -1,75
postype = left
sprpriority = 5
removetime = 42
ontop = 1
shadow = 0,0,0
ownpal = 1
bindtime = -1
ignorehitpause = 1

[State -2, Counter hit Logo (Player 2)]
type = Explod
triggerall = var(36) = 2 && NumExplod(8004) = 0 && !Win = 1 && var(38) = 1 
trigger1 = stateno < 800 && movehit > 0
trigger2 = stateno >= 900 && movehit > 0
trigger3 = projhittime(0) >= 0 && projhittime(0) <= 10
anim = 8005
ID = 8004
pos = 1,75
postype = right
sprpriority = 5
removetime = 42
ontop = 1
shadow = 0,0,0
ownpal = 1
bindtime = -1
ignorehitpause = 1

[State -2, Counter hit varset (P2Attack setting)]
type = Varset
trigger1 = P2movetype = A && var(37) != -1 && !win = 1 && p2life != 0
var(37) = 1
ignorehitpause = 1

[State -2, Counter hit varset (P2Attack setting)]
type = Varset
trigger1 = P2movetype = A && var(38) != -1 && !win = 1 && p2life != 0
var(38) = 1
ignorehitpause = 1

[State -2, Counter hit varset (P2Attack setting)]
type = Varset
trigger1 = p2stateno = 5110
trigger2 = p2stateno = 0
trigger3 = NumExplod(8004) = 1
;trigger3 = var(38) = 1 && movehit > 0
var(38) = 0
ignorehitpause = 1

[State -2, var(37)]
type = VarSet
trigger1 = p2stateno = 5110
trigger2 = p2stateno = 0
trigger3 = fvar(22) = 1 && movehit = 1
var(37) = 0
ignorehitpause = 1

[State -2, Counter Hit Envcolor]
type = VarSet
trigger1 = NumExplod(8004) = 1 && var(23) = 1
fvar(22) = 1
ignorehitpause = 1

[State -2, var(37)]
type = VarSet
trigger1 = p2stateno = 5110
trigger2 = p2stateno = 0
fvar(22) = 0
ignorehitpause = 1

[State -2, Counter hit varset (P2Attack setting)]
type = Varset
trigger1 = P2movetype = A && var(39) != -1 && !win = 1 && p2life != 0
var(39) = 1
ignorehitpause = 1

[State -2, Counter hit varset (P2Attack setting)]
type = Varset
trigger1 = P2movetype != A && var(39) != -1
trigger2 = NumExplod(8004) = 1
var(39) = 0
ignorehitpause = 1

[State -2, 15]
type = AttackMulSet
trigger1 = var(39) = 1
value = 1.3

;--------------------------------------------------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]

;[State -3, Landing Sound]
;type = PlaySnd
;triggerall = Time = 1
;trigger1 = stateno = 52 ;Jump land
;trigger2 = stateno = 47
;value = 47, 1

[state -3, stopsound]
type = stopsnd
trigger1 = stateno != 100
channel = 5

[state -3, stopsound]
type = stopsnd
trigger1 = stateno != [1200,1250]
channel = 6

;--------------------------------------------------------------------------------------------------------------------
;신음소리
[State -3, 1]
type = PlaySnd
triggerall = Time = 1
triggerall = alive
triggerall = Random <= 700
triggerall = UniqHitCount <= 1
triggerall = GetHitVar(hitcount) <= 1
trigger1 = stateno = 5000
trigger1 = anim = 5000
trigger2 = stateno = 5000
trigger2 = anim = 5010
trigger3 = stateno = 5010
trigger3 = anim = 5020 
trigger4 = stateno = 5020
trigger4 = anim = 5000 
trigger5 = stateno = 5020
trigger5 = anim = 5010 
value = 11,1
channel = 3

[State -3, 1]
type = PlaySnd
triggerall = Time = 1
triggerall = alive
triggerall = Random <= 700
triggerall = UniqHitCount <= 1
triggerall = GetHitVar(hitcount) <= 1
trigger1 = stateno = 5000
trigger1 = anim = 5001
trigger2 = stateno = 5000
trigger2 = anim = 5011
trigger3 = stateno = 5010
trigger3 = anim = 5021 
trigger4 = stateno = 5020
trigger4 = anim = 5001 
trigger5 = stateno = 5020
trigger5 = anim = 5011 
value = 11,3
volume = 50
channel = 3

[State -3, 1.4]
type = PlaySnd
triggerall = Time = 1
triggerall = alive
triggerall = Random <= 700
;triggerall = var(16) < 1
triggerall = UniqHitCount <= 1
triggerall = GetHitVar(hitcount) <= 1
trigger1 = stateno = 5000
trigger1 = anim = 5002
trigger2 = stateno = 5000
trigger2 = anim = 5012
trigger3 = stateno = 5010
trigger3 = anim = 5022 
trigger4 = stateno = 5020
trigger4 = anim = 5002 
trigger5 = stateno = 5020
trigger5 = anim = 5012 
value = 11,4
ignorehitpause = 1
channel = 3

[State -3, 1]
type = PlaySnd
triggerall = Time = 1
triggerall = alive
trigger1 = stateno = 5100
value = 11,2
channel = 3

[State -2, 11]
type = PlaySnd
triggerall = random < 500
triggerall = stateno = 5035
trigger1 = anim = 5035
trigger1 = time = 0
value = 11,2
channel = 3

[State -2, 11]
type = PlaySnd
triggerall = random < 700
triggerall = stateno = 5070
triggerall = UniqHitCount <= 1
triggerall = GetHitVar(hitcount) <= 1
triggerall = alive
trigger1 = time = 1
value = 11,2
channel = 3

;--------------------------------------------------------------------------------------------------------------------
;구석에서의 움직임 제어
[State -2, Width]
type = width
;triggerall = enemyNear,authorname = "zzzasd"
;trigger1 = stateno = 20 || stateno = 21 || stateno = 40 || stateno = 41 || stateno = 42 || stateno = 43
;trigger2 = stateno = 2040 || stateno = 2041 || stateno = 2042 || stateno = 2043 || stateno = 50 || stateno = 2045
;trigger3 = stateno =[0,4000]
trigger1 = stateno =[0,9000]
edge = ifelse(enemyNear,authorname = "zzzasd",12,3),ifelse(enemyNear,authorname = "zzzasd",9,0)	;9,9

[State -2, var(41)]
type = Varadd
trigger1 = (enemynear,backedgedist < 10) && (enemynear,FrontEdgeBodyDist > 200)
trigger2 = (enemynear,FrontEdgeBodyDist < 13) && (enemynear,backedgedist > 200)
var(41) = 1

[State -2, var(41)]
type = Varset
trigger1 = var(41) >= 3
var(41) = 3

[State -2, var(41)]
type = VarSet
trigger1 = (enemynear,backedgedist > 9) && (enemynear,FrontEdgeBodyDist > 200)
trigger2 = (enemynear,FrontEdgeBodyDist > 12) && (enemynear,backedgedist > 200)
var(41) = 0

;점프했을때 움직임 제어
[State -2, ANIM3]
type = VarSet
trigger1 = stateno != 2045
var(30) = 3
ignorehitpause = 1

[State -2, ANIM2]
type = VarSet
trigger1 = stateno != 2041 && vel x != 0
var(30) = 2
ignorehitpause = 1

[State -2, ANIM1]
type = VarSet
trigger1 = stateno != 2041 && vel x = 0
var(30) = 1
ignorehitpause = 1

;[State -2, var(30)]
;type = VarSet
;trigger1 = vel y <= 0
;var(30) = 0
;ignorehitpause = 1

;------------------------------------------------------------------------------------------
;착지한순간
[State -2, fvar(21)]
type = Varadd
trigger1 = statetype != A;	pos y = 0
fvar(21) = 1

[State -2, fvar(21)]
type = Varset
trigger1 = fvar(21) >= 60
fvar(21) = 3

[State -2, fvar(21)]
type = VarSet
trigger1 = statetype = A
trigger2 = stateno = [200,9999]
fvar(21) = 0

;----------------------------------------------------------------------
;------------------------------------------------------------------------------------------
;------------------------------------------------------------------------------
ko당했을시 움직임제어
[State -2]
type = Velset
trigger1 = StateNo = 5150
x = 0

[State -2]
type = PosSet
trigger1 = StateNo = 5150
y = 0

;---------------------------------------------------------

;밀려나기 소스
[State -2, 15]
type = Velset
triggerall = (statetype != A && P2statetype != A) && var(41) >= 1
triggerall = (ProjContactTime(0) = -1 || ProjContactTime(0) >= 30)
triggerall = ((P2stateno = [5000,5029]) || (P2stateno = [4000,4029]) || (P2stateno = [120,159]))
trigger1 = target,Vel x
;x = (target,Vel x)
;x = (target,Vel x) * ifelse((P2stateno = [120,159])&&fvar(23) = 2,1.22,ifelse((P2stateno = [120,159])&&fvar(23) = 1,1.5,ifelse((P2stateno = [120,159])&&fvar(23) = 3,1.14,1)))
;x = ((target,Vel x)*ifelse(fvar(21)>=1,0.6,1))*ifelse((P2stateno = [120,159]),1.2,1)
;x = ((target,Vel x)*ifelse(fvar(21)>=1,0.6,1))*ifelse((P2stateno = [120,159]) && var(41) >= 1,1.2,1)
x = ((((target,Vel x)*ifelse(fvar(21)>=1,0.6,1))*ifelse((P2stateno = [120,159]) && var(41) >= 1,1.2,1))*ifelse(target,Vel x>0,-1,1))*ifelse((stateno = [1500,1599]) && (BackEdgeDist<FrontEdgeDist),-1,1)
persistent = 0;추가
ignorehitpause = 1
;기억하라 상대vel만큼밀려나고 착지하고 움직이지않았을때 "임의"로 그힘의 60%만 작동하고 상대가 가드칠때도 "임의"로 1.2곱한다
;상대vel만큼밀려나고 착지하고 움직이지않았을때 "임의"로 그힘의 60%만 작동하고 상대가 "구석"에서 가드칠때도 "임의"로 1.2곱한다
;디렉션 체인지때문에 크리스만 정방구분소스더넣었다

;밀려나기 소스
[State -2, 15]
type = Velset
triggerall = (statetype != A && P2statetype != A) && var(41) >= 1
triggerall = (ProjContactTime(0) = -1 || ProjContactTime(0) >= 30)
triggerall = ((P2stateno = [5000,5029]) || (P2stateno = [4000,4029]) || (P2stateno = [120,159]))
trigger1 = target,GetHitVar(xvel) = 0
trigger2 = target,GetHitVar(yvel) != 0 && movecontact = 1
;trigger3 = movecontact = 1;추가
x = 0
persistent = 0;추가
ignorehitpause = 1

;[State -2, 15]
;type = VelSet
;trigger1 = target,HitOver
;x = 0
;ignorehitpause = 1

[State -2, 15];크리스전용으로 추가
type = VelSet
trigger1 = (stateno = 3310 || stateno = 3330 || stateno = 3360) && MoveContact > 0
x = 0
ignorehitpause = 1

;------------------------------------------------------------
;맞는상대 나의스텟으로 옳기기
;[state -2]
;type = TargetState
;trigger1 = target,stateno = [5000,5101]
;value = (target,stateno)-1000
;ignorehitpause = 1

;[state -2]
;type = TargetState
;trigger1 = target,stateno = [0,4999]
;value = (target,stateno)

;---------------------------------------------------------
;밀려나기 단계구분

[State -2]
type = varset
trigger1 = ((StateNo = [200,209]) || (StateNo = [230,239]) || (StateNo = [400,409]) || (StateNo = [430,439])) && movecontact = 1
trigger2 = ((StateNo = [610,619]) || (StateNo = [640,649])) && (movecontact = 1 && statetype = A)
trigger3 = ((StateNo = [600,609]) || (StateNo = [630,639]) || ( StateNo = [1000,9999])) && (movecontact = 1 && statetype = A)
fvar(23) = 1
ignorehitpause = 1

[State -2]
type = varset
triggerall = statetype != A
trigger1 = ((StateNo = [210,219]) || (StateNo = [240,249]) || (StateNo = [410,419]) || (StateNo = [440,449])) && movecontact = 1
trigger2 = ((StateNo = [450,459]) || (StateNo = [700,999])) && movecontact = 1
trigger3 = (StateNo = [1000,9999]) && movecontact = 1
trigger4 = (StateNo = [650,659]) && movecontact = 1
fvar(23) = 2
ignorehitpause = 1

[State -2]
type = varset
trigger1 = (StateNo = [250,269]) && movecontact = 1
fvar(23) = 3
ignorehitpause = 1

;---------------------------------------------------------
;가드포즈결정바

[State -2]
type = varset
trigger1 = (P2StateNo = [200,209]) || (P2StateNo = [230,239]) || (P2StateNo = [400,409]) || (P2StateNo = [430,439])
trigger2 = (P2StateNo = [600,609]) || (P2StateNo = [630,639])
var(54) = 1
ignorehitpause = 1

[State -2]
type = varset
trigger1 = (P2StateNo = [210,219]) || (P2StateNo = [240,249]) || (P2StateNo = [410,419]) || (P2StateNo = [440,449])
trigger2 = (P2StateNo = [250,269]) || (P2StateNo = [450,459]) || (P2StateNo = [700,999])
trigger3 = (P2StateNo = [610,619]) || (P2StateNo = [640,649]) || (P2StateNo = [650,659])
var(54) = 2
ignorehitpause = 1

[State -2]
type = varset
trigger1 = P2StateNo = [1000,9999]
var(54) = 3
ignorehitpause = 1

;------------------------------------------------------------------------------------------
[State -2, 1]
type = DisplayToClipboard
trigger1 = 1
text="P2Dist x = %d pos y = %d BackEdgeDist = %d var(14) = %d"
params = floor(P2Dist x),floor(pos y),floor(BackEdgeDist),floor(var(14))
ignorehitpause = 1

;----------------------------------------------
;공격히트백설정

;보통뜰때 1칸 적게뜬다 다리걸땐 높이 59인데 그냥 보통으로한다
;갑환처럼 높게뛰우는것도 1높다 그런데 아무리해도 전체적으로 안맞춰진다

;약공격 평지
[state -2]
type = varset
trigger1 = 1
fvar(1) = -6;-4.72

;약공격 구석
[state -2]
type = varset
trigger1 = 1
fvar(2) = -7.2	;-8

;강공격 평지
[state -2]
type = varset
trigger1 = 1
fvar(3) = -11 ;-10.46

;강공격 구석
[state -2]
type = varset
trigger1 = 1
fvar(4) = -13;-10.2

;날리기공격 평지
[state -2]
type = varset
trigger1 = 1
fvar(5) = -14.4

;날리기공격 구석
[state -2]
type = varset
trigger1 = 1
fvar(6) = -17.2

;약공격 코너푸쉬
[state -2]
type = varset
trigger1 = 1
fvar(7) = -6

;강공격 코너푸쉬
[state -2]
type = varset
trigger1 = 1
fvar(8) = -18

;날리기공격 코너푸쉬
[state -2]
type = varset
trigger1 = 1
fvar(9) = -24

;맞고 날아가는 x축
[state -2]
type = varset
trigger1 = 1
fvar(10) = -4.64

;맞고 날아가는 y축
[state -2]
type = varset
trigger1 = 1
fvar(11) = -8.09

;미닛맞고 날아가기 x축
[state -2]
type = varset
trigger1 = 1
fvar(24) = -6.34

;미닛맞고 날아가기 y축
[state -2]
type = varset
trigger1 = 1
fvar(25) = -8.78

;맞고 (멀리,돌면서?) 날아가는 x축	;미닛이랑똑같네;;
[state -2]
type = varset
trigger1 = 1
fvar(26) = -6.34

;맞고 (멀리,돌면서?) 날아가는 y축	;미닛이랑똑같네;;
[state -2]
type = varset
trigger1 = 1
fvar(27) = -8.78

;맞고 (멀리,돌면서?)날아가는 중력
[state -2]
type = varset
trigger1 = 1
fvar(28) = 0.48

;갑환 초필처럼 진짜높게날아가는 x축
[state -2]
type = varset
trigger1 = 1
fvar(29) = -2.09

;갑환 초필처럼 진짜높게날아가는 y축
[state -2]
type = varset
trigger1 = 1
fvar(30) = -13.91

;갑환 초필처럼 진짜높게날아가는 중력
[state -2]
type = varset
trigger1 = 1
fvar(31) = 0.602

;맞는 상대 중력값
[state -2]
type = varset
trigger1 = 1
fvar(12) = 0.523

;높게뜨는 x축
[state -2]
type = varset
trigger1 = 1
fvar(13) = -2.48

;높게뜨는 y축
[state -2]
type = varset
trigger1 = 1
fvar(14) = -11.56

;다리걸때 x축
[state -2]
type = varset
trigger1 = 1
fvar(20) = -1.76

;레드킥맞고 밑으로 떨어질때 x축
[state -2]
type = varset
trigger1 = 1
fvar(34) = -6

;레드킥맞고 밑으로 떨어질때 y축
[state -2]
type = varset
trigger1 = 1
fvar(35) = 8

;xi 시스템 막았을때 더밀리기?
[state -2]
type = varset
trigger1 = 1
fvar(15) = 1;1.2

;가드시 히트백이 0일때
[state -2]
type = varset
trigger1 = 1
fvar(16) = 0

;pausetime 의 나 (보통강공격)
[state -2]
type = varset
trigger1 = 1
var(45) = 12

;pausetime 히트시 상대 (보통강공격)
[state -2]
type = varset
trigger1 = 1
var(46) = 13;-ifelse(((statetype != A && P2statetype != A) && var(41) >= 1),1,0)

;pausetime 가드시 상대 (보통강공격)
[state -2]
type = varset
trigger1 = 1
var(47) = 11;-ifelse(((statetype != A && P2statetype != A) && var(41) >= 1),1,0)

;pausetime 의 나 (보통약공격)
[state -2]
type = varset
trigger1 = 1
var(10) = 8

;pausetime 히트시 상대 (보통약공격)
[state -2]
type = varset
trigger1 = 1
var(11) = 9;-ifelse(((statetype != A && P2statetype != A) && var(41) >= 1),1,0)

;pausetime 가드시 상대 (보통약공격)
[state -2]
type = varset
trigger1 = 1
var(15) = 7;-ifelse(((statetype != A && P2statetype != A) && var(41) >= 1),1,0)

;약공격 hittime
[state -2]
type = varset
trigger1 = 1
var(34) = 8;+ifelse(((statetype != A && P2statetype != A) && var(41) >= 1),1,0)

;강공격 hittime
[state -2]
type = varset
trigger1 = 1
var(35) = 16;+ifelse(((statetype != A && P2statetype != A) && var(41) >= 1),1,0)

;약공격 hittime 가드시
[state -2]
type = varset
trigger1 = 1
var(29) = (8*2);+ifelse(((statetype != A && P2statetype != A) && var(41) >= 1),1,0)

;강공격 hittime 가드시
[state -2]
type = varset
trigger1 = 1
var(31) = (16*2);+ifelse(((statetype != A && P2statetype != A) && var(41) >= 1),1,0)

;==========================================================================
;    King Of Figthers 2002 Unlimited Match HSDM Fondo y Broken Glass
;==========================================================================
;--------------------------------------HSDM 2002 UM------------------------
[Statedef 40001]
anim = 9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG

[State 40001, Tile #1-7]
type = Explod
triggerall = !numexplod(15600)
trigger1 = !time
anim = 15600
ID = 15600
pos = 0,0
postype = left  ;p2,front,back,left,right
removetime = 10
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1
persistent = 0

[State 40001, Tile #1-7]
type = Explod
triggerall = !numexplod(15601) < 2
trigger1 = !time
trigger2 = (time%10) = 0
anim = 15600
ID = 15601
pos = 320,0
postype = left  ;p2,front,back,left,right
removetime = 20
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1

[State 40001, Tile #2-6]
type = Explod
triggerall = !numexplod(15610)
trigger1 = !time
anim = 15601
ID = 15610
pos = 0,0
postype = left  ;p2,front,back,left,right
removetime = 20
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 40001, Tile #2-6]
type = Explod
triggerall = !numexplod(15611) < 2
trigger1 = !time
trigger2 = (time%20) = 0
anim = 15601
ID = 15611
pos = 320,0
postype = left  ;p2,front,back,left,right
removetime = 40
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1

[State 40001, Tile #3-5]
type = Explod
triggerall = !numexplod(15620)
trigger1 = !time
anim = 15602
ID = 15620
pos = 0,0
postype = left  ;p2,front,back,left,right
removetime = 40
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 40001, Tile #3-5]
type = Explod
triggerall = !numexplod(15621) < 2
trigger1 = !time
trigger2 = (time%40) = 0
anim = 15602
ID = 15621
pos = 320,0
postype = left  ;p2,front,back,left,right
removetime = 80
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1

[State 40001, Tile #4]
type = Explod
triggerall = !numexplod(15630)
trigger1 = !time
anim = 15603
ID = 15630
pos = 0,0
postype = left  ;p2,front,back,left,right
removetime = 80
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 40001, Tile #4]
type = Explod
triggerall = !numexplod(15631) < 2
trigger1 = !time
trigger2 = (time%80) = 0
anim = 15603
ID = 15631
pos = 320,0
postype = left  ;p2,front,back,left,right
removetime = 160
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1

;----------Aqui cambias a broken glass tiempo-------------


[State 40001, Glass Break]
type = ChangeState
trigger1 = parent, stateno != [3200,3508] ; Aqui La Primera Y Animacion Final Del Ataque
trigger2 = Parent,Stateno = 3200 && Parent,Time >= 200 ;Aqui Regulas EL Tiempo De La Primera Animacion (Esto Sera Lo Que Demora EL fondo Verde Antes De Convertirse A Broken Glass
trigger3 = Parent,Stateno = 3508 && Parent,Time >= 190 ;Aqui Regulas El Tiempo Del Broken (Se Paciente No De La Primera Vez Saldra Ve Regulandole Hasta Que El Se Rompa En El Ultimo Hit)
value = stateno+1

;----------Aqui regulas el tiempo-------------

;kof 2002 um part2
[Statedef 40002]
anim = 9999

[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15600
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15601
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15610
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15611
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15620
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15621
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15630
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15631

[State 40002, PlaySnd]
type = PlaySnd
trigger1 = !time
value = 2500,  ; Grupo Y Sonido Del SND Del Broken
volume = 255 ;Volumen Del Broken

[State 40001, Glass Break]
type = Explod
triggerall = !numexplod(15640)
trigger1 = !time
anim = 15604
ID = 15640
pos = 0,0
postype = left  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
scale = 1,1
sprpriority = -20
ownpal = 1
bindtime = -1
ignorehitpause = 1

[State 40001, DestroySelf]
type = DestroySelf
trigger1 = time = 1
;--------------------------------------------------------------------------
;==========================================================================
;    King Of Figthers 2002 Unlimited Match HSDM Fondo y Broken Glass
;==========================================================================

;--------------------------[2002 UM MAX2 PORTRAIT]------------------------------
[Statedef 40003]
anim = 9999

[State 40003, VarSet]
type = VarSet
triggerall = enemy, numhelper(40003)
triggerall = !enemy, numhelper(40004)
trigger1 = enemy, authorname = "Vans"
trigger2 = enemy, authorname = "K.O.D"
trigger3 = enemy, authorname = "K.O.D & Vans"
trigger4 = enemy, authorname = "OrochiKOF97"
trigger5 = enemy, authorname = "Dark Saviour"
trigger6 = enemy, authorname = "Kung Fu Man"
trigger7 = enemy, authorname = "KoopaKoot"
trigger8 = enemy, authorname = "Anjel"
trigger9 = enemy, authorname = "Vans & Kung Fu Man"
var(0) = 1

[State 40003, VarSet]
type = VarSet
triggerall = teamside = 2
triggerall = enemy, numhelper(40004)
trigger1 = enemy, authorname = "Vans"
trigger2 = enemy, authorname = "K.O.D"
trigger3 = enemy, authorname = "K.O.D & Vans"
trigger4 = enemy, authorname = "OrochiKOF97"
trigger5 = enemy, authorname = "Dark Saviour"
trigger6 = enemy, authorname = "Kung Fu Man"
trigger7 = enemy, authorname = "KoopaKoot"
trigger8 = enemy, authorname = "Anjel"
trigger9 = enemy, authorname = "Vans & Kung Fu Man"
var(0) = 1

[State 40001, P1 BG]
type = Explod
triggerall = !numexplod(15650)
triggerall = teamside = 1
trigger1 = !time
anim = 15605
ID = 15650
pos = 0,abs((240*var(0))-81)
postype = left  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
bindtime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1

[State 40001, P2 BG]
type = Explod
triggerall = !numexplod(15651)
triggerall = teamside = 2
trigger1 = !time
anim = 15606
ID = 15651
pos = 0,abs((240*var(0))-81)
postype = right  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
bindtime = -1
scale = 1,1
facing = -1
sprpriority = -20
ownpal = 1
ignorehitpause = 1

[State 40001, P1 PORTRAIT]
type = Explod
triggerall = !numexplod(15660)
triggerall = teamside = 1
trigger1 = !time
anim = 15607
ID = 15660
pos = 0,abs((240*var(0))-81)
postype = left  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
bindtime = -1
scale = 1,1
sprpriority = -19
ownpal = 1
ignorehitpause = 1

[State 40001, P2 PORTRAIT]
type = Explod
triggerall = !numexplod(15661)
triggerall = teamside = 2
trigger1 = !time
anim = 15607
ID = 15661
pos = 0,abs((240*var(0))-81)
postype = right  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
bindtime = -1
scale = 1,1
facing = -1
sprpriority = -19
ownpal = 1
ignorehitpause = 1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 15650
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 15650
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 15650
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 15650
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 15650
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 15650
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 15650
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 15650
scale = 1,1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 15651
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 15651
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 15651
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 15651
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 15651
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 15651
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 15651
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 15651
scale = 1,1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 15660
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 15660
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 15660
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 15660
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 15660
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 15660
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 15660
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 15660
scale = 1,1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 15661
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 15661
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 15661
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 15661
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 15661
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 15661
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 15661
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 15661
scale = 1,1

[State 40001, DestroySelf]
type = DestroySelf
trigger1 = time = 60

[Statedef 40004]
anim = 9999

[State 40001, DestroySelf]
type = DestroySelf
trigger1 = time = 1

;------------------------------------------------------------------
;------------------------------------------------------------------------------------------


;---------------------------------------------------------------------------
; 基本データ
;---------------------------------------------------------------------------
[Data]
life              = 2100   ;ライフ（体力ゲージ）最大値
power             = 5000   ;パワーゲージ最大値（オプション・デフォルトは3000=Lv.3）
attack            = 210    ;攻撃力（デフォルトは１００％）
defence           = 500    ;防御力（デフォルトは１００％）
fall.defence_up   = 50     ;横に倒れている時に一時的に加える防御力（％）
liedown.time      = 60     ;横に倒れている時間（フレーム）
airjuggle         = 15     ;ジャグルポイント限界値（「小ネタ.txt」参照）
sparkno           = 2      ;デフォルトのヒットスパーク（fightfxから）
guard.sparkno     = 40     ;デフォルトのガードスパーク（fightfxから）
KO.echo           = 0      ;ＫＯ時の音声（11,0）にエコーを掛けるか否か（0=掛けない,1=掛ける）
volume            = 0      ;キャラの標準の音量（最小-255・最大255）
IntPersistIndex   = 54     ;次のラウンドへ持ち越せる「Var」のアドレスの範囲を決める（※１）
FloatPersistIndex = 40     ;次のラウンドへ持ち越せる「FVar」のアドレスの範囲を決める（※１）

;---------------------------------------------------------------------------
; サイズ
;---------------------------------------------------------------------------
[Size]
xscale           = 1       ;キャラの横の大きさ（絶対値・float）
yscale           = 1       ;キャラの縦の大きさ（絶対値・float）
ground.back      = 16      ;地上にいる時の「後方の物理的な幅」
ground.front     = 17      ;地上にいる時の「前方の物理的な幅」
air.back         = 12      ;空中にいる時の「後方の物理的な幅」
air.front        = 12      ;空中にいる時の「前方の物理的な幅」
height           = 60      ;キャラの物理的な高さ（高いほど相手は飛び越しにくくなる）
attack.dist      = 160     ;相手がガード態勢に入る最低の距離
proj.attack.dist = 90      ;自分の「Projectile」に対して相手がガード態勢に入る最低の距離
proj.doscale     = 0       ;xscaleとyscaleを「Projectile」にも影響させるか否か（0=させない・1=させる）
head.pos         = -5,-90  ;キャラの標準の頭の座標（Bind系で適用される）
mid.pos          = -5,-60  ;キャラの標準の体中心の座標（Bind系で適用される）
shadowoffset     = 0       ;影のＹ軸方向の位置座標
draw.offset      = 0,0     ;キャラの表示座標（Ｘ軸,Ｙ軸）

;---------------------------------------------------------------------------
; 移動速度
;---------------------------------------------------------------------------
[Velocity]
walk.fwd     = 2.65        ;前進速度（Ｘ軸・[Statedef 20]に適用される）
walk.back    = -2.65       ;後退速度（Ｘ軸・[Statedef 20]に適用される）
run.fwd      = 5.7,0       ;前方に走る速度（Ｘ軸,Ｙ軸・[Statedef 100]に適用される）
run.back     = -6.9,-3     ;後方に走る速度（Ｘ軸,Ｙ軸・[Statedef 105]に適用される）
jump.neu     = 0,-9        ;垂直ジャンプの速度（Ｘ軸,Ｙ軸・[Statedef 40]に適用される）
jump.back    = -3.0        ;後方ジャンプの速度（Ｘ軸・[Statedef 40]に適用される）
jump.fwd     = 3.0         ;前方ジャンプの速度（Ｘ軸・[Statedef 40]に適用される）
runjump.back = -2.55,-8.1  ;後方に走ってからのジャンプ速度（Ｘ軸,Ｙ軸・[Statedef 40]に適用される）
runjump.fwd  = 4,-8.1      ;前方に走ってからのジャンプ速度（Ｘ軸,Ｙ軸・[Statedef 40]に適用される）
airjump.neu  = 0,-8.1      ;空中垂直ジャンプ速度（Ｘ軸,Ｙ軸・[Statedef 45]に適用される）
airjump.back = -2.55       ;空中後方ジャンプ速度（Ｘ軸・[Statedef 45]に適用される）
airjump.fwd  = 2.5         ;空中前方ジャンプ速度（Ｘ軸・[Statedef 45]に適用される）

;---------------------------------------------------------------------------
; 運動関係
;---------------------------------------------------------------------------
[Movement]
airjump.num     = 0        ;空中ジャンプが出来る回数
airjump.height  = 35       ;空中ジャンプが出来る最低の高度（Ｙ軸）
yaccel          = .56      ;Ｙ軸加速度（重力）
stand.friction  = .85      ;立っている時の摩擦係数（ステートのPhysicsが「S」の時）
crouch.friction = .82      ;しゃがんでいる時の摩擦係数（ステートのPhysicsが「C」の時）

;===========================================================================
; ステート
;===========================================================================
;===========================================================================
; 基本行動
;===========================================================================
;---------------------------------------------------------------------------
; Stand
[Statedef 0]
type = S
physics = S
sprpriority = 0

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 0

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = time = 0
;trigger1 = abs(vel x) < 2
;trigger2 = Time = 4
x = 0

[State 0, PosSet];浮遊バグ対策
type = PosSet
trigger1 = alive && Life>0
trigger1 = abs(Pos Y) > 5
y = 0

[State 0, 4] ;Are you dead?
type = ChangeState
trigger1 = !alive
value = 5050

;---------------------------------------------------------------------------
; Stand to Crouch
[Statedef 10]
type    = C
physics = C
anim = 10

[State 10, 1]
type = VelSet
trigger1 = Time = 0
x = 0

[State 10, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;---------------------------------------------------------------------------
; Crouching
[Statedef 11]
type    = C
physics = C
anim = 11
sprpriority = 0

[State 11, 0]
type = VelSet
trigger1 = Time = 0
x = 0

[State 11, 1] ;Change from turning animation
type = ChangeAnim
trigger1 = Anim = 6 && AnimTime = 0
value = 11

;---------------------------------------------------------------------------
; Crouch to Stand
[Statedef 12]
type    = S
physics = S
anim = 12

[State 11, 0]
type = VelSet
trigger1 = Time = 0
x = 0

[State 12, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Walk
[Statedef 20]
type    = S
physics = S
sprpriority = 0

[State -1, AI]
Type = ChangeState
TriggerAll = var(59) >0
Trigger1 = !Time
Value = 19
IgnoreHitPause = 1

[State 20, 1]
type = VelSet
trigger1 = var(59)=0
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)

[State 20, 2]
type = VelSet
trigger1 = var(59)=0
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)

[State 20, 3]
type = ChangeAnim
triggerall = vel x > 0
trigger1 = Anim != 20 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 20

[State 20, 4]
type = ChangeAnim
triggerall = vel x < 0
trigger1 = Anim != 21 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 21

;---------------------------------------------------------------------------
; Walk(FWD) AI
[Statedef 19]
type    = S
physics = S
sprpriority = 0
ctrl = 0

[State 19, 1]
type = VelSet
trigger1 = 1
x = const(velocity.walk.fwd.x)

[State 19, 3]
type = ChangeAnim
trigger1 = Anim != 20
value = 20

[State 20, 1]
type = Turn
trigger1 = P2dist X < 0

[State 19, Ctrl]
type = ChangeState
trigger1 = roundstate!=2
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Walk(BACK) AI
[Statedef 21]
type    = S
physics = S
sprpriority = 0
ctrl = 0

[State 21, 2]
type = VelSet
trigger1 = 1
x = const(velocity.walk.back.x)

[State 21, 4]
type = ChangeAnim
trigger1 = Anim != 21
value = 21

[State 20, 1]
type = Turn
trigger1 = P2dist X < 0

[State 21, Ctrl]
type = ChangeState
trigger1 = roundstate!=2
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Walk Stop AI
[State -1, AI]
Type = ChangeState
triggerall = (stateno=19||stateno=21)
trigger1 = var(59)<0
trigger2 = roundstate!=2
Value = 0
Ctrl = 1

[State -1, AI]
Type = ChangeState
triggerall = (stateno=19||stateno=21)&&(var(59)>0)
trigger1 = time > 12 || (time > 3 && var(59)>8)
trigger1 = P2bodydist x < 30
Trigger1 = anim = 20
trigger1 = fvar(38)!=1
trigger2 = time > 24 || (time > 3 && var(59)>8)
trigger2 = P2bodydist x >= 90
Trigger2 = anim = 21
trigger3 = inguarddist
Trigger3 = Anim = 21 || Random < 60*(var(59)-1)||var(59) >8
trigger4 = roundstate != 2
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; Jump Start
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 6]
type = ChangeState
trigger1 = var(59) > 0
trigger1 = Time = 0
value = 19

[State 40, 2]
type = VarSet
trigger1 = var(59)=0
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = var(59)=0
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 || prevstateno = 99; || (var(59)>0&&fvar(39)=3);RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Jump Start(AI)
[Statedef 41]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 40, 1]
type = VarSet
trigger1 = Time = 0
trigger2 = var(59)>0
trigger2 = enemynear(var(58)),statetype=A
trigger2 = enemynear(var(58)),statetype!=L
trigger2 = enemynear(var(58)),movetype!=H
trigger2 = enemynear(var(58)),vel x > 0
trigger2 = p2bodydist x = [60,100]
trigger2 = random<100
trigger3 = var(59)=[1,5]
trigger3 = random<50
trigger4 = var(59)>0
trigger4 = fvar(39)!=3
trigger5 = var(59)>0
trigger5 = prevstateno!=[99,100]
trigger5 = p2bodydist x = [-2,50]
trigger5 = random<=250
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = var(59)=0
trigger1 = command = "holdfwd"
trigger2 = (var(59)>0&&enemynear(var(58)),statetype!=A)
trigger3 = var(59)>0
trigger3 = EnemyNear(var(58)),StateType != L || P2BodyDist X >= 40
trigger3 = EnemyNear(var(58)),MoveType = H || Random <= 333 || EnemyNear(var(58)),StateType = L
trigger4 = var(59)>0
trigger4 = fvar(39)!=3
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = var(59)=0
trigger1 = command = "holdback"
trigger2 = var(59)>0&&enemynear(var(58)),statetype=A&&enemynear(var(58)),vel x>0
trigger2 = enemynear(var(58)),stateno!=[105,106]
trigger2 = backedgebodydist >60
trigger2 = sysvar(1)!=1&&random<=250
trigger3 = var(59)>0
trigger3 = fvar(39)=3
trigger4 = var(59)>0
trigger4 = enemynear(var(58)),statetype!=A
trigger4 = p2bodydist x = [50-enemynear(var(58)),vel x*5,80+enemynear(var(58)),vel x*5]
trigger4 = backedgebodydist >60
trigger4 = random<=250
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 || prevstateno = 99;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Jump Land
[Statedef 52]
type    = S
physics = S
ctrl = 0
anim = 47

[State 52, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 3]
type = CtrlSet
trigger1 = Time = 3
value = 1

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; RUN_FWD
[Statedef 100]
type    = S
physics = S
anim = 100
sprpriority = 1

[State 100, 0]
type = PlaySnd
trigger1 = Time = 3
value = 100, 0
loop = 1
channel = 1

[State 100, 1]
type = VelSet
trigger1 = AnimElemtime(2) >= 0
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 4]
type = ChangeState
trigger1 = command != "holdfwd"
value = 0

;---------------------------------------------------------------------------
; RUN_FWD (AI)
[Statedef 99]
type    = S
physics = S
anim = 100
ctrl = 0
sprpriority = 1

[State 100, 0]
type = PlaySnd
trigger1 = Time = 3
value = 100, 0
loop = 1
channel = 1

[State 100, 1]
type = VelSet
trigger1 = AnimElemtime(2) >= 0
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 4]
type = ChangeState
triggerall = var(59) = 0
trigger1 = command != "holdfwd"
value = 0
ctrl = 1

[State -1, AI]
type = ChangeState
triggerall = var(59)>=1
triggerall = stateno = 99 && time>=10
triggerall = fvar(38)=0
Trigger1 = inguarddist
Trigger2 = EnemyNear,MoveType!=H
Trigger2 = P2BodyDist X<=30
Trigger2 = P2BodyDist Y>=-120
trigger2 = random<=var(59)*15
Trigger3 = P2BodyDist X=[10,30]
trigger3 = random<=var(59)*15
trigger4 = RoundState != 2 
trigger5 = p2bodydist x <= 5
trigger6 = p2bodydist x = [31,60]
trigger6 = random<=var(59)*20
trigger7 = P2BodyDist X = [61,90]
trigger7 = random <= var(59)*5
trigger8 = time = 60
value = 0
ctrl = 1

[State -1, AI]
type = ChangeState
triggerall = stateno = 99
trigger1 = RoundState = 4
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; RUN_BACK
[Statedef 105]
type    = A
physics = A
ctrl = 0
anim = 105
sprpriority = 1

[State 105, 1]
type = VelSet
trigger1 = animelemtime(2) <0
y = 0

[State 105, 1]
type = VelSet
trigger1 = animelem = 2
x = const(velocity.run.back.x)
y = const(velocity.run.back.y)

;[State 105, 2]
;type = CtrlSet
;trigger1 = Time = 2
;value = 1

[State 105, 3]
type = ChangeState
trigger1 = animelemtime(2)>=0
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106

;---------------------------------------------------------------------------
; RUN_BACK2 (land)
[Statedef 106]
type    = S
physics = S
ctrl = 0
anim = 106

[State 106, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 106, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 106, 3]
type = MakeDust
trigger1 = Time = 2
pos = -5,-2
spacing = 1

[State 106, 4]
type = ChangeState
trigger1 = animtime=0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; GUARD (start)
[Statedef 120]
type = U    ;Leave state type unchanged
physics = U ;Leave physics unchanged

[State 120, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 120 + (statetype = C) + (statetype = A)*2

[State 120, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 120, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 120, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 120, Hi to Lo]
type = StateTypeSet
TriggerAll=Statetype = S
Trigger1 = var(59) = 0
Trigger1 = command = "holddown"
Trigger2 = var(59) >= 1
Trigger2 = EnemyNear,StateType!=A
Trigger2 = Random <= var(59)*20||var(59)>9
trigger2 = statetype != A
trigger2 = enemynear(var(58)),stateno!=var(55) && enemynear(var(58)),stateno!=var(54)
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
TriggerAll=Statetype = C
Trigger1 = var(59)=0
Trigger1 = command != "holddown"
Trigger2 = var(59)>=1
Trigger2 = EnemyNear,StateType=A || enemynear(var(58)),stateno=var(55) || enemynear(var(58)),stateno=var(54)
Trigger2 = Random <= var(59)*20||var(59)>9
trigger2 = statetype != A
statetype = S
physics = S

[State 120, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 130 + (statetype = C) + (statetype = A)*2

[State 120, Stop Guarding]
type = ChangeState
Trigger1 = var(59) = 0
trigger1 = command != "holdback"
trigger2 = !inguarddist
Trigger3 = var(59)=[1,9]
Trigger3 = P2BodyDist X<0
Trigger3 = Random <= (10-var(59))*40
value = 140

;---------------------------------------------------------------------------
; STAND GUARD (guarding)
[Statedef 130]
type    = S
physics = S

[State 130, 1]
type = ChangeAnim
trigger1 = Anim != 130
value = 130

[State 130, Hi to Lo]
type = ChangeState
Trigger1 = var(59)=0
Trigger1 = command = "holddown"
Trigger2 = var(59)>=1
Trigger2 = EnemyNear,StateType!=A
Trigger2 = Random <= var(59)*20||var(59)>9
trigger2 = enemynear(var(58)),stateno!=var(55) && enemynear(var(58)),stateno!=var(54)
value = 131

[State 130, Stop Guarding]
type = ChangeState
Trigger1 = var(59) = 0
trigger1 = command != "holdback"
trigger2 = !inguarddist
Trigger3 = var(59)=[1,9]
Trigger3 = P2BodyDist X<0
Trigger3 = Random <= (10-var(59))*40
value = 140

;---------------------------------------------------------------------------
; CROUCH GUARD (guarding)
[Statedef 131]
type    = C
physics = C

[State 131, 1]
type = ChangeAnim
trigger1 = Anim != 131
value = 131

[State 131, Lo to Hi]
type = ChangeState
Trigger1 = var(59)=0
Trigger1 = command != "holddown"
Trigger2 = var(59)>=1
Trigger2 = EnemyNear,StateType=A || enemynear(var(58)),stateno=var(55) || enemynear(var(58)),stateno=var(54)
Trigger2 = Random <= var(59)*20||var(59)>9
value = 130

[State 131, Stop Guarding]
type = ChangeState
Trigger1 = var(59) = 0
trigger1 = command != "holdback"
trigger2 = !inguarddist
Trigger3 = var(59)=[1,9]
Trigger3 = P2BodyDist X<0
Trigger3 = Random <= (10-var(59))*40
value = 140

;---------------------------------------------------------------------------
; AIR GUARD (guarding)
[Statedef 132]
type    = A
physics = N

[State 132, 1]
type = ChangeAnim
trigger1 = Anim != 132
value = 132

[State 132, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 132, 3]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 132, 4]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 132, 5]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 132, 6]
type = ChangeState
trigger1 = sysvar(0)
trigger1 = command = "holdback"
trigger1 = inguarddist
value = 130

[State 132, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52

[State 132, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
Trigger1 = var(59) = 0
trigger2 = !inguarddist
Trigger3 = var(59)=[1,9]
Trigger3 = P2BodyDist X<0
Trigger3 = Random <= (10-var(59))*40
value = 140

;---------------------------------------------------------------------------
; GUARD (end)
[Statedef 140]
type = U    ;Leave state type unchanged
physics = U ;Leave physics unchanged
ctrl = 1

[State 140, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 140 + (statetype = C) + (statetype = A)*2

[State 140, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 140, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 140, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 120, Hi to Lo]
type = StateTypeSet
TriggerAll=Statetype = S
Trigger1 = var(59) = 0
Trigger1 = command = "holddown"
Trigger2 = var(59) >= 1
Trigger2 = EnemyNear,StateType!=A
Trigger2 = Random <= var(59)*20||var(59)>9
trigger2 = statetype != A
trigger2 = enemynear(var(58)),stateno!=var(55) && enemynear(var(58)),stateno!=var(54)
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
TriggerAll=Statetype = C
Trigger1 = var(59)=0
Trigger1 = command != "holddown"
Trigger2 = var(59)>=1
Trigger2 = EnemyNear,StateType=A || enemynear(var(58)),stateno=var(55) || enemynear(var(58)),stateno=var(54)
Trigger2 = Random <= var(59)*20||var(59)>9
trigger2 = statetype != A
statetype = S
physics = S

;[State 140, 5] ;Implemented within engine
;type = ChangeState
;trigger1 = AnimTime = 0
;value = (statetype = C)*11 + (statetype = A)*51

;---------------------------------------------------------------------------
; SGUARDHIT (shaking)
[Statedef 150]
type    = S
movetype= H
physics = N
velset = 0,0

[State 150, 1]
type = ChangeAnim
trigger1 = 1
value = 150

[State 150, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*ifelse(var(59)=0,(command = "holddown"),(enemynear,statetype=C))

[State 120, Hi to Lo]
type = StateTypeSet
TriggerAll=Statetype = S
Trigger1 = var(59) = 0
Trigger1 = command = "holddown"
Trigger2 = var(59) >= 1
Trigger2 = EnemyNear,StateType!=A
Trigger2 = Random <= var(59)*20||var(59)>9
trigger2 = statetype != A
trigger2 = enemynear(var(58)),stateno!=var(55) && enemynear(var(58)),stateno!=var(54)
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
TriggerAll=Statetype = C
Trigger1 = var(59)=0
Trigger1 = command != "holddown"
Trigger2 = var(59)>=1
Trigger2 = EnemyNear,StateType=A || enemynear(var(58)),stateno=var(55) || enemynear(var(58)),stateno=var(54)
Trigger2 = Random <= var(59)*20||var(59)>9
trigger2 = statetype != A
statetype = S
physics = S

[State 150, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 3

;---------------------------------------------------------------------------
; SGUARDHIT2 (knocked back)
[Statedef 151]
type    = S
movetype= H
physics = S
anim = 150

[State 151, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 151, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 151, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 120, Hi to Lo]
type = StateTypeSet
TriggerAll=Statetype = S
Trigger1 = var(59) = 0
Trigger1 = command = "holddown"
Trigger2 = var(59) >= 1
Trigger2 = EnemyNear,StateType!=A
Trigger2 = Random <= var(59)*20||var(59)>9
trigger2 = statetype != A
trigger2 = enemynear(var(58)),stateno!=var(55) && enemynear(var(58)),stateno!=var(54)
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
TriggerAll=Statetype = C
Trigger1 = var(59)=0
Trigger1 = command != "holddown"
Trigger2 = var(59)>=1
Trigger2 = EnemyNear,StateType=A || enemynear(var(58)),stateno=var(55) || enemynear(var(58)),stateno=var(54)
Trigger2 = Random <= var(59)*20||var(59)>9
trigger2 = statetype != A
statetype = S
physics = S

[State 151, 4]
type = ChangeState
trigger1 = HitOver
value = 130
ctrl = 1

;---------------------------------------------------------------------------
; CGUARDHIT (shaking)
[Statedef 152]
type    = C
movetype= H
physics = N
velset = 0,0

[State 152, 1]
type = ChangeAnim
trigger1 = 1
value = 151

[State 152, 3]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*ifelse(var(59)=0,(command = "holddown"),(enemynear,statetype=C))

[State 120, Hi to Lo]
type = StateTypeSet
TriggerAll=Statetype = S
Trigger1 = var(59) = 0
Trigger1 = command = "holddown"
Trigger2 = var(59) >= 1
Trigger2 = EnemyNear,StateType!=A
Trigger2 = Random <= var(59)*20||var(59)>9
trigger2 = statetype != A
trigger2 = enemynear(var(58)),stateno!=var(55) && enemynear(var(58)),stateno!=var(54)
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
TriggerAll=Statetype = C
Trigger1 = var(59)=0
Trigger1 = command != "holddown"
Trigger2 = var(59)>=1
Trigger2 = EnemyNear,StateType=A || enemynear(var(58)),stateno=var(55) || enemynear(var(58)),stateno=var(54)
Trigger2 = Random <= var(59)*20||var(59)>9
trigger2 = statetype != A
statetype = S
physics = S

[State 152, 4]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

;---------------------------------------------------------------------------
; CGUARDHIT2 (knocked back)
[Statedef 153]
type    = C
movetype= H
physics = C
anim = 151

[State 153, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 153, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 153, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 120, Hi to Lo]
type = StateTypeSet
TriggerAll=Statetype = S
Trigger1 = var(59) = 0
Trigger1 = command = "holddown"
Trigger2 = var(59) >= 1
Trigger2 = EnemyNear,StateType!=A
Trigger2 = Random <= var(59)*20||var(59)>9
trigger2 = statetype != A
trigger2 = enemynear(var(58)),stateno!=var(55) && enemynear(var(58)),stateno!=var(54)
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
TriggerAll=Statetype = C
Trigger1 = var(59)=0
Trigger1 = command != "holddown"
Trigger2 = var(59)>=1
Trigger2 = EnemyNear,StateType=A || enemynear(var(58)),stateno=var(55) || enemynear(var(58)),stateno=var(54)
Trigger2 = Random <= var(59)*20||var(59)>9
trigger2 = statetype != A
statetype = S
physics = S

[State 153, 4]
type = ChangeState
trigger1 = HitOver
value = 131
ctrl = 1

;---------------------------------------------------------------------------
; AGUARDHIT (shaking)
[Statedef 154]
type    = A
movetype= H
physics = N
velset = 0,0

[State 154, 1]
type = ChangeAnim
trigger1 = 1
value = 152

[State 154, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 155 ;AGUARDHIT2

[State 154, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

;---------------------------------------------------------------------------
; AGUARDHIT2 (knocked away)
[Statedef 155]
type    = A
movetype= H
physics = N
anim = 152

[State 155, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 155, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 155, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 155, 4]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 155, 5]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = ChangeState
trigger1 = sysvar(0)
trigger1 = command = "holdback"
trigger1 = inguarddist
value = 130

[State 155, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;タイムオーバー（負けた時）
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;勝利ポーズ分岐（common1.cnsには無いけど、これもコモンステート）
[Statedef 180]
type = S

[State 180]
type = VarRandom
trigger1 = 1
v = 2
range = 1,3

[State 180]
type = ChangeState
trigger1 = var(2)!=0
value = 180 + var(2)

;---------------------------------------------------------------------------
;勝利ポーズ
;満月の夜にまた会おうか
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181]
type = PlaySnd
trigger1 = animelemtime(3)=1
value = 180,1
volume = 100

[State 181, 4]
type = AssertSpecial
trigger1 = time = [0,180]
flag = roundnotover

;---------------------------------------------------------------------------
;勝利ポーズ
;はっはっは、はぁ〜
[Statedef 182]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181]
type = PlaySnd
trigger1 = animelemtime(3)=1
value = 180,2
volume = 100

[State 181]
type = PlaySnd
trigger1 = animelemtime(12)=1
value = 180,3
volume = 100

[State 181, 4]
type = AssertSpecial
trigger1 = time = [0,150]
flag = roundnotover

;---------------------------------------------------------------------------
;勝利ポーズ
;早く殺してよ〜
[Statedef 183]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181]
type = PlaySnd
trigger1 = animelemtime(5)=1
value = 180,4
volume = 100

[State 181, 4]
type = AssertSpecial
trigger1 = time = [0,150]
flag = roundnotover

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;イントロ（試合開始前の登場演出アクション）
[Statedef 190]
type = S
ctrl = 0
anim = 190
velset = 0,0

;[state 190, debug];デバッグ用
;type = varset
;trigger1 = time = 0
;var(2) = 0

[state 190, マチュア];対ルガール用マチュア変数
type = varset
triggerall = time = 0
trigger1 = p2name = "Mature"        || p3name = "Mature"        || p4name = "Mature"
trigger2 = p2name = "Orochi_Mature" || p3name = "Orochi_Mature" || p4name = "Orochi_Mature"
var(5) = 1

[state 190, ルガール];対ルガール
type = varset
triggerall = var(5) = 0 ;敵見方双方にマチュアがいない
triggerall = time = 1
trigger1 = p2name = "rugal"           || p4name = "rugal"
trigger2 = p2name = "cvsrugal"        || p4name = "cvsrugal"
trigger3 = p2name = "Rugal.B"         || p4name = "Rugal.B"
trigger4 = p2name = "Rugal_Bernstein" || p4name = "Rugal_Bernstein"
trigger5 = p2name = "Rugal Bernstein" || p4name = "Rugal Bernstein"
trigger6 = p2name = "Rugal B."        || p4name = "Rugal B."
trigger7 = p2name = "Rugal2k2"        || p4name = "Rugal2k2"
trigger8 = p2name = "omega rugal98"   || p4name = "omega rugal98"
trigger9 = p2name = "cvsg_rugal"      || p4name = "cvsg_rugal"
trigger10= p2name = "Rugal_TLE"       || p4name = "Rugal_TLE"
trigger11= p2name = "Rugal2nd"        || p4name = "Rugal2nd"
var(2) = 3

[state 190, マチュア];対マチュア
type = varset
triggerall = time = 1
trigger1 = p2name = "Mature"        || p4name = "Mature"
trigger2 = p2name = "Orochi_Mature" || p4name = "Orochi_Mature"
var(2) = 2

[state 190, 柴舟];対柴舟
type = varset
triggerall = time = 1
trigger1 = p2name = "Saisyu"          || p4name = "Saisyu"
trigger2 = p2name = "Saisyu Kusanagi" || p4name = "Saisyu Kusanagi"
trigger3 = p2name = "SaisyuXI"        || p4name = "SaisyuXI"
var(2) = 1

[State 190, 音]
type = PlaySnd
trigger1 = animelemtime(3)=1
value = 180,0
volume = 100

[State 190, 音]
type = PlaySnd
trigger1 = animelemtime(13)=1
value = 190,0
volume = 100

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 191, 特殊効果];試合が開始するまではこのコントローラを使おう（※２）
type = AssertSpecial
trigger1 = 1
flag = Intro ;イントロの状態

[state 190, changestate]
type = changestate
trigger1 = var(2)!=0
value = 190 + var(2)

[State 191, ステート変更];アニメーションが終われば「通常立ち」のステートに変更する
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;イントロ（対柴舟）
[Statedef 191]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 190, 音]
type = PlaySnd
trigger1 = animelemtime(2)=2
value = 190,2
volume = 100

[State 190, 音]
type = PlaySnd
trigger1 = animelemtime(3)=85
value = 190,3
volume = 100

[State 190, 音]
type = PlaySnd
trigger1 = animelemtime(8)=1
value = 190,4
volume = 100

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 191, 特殊効果];試合が開始するまではこのコントローラを使おう（※２）
type = AssertSpecial
trigger1 = 1
flag = Intro ;イントロの状態

[State 191, ステート変更];アニメーションが終われば「通常立ち」のステートに変更する
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;イントロ（対マチュア）
[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 190, 音]
type = PlaySnd
trigger1 = animelemtime(2)=1
value = 190,1
volume = 100

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 191, 特殊効果];試合が開始するまではこのコントローラを使おう（※２）
type = AssertSpecial
trigger1 = 1
flag = Intro ;イントロの状態

[State 191, ステート変更];アニメーションが終われば「通常立ち」のステートに変更する
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;イントロ（対ルガール）
[Statedef 193]
type = S
ctrl = 0
anim = 193
velset = 0,0

[State 190, 音]
type = PlaySnd
trigger1 = animelemtime(1)=25
value = 190,0
volume = 100

[State 192, intro];イントロマチュア
type = Helper
trigger1 = NumHelper(194) = 0
trigger1 = time = 0
name = "Mature"
id = 194
postype = p1
pos = 13,1
stateno = 194
ownpal = 1
ignorehitpause = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 191, 特殊効果];試合が開始するまではこのコントローラを使おう（※２）
type = AssertSpecial
trigger1 = 1
flag = Intro ;イントロの状態

[State 191, ステート変更]
type = ChangeAnim
trigger1 = animtime = 0
value = 0

[State 191, ステート変更];アニメーションが終われば「通常立ち」のステートに変更する
type = ChangeState
trigger1 = time = 150
value = 0

;---------------------------------------------------------------------------
;イントロ（Helper）
;イントロマチュア
[Statedef 194]
type = S
ctrl = 0
anim = 194
velset = 0,0
sprpriority = 2

[State 192, 4]
type = PosAdd
trigger1 = animelem = 2
x = -35

[State 192, 4]
type = null;PosAdd
trigger1 = animelem = 13
x = 35

[State 192, 4]
type = VelAdd
trigger1 = animelemtime(14) = 0
x = -15
y = -9

[State 192, 4]
type = VelAdd
trigger1 = animelemtime(14) > 0
y = .4

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1000, 0]
Type = StateTypeSet
Trigger1 = animelem = 14
StateType = A
Physics = N

[State 192, 4]
type = Destroyself
trigger1 = Time = 200

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;挑発
[Statedef 195]
type = S
movetype = I
physics = S
ctrl = 0
anim = 195
velset = 0,0
sprpriority = 2
poweradd = 100
facep2 = 1 ;はじめに相手のほうを向くかどうか。省略時0

[State 190, 音]
type = PlaySnd
trigger1 = animelemtime(1)=20
value = 195,0
channel = 0
volume = 100

[State 195, コントロール]
type = CtrlSet
trigger1 = Time = 60
value = 1

[State 195, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;===========================================================================
; 通常攻撃技
;===========================================================================
;---------------------------------------------------------------------------
;立ち弱パンチ
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 8
velset = 0,0
ctrl = 0
anim = 200
poweradd = 0
sprpriority = 2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random<500
value = 200, 0
channel = 0
volume = 100

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 2
value = 300, 0

[State 200, 攻撃設定]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
damage = 41, 0
getpower = 45,45
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 9, 10
sparkno = s4000
guard.sparkno = s4010
sparkxy = -15, -76
hitsound = s1, 1
guardsound = s120, 0
ground.type = High
ground.slidetime = 9
ground.hittime  = 10
ground.velocity = -4.5,0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;遠距離強パンチ
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 0
ctrl = 0
velset = 0,0
anim = 210
sprpriority = 2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random<500
value = 240, 0
channel = 0
volume = 100

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 3
value = 300, 1

[State 210, ヒット定義]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
animtype  = Hard
damage    = 107, 0
guardflag = MA
priority = 4, Hit
getpower = 90,90
pausetime = 11,12
sparkno = s4001
guard.sparkno = s4011
sparkxy = -10,-70
hitsound   = s1,5
guardsound = s120,0
ground.type = High
ground.slidetime = 18
ground.hittime  = 20
ground.velocity = -8.5
airguard.velocity = -2.3,-1.8
air.type = High
air.velocity = -2.5,-3
air.hittime = 20

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;近距離強パンチ
[Statedef 215]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 0
ctrl = 0
velset = 0,0
anim = 215
sprpriority = 2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random<500
value = 240, 0
channel = 0
volume = 100

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 3
value = 300, 1

[State 210, ヒット定義]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
animtype  = Hard
damage    = 82, 0
guardflag = MA
priority = 4, Hit
getpower = 90,90
pausetime = 11,12
sparkno = s4001
guard.sparkno = s4011
sparkxy = -15,-75
hitsound   = s1,5
guardsound = s120,0
ground.type = High
ground.slidetime = 18
ground.hittime  = 20
ground.velocity = -8.5
airguard.velocity = -2.3,-1.8
air.type = High
air.velocity = -2.5,-3
air.hittime = 20

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;遠距離弱キック
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 0
ctrl = 0
velset = 0,0
anim = 230
sprpriority = 2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 300, 0

[State 200, posadd]
type = Posadd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 6
x = 15

[State 200, posadd]
type = Posadd
trigger1 = AnimElem = 10
trigger2 = AnimElem = 11
trigger3 = AnimTime = 0
x = -15

[State 230, ヒット定義]
type = HitDef
trigger1 = animelem = 8
attr = S, NA
animtype  = light
damage    = 41, 0
priority = 3, Hit
getpower = 45,45
guardflag = MA
pausetime = 9,10
sparkno = s4000
guard.sparkno = s4010
sparkxy = -15,-70
hitsound   = s1,0
guardsound = s120,0
ground.type = High
ground.slidetime = 9
ground.hittime  = 10
ground.velocity = -5
air.velocity = -2.5,-3.5

[State 230, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;近距離弱キック
[Statedef 235]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 0
ctrl = 0
velset = 0,0
anim = 235
sprpriority = 2

[State 230, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = random<500
value = 200, 0
channel = 0
volume = 100

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 300, 0

[State 230, ヒット定義]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
animtype  = light
damage    = 41, 0
priority = 3, Hit
getpower = 45,45
guardflag = MA
pausetime = 9,10
sparkno = s4000
guard.sparkno = s4010
sparkxy = -15,-75
hitsound   = s1,0
guardsound = s120,0
ground.type = High
ground.slidetime = 9
ground.hittime  = 10
ground.velocity = -5
air.velocity = -2.5,-3.5

[State 230, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;遠距離強キック
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 0
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random<500
value = 240, 0
channel = 0
volume = 100

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 3
value = 300, 1

[State 210, ヒット定義]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
animtype  = Hard
damage    = 99, 0
guardflag = MA
priority = 4, Hit
getpower = 90,90
pausetime = 11,12
sparkno = s4001
guard.sparkno = s4011
sparkxy = -10,-70
hitsound   = s1,5
guardsound = s120,0
ground.type = High
ground.slidetime = 18
ground.hittime  = 20
ground.velocity = -9
airguard.velocity = -2.3,-1.8
air.type = High
air.velocity = -2.5,-3
air.hittime = 20

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;近距離強キック
[Statedef 245]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 0
ctrl = 0
velset = 0,0
anim = 245
sprpriority = 2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random<500
value = 240, 0
channel = 0
volume = 100

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 3
value = 300, 1

[State 210, ヒット定義]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
animtype  = Hard
damage    = 74, 0
guardflag = MA
priority = 4, Hit
getpower = 75,75
pausetime = 11,12
sparkno = s4001
guard.sparkno = s4011
sparkxy = -20,-70
hitsound   = s1,4
guardsound = s120,0
ground.type = High
ground.slidetime = 18
ground.hittime  = 20
ground.velocity = 0
airguard.velocity = -2.3,-1.8
air.type = High
air.velocity = -2.5,-3
air.hittime = 20

[State 210, ヒット定義]
type = HitDef
trigger1 = animelem = 6
attr = S, NA
animtype  = Hard
damage    = 33, 0
guardflag = MA
priority = 4, Hit
getpower = 15,15
pausetime = 11,12
sparkno = s4001
guard.sparkno = s4011
sparkxy = -20,-50
hitsound   = s1,4
guardsound = s120,0
ground.type = High
ground.slidetime = 18
ground.hittime  = 20
ground.velocity = -7
airguard.velocity = -2.3,-1.8
air.type = High
air.velocity = -2.5,-3
air.hittime = 20

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;モンストロシティー
[Statedef 250]
type = S
movetype = A
physics = S
juggle = 8
poweradd = 0
ctrl = 0
velset = 0,0
anim = 250
sprpriority = 2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random<500
value = 290, 0
channel = 0
volume = 100

[State 640, 音を鳴らす]
type = PlaySnd
trigger1 = time = 5
value = 300, 1

[State 200,]
type = Posadd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
x = 10

[State 200,]
type = Posadd
trigger1 = AnimElem = 7
x = -20

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 91, 0
getpower = 106,106
animtype = Hard
guardflag = H                   ;中段
hitflag = MAF
priority = 4, Hit
pausetime = 12, 13
sparkno = s4001
guard.sparkno = s4011            ;ヒットエフェクトのスプライトステート（無ければ0）
sparkxy = -20, -45
hitsound   = s1,3
guardsound = s121,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = -8.5
air.type = High
air.velocity = -1.5,-2.5
air.hittime = 12

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;モンストロシティー(キャンセル版)
[Statedef 251]
type = S
movetype = A
physics = S
juggle = 8
poweradd = 0
ctrl = 0
velset = 0,0
anim = 250
sprpriority = 2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random<500
value = 290, 0
channel = 0
volume = 100

[State 640, 音を鳴らす]
type = PlaySnd
trigger1 = time = 5
value = 300, 1

[State 250, posadd]
type = Posadd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
x = 10

[State 250, posadd]
type = Posadd
trigger1 = AnimElem = 7
x = -20

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 82, 0
getpower = 106,106
animtype = Hard
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 12, 13
sparkno = s4001
guard.sparkno = s4011            ;ヒットエフェクトのスプライトステート（無ければ0）
sparkxy = -20, -45
hitsound   = s1,3
guardsound = s121,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = -8.5
air.type = High
air.velocity = -1.5,-2.5
air.hittime = 12

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ふっ飛ばし攻撃
[Statedef 290]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 8                      
;Commonly-used controllers:
velset = 0,0                     ;このステートが始まった時に移動するか（0,0で動かない）
ctrl = 0                         ;このステート中に他のコマンドを受け付けるか(1で受け付ける)
anim = 290                       ;このステートで表示するスプライトステート番号(0で変化無し)
sprpriority = 2                  ;表示した絵の重なり具合(2一番前　0通常　-1奥)

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
trigger1 = random<500
value = 290, 0
channel = 0
volume = 100

[State 640, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 300, 1

[state 290, posadd]
type = Posadd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
x = 15

[state 290, posadd]
type = Posadd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 10
x = -15

[State 290, 1]
type = HitDef
trigger1 = animelem = 7
attr = S, NA                     ;立ち状態で、通常の攻撃(ｓは立ち、ｎは通常、aは攻撃を表す)
damage = 115, 0                  ;ダメージ量（左が当たった時、右はガードした時）
getpower = 121,121
animtype = back                  ;当てた時の相手のポーズ（light/midium/hard/back）から選択
guardflag = M                    ;ガードできる状態
hitflag = MAF                    ;当てる事のできる条件
priority = 4, Hit                ;攻撃の優先権（0弱い　4通常　7強い
pausetime = 12, 13               ;攻撃が当たった時の硬直時間（左が自分、右が相手）
sparkno = s4002
guard.sparkno = s4011            ;ヒットエフェクトのスプライトステート（無ければ0）
sparkxy = -15, -70               ;ヒットエフェクトを表示する場所（相手の座標で）
hitsound = s1, 16                 ;ヒットした時の音（ｓ*,*にすると自分の音を使う）
guardsound = s121, 0             ;ガードした時の音（同上）
ground.type = high               ;相手のくらった場所（High：頭、体, Low：足, Trip：足払い）
ground.slidetime = 18            ;相手が後にすべる時間
ground.hittime  = 20             ;コンボが繋がる時間（高くしすぎない事）
ground.velocity = -5,-5.5        ;地上で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
air.type = High                  ;空中で相手がくらった場所（上と同じ）
air.velocity = -5,-5.5           ;空中で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
fall = 1
fall.recover = 0

[State 290, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; GCふっ飛ばし攻撃
[Statedef 291]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 8                      
;Commonly-used controllers:
poweradd = -1000
velset = 0,0                     ;このステートが始まった時に移動するか（0,0で動かない）
ctrl = 0                         ;このステート中に他のコマンドを受け付けるか(1で受け付ける)
anim = 291                       ;このステートで表示するスプライトステート番号(0で変化無し)
sprpriority = 2                  ;表示した絵の重なり具合(2一番前　0通常　-1奥)

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random<500
value = 290, 0
channel = 0
volume = 100

[State 640, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 300, 1

[State 290, nothitby]
type = NotHitBy
trigger1 = 1
value = SCA

[state 290, posadd]
type = Posadd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
x = 15

[state 290, posadd]
type = Posadd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 10
x = -15

[State 291, 4];フラッシュ
type = EnvColor
trigger1 = movehit = 1
time = 2
value = 255,255,255
under = 1
persistent = 0
ignorehitpause = 1

[State 290, 1]
type = HitDef
trigger1 = time = 0
attr = S, NA                     ;立ち状態で、通常の攻撃(ｓは立ち、ｎは通常、aは攻撃を表す)
damage = 38, 0                   ;ダメージ量（左が当たった時、右はガードした時）
getpower = 0, 0
animtype = back                  ;当てた時の相手のポーズ（light/midium/hard/back）から選択
guardflag = M                    ;ガードできる状態（ｍaは全ての状態でガード可能）
hitflag = MAF                    ;当てる事のできる条件
priority = 4, Hit                ;攻撃の優先権（0弱い　4通常　7強い
pausetime = 12, 13               ;攻撃が当たった時の硬直時間（左が自分、右が相手）
sparkno = s4002
guard.sparkno = s4011            ;ヒットエフェクトのスプライトステート（無ければ0）
sparkxy = -15, -70               ;ヒットエフェクトを表示する場所（相手の座標で）
hitsound = s1, 16                 ;ヒットした時の音（ｓ*,*にすると自分の音を使う）
guardsound = s121, 0             ;ガードした時の音（同上）
ground.type = high               ;相手のくらった場所（High：頭、体, Low：足, Trip：足払い）
ground.slidetime = 18            ;相手が後にすべる時間
ground.hittime  = 20             ;コンボが繋がる時間（高くしすぎない事）
ground.velocity = -5,-5.5        ;地上で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
air.type = High                  ;空中で相手がくらった場所（上と同じ）
air.velocity = -5,-5.5           ;空中で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
fall = 1
fall.recover = 0

[State 290, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;===========================================================================
;---------------------------------------------------------------------------
;しゃがみ弱パンチ
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 8
poweradd= 0
velset = 0,0
ctrl = 0
anim = 400
sprpriority = 2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random<500
value = 200, 0
channel = 0
volume = 100

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 300, 0

[State 400, ヒット定義]
type = HitDef
trigger1 = animelem = 2
attr = C, NA ;しゃがみ通常打撃（Crouching, Normal Attack）
damage    = 40, 0
getpower = 45,45
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = M
pausetime = 9,10
sparkno = s4000
guard.sparkno = s4010
sparkxy = -15,-48
hitsound   = s1,0
guardsound = s120,0
ground.type = Low
ground.slidetime = 8
ground.hittime  = 11
ground.velocity = -4.5
air.velocity = -1.5,-3

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11 ;しゃがむステートへ（コモンステート）
ctrl = 1

;---------------------------------------------------------------------------
;しゃがみ強パンチ
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 8
poweradd= 0
velset = 0,0
ctrl = 0
anim = 410
sprpriority = 2

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = time = 1
trigger1 = random<500
value = 240, 0
channel = 0
volume = 100

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 2
value = 300, 1

[State 410, 一発目のヒット定義]
type = HitDef
trigger1 = animelem = 4
attr = C, NA
damage    = 82, 0
getpower = 90,90
priority  = 4
animtype  = hard
hitflag = MAF
guardflag = M
pausetime = 11,12
sparkno = s4001
guard.sparkno = s4011
sparkxy = -20,-55+floor(p2bodydist y)
hitsound   = s1,5
guardsound = s120,0
ground.type = Low
ground.slidetime = 19
ground.hittime  = 20
ground.velocity = -8
air.velocity = -3,-4
air.fall = 1

[State 410, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;しゃがみ弱キック
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 8
poweradd= 0
velset = 0,0
ctrl = 0
anim = 430
sprpriority = 2

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random<500
value = 200, 0
channel = 0
volume = 100

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 300, 0

[State 430, ヒット定義]
type = HitDef
trigger1 = animelem = 4
attr = C, NA
damage    = 40, 0
getpower = 45,45
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 9,10
sparkno = s4000
guard.sparkno = s4010
sparkxy = -20,-8
hitsound   = s1,0
guardsound = s120,0
ground.type = Low
ground.slidetime = 8
ground.hittime  = 10
ground.velocity = -4.5
air.velocity = -2,-3

[State 430, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;しゃがみ強キック（足払い攻撃）
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 8
poweradd= 0
velset = 0,0
ctrl = 0
anim = 440
sprpriority = 1

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = random<500
value = 240, 0
channel = 0
volume = 100

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 2
value = 300, 1

[State 440, ヒット定義]
type = HitDef
trigger1 = animelem = 4
attr = C, NA
damage    = 116, 0
getpower  = 90,90
priority  = 4
hitflag = MAF
guardflag = L
pausetime = 12,13
sparkno = s4001
guard.sparkno = s4011
sparkxy = -20,-25
hitsound   = s1,3
guardsound = s120,0
ground.type = Trip          ;この攻撃を食らうと相手は吹っ飛べば「コケるアニメ」になる
ground.slidetime = 18
ground.hittime  = 19
ground.velocity = -3,-5
air.velocity = -4,-4
guard.velocity = -7
fall = 1
fall.recover = 0

[State 440, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;===========================================================================
;---------------------------------------------------------------------------
;ジャンプ弱パンチ
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 8
poweradd= 0
ctrl = 0
anim = 600
sprpriority = 2

[State 600, 音を鳴らす]
type = PlaySnd
trigger1 = time = 1
value = 200, 0
channel = 0
volume = 100

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 300, 0

[State 600, ヒット定義]
type = HitDef
trigger1 = animelem = 3
attr = A, NA            ;空中通常打撃（Air, Normal Attack）
damage    = 50, 0
getpower = 45,45
guardflag = HA          ;相手はしゃがみガードが出来ない
priority = 3,hit
pausetime = 9,10
sparkno = s4000
guard.sparkno = s4010
sparkxy = -10,-58
hitsound   = s1,0
guardsound = s120,0
animtype = light
ground.type = high
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4
air.velocity = -2.3,-3

;---------------------------------------------------------------------------
;ジャンプ強パンチ
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 8
poweradd= 0
ctrl = 0
anim = 610
sprpriority = 2

[State 600, 音を鳴らす]
type = PlaySnd
trigger1 = time = 1
trigger1 = random<500
value = 240, 0
channel = 0
volume = 100

[State 640, 音を鳴らす]
type = PlaySnd
trigger1 = time = 2
value = 300, 1

[State 610, ヒット定義]
type = HitDef
trigger1 = animelem = 3
attr = A, NA
damage = 89, 0
getpower = 90,90
guardflag = HA
priority = 4,hit
pausetime = 12,13
sparkno = s4001
guard.sparkno = s4011
sparkxy = -10,-55
hitsound   = s1,5
guardsound = s120,0
animtype = hard
ground.type = high
ground.slidetime = 17
ground.hittime  = 18
ground.velocity = -5
air.velocity = -3,-4

;---------------------------------------------------------------------------
;ジャンプ弱キック
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 8
poweradd= 0
ctrl = 0
anim = 630
sprpriority = 2

[State 600, 音を鳴らす]
type = PlaySnd
trigger1 = time = 1
trigger1 = random<500
value = 200, 0
channel = 0
volume = 100

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 300, 0

[State 630, ヒット定義]
type = HitDef
trigger1 = animelem = 2
attr = A, NA
damage = 50, 0
getpower = 45,45
guardflag = HA
priority = 3,hit
pausetime = 9,10
sparkno = s4000
guard.sparkno = s4010
sparkxy = -5,-35
hitsound   = s1,1
guardsound = s120,0
animtype = light
ground.type = high
ground.slidetime = 9
ground.hittime  = 10
ground.velocity = -4
air.velocity = -2,-3

;---------------------------------------------------------------------------
;ジャンプ強キック
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 8
poweradd= 0
ctrl = 0
anim = 640
sprpriority = 2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random<500
value = 240, 0
channel = 0
volume = 100

[State 640, 音を鳴らす]
type = PlaySnd
trigger1 = time = 4
value = 300, 1

[State 640, ヒット定義]
type = HitDef
trigger1 = animelem = 3
attr = A, NA
damage    = 89, 0
getpower = 90,90
guardflag = HA
priority = 4, Hit
pausetime = 12,13
sparkno = s4001
guard.sparkno = s4011
sparkxy = -10,-50
hitsound   = s1,3
guardsound = s120,0
animtype = hard
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5.5
air.velocity = -5,-5

;---------------------------------------------------------------------------
;空中ふっとばし
[Statedef 690]
type    = A
movetype= A
physics = A
juggle  = 8
poweradd= 0
ctrl = 0
anim = 690
sprpriority = 2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random<500
value = 290, 0
channel = 0
volume = 100

[State 690, 音を鳴らす]
type = PlaySnd
trigger1 = animelemtime(2) = 0
value = 300, 1

[State 690, ヒット定義]
type = HitDef
trigger1 = animelem = 3
attr = A, NA
damage    = 115, 0
getpower = 121,121
guardflag = HA
priority = 4, Hit
pausetime = 12,13
sparkno = s4002
guard.sparkno = s4011
sparkxy = -13,-60
hitsound   = s1,16
guardsound = s120,0
animtype = back
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5,-6.5         ;地上で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
air.type = High                   ;空中で相手がくらった場所（上と同じ）
air.velocity = -5,-5              ;空中で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
fall = 1
fall.recover = 0
id = 690

;===========================================================================
;回避
;===========================================================================
;回避前
[Statedef 700]
type = S      ;S/C/A/L  Ｓ：立ち/Ｃ：屈み/Ａ：空中/Ｌ：ダウン
movetype = I  ;Ｉ：通常状態/Ａ：攻撃状態/Ｈ：ダメージをくらってる状態
physics = N   ;S/C/A/N  Ｓ：立ち/Ｃ：屈み/Ａ：空中/Ｎ：無し
poweradd= 0
ctrl = 0
anim = 700
velset = 0,0
sprpriority = -2

[State 700, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 700, 0
channel = 0
volume = 100

[State 700, 無敵]
type = HitBy
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(10) < 0
value = SC, NT, ST, HT

[State 700, 移動量];移動
type = VelSet
trigger1 = anim = 700
trigger1 = AnimElemtime(2) >= 0 && AnimElemtime(8) < 0
x = 4.7

[State 700, 移動量];停止
type = VelSet
trigger1 = anim = 700
trigger1 = AnimElem = 10
x = 0

[State 700, PlayerPush];回避中は相手を押さない
type = PlayerPush
trigger1 = animelemtime(1)>=0
value = 0

[State 291, 4];
type = PowerAdd
triggerall = Time = 0
trigger1 = prevstateno = 150 || prevstateno = 152
trigger2 = prevstateno = [200,499]
;trigger2 = movecontact
value = -1000

[State 2100, 残像];GC
type = AfterImage
triggerall = AnimElem = 2
trigger1 = prevstateno = 150 || prevstateno = 152
trigger2 = prevstateno = [200,499]
time = 30
length = 6      ;残像の表示時間
timegap = 2     ;時間差
framegap = 2    ;フレーム差
palbright = 1, 1, 1
palcontrast = 128, 128, 128
paladd = 0, 0, 0
palmul = 1, 1, 1
trans = Add1

[State 291, 4];フラッシュ
type = EnvColor
trigger1 = time = 0
trigger1 = prevstateno = [200,499]
time = 2
value = 255,255,255
under = 1
persistent = 0
ignorehitpause = 1

[State 700]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;回避後ろ
[Statedef 701]
type = S      ;S/C/A/L  Ｓ：立ち/Ｃ：屈み/Ａ：空中/Ｌ：ダウン
movetype = I  ;Ｉ：通常状態/Ａ：攻撃状態/Ｈ：ダメージをくらってる状態
physics = N   ;S/C/A/N  Ｓ：立ち/Ｃ：屈み/Ａ：空中/Ｎ：無し
poweradd= 0
ctrl = 0
anim = 701
velset = 0,0
sprpriority = -2

[State 700, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 700, 1
channel = 0
volume = 100

[State 701, 無敵]
type = HitBy
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(10) < 0
value = SC, NT, ST, HT

[State 701, 移動量];移動
type = VelSet
trigger1 = anim = 701
trigger1 = AnimElemtime(2) >= 0 && AnimElemtime(10) < 0
x = -4.5

[State 701, 移動量];停止
type = VelSet
trigger1 = anim = 701
trigger1 = AnimElem = 10
x = 0

[State 701, PlayerPush];回避中は相手を押さない
type = PlayerPush
trigger1 = animelemtime(1)>=0
value = 0

[State 291, 4];
type = PowerAdd
trigger1 = prevstateno = 150 || prevstateno = 152
trigger1 = Time = 0
value = -1000

[State 2100, 残像];GC
type = AfterImage
trigger1 = AnimElem = 2
trigger1 = prevstateno = 150 || prevstateno = 152
time = 29
length = 6      ;残像の表示時間
timegap = 2     ;時間差
framegap = 2    ;フレーム差
palbright = 1, 1, 1
palcontrast = 128, 128, 128
paladd = 0, 0, 0
palmul = 1, 1, 1
trans = Add1

[State 701]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;===========================================================================
; 投げ技
;===========================================================================
;---------------------------------------------------------------------------
;P投げ
;デスブロウ
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 800, ヒット定義（投げ用）]
type = HitDef
trigger1 = Time = 0
attr = S, NT             ;立ち通常投げ（Standing, Normal Throw）
hitflag = M-             ;マイナスが付加されてるので相手が食らい中の時は掴めない
priority = 1, Miss
sparkxy = -15,-80
sparkno = -1             ;-をつければスパークエフェクトは無い
p1sprpriority = 1        ;攻撃が当たった時に自分の画像表示優先度を1にします
p2sprpriority = 0        ;攻撃が当たった時に相手の画像表示優先度を0にします
p1facing = 1
p2facing = 1
p1stateno = 801
p2stateno = 810
guard.dist = 0           ;相手のガード態勢に入る距離を０にしてるので、ガード不可
fall = 1
id = 800

[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;デスブロウ（成功）
[Statedef 801]
type    = S
movetype= A
physics = N
anim = 801
juggle  = 8
sprpriority = 2

[State 801, 音を鳴らす];声
type = PlaySnd
trigger1 = AnimElem = 8
value = 240, 0
channel = 0
volume = 100

[State 801, 音を鳴らす];掴み用
type = PlaySnd
trigger1 = AnimElem = 1
value = 800, 1

[State 801, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1, 14

[state 1000, TargetState];再ロック
type = TargetState
trigger1 = time = 0
trigger1 = NumTarget(800)
trigger1 = Target(800),stateno!=810
value = 810

[State 801, Explod];掴みスパーク
type = Explod
trigger1 = animelem = 3
anim = 4020
ID = 4020
pos = 42, -95
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 801, Explod];斬りスパーク
type = Explod
trigger1 = AnimElem = 7
anim = 4006
ID = 4006
pos = 31, -71
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 50,0   ;画面端を押す幅を変える（オレンジの線）

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 35, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) >=0
trigger1 = AnimElemTime(3) < 0
pos = 46, -95

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(3) >=0
trigger1 = AnimElemTime(5) < 0
pos = 42, -90

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(5) >=0
trigger1 = AnimElemTime(6) < 0
pos = 41, -88

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(6) >=0
trigger1 = AnimElemTime(7) < 4
pos = 41, -71

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(7) = 4
pos = 35, 0

[State 801, ダメージ]
type = TargetLifeAdd
trigger1 = AnimElem = 7
absolute = 1        ;攻撃／防御無視
value = -100

[State 801, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;デスブロウ
;相手投げられ
[Statedef 810]
type    = A
movetype= H
physics = N
velset = 0,0

;---------------------------------------------
[state 1050, SelfState];Helperは返却
type = SelfState
trigger1 = ishelper
value = PrevStateNo
;---------------------------------------------

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 810

[State 810, vel]
type = Velset
trigger1 = animtime = 0
x = -6
y = -5

[State 810, vel]
type = VelAdd
trigger1 = anim = 5050
y = .5

[State 701, 無敵]
type = NotHitBy
trigger1 = Anim = 5050
value = SCA

[State 810, ChangeAnim];落下アニメ表示
type = ChangeAnim2
trigger1 = anim = 810
Trigger1 = AnimTime = 0
value = 5050

[State 820, 1]
type = SelfState
Trigger1 = Pos Y >= 0 && Vel Y > 0
value = 5100

;---------------------------------------------------------------------------
;K投げ
;バックラッシュ
[Statedef 802]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 800, ヒット定義（投げ用）]
type = HitDef
trigger1 = Time = 0
attr = S, NT             ;立ち通常投げ（Standing, Normal Throw）
hitflag = M-             ;マイナスが付加されてるので相手が食らい中の時は掴めない
priority = 1, Miss
sparkxy = -15,-80
sparkno = -1             ;-をつければスパークエフェクトは無い
p1sprpriority = 0        ;攻撃が当たった時に自分の画像表示優先度を1にします
p2sprpriority = 1        ;攻撃が当たった時に相手の画像表示優先度を0にします
p1facing = 1
p2facing = 1
p1stateno = 803
p2stateno = 820
guard.dist = 0           ;相手のガード態勢に入る距離を０にしてるので、ガード不可
fall = 1
id = 802

[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;バックラッシュ（成功）
[Statedef 803]
type    = S
movetype= A
physics = N
anim = 803
juggle  = 8
sprpriority = 1

[State 801, 音を鳴らす];声
type = PlaySnd
trigger1 = AnimElem = 2
value = 290, 0
channel = 0
volume = 100

[State 801, 音を鳴らす];掴み用
type = PlaySnd
trigger1 = AnimElem = 1
value = 800, 1

[State 801, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElemTime(4)=1
value = 300, 5

[state 1000, TargetState];再ロック
type = TargetState
trigger1 = time = 0
trigger1 = NumTarget(802)
trigger1 = Target(802),stateno!=820
value = 820

[State 801, Explod];掴みスパーク
type = Explod
trigger1 = animelem = 1
anim = 4020
ID = 4020
pos = 42, -115
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 801, Explod];煙
type = Explod
trigger1 = animelemtime(4)>=0
trigger1 = animelemtime(5)<7
anim = f120
ID = 800
pos = -40, -2
postype = p2
facing = 1
sprpriority = 5
ownpal = 1
removeongethit = 1

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 50,60   ;画面端を押す幅を変える（オレンジの線）

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 42, -115

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) >=0
trigger1 = AnimElemTime(3) < 0
pos = 51, -103

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(3) >=0
trigger1 = AnimElemTime(4) < 0
pos = 0, -40

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElem = 4
pos = -50, 0

[State 801, turn]
type = turn
trigger1 = animtime = 0

[State 801, ダメージ]
type = TargetLifeAdd
trigger1 = AnimElem = 3
absolute = 1			;攻撃／防御無視
value = -100

[State 801, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;相手投げられ
[Statedef 820]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 2

;---------------------------------------------
[state 1050, SelfState];Helperは返却
type = SelfState
trigger1 = ishelper
value = PrevStateNo
;---------------------------------------------

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 820

[State 810, velset]
type = Velset
trigger1 = time = [18,33]
x = 2

[State 810, velset]
type = Velset
trigger1 = time = 35
x = 0

[State 810, ChangeAnim]
type = ChangeAnim
trigger1 = SelfAnimExist(5161)   ;地面に激突アニメ（海老ぞり）
trigger1 = Time = 17
value = 5161

[State 810, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 5161
trigger1 = time = 25
value = 5111

[State 865, 5]
type = SelfState
trigger1 = Anim = 5111
trigger1 = Time = 37+25
trigger2 = Anim = 820
trigger2 = AnimTime = 0
value = 5120 + (!alive)*30

;===========================================================================
; 必殺技
;===========================================================================
;---------------------------------------------------------------------------
;アウトレイジ弱
[Statedef 1000]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 60
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

;----------------------------------
; どこでもキャンセル
; var(8)
;----------------------------------
;MAXゲージ消費
[State 1000, VarAdd]
type = VarAdd
triggerall = var(8) > 0
triggerall = Time = 0
trigger1 = prevstateno = 210
trigger2 = prevstateno = 230
trigger3 = prevstateno = 240
trigger4 = prevstateno = 250   ;通常モンストロシティー
trigger5 = prevstateno = 1300  ;メイヘム
trigger6 = prevstateno = 1310
var(8) = -150

[State 1000, PalFx];点滅
type = PalFx
triggerall = var(8) > 0
triggerall = Time < 5
trigger1 = prevstateno = 210
trigger2 = prevstateno = 230
trigger3 = prevstateno = 240
trigger4 = prevstateno = 250   ;通常モンストロシティー
trigger5 = prevstateno = 1300  ;メイヘム
trigger6 = prevstateno = 1310
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

;SCゲージ消費用
[State 1000, varset]
type = varset
trigger1 = time = 0
var(11) = 1

;SCゲージ消費用
[State 1000, varset]
type = varset
trigger1 = animtime = 0
var(11) = 0
;----------------------------------

[State 1000, 音を鳴らす];声
type = PlaySnd
trigger1 = animelem = 3
value = 1000, 0
channel = 0
volume = 100

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 9
trigger3 = AnimElem = 14
trigger4 = AnimElem = 19
;trigger5 = AnimElem = 6
;trigger6 = AnimElem = 11
;trigger7 = AnimElem = 16
;trigger8 = AnimElem = 21 
value = 300, 2
volume = -100

[State 801, Explod];上段エフェクト
type = Explod
trigger1 = animelem = 3
trigger2 = animelem = 8
trigger3 = animelem = 13
trigger4 = animelem = 18
anim = 1050
ID = 1050
pos = 0, 0
postype = p1
facing = 1
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 801, Explod];中段エフェクト
type = Explod
trigger1 = animelem = 4
trigger2 = animelem = 9
trigger3 = animelem = 14
trigger4 = animelem = 19
anim = 1051
ID = 1051
pos = 0, 0
postype = p1
facing = 1
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 801, Explod];下段エフェクト
type = Explod
trigger1 = animelem = 6
trigger2 = animelem = 11
trigger3 = animelem = 16
trigger4 = animelem = 21
anim = 1052
ID = 1052
pos = 0, 0
postype = p1
facing = 1
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 1000, ヒット定義];上
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 9
trigger3 = AnimElem = 14
trigger4 = AnimElem = 19
attr = S, SA
animtype  = hard
damage    = 30, 5
getpower  = 16,16
priority  = 5, hit
guardflag = MA
pausetime = 3,4
sparkxy = -10,-70
sparkno = s4006
guard.sparkno = s4012
hitsound   = s1,14
guardsound = s121,0
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -7.5
air.velocity = -2.5,-4
id = 1000

[State 1000, ヒット定義]
type = HitDef
trigger1 = AnimElem = 6
trigger2 = AnimElem = 11
trigger3 = AnimElem = 16
trigger4 = AnimElem = 21 
attr = S, SA
animtype  = hard
damage    = 30, 5
getpower  = 16,16
priority  = 5, hit
guardflag = MA
pausetime = 4,4
sparkxy = -10,-35
sparkno = s4006
guard.sparkno = s4012
hitsound   = s1,14
guardsound = s121,0
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -7.5
air.velocity = -2.5,-4
id = 1000

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;アウトレイジ強（始動）
[Statedef 1010]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 60
velset = 0,0
anim = 1010
ctrl = 0
sprpriority = 2

;----------------------------------
; どこでもキャンセル
; var(8)
;----------------------------------
;MAXゲージ消費
[State 1000, VarAdd]
type = VarAdd
triggerall = var(8) > 0
triggerall = Time = 0
trigger1 = prevstateno = 210
trigger2 = prevstateno = 230
trigger3 = prevstateno = 240
trigger4 = prevstateno = 250   ;通常モンストロシティー
trigger5 = prevstateno = 1300  ;メイヘム
trigger6 = prevstateno = 1310
var(8) = -150

[State 1000, PalFx];点滅
type = PalFx
triggerall = var(8) > 0
triggerall = Time < 5
trigger1 = prevstateno = 210
trigger2 = prevstateno = 230
trigger3 = prevstateno = 240
trigger4 = prevstateno = 250   ;通常モンストロシティー
trigger5 = prevstateno = 1300  ;メイヘム
trigger6 = prevstateno = 1310
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

;SCゲージ消費用
[State 1000, varset]
type = varset
trigger1 = time = 0
var(11) = 1
;----------------------------------

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 1011

;---------------------------------------------------------------------------
;アウトレイジ強（ジャンプ）
[Statedef 1011]
type    = A
movetype= A
physics = A
juggle  = 8
poweradd= 0
velset = 3,-3
anim = 1011
ctrl = 0
sprpriority = 2

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 1012

;---------------------------------------------------------------------------
;アウトレイジ強（着地）
[Statedef 1012]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 0
velset = 0,0
anim = 1012
ctrl = 0
sprpriority = 2

[State 1000, 音を鳴らす];声
type = PlaySnd
trigger1 = animtime = 0
value = 1000, 0
channel = 0
volume = 100

[State 1012, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 1013

;---------------------------------------------------------------------------
;アウトレイジ強（攻撃）
[Statedef 1013]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 0
velset = 0,0
anim = 1013
ctrl = 0
sprpriority = 2

;SCゲージ消費用
[State 1000, varset]
type = varset
trigger1 = animtime = 0
var(11) = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 6
trigger3 = animelem = 11
trigger4 = animelem = 16
value = 300, 2
volume = -100

[State 1012, Pos]
type = PosAdd
trigger1 = time = 0
x = 21

;[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
;type = TargetBind
;trigger1 = MoveHit
;trigger1 = NumTarget(1010)
;trigger1 = Target(1010),statetype!=A
;trigger1 = AnimElemTime(19) < 0
;pos = 35, 0

[State 801, Explod];上段エフェクト
type = Explod
trigger1 = animelem = 1
trigger2 = animelem = 6
trigger3 = animelem = 11
trigger4 = animelem = 16
anim = 1050
ID = 1050
pos = 0, 0
postype = p1
facing = 1
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 801, Explod];中段エフェクト
type = Explod
trigger1 = animelem = 2
trigger2 = animelem = 7
trigger3 = animelem = 12
trigger4 = animelem = 17
anim = 1051
ID = 1051
pos = 0, 0
postype = p1
facing = 1
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 801, Explod];下段エフェクト
type = Explod
trigger1 = animelem = 4
trigger2 = animelem = 9
trigger3 = animelem = 14
trigger4 = animelem = 19
anim = 1052
ID = 1052
pos = 0, 0
postype = p1
facing = 1
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 1000, ヒット定義];上
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 7
trigger3 = AnimElem = 12
trigger4 = AnimElem = 17
attr = S, SA
animtype  = hard
damage    = 35-(enemynear,gethitvar(hitcount)>1)*15, 5
getpower  = 16,16
priority  = 5, hit
guardflag = MA
pausetime = 3,3
sparkxy = -10,-70
sparkno = s4006
guard.sparkno = s4012
hitsound   = s1,14
guardsound = s121,0
ground.type = low
ground.slidetime = 19
ground.hittime  = 35
ground.velocity = 0
guard.velocity = 0;-7.5
air.velocity = -3,-.5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = 0
AirGuard.CornerPush.VelOff = 0
air.fall = 1
fall.recover = 0
kill = 0
id = 1010

[State 1000, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 9
trigger3 = AnimElem = 14
;trigger4 = AnimElem = 19 
attr = S, SA
animtype  = hard
damage    = 35-(enemynear,gethitvar(hitcount)>1)*15, 5
getpower  = 16,16
priority  = 5, hit
guardflag = MA
pausetime = 3,3
sparkxy = -10,-35
sparkno = s4006
guard.sparkno = s4012
hitsound   = s1,14
guardsound = s121,0
ground.type = low
ground.slidetime = 19
ground.hittime  = 35
ground.velocity = 0
guard.velocity = 0;-7.5
air.velocity = -3,-.5
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0
Down.CornerPush.VelOff = 0
Guard.CornerPush.VelOff = 0
AirGuard.CornerPush.VelOff = 0
air.fall = 1
fall.recover = 0
kill = 0
id = 1010

[State 1000, ヒット定義]
type = HitDef
trigger1 = AnimElem = 19 
attr = S, SA
animtype  = hard
damage    = 35-(enemynear,gethitvar(hitcount)>1)*15, 5
getpower  = 16,19
priority  = 5, hit
guardflag = MA
pausetime = 3,3
sparkxy = -10,-60
sparkno = s4001
guard.sparkno = s4021
hitsound   = s1,2
guardsound = s121,0
ground.type = low
ground.slidetime = 19
ground.hittime  = 25
ground.velocity = -10
air.velocity = -2.5,-5.5
air.fall = 1
fall.recover = 0
id = 1010

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;レイヴナス弱
[Statedef 1100]
type    = A
movetype= A
physics = N
juggle  = 8
poweradd= 60
;velset = 0,0
anim = 1100
ctrl = 0
sprpriority = 2

;----------------------------------
; どこでもキャンセル
; var(8)
;----------------------------------
;MAXゲージ消費
[State 1000, VarAdd]
type = VarAdd
triggerall = var(8) > 0
triggerall = Time = 0
trigger1 = prevstateno = 630
trigger2 = prevstateno = 640
trigger3 = prevstateno = 690
var(8) = -150

[State 1000, PalFx];点滅
type = PalFx
triggerall = var(8) > 0
triggerall = Time < 5
trigger1 = prevstateno = 630
trigger2 = prevstateno = 640
trigger3 = prevstateno = 690
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1
;----------------------------------

[State 1000, 音を鳴らす];声
type = PlaySnd
trigger1 = animelem = 3
value = 1100, 0
channel = 0
volume = 100

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 8
trigger3 = animelem = 13
trigger4 = animelem = 18
value = 300, 2
volume = -100

[State 1100, PosFreeze]
type = PosFreeze
trigger1 = animelemtime(2)<6

[State 1100, VelAdd]
type = VelAdd
trigger1 = animelemtime(2)>=6
y = .45

[State 801, Explod];上段エフェクト
type = Explod
trigger1 = animelem = 3
trigger2 = animelem = 8
trigger3 = animelem = 13
trigger4 = animelem = 18
anim = 1050
ID = 1050
pos = 0, 0
postype = p1
facing = 1
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 801, Explod];中段エフェクト
type = Explod
trigger1 = animelem = 4
trigger2 = animelem = 9
trigger3 = animelem = 14
trigger4 = animelem = 19
anim = 1051
ID = 1051
pos = 0, 0
postype = p1
facing = 1
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 801, Explod];下段エフェクト
type = Explod
trigger1 = animelem = 6
trigger2 = animelem = 11
trigger3 = animelem = 16
trigger4 = animelem = 21
anim = 1052
ID = 1052
pos = 0, 10
postype = p1
facing = 1
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 1000, ヒット定義];上
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 9
trigger3 = AnimElem = 14
trigger4 = AnimElem = 19
attr = S, SA
animtype  = hard
damage    = 30, 5
getpower  = 16,16
priority  = 5, hit
guardflag = MA
pausetime = 2,3
sparkxy = -10,-60
sparkno = s4006
guard.sparkno = s4012
hitsound   = s1,15
guardsound = s121,0
ground.type = low
ground.slidetime = 18
ground.hittime  = 20
ground.velocity = -7.5
air.velocity = -2.5,-4
air.fall = 1
id = 1100

[State 1000, ヒット定義]
type = HitDef
trigger1 = AnimElem = 6
trigger2 = AnimElem = 11
trigger3 = AnimElem = 16
trigger4 = AnimElem = 21 
attr = S, SA
animtype  = hard
damage    = 30, 5
getpower  = 16,16
priority  = 5, hit
guardflag = MA
pausetime = 2,3
sparkxy = -10,-60
sparkno = s4006
guard.sparkno = s4012
hitsound   = s1,15
guardsound = s121,0
ground.type = low
ground.slidetime = 18
ground.hittime  = 20
ground.velocity = -7.5
air.velocity = -2.5,-4
air.fall = 1
id = 1100

[State 1100, ChangeState]
type = ChangeState
trigger1 = animelemtime(2)>0
trigger1 = Pos Y >= 10 && Vel Y > 0
value = 1120

;---------------------------------------------------------------------------
;レイヴナス強
[Statedef 1110]
type    = A
movetype= A
physics = N
juggle  = 8
poweradd= 60
;velset = 0,0
anim = 1110
ctrl = 0
sprpriority = 2

;----------------------------------
; どこでもキャンセル
; var(8)
;----------------------------------
;MAXゲージ消費
[State 1000, VarAdd]
type = VarAdd
triggerall = var(8) > 0
triggerall = Time = 0
trigger1 = prevstateno = 630
trigger2 = prevstateno = 640
trigger3 = prevstateno = 690
var(8) = -150

[State 1000, PalFx];点滅
type = PalFx
triggerall = var(8) > 0
triggerall = Time < 5
trigger1 = prevstateno = 630
trigger2 = prevstateno = 640
trigger3 = prevstateno = 690
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1
;----------------------------------

[State 1000, 音を鳴らす];声
type = PlaySnd
trigger1 = animelem = 3
value = 1100, 0
channel = 0
volume = 100

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 8
trigger3 = animelem = 13
trigger4 = animelem = 18
trigger5 = animelem = 23
trigger6 = animelem = 28
value = 300, 2
volume = -100

[State 1100, PosFreeze]
type = PosFreeze
trigger1 = animelemtime(2)<6

[State 1100, VelAdd]
type = VelAdd
trigger1 = animelemtime(2)>=6
y = .4

[State 801, Explod];上段エフェクト
type = Explod
trigger1 = animelem = 3
trigger2 = animelem = 8
trigger3 = animelem = 13
trigger4 = animelem = 18
trigger5 = animelem = 23
trigger6 = animelem = 28
anim = 1050
ID = 1050
pos = 0, 0
postype = p1
facing = 1
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 801, Explod];中段エフェクト
type = Explod
trigger1 = animelem = 4
trigger2 = animelem = 9
trigger3 = animelem = 14
trigger4 = animelem = 19
trigger5 = animelem = 24
trigger6 = animelem = 29
anim = 1051
ID = 1051
pos = 0, 0
postype = p1
facing = 1
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 801, Explod];下段エフェクト
type = Explod
trigger1 = animelem = 6
trigger2 = animelem = 11
trigger3 = animelem = 16
trigger4 = animelem = 21
trigger5 = animelem = 26
trigger6 = animelem = 31
anim = 1052
ID = 1052
pos = 0, 10
postype = p1
facing = 1
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 1000, ヒット定義];上
type = HitDef
trigger1 = animelem = 4
trigger2 = animelem = 9
trigger3 = animelem = 14
trigger4 = animelem = 19
trigger5 = animelem = 24
trigger6 = animelem = 29
attr = S, SA
animtype  = hard
damage    = 35, 5
getpower  = 16,16
priority  = 5, hit
guardflag = MA
pausetime = 2,3
sparkxy = -10,-60
sparkno = s4006
guard.sparkno = s4012
hitsound   = s1,15
guardsound = s121,0
ground.type = low
ground.slidetime = 18
ground.hittime  = 21
ground.velocity = -7.5
air.velocity = -2.5,-4
air.fall = 1
id = 1110

[State 1000, ヒット定義]
type = HitDef
trigger1 = animelem = 6
trigger2 = animelem = 11
trigger3 = animelem = 16
trigger4 = animelem = 21
trigger5 = animelem = 26
trigger6 = animelem = 31
attr = S, SA
animtype  = hard
damage    = 35, 5
getpower  = 16,16
priority  = 5, hit
guardflag = MA
pausetime = 2,3
sparkxy = -10,-60
sparkno = s4006
guard.sparkno = s4012
hitsound   = s1,15
guardsound = s121,0
ground.type = low
ground.slidetime = 18
ground.hittime  = 21
ground.velocity = -7.5
air.velocity = -2.5,-4
air.fall = 1
id = 1110

[State 1100, ChangeState]
type = ChangeState
trigger1 = animelemtime(2)>0
trigger1 = Pos Y >= 10 && Vel Y > 0
value = 1120

;---------------------------------------------------------------------------
;レイヴナス（着地）
[Statedef 1120]
type = S
movetype = A
physics = S
anim = 1120
velset = 0, 0
sprpriority = 2

[State 1120, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1120, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ディーサイド弱
[Statedef 1200]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 105
velset = 0,0
anim = 1200
ctrl = 0
sprpriority = 2

;----------------------------------
; どこでもキャンセル
; var(8)
;----------------------------------
;MAXゲージ消費
[State 1000, VarAdd]
type = VarAdd
triggerall = var(8) > 0
triggerall = Time = 0
trigger1 = prevstateno = 210
trigger2 = prevstateno = 230
trigger3 = prevstateno = 240
trigger4 = prevstateno = 250   ;通常モンストロシティー
trigger5 = prevstateno = 1000  ;アウトレイジ
trigger6 = prevstateno = 1013
trigger7 = prevstateno = 1300  ;メイヘム
trigger8 = prevstateno = 1310
var(8) = -150

[State 1000, PalFx];点滅
type = PalFx
triggerall = var(8) > 0
triggerall = Time < 5
trigger1 = prevstateno = 210
trigger2 = prevstateno = 230
trigger3 = prevstateno = 240
trigger4 = prevstateno = 250   ;通常モンストロシティー
trigger5 = prevstateno = 1000  ;アウトレイジ
trigger6 = prevstateno = 1013
trigger7 = prevstateno = 1300  ;メイヘム
trigger8 = prevstateno = 1310
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1
;----------------------------------

[State 1000, 音を鳴らす];声
type = PlaySnd
trigger1 = animelem = 4
value = 1200, 0
channel = 0
volume = 100

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 6
value = 300, 6
;channel = 0
;volume = 100

[State 1120, PosSet]
type = PosAdd
trigger1 = animelem = 2
x = 20

[State 1120, PosSet]
type = PosAdd
trigger1 = animelem = 4
x = 10

[State 1120, PosSet]
type = PosAdd
trigger1 = animelem = 12
trigger2 = animelem = 14
trigger3 = animelem = 15
x = -10

[State 1000, ヒット定義]
type = HitDef
trigger1 = animelem = 8
attr = S, SA
animtype  = hard
damage    = 0, 8
getpower  = 75,75
priority  = 5, hit
guardflag = M
hitflag = MAF
pausetime = 0,1
sparkxy = -8,-55
sparkno = s4002
guard.sparkno = s4012
hitsound = s800, 1
guardsound = s121,0
ground.type = low
ground.slidetime = 18
ground.hittime  = 20
ground.velocity = -5
guard.velocity = -6
air.velocity = -4,-4
air.fall = 1
fall.recover = 0
p1stateno = 1220
p2facing = 1
id = 1200

[State 1200, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ディーサイド強
[Statedef 1210]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 105
velset = 0,0
anim = 1210
ctrl = 0
sprpriority = 2

;----------------------------------
; どこでもキャンセル
; var(8)
;----------------------------------
;MAXゲージ消費
[State 1000, VarAdd]
type = VarAdd
triggerall = var(8) > 0
triggerall = Time = 0
trigger1 = prevstateno = 210
trigger2 = prevstateno = 230
trigger3 = prevstateno = 240
trigger4 = prevstateno = 250   ;通常モンストロシティー
trigger5 = prevstateno = 1000  ;アウトレイジ
trigger6 = prevstateno = 1013
trigger7 = prevstateno = 1300  ;メイヘム
trigger8 = prevstateno = 1310
var(8) = -150

[State 1000, PalFx];点滅
type = PalFx
triggerall = var(8) > 0
triggerall = Time < 5
trigger1 = prevstateno = 210
trigger2 = prevstateno = 230
trigger3 = prevstateno = 240
trigger4 = prevstateno = 250   ;通常モンストロシティー
trigger5 = prevstateno = 1000  ;アウトレイジ
trigger6 = prevstateno = 1013
trigger7 = prevstateno = 1300  ;メイヘム
trigger8 = prevstateno = 1310
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1
;----------------------------------

[State 1000, 音を鳴らす];声
type = PlaySnd
trigger1 = animelem = 4
value = 1200, 0
channel = 0
volume = 100

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 6
value = 300, 6
;channel = 0
;volume = 100

[State 1120, VelSet]
type = VelSet
trigger1 = animelemtime(3)>=0
trigger1 = animelemtime(6)<0
x = 1.5

[State 1120, VelSet]
type = VelSet
trigger1 = animelem = 6
x = 0

[State 1120, PosSet]
type = PosAdd
trigger1 = animelem = 2
x = 20

[State 1120, PosSet]
type = PosAdd
trigger1 = animelem = 4
x = 10

[State 1120, PosSet]
type = PosAdd
trigger1 = animelem = 12
trigger2 = animelem = 14
trigger3 = animelem = 15
x = -10

[State 1000, ヒット定義]
type = HitDef
trigger1 = animelem = 8
attr = S, SA
animtype  = hard
damage    = 0, 8
getpower  = 75,75
priority  = 5, hit
guardflag = M
hitflag = MAF
pausetime = 0,1
sparkxy = -8,-55
sparkno = s4002
guard.sparkno = s4012
hitsound = s800, 1
guardsound = s121,0
ground.type = low
ground.slidetime = 18
ground.hittime  = 20
ground.velocity = -5
guard.velocity = -6
air.velocity = -4,-4
air.fall = 1
fall.recover = 0
p1stateno = 1220
p2facing = 1
id = 1200

[State 1200, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ディーサイド（成功）
[Statedef 1220]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1220
ctrl = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 300, 7
;channel = 0
;volume = 100

[State 1220, Explod];裾の残像
type = Explod
trigger1 = animelem = 5
anim = 1250
ID = 1250
pos = 0, 0
postype = p1
facing = 1
sprpriority = 2
ownpal = 1
removeongethit = 1

[State 1220, Width]
type = Width
trigger1 = time = 0
edge = 60,50

[state 1900, TargetState];相手ステート奪取
type = TargetState
trigger1 = time = 0
value = 1230

[State 1050, 掴んだ相手の位置]
type = TargetBind
trigger1 = animelemtime(1)>=0
trigger1 = animelemtime(2)<0
pos = 105,0

[State 1050, 掴んだ相手の位置]
type = TargetBind
trigger1 = animelemtime(2)>=0
trigger1 = animelemtime(3)<0
pos = 100,0

[State 1050, 掴んだ相手の位置]
type = TargetBind
trigger1 = animelemtime(3)>=0
trigger1 = animelemtime(4)<0
pos = 95,0

[State 1050, 掴んだ相手の位置]
type = TargetBind
trigger1 = animelemtime(4)>=0
trigger1 = animelemtime(5)<0
pos = 89,0

[State 1050, 掴んだ相手の位置]
type = TargetBind
trigger1 = animelemtime(5)=0
pos = 85,-65

[State 1050, Turn]
type = Turn
trigger1 = animtime = 0

[State 1120, PosSet]
type = PosAdd
trigger1 = animtime = 0
x = 36

[State 1050, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = animelemtime(5)=1
value = floor(-124*fvar(3))
kill = 1

[State 1050, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ディーサイド（相手）
[Statedef 1230]
type = A
movetype = H
physics = N
ctrl = 0

;---------------------------------------------
[state 1050, SelfState];Helperは返却
type = SelfState
trigger1 = ishelper
value = PrevStateNo
;---------------------------------------------

[State 1230, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 1230

[State 1230, VelSet]
type = VelSet
trigger1 = animelemtime(6)=0
x = 10
y = -8

[State 1230, VelAdd]
type = VelAdd
trigger1 = animelemtime(6)>0
y = .5

[State 1056, 3]
type = SelfState
trigger1 = Pos Y >= -20 && Vel Y > 0
value = 5100

;---------------------------------------------------------------------------
;メイヘム弱
[Statedef 1300]
type    = S
movetype= A
physics = S
juggle  = ifelse(fvar(1)>0, 0, 8)
poweradd= 106
velset = 0,0
anim = 1300
ctrl = 0
sprpriority = 2

;----------------------------------
; どこでもキャンセル
; var(8)
;----------------------------------
;MAXゲージ消費
[State 1000, VarAdd]
type = VarAdd
triggerall = var(8) > 0
triggerall = Time = 0
trigger1 = prevstateno = 210
trigger2 = prevstateno = 230
trigger3 = prevstateno = 240
trigger4 = prevstateno = 250   ;通常モンストロシティー
trigger5 = prevstateno = 1000  ;アウトレイジ
trigger6 = prevstateno = 1013
var(8) = -150

[State 1000, PalFx];点滅
type = PalFx
triggerall = var(8) > 0
triggerall = Time < 5
trigger1 = prevstateno = 210
trigger2 = prevstateno = 230
trigger3 = prevstateno = 240
trigger4 = prevstateno = 250   ;通常モンストロシティー
trigger5 = prevstateno = 1000  ;アウトレイジ
trigger6 = prevstateno = 1013
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1
;----------------------------------

[State 1000, 音を鳴らす];声
type = PlaySnd
trigger1 = animelem = 3
value = 1300, 0
channel = 0
volume = 100

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 300, 3
;channel = 0
;volume = 100

[State 1000, VarRangeSet];v9,v10リセット
Type = VarRangeSet
Trigger1 = Time = 0
Value = 0
First = 9
Last = 10

[State 1300, VarSet]
type = VarSet
triggerall = animelemtime(3)>=0
trigger1 = var(59) = 0
trigger1 = command = "ミサンスロウブ"
trigger2 = var(59)>5
trigger2 = movehit
trigger2 = random<35+var(59)*10 || var(59)>7
var(10) = 1
IgnoreHitPause = 1

[State 1300, VarSet]
type = VarSet
trigger1 = movecontact
var(9) = 1
IgnoreHitPause = 1

[State 1300, VelSet]
type = VelSet
trigger1 = animelem=2
x = 8

[State 1300, VelSet]
type = VelSet
trigger1 = AnimElem=7
x = 0

[State 1000, ヒット定義]
type = HitDef
trigger1 = animelem = 4
attr = S, SA
animtype  = hard
damage    = 66, 10
getpower  = 60, 60
priority  = 5, hit
guardflag = M
hitflag = MAF
pausetime = 10,11+(fvar(1)>0)*2
sparkxy = -15,-70
sparkno = s4002
guard.sparkno = s4012
hitsound = s1, 11
guardsound = s121,0
ground.type = High
ground.slidetime = 14
ground.hittime  = 20
ground.velocity = -1.5,-9.5-(fvar(1)>0)*2
guard.slideTime = 16
guard.velocity = -10
air.velocity = -1.5,-9
yaccel = .4
fall = 1
fall.recover = 0
id = 1300

[State 1200, ChangeState]
type = ChangeState
trigger1 = AnimElemTime(7)>=0
trigger1 = var(9) = 1 && var(10) = 1
value = 1600      ;ミサンスロウブ

[State 1200, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;メイヘム強
[Statedef 1310]
type    = S
movetype= A
physics = S
juggle  = ifelse(fvar(1)>0, 0, 8)
poweradd= 106
velset = 0,0
anim = 1310
ctrl = 0
sprpriority = 2

;----------------------------------
; どこでもキャンセル
; var(8)
;----------------------------------
;MAXゲージ消費
[State 1000, VarAdd]
type = VarAdd
triggerall = var(8) > 0
triggerall = Time = 0
trigger1 = prevstateno = 210
trigger2 = prevstateno = 230
trigger3 = prevstateno = 240
trigger4 = prevstateno = 250   ;通常モンストロシティー
trigger5 = prevstateno = 1000  ;アウトレイジ
trigger6 = prevstateno = 1013
var(8) = -150

[State 1000, PalFx];点滅
type = PalFx
triggerall = var(8) > 0
triggerall = Time < 5
trigger1 = prevstateno = 210
trigger2 = prevstateno = 230
trigger3 = prevstateno = 240
trigger4 = prevstateno = 250   ;通常モンストロシティー
trigger5 = prevstateno = 1000  ;アウトレイジ
trigger6 = prevstateno = 1013
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1
;----------------------------------

[State 1000, 音を鳴らす];声
type = PlaySnd
trigger1 = animelem = 3
value = 1300, 0
channel = 0
volume = 100

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 300, 3
;channel = 0
;volume = 100

[State 1000, VarRangeSet]
Type = VarRangeSet
Trigger1 = Time = 0
Value = 0
First = 9
Last = 10

[State 1300, VarSet]
type = VarSet
triggerall = animelemtime(3)>=0
trigger1 = var(59) = 0
trigger1 = command = "ミサンスロウブ"
trigger2 = var(59)>5
trigger2 = movehit
trigger2 = random<35+var(59)*10 || var(59)>7
var(10) = 1
IgnoreHitPause = 1

[State 1300, VarSet]
type = VarSet
trigger1 = movecontact
var(9) = 1
IgnoreHitPause = 1

[State 1300, VelSet]
type = VelSet
trigger1 = animelem=2
x = 11

[State 1300, VelSet]
type = VelSet
trigger1 = AnimElem=7
x = 0

[State 1000, ヒット定義]
type = HitDef
trigger1 = animelem = 4
attr = S, SA
animtype  = hard
damage    = 82, 10
getpower  = 60, 60
priority  = 5, hit
guardflag = M
hitflag = MAF
pausetime = 10,11+(fvar(1)>0)*2
sparkxy = -15,-70
sparkno = s4002
guard.sparkno = s4012
hitsound = s1, 11
guardsound = s121,0
ground.type = High
ground.slidetime = 14
ground.hittime  = 20
ground.velocity = -1.5,-9.5-(fvar(1)>0)*2
guard.slideTime = 16
guard.velocity = -10
air.velocity = -1.5,-9
yaccel = .4
fall = 1
fall.recover = 0
id = 1300

[State 1200, ChangeState]
type = ChangeState
trigger1 = AnimElemTime(7)>=0
trigger1 = var(9) = 1 && var(10) = 1
value = 1600      ;ミサンスロウブ

[State 1200, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ゴアフェスト
[Statedef 1400]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 30
velset = 0,0
ctrl = 0
anim = 1400
sprpriority = 2

[State 800, ヒット定義（投げ用）]
type = HitDef
trigger1 = Time = 0
trigger1 = P2StateNo != [150,155]
attr = S, ST
hitflag = M
priority = 3, Miss
sparkxy = -15,-80
sparkno = -1             ;-をつければスパークエフェクトは無い
p1sprpriority = 2        ;攻撃が当たった時に自分の画像表示優先度を1にします
p2sprpriority = 1        ;攻撃が当たった時に相手の画像表示優先度を0にします
p1facing = 1
p2facing = 1
p1stateno = 1401
p2stateno = 1410
guard.dist = 0           ;相手のガード態勢に入る距離を０にしてるので、ガード不可
fall = 1
id = 1400

[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ゴアフェスト（成功）
[Statedef 1401]
type    = S
movetype= A
physics = N
anim = 1401
juggle  = 0
poweradd= 150
sprpriority = 2

[State 801, 音を鳴らす];声
type = PlaySnd
trigger1 = AnimElem = 8
value = 1400, 0
channel = 0
volume = 100

[State 801, 音を鳴らす];声
type = PlaySnd
trigger1 = time = 0
value = 800, 0
;channel = 0
;volume = 100

[State 801, 音を鳴らす];声
type = PlaySnd
trigger1 = AnimElemTime(9)=4
trigger2 = AnimElemTime(9)=9
trigger3 = AnimElemTime(9)=14
;trigger4 = AnimElemTime(9)=19
;trigger5 = AnimElemTime(9)=23
value = 1400, 1
;channel = 0
;volume = 100

[state 1000, TargetState];再ロック
type = TargetState
trigger1 = time = 0
trigger1 = NumTarget(1400)
trigger1 = Target(1400),stateno!=1410
value = 1410

[State 801, Explod];掴みスパーク
type = Explod
trigger1 = animelem = 1
anim = 4021
ID = 4021
pos = 32, -67
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 801, Explod];血飛沫
type = Explod
trigger1 = AnimElemTime(9)=4
trigger2 = AnimElemTime(9)=9
trigger3 = AnimElemTime(9)=14
trigger4 = AnimElemTime(9)=19
trigger5 = AnimElemTime(9)=23
anim = 4008
ID = 4008
pos = 23, -12
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1410, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1410, VelSet]
type = VelSet
trigger1 = AnimElem = 9
x = 8.8

[State 1410, VelSet]
type = VelSet
trigger1 = AnimElem = 10
x = 5

[State 1410, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 10
physics = S

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 60,0   ;画面端を押す幅を変える（オレンジの線）

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 35, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) >=0
trigger1 = AnimElemTime(3) < 0
pos = 30, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(3) >=0
trigger1 = AnimElemTime(5) < 0
pos = 29, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(5) >=0
trigger1 = AnimElemTime(6) < 0
pos = -13, -83

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(6) >=0
trigger1 = AnimElemTime(7) < 0
pos = -7, -103

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(7) >=0
trigger1 = AnimElemTime(8) < 0
pos = -9, -108

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(8) >=0
trigger1 = AnimElemTime(9) < 0
pos = -20, -84

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(9) >=0
trigger1 = AnimElemTime(10)< 0
pos = 23, -12

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(10)>=0
trigger1 = AnimElemTime(11)< 0
pos = 56, -36

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(11) =0
pos = 56, -40

[State 801, ダメージ]
type = TargetLifeAdd
trigger1 = AnimElemTime(9)=4
trigger2 = AnimElemTime(9)=9
trigger3 = AnimElemTime(9)=14
trigger4 = AnimElemTime(9)=19
;absolute = 1			;攻撃／防御無視
value = -26
kill = 0

[State 801, ダメージ]
type = TargetLifeAdd
trigger1 = AnimElemTime(9)=23
;absolute = 1			;攻撃／防御無視
value = -26
kill = 1

[State 801, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ゴアフェスト
;相手投げられ
[Statedef 1410]
type    = A
movetype= H
physics = N
velset = 0,0

;---------------------------------------------
[state 1050, SelfState];Helperは返却
type = SelfState
trigger1 = ishelper
value = PrevStateNo
;---------------------------------------------

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1410

[State 1000, 0]
Type = SprPriority
Trigger1 = animelem = 2
Value = 3

[State 820, 1]
type = ChangeState
Trigger1 = animtime = 0
value = 1411

;---------------------------------------------------------------------------
;ゴアフェスト
;相手投げられ2
[Statedef 1411]
type    = A
movetype= H
physics = N
velset = 0,0

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1411

[State 820, 1]
type = ChangeState
Trigger1 = AnimTime = 0
value = 1412

;---------------------------------------------------------------------------
;ゴアフェスト
;相手投げられ3
[Statedef 1412]
type     = A
movetype = H
physics  = N
velset   = 0, 0

[State 1412, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
persistent = 0
value = ifelse(SelfAnimExist(5051),5051,5050)

[State 1412, ChangeAnim]
type = ChangeAnim
trigger1 = Vel Y > 0
trigger1 = SelfAnimExist(5060) || SelfAnimExist(5061)
persistent = 0
value = ifelse(SelfAnimExist(5061),5061,5060)

[State 1412, VelSet]
type = VelSet
trigger1 = Time = 1
x = 2
y = -9.5

[State 1412, VelAdd]
type = VelAdd
trigger1 = Time > 0
y = .5

[State 1412, Turn]
type = Turn
Trigger1 = time = 0

;[State 1412, EnvShake]
;type = EnvShake
;trigger1 = Time > 0
;trigger1 = Vel Y > 0 && Pos Y >= 0
;time = 5
;ampl = -8
;freq = 95
;phase = 95

[State 1412, SelfState]
type = SelfState
trigger1 = Time > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;ブラックンド
[Statedef 1500]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 30
velset = 0,0
ctrl = 0
anim = 1500
sprpriority = 2

[State 1000, 音を鳴らす];声
type = PlaySnd
trigger1 = animelem = 2
value = 290, 0
channel = 0
volume = 100

[State 1410, NotHitBy]
type = NotHitBy
trigger1 = animelemtime(3)<2
value = SCA

[State 800, ヒット定義（投げ用）]
type = HitDef
trigger1 = Time = 0
trigger1 = P2StateNo != [150,155]
attr = S, ST
hitflag = M
priority = 3, Miss
sparkxy = -15,-80
sparkno = -1             ;-をつければスパークエフェクトは無い
p1sprpriority = 2        ;攻撃が当たった時に自分の画像表示優先度を1にします
p2sprpriority = 1        ;攻撃が当たった時に相手の画像表示優先度を0にします
p1facing = 1
p2facing = 1
p1stateno = 1501
p2stateno = 1510
guard.dist = 0           ;相手のガード態勢に入る距離を０にしてるので、ガード不可
fall = 1
id = 1500

[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ブラックンド（成功）
[Statedef 1501]
type    = S
movetype= A
physics = N
anim = 1501
juggle  = 0
poweradd= 150
sprpriority = 2

[State 1000, 音を鳴らす];声
type = PlaySnd
trigger1 = animelem = 5
value = 1500, 0
channel = 0
volume = 100

[State 801, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 800, 0

[State 1000, 音を鳴らす];音声
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 22
value = 300, 7

[State 1000, 音を鳴らす];音声
type = PlaySnd
trigger1 = animelemtime(7)=0
value = 1, 18

[state 1000, TargetState];再ロック
type = TargetState
trigger1 = time = 0
trigger1 = NumTarget(1500)
trigger1 = Target(1500),stateno!=1510
value = 1510

[State 1300, VarSet]
type = VarSet
trigger1 = Time = 0
var(10) = 0

[State 1300, VarSet]
type = VarSet
triggerall = animelemtime(20)>=0
triggerall = animelemtime(25)<0
trigger1 = var(59) = 0
trigger1 = command = "ミサンスロウブ"
trigger2 = var(59)>5
trigger2 = random<var(59)*25||var(59)>8
var(10) = 1

[State 801, Explod];掴みスパーク
type = Explod
trigger1 = animelem = 1
anim = 4021
ID = 4021
pos = 32, -67
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 801, Explod];衝撃奥
type = Explod
trigger1 = animelemtime(7) = 0
anim = 4051
ID = 4051
pos = 94, 0
postype = p1
facing = 1
sprpriority = 0
ownpal = 1
removeongethit = 1

[State 801, Explod];衝撃手前
type = Explod
trigger1 = animelemtime(7) = 6
anim = 4050
ID = 4050
pos = 94, 0
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1410, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 60,0   ;画面端を押す幅を変える（オレンジの線）

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 35, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) >=0
trigger1 = AnimElemTime(3) < 0
pos = 16, -95

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(3) >=0
trigger1 = AnimElemTime(4) < 0
pos = 4, -120

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(4) >=0
trigger1 = AnimElemTime(5) < 0
pos = -20, -118

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(5) >=0
trigger1 = AnimElemTime(6) < 0
pos = 23, -109

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(6) >=0
trigger1 = AnimElemTime(7) < 0
pos = 39, -83

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(7) >=0
trigger1 = AnimElemTime(8) < 0
pos = 107, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(8) >=0
trigger1 = AnimElemTime(9) < 0
pos = 107, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(9) >=0
trigger1 = AnimElemTime(10)< 0
pos = 76, -4

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(10)>=0
trigger1 = AnimElemTime(11)< 0
pos = 57, -8

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(11)>=0
trigger1 = AnimElemTime(12)< 0
pos = 46, -30

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(12)>=0
trigger1 = AnimElemTime(13)< 0
pos = 35, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(13) >=0
trigger1 = AnimElemTime(15) < 0
pos = 30, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(15) >=0
trigger1 = AnimElemTime(16) < 0
pos = 21, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(16) >=0
trigger1 = AnimElemTime(17) < 0
pos = 15, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(17) >=0
trigger1 = AnimElemTime(18) < 0
pos = -23, -84

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(18) >=0
trigger1 = AnimElemTime(19) < 0
pos = -15, -109

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(19) >=0
trigger1 = AnimElemTime(20) < 0
pos = -19, -111

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(20) >=0
trigger1 = AnimElemTime(21) < 0
pos = -28, -87

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(21) >=0
trigger1 = AnimElemTime(22)< 0
pos = 16, -14

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(22)>=0
trigger1 = AnimElemTime(23)< 0
pos = 49, -36

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(23) =0
pos = 56, -40

[State 801, ダメージ]
type = TargetLifeAdd
trigger1 = AnimElemTime(7)=0
;absolute = 1			;攻撃／防御無視
value = -60
kill = 0

[State 801, ダメージ]
type = TargetLifeAdd
trigger1 = AnimElemTime(23)=0
;absolute = 1			;攻撃／防御無視
value = -60
kill = 1

[State 1412, EnvShake]
type = EnvShake
trigger1 = animelem = 7
time = 15
;ampl = -8
;freq = 95
;phase = 95

[State 1501, ChangeState];ミサンスロウブ
type = ChangeState
trigger1 = AnimElemTime(25) > 0
trigger1 = var(10) = 1
value = 1600

[State 1501, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ブラックンド
;相手投げられ
[Statedef 1510]
type    = A
movetype= H
physics = N
velset = 0,0

;---------------------------------------------
[state 1050, SelfState];Helperは返却
type = SelfState
trigger1 = ishelper
value = PrevStateNo
;---------------------------------------------

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1510

[State 1000, 0]
Type = SprPriority
Trigger1 = animelem = 11
Value = 3

[State 820, 1]
type = ChangeState
Trigger1 = animtime = 0
value = 1511

;---------------------------------------------------------------------------
;ブラックド
;相手投げられ2
[Statedef 1511]
type    = A
movetype= H
physics = N
velset = 0,0

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1511

[State 820, 1]
type = ChangeState
Trigger1 = AnimTime = 0
value = 1512

;---------------------------------------------------------------------------
;ブラックンド
;相手投げられ3
[Statedef 1512]
type     = A
movetype = H
physics  = N
velset   = 0, 0

[State 1412, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
persistent = 0
value = ifelse(SelfAnimExist(5051),5051,5050)

[State 1412, ChangeAnim]
type = ChangeAnim
trigger1 = Vel Y > 0
trigger1 = SelfAnimExist(5060) || SelfAnimExist(5061)
persistent = 0
value = ifelse(SelfAnimExist(5061),5061,5060)

[State 1412, VelSet]
type = VelSet
trigger1 = Time = 1
x = 1.1
y = -9.5

[State 1412, VelAdd]
type = VelAdd
trigger1 = Time > 0
y = .5

[State 1412, Turn]
type = Turn
Trigger1 = time = 0

;[State 1412, EnvShake]
;type = EnvShake
;trigger1 = Time > 0
;trigger1 = Vel Y > 0 && Pos Y >= 0
;time = 5
;ampl = -8
;freq = 95
;phase = 95

[State 1412, SelfState]
type = SelfState
trigger1 = Time > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;ミサンスロウブ
[Statedef 1600]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1600
ctrl = 0
sprpriority = 2

[State 1600, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1601

;---------------------------------------------------------------------------
;ミサンスロウブ（空中）
[Statedef 1601]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 3,-9
anim = 1601
ctrl = 0
sprpriority = 2

[State 1601, VelAdd]
type = VelAdd
trigger1 = time>=0
y = .4

[State 800, ヒット定義（投げ用）]
type = HitDef
trigger1 = Time = 0
trigger1 = P2StateNo != [150,155]
attr = A, ST
hitflag = AF
priority = 5, Miss
sparkxy = -15,-80
sparkno = -1             ;-をつければスパークエフェクトは無い
p1sprpriority = 2        ;攻撃が当たった時に自分の画像表示優先度を1にします
p2sprpriority = 1        ;攻撃が当たった時に相手の画像表示優先度を0にします
p1facing = 1
p2facing = 1
p1stateno = 1602
p2stateno = 1610
guard.dist = 0           ;相手のガード態勢に入る距離を０にしてるので、ガード不可
fall = 1
id = 1600

[State 1600, ChangeState]
type = ChangeState
trigger1 = animelemtime(4)>0
trigger1 = Pos Y >=0 && Vel Y > 0
value = 1650

;---------------------------------------------------------------------------
;ミサンスロウブ（成功）
[Statedef 1602]
type    = A
movetype= A
physics = N
anim = 1602
juggle  = 0
poweradd= 60
sprpriority = 2

[State 1000, 音を鳴らす];声
type = PlaySnd
trigger1 = animelem = 2
value = 1600, 0
channel = 0
volume = 100

[State 801, 音を鳴らす];掴み用
type = PlaySnd
trigger1 = AnimElem = 1
value = 800, 0

[state 1000, TargetState];再ロック
type = TargetState
trigger1 = time = 0
trigger1 = NumTarget(1600)
trigger1 = Target(1600),stateno!=1610
value = 1610

[State 1602, PosFreeze]
type = PosFreeze
trigger1 = animelemtime(1)<6

[State 1602, VelAdd]
type = VelAdd
trigger1 = animelemtime(1)>=6
y = .45

[State 801, Explod];掴みスパーク
type = Explod
trigger1 = animelem = 1
anim = 4021
ID = 4021
pos = 19, -133
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1410, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 40,0   ;画面端を押す幅を変える（オレンジの線）

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 18, -130

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) >=0
trigger1 = AnimElemTime(3) < 0
pos = -12, -133

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(3) >=0
pos = 11, -120

[State 1501, ステート変更]
type = ChangeState
trigger1 = AnimElemTime(3)>0
trigger1 = pos y >= 10 && vel y > 0
value = 1603

;---------------------------------------------------------------------------
;ミサンスロウブ（地上）
[Statedef 1603]
type    = S
movetype= A
physics = S
anim = 1603
juggle  = 0
poweradd= 60
velset = 0,0
sprpriority = 2

[State 801, 音を鳴らす];掴み用
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 12

[State 1630, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1630, PosSet]
type = PosAdd
trigger1 = Time = 0
x = -15

[State 1603, TargetState]
Type = TargetState
Trigger1 = Time = 0
Value = 1611

[State 801, Explod];衝撃奥
type = Explod
trigger1 = animelemtime(2) = 0
anim = 4051
ID = 4051
pos = 94, 0
postype = p1
facing = 1
sprpriority = 0
ownpal = 1
removeongethit = 1

[State 801, Explod];衝撃手前
type = Explod
trigger1 = animelemtime(3) = 1
anim = 4050
ID = 4050
pos = 94, 0
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1410, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 40,0   ;画面端を押す幅を変える（オレンジの線）

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 38, -83

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) >=0
trigger1 = AnimElemTime(3) < 0
pos = 97, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(3) >=0
trigger1 = AnimElemTime(4) < 0
pos = 97, 0

[State 1412, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 15
;ampl = -8
;freq = 95
;phase = 95

[State 1603, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 2
value = -74

[State 1501, ステート変更]
type = ChangeState
trigger1 = AnimTime=0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ミサンスロウブ
;相手投げられ
[Statedef 1610]
type    = A
movetype= H
physics = N
velset = 0,0

;---------------------------------------------
[state 1050, SelfState];Helperは返却
type = SelfState
trigger1 = ishelper
value = PrevStateNo
;---------------------------------------------

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1610

[State 820, 1]
type = SelfState
Trigger1 = Time>=500
value = 5030

;---------------------------------------------------------------------------
;ミサンスロウブ
;相手投げられ2
[Statedef 1611]
type    = A
movetype= H
physics = N
velset = 0,0

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1611

[State 1630, PosSet]
type = VelSet
trigger1 = AnimTime = 0
x = -3
y = -3

[State 1611, SelfState]
type = SelfState
trigger1 = AnimTime = 0
value = 5101

;---------------------------------------------------------------------------
;ミサンスロウブ（着地）
[Statedef 1650]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1650
ctrl = 0
sprpriority = 2

[State 1601, PosSet]
type = PosSet
trigger1 = time=0
y = 0

[State 1600, ChangeState]
type = ChangeState
trigger1 = animtime=0
value = 0
ctrl = 1

;===========================================================================
; 超必殺技
;===========================================================================
;---------------------------------------------------------------------------
;ウィザリング サーフェス弱
[Statedef 3000]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3000
poweradd= ifelse(var(8)>0,0,ifelse(var(11),-2000,-1000))  ;MAX発動中なら消費ゼロ
ctrl = 0
sprpriority = 2

;----------------------------------
; どこでもキャンセル
; var(8)
;----------------------------------
;MAXゲージ消費
[State 1000, VarSet]
type = VarSet
triggerall = var(8) > 0
trigger1 = time = 0
var(8) = 0
;----------------------------------

[State 1000, 音を鳴らす];声
type = PlaySnd
trigger1 = animelem = 4
value = 3000, 0
channel = 0
volume = 100

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2100, 残像]
type = AfterImage
trigger1 = animelemtime(4)=0
time = 54
length = 7      ;残像の表示時間
timegap = 2     ;時間差
framegap = 2    ;フレーム差
palbright = 0, 0, 90
palcontrast = 110, 110, 180
PalAdd = 20,20,40
;palmul = 1, 1, 1
trans = Add1

;-------------------------------------
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0
p2defmul = 1

[State 3000, 超必スパーク]
type = Explod
trigger1 = time = 3
anim = 6000
sprpriority = -9999
postype = p1
pos = 26,-25
bindtime = 1
under = 0
ownpal = 1
supermovetime = 999

[State 3000, 超必スパーク]
type = Explod
trigger1 = Time = 13
anim = 6001
sprpriority = 3
postype = p1
pos = 26,-25
bindtime = 1
under = 0
ownpal = 1
supermovetime = 999

[State 3000, フラッシュ]
type = EnvColor
trigger1 = time = 1
value = 255,255,255
persistent = 0
ignorehitpause = 1
time = 4
under = 2

[State 3000, 暗転]
type = EnvColor
trigger1 = time = 5
value = 0,0,0
persistent = 0
ignorehitpause = 1
time = 24
under = 2

[State 3000, 音を鳴らす];超必音
type = PlaySnd
trigger1 = time = 1
value = 6000, 0

;-------------------------------------
[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 3001

;---------------------------------------------------------------------------
;ウィザリング サーフェス弱（ジャンプ）
[Statedef 3001]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 3,-7
anim = 3001
poweradd= 0
ctrl = 0
sprpriority = 2

[State 3000, veladd]
type = veladd
trigger1 = 1
y = .48

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = time<18
value = SCA

[State 3000, ステート変更]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 3002

;---------------------------------------------------------------------------
;ウィザリング サーフェス（掴み）
[Statedef 3002]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 0
velset = 0,0
ctrl = 0
anim = 3002
sprpriority = 2

[State 1630, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 800, ヒット定義（投げ用）]
type = HitDef
trigger1 = Time = 0
trigger1 = P2StateNo != [150,155]
attr = S, HT
hitflag = M
priority = 5, Miss
sparkxy = -15,-80
sparkno = -1             ;-をつければスパークエフェクトは無い
p1sprpriority = 2        ;攻撃が当たった時に自分の画像表示優先度を1にします
p2sprpriority = 1        ;攻撃が当たった時に相手の画像表示優先度を0にします
p1facing = 1
p2facing = 1
p1stateno = 3003
p2stateno = 3050
guard.dist = 0           ;相手のガード態勢に入る距離を０にしてるので、ガード不可
fall = 1
id = 3000

[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ウィザリング サーフェス（成功）
[Statedef 3003]
type    = S
movetype= A
physics = S
anim = 3003
juggle  = 0
poweradd= 0
velset = 0,0
sprpriority = 2

[State 801, 音を鳴らす];掴み用
type = PlaySnd
trigger1 = AnimElem = 1
value = 800, 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 16
value = 300, 7

[State 1000, 音を鳴らす];衝撃音
type = PlaySnd
trigger1 = animelem = 7
trigger2 = animelem = 18
value = 1, 12

[state 1000, TargetState];再ロック
type = TargetState
trigger1 = time = 0
trigger1 = NumTarget(3000)
trigger1 = Target(3000),stateno!=3350
value = 3350

[State 1630, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 801, Explod];衝撃奥
type = Explod
trigger1 = animelemtime(7) = 0
trigger2 = animelemtime(18)= 0
anim = 4051
ID = 4051
pos = 94, 0
postype = p1
facing = 1
sprpriority = 0
ownpal = 1
removeongethit = 1

[State 801, Explod];衝撃手前
type = Explod
trigger1 = animelemtime(8) = 1
trigger2 = animelemtime(19)= 1
anim = 4050
ID = 4050
pos = 94, 0
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 801, Explod];掴みスパーク
type = Explod
trigger1 = animelem = 1
anim = 4021
ID = 4021
pos = 32, -67
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1410, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 40,0   ;画面端を押す幅を変える（オレンジの線）

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) < 0
trigger2 = AnimElemTime(12)>=0
trigger2 = AnimElemTime(13)< 0
trigger3 = AnimElemTime(23)>=0
trigger3 = AnimElemTime(24)< 0
pos = 35, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) >=0
trigger1 = AnimElemTime(3) < 0
trigger2 = AnimElemTime(13)>=0
trigger2 = AnimElemTime(14)< 0
trigger3 = AnimElemTime(24)>=0
pos = 16, -95

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(3) >=0
trigger1 = AnimElemTime(4) < 0
trigger2 = AnimElemTime(14)>=0
trigger2 = AnimElemTime(15)< 0
pos = 4, -120

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(4) >=0
trigger1 = AnimElemTime(5) < 0
trigger2 = AnimElemTime(15)>=0
trigger2 = AnimElemTime(16)< 0
pos = -20, -118

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(5) >=0
trigger1 = AnimElemTime(6) < 0
trigger2 = AnimElemTime(16)>=0
trigger2 = AnimElemTime(17)< 0
pos = 23, -109

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(6) >=0
trigger1 = AnimElemTime(7) < 0
trigger2 = AnimElemTime(17)>=0
trigger2 = AnimElemTime(18)< 0
pos = 39, -83

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(7) >=0
trigger1 = AnimElemTime(8) < 0
trigger2 = AnimElemTime(18)>=0
trigger2 = AnimElemTime(19)< 0
pos = 107, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(8) >=0
trigger1 = AnimElemTime(9) < 0
trigger2 = AnimElemTime(19)>=0
trigger2 = AnimElemTime(20)< 0
pos = 107, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(9) >=0
trigger1 = AnimElemTime(10)< 0
trigger2 = AnimElemTime(20)>=0
trigger2 = AnimElemTime(21)< 0
pos = 76, -4

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(10)>=0
trigger1 = AnimElemTime(11)< 0
trigger2 = AnimElemTime(21)>=0
trigger2 = AnimElemTime(22)< 0
pos = 57, -8

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(11)>=0
trigger1 = AnimElemTime(12)< 0
trigger2 = AnimElemTime(22)>=0
trigger2 = AnimElemTime(23)< 0
pos = 46, -30

[State 1412, EnvShake]
type = EnvShake
trigger1 = animelem = 7
trigger2 = animelem = 18
time = 15
;ampl = -8
;freq = 95
;phase = 95

[State 1603, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = animelem = 7
trigger2 = animelem = 18
value = -floor(88*fvar(3))
kill = 0

[State 1501, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 3004

;---------------------------------------------------------------------------
;ウィザリング サーフェス（成功空中）
[Statedef 3004]
type    = A
movetype= A
physics = N
anim = 3004
juggle  = 0
poweradd= 0
velset = 3,-9
sprpriority = 2

[State 1000, 音を鳴らす];声
type = PlaySnd
trigger1 = animelem = 1
value = 1500, 0
channel = 0
volume = 100

[State 1630, VelAdd]
type = VelAdd
trigger1 = 1
y = .46

[State 1603, TargetState]
Type = TargetState
Trigger1 = Time = 0
Value = 3051

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 40,0   ;画面端を押す幅を変える（オレンジの線）

[State 1410, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 18, -130

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) >=0
trigger1 = AnimElemTime(3) < 0
pos = -12, -133

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(3) >=0
pos = 11, -120

[State 1501, ステート変更]
type = ChangeState
trigger1 = AnimElemTime(3)>0
trigger1 = pos y >= 10 && vel y > 0
value = 3005

;---------------------------------------------------------------------------
;ウィザリング サーフェス（成功地上）
[Statedef 3005]
type    = S
movetype= A
physics = S
anim = 3005
juggle  = 0
poweradd= 0
velset = 0,0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 300, 7

[State 1000, 音を鳴らす];衝撃音
type = PlaySnd
trigger1 = animelem = 2
value = 1, 12

[State 1000, 音を鳴らす];オロチ
type = PlaySnd
trigger1 = animelem = 2
value = 1, 17

[State 1630, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1630, PosSet]
type = PosAdd
trigger1 = Time = 0
x = -15

[State 1603, TargetState]
Type = TargetState
Trigger1 = Time = 0
Value = 3052

[State 801, Explod];衝撃奥
type = Explod
trigger1 = animelemtime(2) = 0
anim = 4051
ID = 4051
pos = 94, 0
postype = p1
facing = 1
sprpriority = 0
ownpal = 1
removeongethit = 1

[State 801, Explod];衝撃手前
type = Explod
trigger1 = animelemtime(3) = 1
anim = 4050
ID = 4050
pos = 94, 0
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 3000, Explod];オロチエフェクト
type = Explod
trigger1 = animelemtime(2) = 0
anim = 4060
ID = 4060
pos = 94, 0
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1410, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 40,0   ;画面端を押す幅を変える（オレンジの線）

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 38, -83

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) >=0
trigger1 = AnimElemTime(3) < 0
pos = 97, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(3) >=0
trigger1 = AnimElemTime(4) < 0
pos = 97, 0

[State 1412, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 15
;ampl = -8
;freq = 95
;phase = 95

[State 1603, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 2
value = -88
kill = 1

[State 1501, ステート変更]
type = ChangeState
trigger1 = AnimTime=0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ウィザリング サーフェス強
[Statedef 3010]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3000
poweradd= ifelse(var(8)>0,0,ifelse(var(11),-2000,-1000))  ;MAX発動中なら消費ゼロ
ctrl = 0
sprpriority = 2

;----------------------------------
; どこでもキャンセル
; var(8)
;----------------------------------
;MAXゲージ消費
[State 1000, VarSet]
type = VarSet
triggerall = var(8) > 0
trigger1 = time = 0
var(8) = 0

;----------------------------------

[State 1000, 音を鳴らす];声
type = PlaySnd
trigger1 = animelem = 4
value = 3000, 0
channel = 0
volume = 100

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2100, 残像]
type = AfterImage
trigger1 = animelemtime(4)=0
time = 44
length = 7      ;残像の表示時間
timegap = 2     ;時間差
framegap = 2    ;フレーム差
palbright = 0, 0, 90
palcontrast = 110, 110, 180
PalAdd = 20,20,40
;palmul = 1, 1, 1
trans = Add1

;-------------------------------------
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0
p2defmul = 1

[State 3000, 超必スパーク]
type = Explod
trigger1 = time = 3
anim = 6000
sprpriority = -9999
postype = p1
pos = 26,-25
bindtime = 1
under = 0
ownpal = 1
supermovetime = 999

[State 3000, 超必スパーク]
type = Explod
trigger1 = Time = 13
anim = 6001
sprpriority = 3
postype = p1
pos = 26,-25
bindtime = 1
under = 0
ownpal = 1
supermovetime = 999

[State 3000, フラッシュ]
type = EnvColor
trigger1 = time = 1
value = 255,255,255
persistent = 0
ignorehitpause = 1
time = 4
under = 2

[State 3000, 暗転]
type = EnvColor
trigger1 = time = 5
value = 0,0,0
persistent = 0
ignorehitpause = 1
time = 24
under = 2

[State 3000, 音を鳴らす];超必音
type = PlaySnd
trigger1 = time = 1
value = 6000, 0

;-------------------------------------
[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 3011

;---------------------------------------------------------------------------
;ウィザリング サーフェス強（ジャンプ）
[Statedef 3011]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 7.6,-5
anim = 3011
poweradd= 0
ctrl = 0
sprpriority = 2

[State 3000, veladd]
type = veladd
trigger1 = 1
y = .48

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = time<18
value = SCA

[State 3000, ステート変更]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 3002

;---------------------------------------------------------------------------
;ウィザリング サーフェス
;相手投げられ
[Statedef 3050]
type    = A
movetype= H
physics = N
velset = 0,0

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3050

[State 820, 1]
type = SelfState
Trigger1 = Time>=500
value = 5030

;---------------------------------------------------------------------------
;ウィザリング サーフェス
;相手投げられ2
[Statedef 3051]
type    = A
movetype= H
physics = N
velset = 0,0

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3051

[State 1611, SelfState]
type = SelfState
Trigger1 = Time>=500
value = 5030

;---------------------------------------------------------------------------
;ウィザリング サーフェス
;相手投げられ3
[Statedef 3052]
type    = A
movetype= H
physics = N
velset = 0,0

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3052

[State 1630, VelSet]
type = VelSet
trigger1 = AnimTime = 0
x = -3
y = -3

[State 1611, SelfState]
type = SelfState
trigger1 = AnimTime = 0
value = 5101

;---------------------------------------------------------------------------
;ネガティブゲイン
[Statedef 3100]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= ifelse(var(8)>0,0,ifelse(var(11),-2000,-1000))  ;MAX発動中なら消費ゼロ
velset = 0,0
ctrl = 0
anim = 3100
sprpriority = 2

;----------------------------------
; どこでもキャンセル
; var(8)
;----------------------------------
;MAXゲージ消費
[State 1000, VarSet]
type = VarSet
triggerall = var(8) > 0
trigger1 = time = 0
var(8) = 0

;----------------------------------
; SC点滅用
; var(12)
;----------------------------------
;投げ技SC点滅用変数
[State 1000, varset]
type = varset
trigger1 = time = 0
var(12) = prevstateno
;----------------------------------
[State 801, 音を鳴らす];声
type = PlaySnd
trigger1 = AnimElem = 3
value = 3100, 0
channel = 0
volume = 100

[State 1630, PosAdd]
type = PosAdd
trigger1 = animelemtime(6)=0
trigger2 = animelemtime(7)=0
trigger3 = animelemtime(8)=0
trigger4 = animelemtime(9)=0
x = -15

[State 2100, 残像]
type = AfterImage
trigger1 = animelemtime(2)=0
time = 62
length = 7      ;残像の表示時間
timegap = 2     ;時間差
framegap = 2    ;フレーム差
palbright = 0, 0, 90
palcontrast = 110, 110, 180
PalAdd = 20,20,40
;palmul = 1, 1, 1
trans = Add1

[State 800, ヒット定義（投げ用）]
type = HitDef
trigger1 = Time = 0
trigger1 = P2StateNo != [150,155]
attr = S, HT
hitflag = M
priority = 5, Miss
sparkxy = -15,-80
sparkno = -1             ;-をつければスパークエフェクトは無い
p1sprpriority = 2        ;攻撃が当たった時に自分の画像表示優先度を1にします
p2sprpriority = 1        ;攻撃が当たった時に相手の画像表示優先度を0にします
p1facing = 1
p2facing = 1
p1stateno = 3101
p2stateno = 3150
guard.dist = 0           ;相手のガード態勢に入る距離を０にしてるので、ガード不可
fall = 1
id = 3100

;-------------------------------------
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 2
time = 29
movetime = 29
anim = -1
darken = 0
p2defmul = 1

[State 3000, 超必スパーク]
type = Explod
trigger1 = time = 4
anim = 6000
sprpriority = -9999
postype = p1
pos = 8,-80
bindtime = 1
under = 0
ownpal = 1
supermovetime = 999

[State 3000, 超必スパーク]
type = Explod
trigger1 = Time = 14
anim = 6001
sprpriority = 3
postype = p1
pos = 8,-80
bindtime = 1
under = 0
ownpal = 1
supermovetime = 999

[State 3000, フラッシュ]
type = EnvColor
trigger1 = time = 2
value = 255,255,255
persistent = 0
ignorehitpause = 1
time = 4
under = 2

[State 3000, 暗転]
type = EnvColor
trigger1 = time = 6
value = 0,0,0
persistent = 0
ignorehitpause = 1
time = 24
under = 2

[State 3000, 音を鳴らす];超必音
type = PlaySnd
trigger1 = time = 2
value = 6000, 0

;-------------------------------------
[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ネガティブゲイン（成功）
[Statedef 3101]
type    = S
movetype= A
physics = N
anim = 3101
juggle  = 0
poweradd= 0
velset = 0,0
sprpriority = 2

[State 801, 音を鳴らす];声
type = PlaySnd
trigger1 = AnimElem = 1
value = 3100, 0
channel = 0
volume = 100

[State 801, 音を鳴らす];声
type = PlaySnd
trigger1 = AnimElem = 18
value = 3100, 1
channel = 0
volume = 100

[State 801, 音を鳴らす];掴み用
type = PlaySnd
trigger1 = AnimElem = 4
value = 800, 0

[State 1000, 音を鳴らす];衝撃音
type = PlaySnd
trigger1 = animelem = 12
value = 1, 12

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 17
value = 300, 7

[state 1000, TargetState];再ロック
type = TargetState
trigger1 = time = 0
trigger1 = NumTarget(3100)
trigger1 = Target(3100),stateno!=3150
value = 3150

[State 1630, PosSet]
type = PosSet
trigger1 = Time = 0
trigger2 = animelem = 12
y = 0

[State 3100, PosAdd]
type = PosAdd
trigger1 = AnimElemTime(8)>=0
trigger1 = AnimElemTime(11)<0
x = -2

[State 3100, PosAdd]
type = PosSet
trigger1 = AnimElemTime(2)>=0
trigger1 = AnimElemTime(3)<0
trigger1 = NumTarget(3100)
trigger1 = Target(3100),Const(size.head.pos.y) + 55 < 0
y = (Target(3100),Const(size.head.pos.y) + 55)

[State 3100, PosAdd]
type = PosAdd
trigger1 = AnimElemTime(10)>=0
trigger1 = Pos Y < 0
y = -Floor(Pos Y / 4)

[State 1630, VelSet]
type = VelSet
Trigger1 = animelem=17
x = -2
y = -8

[State 1630, VelAdd]
type = VelAdd
Trigger1 = animelemtime(17)>=0
y = .46

[State 1000, 0]
Type = StateTypeSet
Trigger1 = animelem = 17
StateType = A

[State 801, Explod];衝撃奥
type = Explod
trigger1 = animelemtime(12) = 0
anim = 4051
ID = 4051
pos = 0, 0
postype = p1
facing = 1
sprpriority = 0
ownpal = 1
removeongethit = 1

[State 801, Explod];衝撃手前
type = Explod
trigger1 = animelemtime(12) = 5
anim = 4050
ID = 4050
pos = 0, 0
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 801, Explod];掴みスパーク
type = Explod
trigger1 = animelem = 4
anim = 4021
ID = 4021
pos = 32, -67
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1410, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 40,40   ;画面端を押す幅を変える（オレンジの線）

[State 2100, 残像]
type = AfterImage
trigger1 = time=0
time = 210
length = 7      ;残像の表示時間
timegap = 2     ;時間差
framegap = 2    ;フレーム差
palbright = 0, 0, 90
palcontrast = 110, 110, 180
PalAdd = 20,20,40
;palmul = 1, 1, 1
trans = Add1

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 35, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(8) >=0
trigger1 = AnimElemTime(9) < 0
trigger2 = AnimElemTime(18)>=0
trigger2 = AnimElemTime(19)< 0
pos = 33, -60

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(9) >=0
trigger1 = AnimElemTime(10)< 0
trigger2 = AnimElemTime(19)>=0
trigger2 = AnimElemTime(20)< 0
pos = 25, -92

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(10)>=0
trigger1 = AnimElemTime(11)< 0
trigger2 = AnimElemTime(20)>=0
trigger2 = AnimElemTime(21)< 0
pos = -22, -62

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(11)>=0
trigger1 = AnimElemTime(12)< 0
trigger2 = AnimElemTime(21)>=0
trigger2 = AnimElemTime(22)< 0
pos = -33, -48

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(12)>=0
trigger1 = AnimElemTime(15)< 0
pos = -37, -7

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(15)>=0
trigger1 = AnimElemTime(16)< 0
pos = -9, -7

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(16)>=0
trigger1 = AnimElemTime(17)< 0
pos = 17, -30

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(17)>=0
trigger1 = AnimElemTime(18)< 0
pos = 33, -52

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(22)>=0
pos = -37, -16

[State 1412, EnvShake]
type = EnvShake
trigger1 = animelem = 12
time = 15
;ampl = -8
;freq = 95
;phase = 95

[State 1603, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = animelem = 12
value = -floor(81*fvar(3))
kill = 0

;-------------------------------------
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 28
movetime = 28
anim = -1
darken = 0
p2defmul = 1

[State 3000, 超必スパーク]
type = Explod
trigger1 = time = 2
anim = 6000
sprpriority = -9999
postype = p1
pos = 8,-80
bindtime = 1
under = 0
ownpal = 1
supermovetime = 999

[State 3000, 超必スパーク]
type = Explod
trigger1 = Time = 12
anim = 6001
sprpriority = 3
postype = p1
pos = 8,-80
bindtime = 1
under = 0
ownpal = 1
supermovetime = 999

[State 3000, フラッシュ]
type = EnvColor
trigger1 = time = 0
value = 255,255,255
persistent = 0
ignorehitpause = 1
time = 4
under = 2

[State 3000, 暗転]
type = EnvColor
trigger1 = time = 4
value = 0,0,0
persistent = 0
ignorehitpause = 1
time = 24
under = 2

[State 3000, 音を鳴らす];超必音
type = PlaySnd
trigger1 = time = 0
value = 6000, 0

;-------------------------------------
[State 1501, ステート変更]
type = ChangeState
trigger1 = animelemtime(22)>=0
trigger1 = pos y >=0 && vel y >0
value = 3102

;---------------------------------------------------------------------------
;ネガティブゲイン（成功）
[Statedef 3102]
type    = S
movetype= A
physics = N
anim = 3102
juggle  = 0
poweradd= 0
velset = 0,0
sprpriority = 2

[State 1000, 音を鳴らす];衝撃音
type = PlaySnd
trigger1 = time = 0
value = 1, 12

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
value = 300, 7

[State 1630, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1000, 0]
Type = StateTypeSet
Trigger1 = animelem=5
StateType = A

[State 1630, VelSet]
type = VelSet
Trigger1 = animelemtime(5)=0
x = -2.4
y = -7

[State 1630, VelAdd]
type = VelAdd
Trigger1 = animelemtime(5)>0
y = .45

[State 1603, TargetState]
Type = TargetState
Trigger1 = Time = 0
Value = 3151

[State 801, Explod];衝撃奥
type = Explod
trigger1 = animelemtime(1) = 0
anim = 4051
ID = 4051
pos = 0, 0
postype = p1
facing = 1
sprpriority = 0
ownpal = 1
removeongethit = 1

[State 801, Explod];衝撃手前
type = Explod
trigger1 = animelemtime(1) = 5
anim = 4050
ID = 4050
pos = 0, 0
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1410, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 40,40   ;画面端を押す幅を変える（オレンジの線）

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = -10, -5

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(4) < 0
pos = -15, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(4) >=0
trigger1 = AnimElemTime(5) < 0
pos = 20, -34

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(5) >=0
trigger1 = AnimElemTime(6) < 0
pos = 32, -52

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(6) >=0
trigger1 = AnimElemTime(7) < 0
pos = 32, -60

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(7) >=0
trigger1 = AnimElemTime(8) < 0
pos = 25, -92

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(8) >=0
trigger1 = AnimElemTime(9) < 0
pos = -23, -66

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(9) >=0
trigger1 = AnimElemTime(10)< 0
pos = -33, -48

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(10)>=0
pos = -25, -17

[State 1412, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 15
;ampl = -8
;freq = 95
;phase = 95

[State 1603, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = animelem = 1
value = -floor(81*fvar(3))
kill = 0

[State 1501, ステート変更]
type = ChangeState
trigger1 = animelemtime(10)>=0
trigger1 = pos y >=0 && vel y >0
value = 3103

;---------------------------------------------------------------------------
;ネガティブゲイン（成功）
[Statedef 3103]
type    = S
movetype= A
physics = S
anim = 3103
juggle  = 0
poweradd= 0
velset = 0,0
sprpriority = 2

[State 1000, 音を鳴らす];衝撃音
type = PlaySnd
trigger1 = time = 0
value = 1, 12

[State 1630, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1630, PosAdd]
type = PosAdd
trigger1 = Time = 0
x = -15

[State 1603, TargetState]
Type = TargetState
Trigger1 = Time = 0
Value = 3152

[State 801, Explod];衝撃奥
type = Explod
trigger1 = animelemtime(1) = 0
anim = 4051
ID = 4051
pos = 0, 0
postype = p1
facing = 1
sprpriority = 0
ownpal = 1
removeongethit = 1

[State 801, Explod];衝撃手前
type = Explod
trigger1 = animelemtime(1) = 5
anim = 4050
ID = 4050
pos = 0, 0
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1410, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 40,40   ;画面端を押す幅を変える（オレンジの線）

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 0, -8

[State 1412, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 15
;ampl = -8
;freq = 95
;phase = 95

[State 1603, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = animelem = 1
value = -82
kill = 1

[State 1501, ステート変更]
type = ChangeState
trigger1 = animtime = 0
value = 3104

;---------------------------------------------------------------------------
;ネガティブゲイン（ジャンプ）
[Statedef 3104]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 7,-5.5
anim = 3104
poweradd= 0
ctrl = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 300, 7

[State 3000, veladd]
type = veladd
trigger1 = 1
y = .48

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3000, ステート変更]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 3105

;---------------------------------------------------------------------------
;ネガティブゲイン（着地）
[Statedef 3105]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
anim = 3105
poweradd= 0
ctrl = 0
sprpriority = 2

[State 3000, posset]
type = posset
trigger1 = time=0
y = 0

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3000, ステート変更]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ネガティブゲイン
;相手投げられ
[Statedef 3150]
type    = A
movetype= H
physics = N
velset = 0,0

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3150

[State 820, 1]
type = SelfState
Trigger1 = Time>=400
value = 5030

;---------------------------------------------------------------------------
;ネガティブゲイン
;相手投げられ2
[Statedef 3151]
type    = A
movetype= H
physics = N
velset = 0,0

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3151

[State 1611, SelfState]
type = SelfState
Trigger1 = Time>=400
value = 5030

;---------------------------------------------------------------------------
;ネガティブゲイン
;相手投げられ3
[Statedef 3152]
type    = A
movetype= H
physics = N
velset = 0,0

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3152

[State 1630, PosSet]
type = VelSet
trigger1 = AnimTime = 0
x = 3.5
y = -3.5

[State 1611, SelfState]
type = SelfState
trigger1 = AnimTime = 0
value = 5100

;---------------------------------------------------------------------------
;オーバーキル
[Statedef 3200]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= ifelse(var(8)>0,0,-1000)
velset = 0,0
ctrl = 0
anim = 3200
sprpriority = 2

;----------------------------------
; どこでもキャンセル
; var(8)
;----------------------------------
;MAXゲージ消費
[State 1000, VarSet]
type = VarSet
triggerall = var(8) > 0
trigger1 = time = 0
var(8) = 0
;----------------------------------

[State 801, 音を鳴らす];声
type = PlaySnd
trigger1 = AnimElem = 3
value = 3200, 0
channel = 0
volume = 100

[State 3200, PosFreeze]
type = PosFreeze
trigger1 = animelemtime(4)<0

[State 3200, VelAdd]
type = VelAdd
trigger1 = animelemtime(4)>=0
y = .48

[State 800, ヒット定義（投げ用）]
type = HitDef
trigger1 = Time = 0
trigger1 = P2StateNo != [150,155]
attr = A, HT
hitflag = A
priority = 5, Miss
sparkxy = -15,-80
sparkno = -1             ;-をつければスパークエフェクトは無い
p1sprpriority = 2        ;攻撃が当たった時に自分の画像表示優先度を1にします
p2sprpriority = 1        ;攻撃が当たった時に相手の画像表示優先度を0にします
p1facing = 1
p2facing = 1
p1stateno = 3201
p2stateno = 3250
guard.dist = 0           ;相手のガード態勢に入る距離を０にしてるので、ガード不可
fall = 1
id = 3200

;-------------------------------------
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 3
time = 29
movetime = 29
anim = -1
darken = 0
p2defmul = 1

[State 3000, 超必スパーク]
type = Explod
trigger1 = time = 5
anim = 6000
sprpriority = -9999
postype = p1
pos = -6,-103
bindtime = 1
under = 0
ownpal = 1
supermovetime = 999

[State 3000, 超必スパーク]
type = Explod
trigger1 = Time = 15
anim = 6001
sprpriority = 3
postype = p1
pos = -6,-103
bindtime = 1
under = 0
ownpal = 1
supermovetime = 999

[State 3000, フラッシュ]
type = EnvColor
trigger1 = time = 3
value = 255,255,255
persistent = 0
ignorehitpause = 1
time = 4
under = 2

[State 3000, 暗転]
type = EnvColor
trigger1 = time = 7
value = 0,0,0
persistent = 0
ignorehitpause = 1
time = 24
under = 2

[State 3000, 音を鳴らす];超必音
type = PlaySnd
trigger1 = time = 3
value = 6000, 0

;-------------------------------------
[State 800, ステート変更]
type = ChangeState
Trigger1 = Pos Y >= 0 && Vel Y >0
value = 3206

;---------------------------------------------------------------------------
;オーバーキル（成功）
[Statedef 3201]
type    = A
movetype= A
physics = N
anim = 3201
juggle  = 0
poweradd= 0
velset = 0,0
sprpriority = 2

[State 801, 音を鳴らす];声
type = PlaySnd
trigger1 = AnimElem = 2
value = 3200, 0
channel = 0
volume = 100

[state 1000, TargetState];再ロック
type = TargetState
trigger1 = time = 0
trigger1 = NumTarget(3200)
trigger1 = Target(3200),stateno!=3250
value = 3250

[State 3200, PosFreeze]
type = PosFreeze
trigger1 = animelemtime(3)<0

[State 1630, VelAdd]
type = VelAdd
Trigger1 = animelemtime(3)>=0
y = .43

[State 1410, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 40,40   ;画面端を押す幅を変える（オレンジの線）

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(4) < 0
pos = 35, -10

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = null;TargetBind
trigger1 = AnimElemTime(3) >=0
trigger1 = AnimElemTime(4) < 0
pos = 17, -100

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(4) >=0
trigger1 = AnimElemTime(5) < 0
pos = 26, -102

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(5) >=0
trigger1 = AnimElemTime(6) < 0
pos = 35, -74

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(6) >=0
pos = 24, -32

;-------------------------------------
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 29
movetime = 29
anim = -1
darken = 0
p2defmul = 1

[State 3000, 超必スパーク]
type = Explod
trigger1 = time = 2
anim = 6000
sprpriority = -9999
postype = p1
pos = -6,-103
bindtime = 1
under = 0
ownpal = 1
supermovetime = 999

[State 3000, 超必スパーク]
type = Explod
trigger1 = Time = 12
anim = 6001
sprpriority = 3
postype = p1
pos = -6,-103
bindtime = 1
under = 0
ownpal = 1
supermovetime = 999

[State 3000, フラッシュ]
type = EnvColor
trigger1 = time = 0
value = 255,255,255
persistent = 0
ignorehitpause = 1
time = 4
under = 2

[State 3000, 暗転]
type = EnvColor
trigger1 = time = 4
value = 0,0,0
persistent = 0
ignorehitpause = 1
time = 24
under = 2

[State 3000, 音を鳴らす];超必音
type = PlaySnd
trigger1 = time = 0
value = 6000, 0

;-------------------------------------
[State 1501, ステート変更]
type = ChangeState
trigger1 = animelemtime(3)>=0
trigger1 = pos y >=0 && vel y >0
value = 3202

;---------------------------------------------------------------------------
;オーバーキル（地面に叩きつける）
[Statedef 3202]
type    = S
movetype= A
physics = S
anim = 3202
juggle  = 0
poweradd= 0
velset = 0,0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 1, 18

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 1, 17

[State 1630, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3200, TargetState]
Type = TargetState
Trigger1 = Time = 0
Value = 3251

[State 801, Explod];衝撃奥
type = Explod
trigger1 = time = 0
anim = 4051
ID = 4051
pos = 0, 0
postype = p1
facing = 1
sprpriority = 0
ownpal = 1
removeongethit = 1

[State 801, Explod];衝撃手前
type = Explod
trigger1 = time = 5
anim = 4050
ID = 4050
pos = 0, 0
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 3000, Explod];オロチエフェクト
type = Explod
trigger1 = time = 5
anim = 4060
ID = 4060
pos = 0, 0
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1410, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 40,40   ;画面端を押す幅を変える（オレンジの線）

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = time=0
pos = 23, 0
time = 6

[State 1412, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 15
;ampl = -8
;freq = 95
;phase = 95

[State 1603, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = animelem = 1
value = -floor(155*fvar(3))
kill = 0

[State 1501, ステート変更]
type = ChangeState
trigger1 = animtime = 0
value = 3203

;---------------------------------------------------------------------------
;オーバーキル（空中から膝）
[Statedef 3203]
type    = A
movetype= A
physics = N
anim = 3203
juggle  = 0
poweradd= 0
velset = 0,0
sprpriority = 2

[State 801, 音を鳴らす];声
type = PlaySnd
trigger1 = AnimElem = 8
value = 3100, 0
channel = 0
volume = 100

[State 801, 音を鳴らす];出現
type = PlaySnd
trigger1 = AnimElem = 2
value = 3200, 1
volume = 200

[State 3200, PosSet]
type = PosSet
trigger1 = time = 0
y = -75

[State 3200, PosFreeze]
type = PosFreeze
trigger1 = animelemtime(9)<0

[State 1630, VelAdd]
type = VelAdd
Trigger1 = animelemtime(9)>=0
y = .45

[State 1410, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 40,40   ;画面端を押す幅を変える（オレンジの線）

[State 1501, ステート変更]
type = ChangeState
trigger1 = animelemtime(9)>=0
trigger1 = pos y >=10 && vel y >0
value = 3204

;---------------------------------------------------------------------------
;オーバーキル（膝で突撃）
[Statedef 3204]
type    = A
movetype= A
physics = N
anim = 3204
juggle  = 0
poweradd= 0
velset = 0,0
sprpriority = 2

[State 801, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 1, 17

[State 3200, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 1410, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 40,40   ;画面端を押す幅を変える（オレンジの線）

[State 801, Explod];衝撃奥
type = Explod
trigger1 = time = 0
anim = 4051
ID = 4051
pos = 0, 0
postype = p1
facing = 1
sprpriority = 0
ownpal = 1
removeongethit = 1

[State 801, Explod];衝撃手前
type = Explod
trigger1 = time = 5
anim = 4050
ID = 4050
pos = 0, 0
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 3000, Explod];オロチエフェクト2
type = Explod
trigger1 = time = 0
anim = 4061
ID = 4061
pos = 0, 0
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1000, ヒット定義];上
type = HitDef
trigger1 = time = 0
attr = A, HT
animtype  = hard
damage    = 155, 5
getpower  = 0,0
priority  = 5, hit
guardflag = MA
pausetime = 2,15
sparkxy = -15,-15
sparkno = s4001
guard.sparkno = s4021
hitsound   = s1,13
guardsound = s121,0
ground.type = high
ground.slidetime = 18
ground.hittime  = 999
ground.velocity = -6,-5
air.velocity = -5,-5
fall = 1
fall.recover = 0
guard.dist = 0           ;相手のガード態勢に入る距離を０にしてるので、ガード不可
p2stateno = 3252
id = 3200

[State 1412, EnvShake]
type = EnvShake
trigger1 = movehit
time = 10
ampl = -8
freq = 95
phase = 95
persistent = 0
ignorehitpause = 1

[State 1501, ステート変更]
type = ChangeState
trigger1 = animtime = 0
value = 3205

;---------------------------------------------------------------------------
;オーバーキル（バックジャンプ）
[Statedef 3205]
type    = A
movetype= A
physics = N
anim = 3205
juggle  = 0
poweradd= 0
velset = -3,-5.5
sprpriority = 2

[State 801, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 40, 1

[State 3200, VelAdd]
type = VelAdd
trigger1 = 1
y = .43

[State 1410, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1501, ステート変更]
type = ChangeState
trigger1 = pos Y >= 0 && Vel Y > 0
value = 3206

;---------------------------------------------------------------------------
;オーバーキル（バックジャンプ着地）
[Statedef 3206]
type    = A
movetype= A
physics = N
anim = 3206
juggle  = 0
poweradd= 0
velset = 0,0
sprpriority = 2

[State 3200, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 1410, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1501, ステート変更]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;オーバーキル
;相手投げられ
[Statedef 3250]
type    = A
movetype= H
physics = N
velset = 0,0

;---------------------------------------------
[state 1050, SelfState];Helperは返却
type = SelfState
trigger1 = ishelper
value = PrevStateNo
;---------------------------------------------

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3250

[State 1611, SelfState]
type = SelfState
Trigger1 = Time>=400
value = 5030

;---------------------------------------------------------------------------
;オーバーキル
;相手投げられ2
[Statedef 3251]
type    = S
movetype= H
physics = N
velset = 0,0

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3251

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = PosSet
trigger1 = time>=14
y = 0

[State 1611, SelfState]
type = SelfState
Trigger1 = Time>=400
value = 5100

;---------------------------------------------------------------------------
;オーバーキル
;相手投げられ3
[Statedef 3252]
type    = S
movetype= H
physics = N
velset = 0,0

[State 3252, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3252

[State 3252, VelSet]
type = VelSet
trigger1 = animtime=0
x = -3
y = -3

[State 3252, SelfState]
type = SelfState
Trigger1 = animtime=0
value = 5100

;===========================================================================
; MAX超必殺技
;===========================================================================
;---------------------------------------------------------------------------
;MAXウィザリング サーフェス
[Statedef 3300]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3000
poweradd= ifelse(var(8)>0,-1000,ifelse(var(11),-4000,-3000))
ctrl = 0
sprpriority = 2

;----------------------------------
; どこでもキャンセル
; var(8)
;----------------------------------
;MAXゲージ消費
[State 1000, VarSet]
type = VarSet
triggerall = var(8) > 0
trigger1 = time = 0
var(8) = 0

;----------------------------------

[State 801, 音を鳴らす];声
type = PlaySnd
trigger1 = AnimElem = 4
value = 3000, 0
channel = 0
volume = 100

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2100, 残像]
type = AfterImage
trigger1 = animelemtime(4)=0
time = 54
length = 7      ;残像の表示時間
timegap = 2     ;時間差
framegap = 2    ;フレーム差
palbright = 0, 0, 90
palcontrast = 110, 110, 180
PalAdd = 20,20,40
;palmul = 1, 1, 1
trans = Add1

;-------------------------------------
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 29
movetime = 29
anim = -1
darken = 0
p2defmul = 1

[State 3000, 超必スパーク]
type = Explod
trigger1 = time = 3
anim = 6010
sprpriority = -9999
postype = p1
pos = 30,-21
bindtime = 1
under = 0
ownpal = 1
supermovetime = 999

[State 3000, 超必スパーク]
type = Explod
trigger1 = Time = 13
anim = 6011
sprpriority = 3
postype = p1
pos = 30,-21
bindtime = 1
under = 0
ownpal = 1
supermovetime = 999

[State 3000, フラッシュ]
type = EnvColor
trigger1 = time = 1
value = 255,255,255
persistent = 0
ignorehitpause = 1
time = 4
under = 2

[State 3000, 暗転]
type = EnvColor
trigger1 = time = 5
value = 0,0,0
persistent = 0
ignorehitpause = 1
time = 24
under = 2

[State 3000, 音を鳴らす];超必音
type = PlaySnd
trigger1 = time = 1
value = 6000, 1

;-------------------------------------
[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 3301

;---------------------------------------------------------------------------
;MAXウィザリング サーフェス（ジャンプ）
[Statedef 3301]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 7.9,-5
anim = 3011
poweradd= 0
ctrl = 0
sprpriority = 2

[State 3000, veladd]
type = veladd
trigger1 = 1
y = .48

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3000, ステート変更]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 3302

;---------------------------------------------------------------------------
;MAXウィザリング サーフェス（掴み）
[Statedef 3302]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 0
velset = 0,0
ctrl = 0
anim = 3302
sprpriority = 2

[State 1630, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1410, NotHitBy]
type = NotHitBy
trigger1 = animelemtime(2)<0
value = SCA

[State 800, ヒット定義（投げ用）]
type = HitDef
trigger1 = Time = 0
trigger1 = P2StateNo != [150,155]
attr = S, HT
hitflag = M
priority = 5, Miss
sparkxy = -15,-80
sparkno = -1             ;-をつければスパークエフェクトは無い
p1sprpriority = 2        ;攻撃が当たった時に自分の画像表示優先度を1にします
p2sprpriority = 1        ;攻撃が当たった時に相手の画像表示優先度を0にします
p1facing = 1
p2facing = 1
p1stateno = 3303
p2stateno = 3350
guard.dist = 0           ;相手のガード態勢に入る距離を０にしてるので、ガード不可
fall = 1
id = 3300

[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;MAXウィザリング サーフェス（成功）
[Statedef 3303]
type    = S
movetype= A
physics = S
anim = 3303
juggle  = 0
poweradd= 0
velset = 0,0
sprpriority = 2

[State 801, 音を鳴らす];掴み用
type = PlaySnd
trigger1 = time = 0
value = 800, 0

[State 1000, 音を鳴らす];振り下ろし
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 16
trigger3 = animelem = 27
value = 300, 7

[State 1000, 音を鳴らす];衝撃音
type = PlaySnd
trigger1 = animelem = 7
trigger2 = animelem = 18
trigger3 = animelem = 29
value = 1, 12

[state 1000, TargetState];再ロック
type = TargetState
trigger1 = time = 0
trigger1 = NumTarget(3300)
trigger1 = Target(3300),stateno!=3350
value = 3350

[State 1630, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 801, Explod];衝撃奥
type = Explod
trigger1 = animelemtime(7) = 0
trigger2 = animelemtime(18)= 0
trigger3 = animelemtime(29)= 0
anim = 4051
ID = 4051
pos = 94, 0
postype = p1
facing = 1
sprpriority = 0
ownpal = 1
removeongethit = 1

[State 801, Explod];衝撃手前
type = Explod
trigger1 = animelemtime(8) = 1
trigger2 = animelemtime(19)= 1
trigger3 = animelemtime(30)= 1
anim = 4050
ID = 4050
pos = 94, 0
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 801, Explod];掴みスパーク
type = Explod
trigger1 = animelem = 1
anim = 4021
ID = 4021
pos = 32, -67
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1410, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 40,0   ;画面端を押す幅を変える（オレンジの線）

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) < 0
trigger2 = AnimElemTime(12)>=0
trigger2 = AnimElemTime(13)< 0
trigger3 = AnimElemTime(23)>=0
trigger3 = AnimElemTime(24)< 0
trigger4 = AnimElemTime(34)>=0
trigger4 = AnimElemTime(35)< 0
pos = 35, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) >=0
trigger1 = AnimElemTime(3) < 0
trigger2 = AnimElemTime(13)>=0
trigger2 = AnimElemTime(14)< 0
trigger3 = AnimElemTime(24)>=0
trigger3 = AnimElemTime(25)< 0
trigger4 = AnimElemTime(35)>=0
pos = 16, -95

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(3) >=0
trigger1 = AnimElemTime(4) < 0
trigger2 = AnimElemTime(14)>=0
trigger2 = AnimElemTime(15)< 0
trigger3 = AnimElemTime(25)>=0
trigger3 = AnimElemTime(26)< 0
pos = 4, -120

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(4) >=0
trigger1 = AnimElemTime(5) < 0
trigger2 = AnimElemTime(15)>=0
trigger2 = AnimElemTime(16)< 0
trigger3 = AnimElemTime(26)>=0
trigger3 = AnimElemTime(27)< 0
pos = -20, -118

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(5) >=0
trigger1 = AnimElemTime(6) < 0
trigger2 = AnimElemTime(16)>=0
trigger2 = AnimElemTime(17)< 0
trigger3 = AnimElemTime(27)>=0
trigger3 = AnimElemTime(28)< 0
pos = 23, -109

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(6) >=0
trigger1 = AnimElemTime(7) < 0
trigger2 = AnimElemTime(17)>=0
trigger2 = AnimElemTime(18)< 0
trigger3 = AnimElemTime(28)>=0
trigger3 = AnimElemTime(29)< 0
pos = 39, -83

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(7) >=0
trigger1 = AnimElemTime(8) < 0
trigger2 = AnimElemTime(18)>=0
trigger2 = AnimElemTime(19)< 0
trigger3 = AnimElemTime(29)>=0
trigger3 = AnimElemTime(30)< 0
pos = 107, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(8) >=0
trigger1 = AnimElemTime(9) < 0
trigger2 = AnimElemTime(19)>=0
trigger2 = AnimElemTime(20)< 0
trigger3 = AnimElemTime(30)>=0
trigger3 = AnimElemTime(31)< 0
pos = 107, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(9) >=0
trigger1 = AnimElemTime(10)< 0
trigger2 = AnimElemTime(20)>=0
trigger2 = AnimElemTime(21)< 0
trigger3 = AnimElemTime(31)>=0
trigger3 = AnimElemTime(32)< 0
pos = 76, -4

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(10)>=0
trigger1 = AnimElemTime(11)< 0
trigger2 = AnimElemTime(21)>=0
trigger2 = AnimElemTime(22)< 0
trigger3 = AnimElemTime(32)>=0
trigger3 = AnimElemTime(33)< 0
pos = 57, -8

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(11)>=0
trigger1 = AnimElemTime(12)< 0
trigger2 = AnimElemTime(22)>=0
trigger2 = AnimElemTime(23)< 0
trigger3 = AnimElemTime(33)>=0
trigger3 = AnimElemTime(34)< 0
pos = 46, -30

[State 1412, EnvShake]
type = EnvShake
trigger1 = animelem = 7
trigger2 = animelem = 18
trigger3 = animelem = 29
time = 15
;ampl = -8
;freq = 95
;phase = 95

[State 1603, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = animelem = 7
trigger2 = animelem = 18
trigger3 = animelem = 29
value = -floor(90*fvar(3));-100 ;-115
kill = 0

[State 1501, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 3304

;---------------------------------------------------------------------------
;MAXウィザリング サーフェス（成功空中）
[Statedef 3304]
type    = A
movetype= A
physics = N
anim = 3304
juggle  = 0
poweradd= 0
velset = 3,-9
sprpriority = 2

[State 801, 音を鳴らす];声
type = PlaySnd
trigger1 = AnimElem = 1
value = 3200, 0
channel = 0
volume = 100

[State 1630, VelAdd]
type = VelAdd
trigger1 = 1
y = .46

[State 1603, TargetState]
Type = TargetState
Trigger1 = Time = 0
Value = 3351

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 40,0   ;画面端を押す幅を変える（オレンジの線）

[State 1410, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 18, -130

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) >=0
trigger1 = AnimElemTime(3) < 0
pos = -12, -133

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(3) >=0
pos = 11, -120

[State 1501, ステート変更]
type = ChangeState
trigger1 = AnimElemTime(3)>0
trigger1 = pos y >= 10 && vel y > 0
value = 3305

;---------------------------------------------------------------------------
;MAXウィザリング サーフェス（成功地上）
[Statedef 3305]
type    = S
movetype= A
physics = S
anim = 3305
juggle  = 0
poweradd= 0
velset = 0,0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 300, 7

[State 1000, 音を鳴らす];衝撃音
type = PlaySnd
trigger1 = animelem = 2
value = 1, 12

[State 1630, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1630, PosSet]
type = PosAdd
trigger1 = Time = 0
x = -15

[State 1603, TargetState]
Type = TargetState
Trigger1 = Time = 0
Value = 3352

[State 801, Explod];衝撃奥
type = Explod
trigger1 = animelemtime(2) = 0
anim = 4051
ID = 4051
pos = 94, 0
postype = p1
facing = 1
sprpriority = 0
ownpal = 1
removeongethit = 1

[State 801, Explod];衝撃手前
type = Explod
trigger1 = animelemtime(3) = 1
anim = 4050
ID = 4050
pos = 94, 0
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1410, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 40,0   ;画面端を押す幅を変える（オレンジの線）

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 38, -83

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) >=0
trigger1 = AnimElemTime(3) < 0
pos = 97, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(3) >=0
trigger1 = AnimElemTime(4) < 0
pos = 97, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(4) >=0
trigger1 = AnimElemTime(5) < 0
pos = 76, -4

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(5) >=0
trigger1 = AnimElemTime(6) < 0
pos = 57, -11

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(6) >=0
pos = 46, -35

[State 1412, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 15
;ampl = -8
;freq = 95
;phase = 95

[State 1603, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 2
value = -90;-100
kill = 0

[State 1501, ステート変更]
type = ChangeState
trigger1 = AnimTime=0
value = 3306

;---------------------------------------------------------------------------
;MAXウィザリング サーフェス（放り投げ）
[Statedef 3306]
type    = S
movetype= A
physics = N
anim = 3306
juggle  = 0
poweradd= 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 11
value = 300, 7

[State 1603, TargetState]
Type = TargetState
Trigger1 = Time = 0
Value = 3353

[State 1410, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 40,0   ;画面端を押す幅を変える（オレンジの線）

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 35, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) >=0
trigger1 = AnimElemTime(4) < 0
pos = 30, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(4) >=0
trigger1 = AnimElemTime(5) < 0
pos = 26, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(5) >=0
trigger1 = AnimElemTime(6) < 0
pos = 15, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(6) >=0
trigger1 = AnimElemTime(7) < 0
pos = -23, -84

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(7) >=0
trigger1 = AnimElemTime(8) < 0
pos = -15, -109

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(8) >=0
trigger1 = AnimElemTime(9) < 0
pos = -19, -111

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(9) >=0
trigger1 = AnimElemTime(10)< 0
pos = -28, -87

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(10)>=0
trigger1 = AnimElemTime(11)< 0
pos = 16, -14

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(11)>=0
trigger1 = AnimElemTime(12)< 0
pos = 49, -36

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(12) =0
pos = 56, -40

[State 1501, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 3307

;---------------------------------------------------------------------------
;MAXウィザリング サーフェス（空中掴み）
[Statedef 3307]
type    = A
movetype= A
physics = N
anim = 3307
juggle  = 0
poweradd= 0
velset = 4,-9
sprpriority = 2

[State 801, 音を鳴らす];声
type = PlaySnd
trigger1 = AnimElemTime(2)=0
value = 800, 0

[State 801, 音を鳴らす];声
type = PlaySnd
trigger1 = AnimElem = 2
value = 1600, 0
channel = 0
volume = 100

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 3000, 2

[State 1602, VelAdd]
type = VelAdd
trigger1 = time>0
y = .3

[State 1602, VelSet]
type = VelSet
trigger1 = animelemtime(2)=7
x = 3
y = -3.5

[State 1603, TargetState]
Type = TargetState
Trigger1 = animelemtime(2)=0
Value = 3354

[State 801, Explod];掴みスパーク
type = Explod
trigger1 = animelem = 2
anim = 4021
ID = 4021
pos = 17, -126
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1410, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 40,0   ;画面端を押す幅を変える（オレンジの線）

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) >=0
trigger1 = AnimElemTime(3) < 0
pos = 18, -130

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(3) >=0
trigger1 = AnimElemTime(4) < 0
pos = -12, -133

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(4) >=0
trigger1 = AnimElemTime(5) < 0
pos = 11, -120

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(5) >=0
trigger1 = AnimElemTime(6) < 0
pos = 36, -57

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(6) >=0
trigger1 = AnimElemTime(7) < 0
pos = -28, -43

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(7) >=0
trigger1 = AnimElemTime(8) < 0
pos = -41, -105

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(8) >=0
trigger1 = AnimElemTime(9) < 0
pos = 21, -119

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(9) >=0
trigger1 = AnimElemTime(10)< 0
pos = -12, -133

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(10)>=0
pos = 12, -120

[State 1603, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 2
value = -68
kill = 0

[State 1501, ステート変更]
type = ChangeState
trigger1 = AnimElemTime(10)>0
trigger1 = pos y >= 10 && vel y > 0
value = 3308

;---------------------------------------------------------------------------
;MAXウィザリング サーフェス（地上）
[Statedef 3308]
type    = S
movetype= A
physics = S
anim = 3308
juggle  = 0
poweradd= 0
velset = 0,0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 1, 13

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 1, 17

[State 1630, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1630, PosSet]
type = PosAdd
trigger1 = Time = 0
x = -15

[State 1603, TargetState]
Type = TargetState
Trigger1 = Time = 0
Value = 3355

[State 801, Explod];衝撃奥
type = Explod
trigger1 = animelemtime(2) = 0
anim = 4051
ID = 4051
pos = 94, 0
postype = p1
facing = 1
sprpriority = 0
ownpal = 1
removeongethit = 1

[State 801, Explod];衝撃手前
type = Explod
trigger1 = animelemtime(3) = 1
anim = 4050
ID = 4050
pos = 94, 0
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 3000, Explod];オロチエフェクト2
type = Explod
trigger1 = animelemtime(3) = 1
anim = 4061
ID = 4061
pos = 94, 0
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1410, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 40,0   ;画面端を押す幅を変える（オレンジの線）

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 38, -83

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) >=0
trigger1 = AnimElemTime(3) < 0
pos = 97, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(3) >=0
trigger1 = AnimElemTime(4) < 0
pos = 97, 0

[State 1412, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 15
;ampl = -8
;freq = 95
;phase = 95

[State 1603, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 2
value = -68
kill = 1

[State 1501, ステート変更]
type = ChangeState
trigger1 = AnimTime=0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;MAXウィザリング サーフェス
;相手投げられ1
[Statedef 3350]
type    = A
movetype= H
physics = N
velset = 0,0

;---------------------------------------------
[state 1050, SelfState];Helperは返却
type = SelfState
trigger1 = ishelper
value = PrevStateNo
;---------------------------------------------

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3350

[State 820, 1]
type = SelfState
Trigger1 = Time>=500
value = 5030

;---------------------------------------------------------------------------
;MAXウィザリング サーフェス
;相手投げられ2
[Statedef 3351]
type    = A
movetype= H
physics = N
velset = 0,0

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3351

[State 1611, SelfState]
type = SelfState
Trigger1 = Time>=500
value = 5030

;---------------------------------------------------------------------------
;MAXウィザリング サーフェス
;相手投げられ3
[Statedef 3352]
type    = A
movetype= H
physics = N
velset = 0,0

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3352

[State 1611, SelfState]
type = SelfState
Trigger1 = Time>=500
value = 5030

;---------------------------------------------------------------------------
;MAXウィザリング サーフェス
;相手投げられ3
[Statedef 3353]
type    = A
movetype= H
physics = N
velset = 0,0

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3353

[State 1000, 0]
Type = SprPriority
Trigger1 = animelem = 3
Value = 3

[State 1412, VelSet]
type = VelSet
trigger1 = Time = 46
x = .8
y = -10

[State 1412, VelAdd]
type = VelAdd
trigger1 = Time > 46
y = .4

[State 1412, Turn]
type = Turn
Trigger1 = time = 44

;---------------------------------------------------------------------------
;MAXウィザリング サーフェス
;相手投げられ4
[Statedef 3354]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1000, 0]
Type = SprPriority
Trigger1 = time = 0
Value = 1

[State 1412, Turn]
type = Turn
Trigger1 = time = 0

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3354

[State 1611, SelfState]
type = SelfState
Trigger1 = Time>=500
value = 5030

;---------------------------------------------------------------------------
;MAXウィザリング サーフェス
;相手投げられ5
[Statedef 3355]
type    = A
movetype= H
physics = N
velset = 0,0

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3355

[State 1630, PosSet]
type = VelSet
trigger1 = AnimTime = 0
x = -3
y = -3

[State 1611, SelfState]
type = SelfState
trigger1 = AnimTime = 0
value = 5101

;---------------------------------------------------------------------------
;MAXネガティブゲイン
[Statedef 3400]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= ifelse(var(8)>0,-1000,ifelse(var(11),-4000,-3000))
velset = 0,0
ctrl = 0
anim = 3100
sprpriority = 2

;----------------------------------
; どこでもキャンセル
; var(8)
;----------------------------------
;MAXゲージ消費
[State 1000, VarSet]
type = VarSet
triggerall = var(8) > 0
trigger1 = time = 0
var(8) = 0

;----------------------------------
; SC点滅用
; var(12)
;----------------------------------
;投げ技SC点滅用変数
[State 1000, varset]
type = varset
trigger1 = time = 0
var(12) = prevstateno
;----------------------------------
[State 801, 音を鳴らす];声
type = PlaySnd
trigger1 = AnimElem = 3
value = 3100, 0
channel = 0
volume = 100

[State 1630, PosAdd]
type = PosAdd
trigger1 = animelemtime(6)=0
trigger2 = animelemtime(7)=0
trigger3 = animelemtime(8)=0
trigger4 = animelemtime(9)=0
x = -15

[State 3100, varset]
type = varset
trigger1 = time = 0
var(10) = 0

[State 2100, 残像]
type = AfterImage
trigger1 = animelemtime(2)=0
time = 62
length = 7      ;残像の表示時間
timegap = 2     ;時間差
framegap = 2    ;フレーム差
palbright = 0, 0, 90
palcontrast = 110, 110, 180
PalAdd = 20,20,40
;palmul = 1, 1, 1
trans = Add1

[State 800, ヒット定義（投げ用）]
type = HitDef
trigger1 = Time = 0
trigger1 = P2StateNo != [150,155]
attr = S, HT
hitflag = M
priority = 5, Miss
sparkxy = -15,-80
sparkno = -1             ;-をつければスパークエフェクトは無い
p1sprpriority = 2        ;攻撃が当たった時に自分の画像表示優先度を1にします
p2sprpriority = 1        ;攻撃が当たった時に相手の画像表示優先度を0にします
p1facing = 1
p2facing = 1
p1stateno = 3401
p2stateno = 3450
guard.dist = 0           ;相手のガード態勢に入る距離を０にしてるので、ガード不可
fall = 1
id = 3400

;-------------------------------------
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 2
time = 29
movetime = 29
anim = -1
darken = 0
p2defmul = 1

[State 3000, 超必スパーク]
type = Explod
trigger1 = time = 4
anim = 6010
sprpriority = -9999
postype = p1
pos = 18,-72
bindtime = 1
under = 0
ownpal = 1
supermovetime = 999

[State 3000, 超必スパーク]
type = Explod
trigger1 = Time = 14
anim = 6011
sprpriority = 3
postype = p1
pos = 18,-72
bindtime = 1
under = 0
ownpal = 1
supermovetime = 999

[State 3000, フラッシュ]
type = EnvColor
trigger1 = time = 2
value = 255,255,255
persistent = 0
ignorehitpause = 1
time = 4
under = 2

[State 3000, 暗転]
type = EnvColor
trigger1 = time = 6
value = 0,0,0
persistent = 0
ignorehitpause = 1
time = 24
under = 2

[State 3000, 音を鳴らす];超必音
type = PlaySnd
trigger1 = time = 2
value = 6000, 1

;-------------------------------------
[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;MAXネガティブゲイン（成功）
[Statedef 3401]
type    = S
movetype= A
physics = N
anim = 3101
juggle  = 0
poweradd= 0
velset = 0,0
sprpriority = 2

[State 801, 音を鳴らす];声
type = PlaySnd
trigger1 = AnimElem = 1
value = 3100, 0
channel = 0
volume = 100

[State 801, 音を鳴らす];掴み用
type = PlaySnd
trigger1 = AnimElem = 4
value = 800, 0

[State 1000, 音を鳴らす];衝撃音
type = PlaySnd
trigger1 = animelem = 12
value = 1, 12

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 17
value = 300, 7

[state 1000, TargetState];再ロック
type = TargetState
trigger1 = time = 0
trigger1 = NumTarget(3400)
trigger1 = Target(3400),stateno!=3450
value = 3450

[State 3100, varset]
type = varset
trigger1 = time = 0
var(10) = 0

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 28
movetime = 28
darken = 0
anim = -1
P2DefMul = 1

[State 801, 音を鳴らす];声
type = PlaySnd
trigger1 = AnimElem = 8
value = 801, 0
channel = 0
volume = 100

[State 801, 音を鳴らす];掴み用
type = PlaySnd
trigger1 = AnimElem = 1
value = 800, 0

[State 1630, PosSet]
type = PosSet
trigger1 = Time = 0
trigger2 = animelem = 12
y = 0

[State 3100, PosAdd]
type = PosAdd
trigger1 = AnimElemTime(8)>=0
trigger1 = AnimElemTime(11)<0
x = -2

[State 3100, PosAdd]
type = PosSet
trigger1 = AnimElemTime(2)>=0
trigger1 = AnimElemTime(3)<0
trigger1 = NumTarget(3400)
trigger1 = Target(3400),Const(size.head.pos.y) + 55 < 0
y = (Target(3400),Const(size.head.pos.y) + 55)

[State 3100, PosAdd]
type = PosAdd
trigger1 = AnimElemTime(10)>=0
trigger1 = Pos Y < 0
y = -Floor(Pos Y / 4)

[State 1630, VelSet]
type = VelSet
Trigger1 = animelem=17
x = -2
y = -9

[State 1630, VelAdd]
type = VelAdd
Trigger1 = animelemtime(17)>=0
y = .43

[State 1000, 0]
Type = StateTypeSet
Trigger1 = animelem=17
StateType = A

[State 801, Explod];衝撃奥
type = Explod
trigger1 = animelemtime(12) = 0
anim = 4051
ID = 4051
pos = 0, 0
postype = p1
facing = 1
sprpriority = 0
ownpal = 1
removeongethit = 1

[State 801, Explod];衝撃手前
type = Explod
trigger1 = animelemtime(12) = 5
anim = 4050
ID = 4050
pos = 0, 0
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1410, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 40,40   ;画面端を押す幅を変える（オレンジの線）

[State 2100, 残像]
type = AfterImage
trigger1 = time=0
time = 290
length = 7      ;残像の表示時間
timegap = 2     ;時間差
framegap = 2    ;フレーム差
palbright = 0, 0, 90
palcontrast = 110, 110, 180
PalAdd = 20,20,40
;palmul = 1, 1, 1
trans = Add1

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 35, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(8) >=0
trigger1 = AnimElemTime(9) < 0
trigger2 = AnimElemTime(18)>=0
trigger2 = AnimElemTime(19)< 0
pos = 33, -60

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(9) >=0
trigger1 = AnimElemTime(10)< 0
trigger2 = AnimElemTime(19)>=0
trigger2 = AnimElemTime(20)< 0
pos = 25, -92

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(10)>=0
trigger1 = AnimElemTime(11)< 0
trigger2 = AnimElemTime(20)>=0
trigger2 = AnimElemTime(21)< 0
pos = -22, -62

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(11)>=0
trigger1 = AnimElemTime(12)< 0
trigger2 = AnimElemTime(21)>=0
trigger2 = AnimElemTime(22)< 0
pos = -33, -48

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(12)>=0
trigger1 = AnimElemTime(15)< 0
pos = -37, -7

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(15)>=0
trigger1 = AnimElemTime(16)< 0
pos = -9, -7

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(16)>=0
trigger1 = AnimElemTime(17)< 0
pos = 17, -30

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(17)>=0
trigger1 = AnimElemTime(18)< 0
pos = 33, -52

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(22)>=0
pos = -37, -16

[State 1412, EnvShake]
type = EnvShake
trigger1 = animelem = 12
time = 15
;ampl = -8
;freq = 95
;phase = 95

[State 1603, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = animelem = 12
value = -81
kill = 0

;-------------------------------------
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 29
movetime = 29
anim = -1
darken = 0
p2defmul = 1

[State 3000, 超必スパーク]
type = Explod
trigger1 = time = 2
anim = 6010
sprpriority = -9999
postype = p1
pos = 18,-72
bindtime = 1
under = 0
ownpal = 1
supermovetime = 999

[State 3000, 超必スパーク]
type = Explod
trigger1 = Time = 12
anim = 6011
sprpriority = 3
postype = p1
pos = 18,-72
bindtime = 1
under = 0
ownpal = 1
supermovetime = 999

[State 3000, フラッシュ]
type = EnvColor
trigger1 = time = 0
value = 255,255,255
persistent = 0
ignorehitpause = 1
time = 4
under = 2

[State 3000, 暗転]
type = EnvColor
trigger1 = time = 4
value = 0,0,0
persistent = 0
ignorehitpause = 1
time = 24
under = 2

[State 3000, 音を鳴らす];超必音
type = PlaySnd
trigger1 = time = 0
value = 6000, 1

;-------------------------------------
[State 1501, ステート変更]
type = ChangeState
trigger1 = animelemtime(22)>=0
trigger1 = pos y >=0 && vel y >0
value = 3402

;---------------------------------------------------------------------------
;ネガティブゲイン（叩きつけ2-4回目）
[Statedef 3402]
type    = S
movetype= A
physics = N
anim = 3102
juggle  = 0
poweradd= 0
velset = 0,0
sprpriority = 2

[State 801, 音を鳴らす];声
type = PlaySnd
trigger1 = AnimElem = 5
trigger1 = var(10)=3
value = 3100, 1
channel = 0
volume = 100

[State 1000, 音を鳴らす];衝撃音
type = PlaySnd
trigger1 = time = 0
value = 1, 12

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
value = 300, 7

[State 3100, varset]
type = varadd
trigger1 = time = 0
var(10) = 1

[State 1630, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1000, 0]
Type = StateTypeSet
Trigger1 = animelem=5
StateType = A

[State 1630, VelSet]
type = VelSet
Trigger1 = animelemtime(5)=0
x = -2.2
y = -3.5-(var(10)=3)*4

[State 1630, VelAdd]
type = VelAdd
Trigger1 = animelemtime(5)>0
y = .45

[State 1603, TargetState]
Type = TargetState
Trigger1 = Time = 0
Value = 3451

[State 801, Explod];衝撃奥
type = Explod
trigger1 = animelemtime(1) = 0
anim = 4051
ID = 4051
pos = 0, 0
postype = p1
facing = 1
sprpriority = 0
ownpal = 1
removeongethit = 1

[State 801, Explod];衝撃手前
type = Explod
trigger1 = animelemtime(1) = 5
anim = 4050
ID = 4050
pos = 0, 0
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1410, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 40,40   ;画面端を押す幅を変える（オレンジの線）

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = -10, -5

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(4) < 0
pos = -15, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(4) >=0
trigger1 = AnimElemTime(5) < 0
pos = 20, -34

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(5) >=0
trigger1 = AnimElemTime(6) < 0
pos = 32, -52

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(6) >=0
trigger1 = AnimElemTime(7) < 0
pos = 32, -60

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(7) >=0
trigger1 = AnimElemTime(8) < 0
pos = 25, -92

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(8) >=0
trigger1 = AnimElemTime(9) < 0
pos = -23, -66

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(9) >=0
trigger1 = AnimElemTime(10)< 0
pos = -33, -48

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(10)>=0
pos = -25, -17

[State 1412, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 15
;ampl = -8
;freq = 95
;phase = 95

[State 1603, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = animelem = 1
value = -floor(81*fvar(3))
kill = 0

[State 1501, ステート変更]
type = ChangeState
trigger1 = animelemtime(10)>=0
trigger1 = pos y >=0 && vel y >0
value = ifelse(var(10)=3, 3403,3402)

;---------------------------------------------------------------------------
;MAXネガティブゲイン（成功）
[Statedef 3403]
type    = S
movetype= A
physics = S
anim = 3103
juggle  = 0
poweradd= 0
velset = 0,0
sprpriority = 2

[State 1000, 音を鳴らす];衝撃音
type = PlaySnd
trigger1 = time = 0
value = 1, 13

[State 1630, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1630, PosAdd]
type = PosAdd
trigger1 = Time = 0
x = -15

[State 1603, TargetState]
Type = TargetState
Trigger1 = Time = 0
Value = 3452

[State 801, Explod];衝撃奥
type = Explod
trigger1 = animelemtime(1) = 0
anim = 4051
ID = 4051
pos = 0, 0
postype = p1
facing = 1
sprpriority = 0
ownpal = 1
removeongethit = 1

[State 801, Explod];衝撃手前
type = Explod
trigger1 = animelemtime(1) = 5
anim = 4050
ID = 4050
pos = 0, 0
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1410, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 40,40   ;画面端を押す幅を変える（オレンジの線）

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 0, -8

[State 1412, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 15
;ampl = -8
;freq = 95
;phase = 95

[State 1603, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = animelem = 1
value = -81
kill = 1

[State 1501, ステート変更]
type = ChangeState
trigger1 = animtime = 0
value = 3404

;---------------------------------------------------------------------------
;MAXネガティブゲイン（ジャンプ）
[Statedef 3404]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 7,-5.5
anim = 3104
poweradd= 0
ctrl = 0
sprpriority = 2

[State 3000, veladd]
type = veladd
trigger1 = 1
y = .48

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3000, ステート変更]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 3405

;---------------------------------------------------------------------------
;MAXネガティブゲイン（着地）
[Statedef 3405]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
anim = 3105
poweradd= 0
ctrl = 0
sprpriority = 2

[State 3000, posset]
type = posset
trigger1 = time=0
y = 0

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3000, ステート変更]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;MAXMAXネガティブゲイン
;相手投げられ
[Statedef 3450]
type    = A
movetype= H
physics = N
velset = 0,0

;---------------------------------------------
[state 1050, SelfState];Helperは返却
type = SelfState
trigger1 = ishelper
value = PrevStateNo
;---------------------------------------------

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3150

[State 820, 1]
type = SelfState
Trigger1 = Time>=400
value = 5030

;---------------------------------------------------------------------------
;MAXネガティブゲイン
;相手投げられ2
[Statedef 3451]
type    = A
movetype= H
physics = N
velset = 0,0

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3151

[State 1611, SelfState]
type = SelfState
Trigger1 = Time>=400
value = 5030

;---------------------------------------------------------------------------
;MAXネガティブゲイン
;相手投げられ3
[Statedef 3452]
type    = A
movetype= H
physics = N
velset = 0,0

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3152

[State 1630, PosSet]
type = VelSet
trigger1 = AnimTime = 0
x = 3.5
y = -3.5

[State 1611, SelfState]
type = SelfState
trigger1 = AnimTime = 0
value = 5100

;===========================================================================
; MAX2
;===========================================================================
;---------------------------------------------------------------------------
;MAX2
;カンニバルコープス
[Statedef 3500]
type    = S
movetype= I
physics = S
juggle  = 8
poweradd= ifelse(var(8)>0,-1000,-3000)
velset = 0,0
ctrl = 0
anim = 3500
sprpriority = 2

;----------------------------------
; どこでもキャンセル
; var(8)
;----------------------------------
;MAXゲージ消費
[State 1000, VarSet]
type = VarSet
triggerall = var(8) > 0
trigger1 = time = 0
var(8) = 0
;----------------------------------

[State 3500, VelSet]
type = VelSet
Trigger1 = animelemtime(1)>=0
x = 2.5

[State 3500, ReversalDef]
Type = ReversalDef
Trigger1 = Time = 0
Attr = S, HT
Reversal.Attr = SCA,NA,SA,HA
Pausetime = 1,0
SparkNo = -1
Hitsound = -1
P1StateNo = 3501
P2StateNo = 3550
id = 3500

[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 3510

;---------------------------------------------------------------------------
;MAX2
;カンニバルコープス（成功発動）
[Statedef 3501]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
velset = 0,0
ctrl = 0
anim = 3501
sprpriority = 2

[State 801, 音を鳴らす];声
type = PlaySnd
trigger1 = AnimElem = 1
value = 3200, 0
channel = 0
volume = 100

[State 801, 音を鳴らす];声
type = PlaySnd
trigger1 = AnimElem = 9
value = 1100, 0
channel = 0
volume = 100

[State 801, 音を鳴らす];掴み用
type = PlaySnd
trigger1 = AnimElem = 9
value = 300, 5

;---------------------------------------------
[state 1050, SelfState];Helperは返却
type = SelfState
trigger1 = ishelper
value = PrevStateNo
;---------------------------------------------

[state 1000, TargetState];再ロック
type = TargetState
trigger1 = time = 0
trigger1 = NumTarget(3500)
trigger1 = Target(3500),stateno!=3550
value = 3550

;[State 3000, 7]
;type = TargetState
;trigger1 = numtarget(3500)
;trigger1 = time = 0
;value = 3550
;persistent = 0
;ignorehitpause = 1

[State 801, Explod];煙
type = Explod
trigger1 = animelemtime(10)>=0
trigger1 = animelemtime(11)<7
anim = f120
ID = 800
pos = -40, -2
postype = p2
facing = 1
sprpriority = 5
ownpal = 1
removeongethit = 1

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = time = 0
edge = 60,60   ;画面端を押す幅を変える（オレンジの線）

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(7) < 0
pos = 35, 0

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(7) >=0
trigger1 = AnimElemTime(8) < 0
pos = 42, -115

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(8) >=0
trigger1 = AnimElemTime(9) < 0
pos = 51, -103

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElemTime(9) >=0
trigger1 = AnimElemTime(10)< 0
pos = 0, -40

[State 801, 掴んだ相手の位置];TargetBindで相手を一時的に拘束
type = TargetBind
trigger1 = AnimElem = 10
pos = -50, 0

;-------------------------------------
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 29
movetime = 29
anim = -1
darken = 0
p2defmul = 1

[State 3000, 超必スパーク]
type = Explod
trigger1 = time = 2
anim = 6020
sprpriority = -9999
postype = p1
pos = -23,-1
bindtime = 1
under = 0
ownpal = 1
supermovetime = 999

[State 3000, 超必スパーク]
type = Explod
trigger1 = Time = 12
anim = 6021
sprpriority = 3
postype = p1
pos = -23,-1
bindtime = 1
under = 0
ownpal = 1
supermovetime = 999

[State 3000, フラッシュ]
type = EnvColor
trigger1 = time = 0
value = 255,255,255
persistent = 0
ignorehitpause = 1
time = 4
under = 2

[State 3000, 暗転]
type = EnvColor
trigger1 = time = 4
value = 0,0,0
persistent = 0
ignorehitpause = 1
time = 24
under = 2

[State 3000, 音を鳴らす];超必音
type = PlaySnd
trigger1 = time = 0
value = 6000, 2

;-------------------------------------
[state 3500, Helper];MAX2
type = Helper
trigger1 = time = 27
id = 8000
name = "MAX2"
pos = 0,0
postype = p2
stateno = 8000
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state 3500, Helper];カットイン
type = Helper
trigger1 = time = 1
id = 8100
name = "cut"
pos = 0,0
postype = p1
stateno = 8100
pausemovetime = 999
supermovetime = 999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;-------------------------------------
[State 3500, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 800, Turn]
type = Turn
Trigger1 = animtime=0

[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 3502

;---------------------------------------------------------------------------
;MAX2
;カンニバルコープス（成功）
[Statedef 3502]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
velset = 0,0
ctrl = 0
anim = 3502
;sprpriority = 2

[State 801, 音を鳴らす];声
type = PlaySnd
trigger1 = animelem = 2
value = 1300, 0
channel = 0
volume = 100

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 300, 3

[State 801, 音を鳴らす];むーしゃむーしゃ
type = PlaySnd
trigger1 = animelemtime(5) = 20
trigger2 = animelemtime(5) = 50
trigger3 = animelemtime(5) = 80
trigger4 = animelemtime(5) = 110
trigger5 = animelemtime(5) = 140
value = 3500, 0
;channel = 0
;volume = 100

[State 800, velset]
type = velset
Trigger1 = animelemtime(2)>=0
trigger1 = animelemtime(4)<0
x = 6

[State 801, Explod];スラッシュ
type = Explod
trigger1 = animelemtime(5) = 20
trigger2 = animelemtime(5) = 50
trigger3 = animelemtime(5) = 80
trigger4 = animelemtime(5) = 110
trigger5 = animelemtime(5) = 140
anim = 4007
ID = 4007
pos = 0, -20
postype = p1
facing = 1
sprpriority = 4
ontop = 1
ownpal = 1
removeongethit = 1

;-------------------------------------
[State 1000, 0]
Type = EnvColor
Trigger1 = animelemtime(5)=0
Value = 0,0,0
Time = 160+25
Under = 0

;-------------------------------------
[State 1603, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = animelemtime(5) = 20
trigger2 = animelemtime(5) = 50
trigger3 = animelemtime(5) = 80
trigger4 = animelemtime(5) = 110
value = -91
kill = 0

[State 1603, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = animelemtime(5) = 140
value = -91
kill = 1

[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 3503

;---------------------------------------------------------------------------
;MAX2
;カンニバルコープス（終了）
[Statedef 3503]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
velset = 0,0
ctrl = 0
anim = 3503
sprpriority = 2

[State 801, Explod];血飛沫
type = Explod
trigger1 = animelemtime(1)=1
anim = 4062
ID = 4062
pos = 0, -30
postype = p2
facing = 1
sprpriority = 4
ontop = 1
ownpal = 1
removeongethit = 1

[State 1000, 0]
Type = AssertSpecial
Trigger1 = animelemtime(2)<0
Flag = NoBG
Flag2 = NoFG

[State 800, posadd]
type = posadd
Trigger1 = time=0
x = 70

[State 800, Turn]
type = Turn
Trigger1 = time=0

;-------------------------------------
[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;MAX2
;カンニバルコープス（失敗）
[Statedef 3510]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
velset = 0,0
ctrl = 0
anim = 3510
sprpriority = 2

[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;MAX2
;カンニバルコープス
;相手投げられ
[Statedef 3550]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 2

[State 1000, 0]
Type = SprPriority
Trigger1 = animelem = 2
Value = 3

;---------------------------------------------
[state 1050, SelfState];Helperは返却
type = SelfState
trigger1 = ishelper
value = PrevStateNo
;---------------------------------------------

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3550

[State 1000, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 810, velset]
type = Velset
trigger1 = Time = [41,41+15]
x = 5

[State 810, velset]
type = Velset
trigger1 = time = 41+16
x = 0

;-------------------------------------
[State 3500, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 810, ChangeAnim]
type = ChangeAnim
trigger1 = SelfAnimExist(5161)   ;地面に激突アニメ（海老ぞり）
trigger1 = Time = 43;25
value = 5161

[State 810, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 5161
trigger1 = time = 52
value = 5111

[State 865, 5]
type = SelfState
trigger1 = Anim = 5111
trigger1 = time = 347+15
trigger2 = Anim = 3550
trigger2 = time = 347+15
value = 5120 + (!alive)*30

;---------------------------------------------------------------------------
;MAX発動
[Statedef 900]
type = S
movetype = I
physics = N
anim = 900
velset = 0,0
sprpriority = 2
poweradd = -1000
ctrl = 0

[State 900, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = 900,0

[State 900, VarSet]
type = VarSet
trigger1 = time = 0
var(8) = 900

[State 900, Explod]
type = Explod
trigger1 = animelem = 4
anim = 6001
sprpriority = 3
postype = p1
pos = -4,-59
bindtime = 1
under = 0
ownpal = 1
supermovetime = 999

[State 1412, EnvShake]
type = EnvShake
trigger1 = animelem = 4
time = 10
;ampl = -8
;freq = 95
;phase = 95

[State 3000,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;クイックMAX発動
[Statedef 901]
type = S
movetype = I
physics = N
anim = 901
velset = 0,0
sprpriority = 1
poweradd = -2000
ctrl = 0

[State 900, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 900,1
volume = 250

[State 900, Explod]
type = null;Explod
trigger1 = time = 0
anim = 6001
sprpriority = 3
postype = p1
pos = -4,-59
bindtime = 1
under = 0
ownpal = 1
supermovetime = 999

[State 900, VarSet]
type = VarSet
trigger1 = time = 0
var(8) = 900

[State 3000,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 5050]
type    = A
movetype= H
physics = N

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5050, 4] ;Recover near ground
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 5050, 5]; Recover in mid air
type = ChangeState
triggerall = Vel Y > -1
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5100 ;HIT_BOUNCE

;---------------------------------------------------------------------------
; HIT_FALLRECOVER (still falling)
[Statedef 5200]
type    = A
movetype= H
physics = N

[State 5200, 1] ;Change anim if done with transition
type = ChangeAnim
trigger1 = Anim = 5035
trigger1 = AnimTime = 0
value = 5050

[State 5200, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5200, 3]
type = SelfState 
trigger1 = var(59)=0
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 10
value = ifelse(Command !="holdfwd",5201,5202)

[State 5200, 3]
type = SelfState 
trigger1 = var(59)>0
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 10
value = ifelse(backedgebodydist>60,5201,5202)

;---------------------------------------------------------------------------
; HIT_FALLRECOVER (on the ground)
[Statedef 5201]
type    = S
movetype= H
physics = S
anim = 5200

[State 5201, 1] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -5

[State 5201, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5201, 2.1]
type = VelSet
trigger1 = Time >= 0
trigger1 = Time <= 18
x = -2

[State 5201, 3]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5201, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, 5] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128 ;256,256,256

[State 5201, 6]
type = GameMakeAnim
trigger1 = Time = 1
value = 60
pos = 0, 0
under = 1

[State 5201, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; HIT_FALLRECOVER (on the ground)
[Statedef 5202]
type    = S
movetype= H
physics = S
anim = 5201

[State 5201, 1] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = P2Dist X < -5

[State 5201, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5201, 2.1]
type = VelSet
trigger1 = Time >= 0
trigger1 = Time <= 18
x = 2

[State 5201, 3]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5201, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, 5] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128 ;256,256,256

[State 5201, 6]
type = GameMakeAnim
trigger1 = Time = 1
value = 60
pos = 0, 0
under = 1

[State 5201, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;===========================================================================
; 常時監視ステート（−２）
;===========================================================================
;---------------------------------------------------------------------------
; 通常の食らい状態（Statedef 5000〜5199間）でも、
; 相手に（「P2StateNo」や「TargetState」等で）制御を奪われても、
; 常に登録したステートコントローラが有効になります。
; サブシステム等を制御する時に重宝するでしょう。
;---------------------------------------------------------------------------
[Statedef -2]
;===========================================================================
[State -2, デバック(変数確認)]
Type = DisplayToClipBoard
Trigger1 = 1
Text = "AI=%d,fvar(39)=%.2f,fvar(38)=%.3f,var(12)=%d,hittime=%d\n"
Params = var(59),fvar(39),fvar(38),var(12),enemynear,gethitvar(hittime)
IgnoreHitPause = 1

[State -2, 距離確認デバック]
type = AppendToClipboard
trigger1 = 1
text =  "P2X:%.2f,P2Y:%.2f,Vx%.2f,Vy%.2f,Px%.2f\n"
params = P2BodyDist x,P2BodyDist y,vel x,vel y,pos x
IgnoreHitPause = 1
;============================================================================

;-----------------------------------
;ダメージボイス
;-----------------------------------
[State -2, ダメージボイス]
type = PlaySnd
triggerall = Time = 1
triggerall = Alive
triggerall = Random < 500
trigger1 = stateno = 5000 || stateno = 5010 || stateno = 5020
trigger2 = stateno = 5070 || stateno = 5080
;trigger3 = stateno = 5210 || stateno = 5220 || stateno = 5221 || stateno = 5222
value = 4218,21 + (Random%3)
channel = 0
volume = 200
 
[State -2, 叩きつけられボイス]
type = PlaySnd
triggerall = Time = 1
triggerall = Alive
triggerall = Random < 500
trigger1 = stateno = 5100
value = 4218,23 + (random%2)
channel = 0
volume = 180

;-----------------------------------
;MAX発動中のゲージ管理
;var(7): ゲージ量記憶
;var(8): MAXゲージ
;-----------------------------------
[state -2 ,VarSet];MAX発動時のゲージ量を記憶
type = varset
trigger1 = var(8) = 900
var(7) = Power

[state -2, VarSet]
type = VarSet
trigger1 = var(8) < 0
trigger2 =!alive || Life = 0
var(8) = 0

[state -2, VarAdd]
type = varadd
trigger1 = var(8) > 0
var(8) = -1

[state -2, PowerSet]
type = PowerSet
trigger1 = var(8) > 0
trigger1 = stateno != [3000,3999]
value = var(7)
ignorehitpause = 1

[State -2, PalFx];点滅
type = PalFx
trigger1 = var(8) > 0
trigger1 = gametime % 2 = 0
time = 1
add = 80,80,0
;color = 1
ignorehitpause = 1
;-----------------------------------
;スパキャンゲージ消費リセット
;var(11)
;-----------------------------------
;SCゲージ消費用
[State -2, varset]
type = varset
trigger1 = (stateno != 1000 && (stateno != [1010,1013]))
var(11) = 0
;-----------------------------------
;スパキャン点滅
;-----------------------------------
;SC点滅用変数リセット
[State -2, varset]
type = varset
trigger1 = stateno != 3000 ;ウィザリング サーフェス
trigger1 = stateno != 3010 ;ウィザリング サーフェス
trigger1 = stateno != 3100 ;ネガティブゲイン
trigger1 = stateno != 3101 ;ネガティブゲイン成功
trigger1 = stateno != 3300 ;MAXウィザリング サーフェス
trigger1 = stateno != 3400 ;MAXネガティブゲイン
trigger1 = stateno != 3401 ;MAXネガティブゲイン成功
var(6) = 0

;SC点滅用
[State -2, varset]
type = varset
triggerall = MoveType != H
triggerall = time <= 20
trigger1 = stateno = 3000 ;ウィザリング サーフェス
trigger2 = stateno = 3010 ;ウィザリング サーフェス
trigger3 = stateno = [3100,3101] ;ネガティブゲイン
trigger4 = stateno = 3300 ;MAXウィザリング サーフェス
trigger5 = stateno = [3400,3401] ;MAXネガティブゲイン
var(6) = 1

;投げ技SC点滅用変数リセット
[State -2, varset]
type = varset
trigger1 = stateno != [3100,3101] ;ネガティブゲイン
trigger1 = stateno != [3400,3401] ;MAXネガティブゲイン
trigger2 = stateno = 3100 || stateno = 3400
trigger2 = animelemtime(3)>=0
var(12) = 0

[State -2, palfx];SC点滅
type = palfx
triggerall = time <= 20
triggerall = time % 2 = 0
triggerall = var(6) = 1
triggerall = MoveType != H
trigger1 = prevstateno = 1000
trigger2 = prevstateno = [1010,1013]
trigger3 = stateno = 3101 || stateno = 3401
trigger3 = var(12) = 1000
trigger4 = stateno = 3101 || stateno = 3401
trigger4 = var(12) = [1010,1013]
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1
;-----------------------------------
;ダメージ補正
;-----------------------------------
[state -2]
type = varset
trigger1 = 1
Trigger1 = RoundState = 0
trigger2 = p2MoveType != H
trigger3 = enemynear,stateno = [120,155]
fvar(0) = 1.0

[State -2];値が負数なら0にする
type = VarSet
trigger1 = p2MoveType = H
trigger1 = enemynear,gethitvar(hitcount) >= 30
fvar(0) = 0

[state -2]
type = varset
trigger1 = enemynear,MoveType = H
trigger1 = enemynear,gethitvar(hitcount) > 1
trigger1 = enemynear,gethitvar(hitcount) < 30
fvar(0) = ((100.0-(25.0+(enemynear,gethitvar(hitcount)/2.0)*5.0))/100.0)
IgnoreHitPause = 1

[state -2]
type = varset
trigger1 = enemynear,movetype != A
trigger2 = stateno = [3300,3308]
trigger2 = stateno = [3400,3403]
fvar(1) = 0

[state -2]
type = varset
trigger1 = stateno = [3300,3308]
trigger2 = stateno = [3400,3403]
fvar(1) = 0
IgnoreHitPause = 1

[state -2]
type = varset
trigger1 = enemynear,movetype = A
fvar(1) = 0.05

[state -2]
type = varset
trigger1 = var(8) = 0
fvar(2) = 1.0

[state -2]
type = varset
trigger1 = var(8) > 0
fvar(2) = 0.9

[state -2]
type = varset
trigger1 = 1
fvar(3) = (fvar(0)+fvar(1))*fvar(2)

[state -2];攻撃力の倍数指定
type = attackmulset
trigger1 = 1
value = fvar(3)

;-----------------------------------
;その他
;-----------------------------------
[State -2, 1];ダッシュの音止め
type = StopSnd
trigger1 = stateno != 100 && stateno != 99
channel = 1

[State -2, 4];ハイジャンプ判定
type = varadd
trigger1 = 1
trigger1 = var(3)>-100
v = 3
value = -1

;-----------------------------------
;残像消去
;-----------------------------------
[State -2, AfterImageTime]
type = AfterImageTime
trigger1 = stateno = 52   ;着地
trigger1 = Time = 1
trigger2 = movetype = H   ;やられ
trigger3 = stateno = 1100 || stateno = 1110 ;レイヴナス
trigger3 = time = 0
trigger4 = stateno = 3200 ;オーバーキル
trigger4 = time = 0
time = 0

;-----------------------------------
;試合開始前まで無敵
;-----------------------------------
[State -2, NotHitBy];無敵
type = NotHitBy
trigger1 = roundstate = 0
trigger2 = roundstate = 1
value = SCA

;===========================================================================
; 準常時監視ステート（−３）
;===========================================================================
;---------------------------------------------------------------------------
; こちらは通常の食らい状態以外の「P2StateNo」や「TargetState」等で制御された、
; 作成者が任意に指定した相手側の食らいステートに限り、
; 登録したステートコントローラが有効にはなりません。
; −１や−２と上手く使い分けて行きましょう。
;---------------------------------------------------------------------------
[Statedef -3]
;-----------------------------------
;MAXゲージ呼び出し
;Helper(7000)
;-----------------------------------
[state -3, Helper];MAXゲージ呼び出し
type = Helper
trigger1 = NumHelper(7000)=0
trigger1 = var(8)>0
id = 7000
name = "max"
pos = 0,0
postype = p1
stateno = 7000
pausemovetime = 999
supermovetime = 999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;-----------------------------------
;ここは「ジャンプ」か「バックステップ」をした後に
;着地する音を鳴らす設定をしています。
;-----------------------------------
[State -3, 音を鳴らす]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52   ;着地ステート
trigger2 = stateno = 106  ;バックステップ後の着地ステート
trigger3 = stateno = 1120 ;レイヴナス
trigger4 = stateno = 1650 ;ミサンスロウブ
trigger5 = stateno = 3105 ;ネガティブゲイン
trigger6 = stateno = 3206 ;オーバーキル
trigger7 = stateno = 3405 ;MAXネガティブゲイン
value = 40, 2

[State -3, jump];ジャンプ音
type = PlaySnd
triggerall = time = 1
trigger1 = stateno = 40 || stateno = 41
trigger1 = var(3) <= 0
value = 40, 0
channel = 3

[State -3, 2];ジャンプ音
type = PlaySnd
triggerall = time = 1
trigger1 = stateno = 40 || stateno = 41
trigger1 = var(3) > 1
trigger2 = stateno = 1601 ;ミサンスロウブ
value = 40, 1
channel = 3

[State -3, バックダッシュ]
type = PlaySnd
triggerall = Time = 1
;trigger1 = stateno = 100 
trigger1 = stateno = 105 
value = 105, 0

;-----------------------------------
; ハイジャンプ処理
;-----------------------------------
[State -3, 2];ハイジャンプ消去
type = varset
trigger1 = stateno = 52
trigger1 = time = 0
v = 3
value = 0

[State -3, 1];ハイジャンプ判定
type = varset
trigger1 = stateno = 10
trigger1 = time = 0
trigger2 = stateno = 100 || stateno = 99 || (var(59)>0&&p2bodydist x >=110&&var(56)<=5) || (var(59)>0&&var(56)<=8&&enemynear(var(58)),stateno=5120)
trigger3 = var(59)>0
trigger3 = sysvar(1)=-1
trigger3 = random<=350
v = 3
value = 20

[State -3, 3];ハイジャンプ前方
type = velset
trigger1 = stateno = 50
trigger1 = anim = 42
trigger1 = time = 1
trigger1 = var(3) >= 1
x = 5

[State -3, 4];ハイジャンプ後方
type = velset
trigger1 = stateno = 50
trigger1 = anim = 43
trigger1 = time = 1
trigger1 = var(3) >= 1
x = -6

;-----------------------------------
; 小ジャンプ処理
;-----------------------------------
[State -3, 1];小ジャンプ判定
type = varset
triggerall = stateno = 40 || stateno = 41
trigger1 = var(59)=0
trigger1 = command != "holdup"
trigger2 = var(59)>0
trigger2 = p2bodydist x <= 110 && enemynear(var(58)),statetype!=L && random<=300
trigger3 = var(59)>5
trigger3 = p2bodydist x <= 65 && enemynear(var(58)),stateno=5120
v = 4
value = 1

[State -3, 2];小ジャンプ消去
type = varset
triggerall = stateno = 40 || stateno = 41
trigger1 = var(59)=0
trigger1 = command = "holdup"
trigger2 = var(59)>0
trigger2 = p2bodydist x > 100 || (enemynear(var(58)),statetype=A && enemynear(var(58)),pos y <=-35 && random<=200)
trigger3 = sysvar(1)=-1; || fvar(39) = 3
trigger3 = random<=400
v = 4
value = 0

[State -3, 3];小ジャンプ
type = veladd
triggerall = stateno = 50
trigger1 = time = 1
trigger1 = var(4) = 1
y = 4;3

;-----------------------------------
; 残像処理
;-----------------------------------
[State -3, AfterImage];残像
type = AfterImage
trigger1 = stateno = 50
trigger1 = time = 1
trigger1 = var(3) >= 1
time = 35
length = 3
frameGap = 1
timegap = 6
palbright = 0,0,0
palcontrast = 130,130,130
paladd = 0,0,0
palmul = 1,1,1
trans = add1

;-----------------------------------
;その他
;-----------------------------------
[State -3, 飛び越え防止]
type = Width
triggerall = stateno != 801
trigger1 = FrontEdgeDist < 8 && MoveType != H
edge = 3,

;---------------------------------------------------------------------------
; AIヘルパー
;---------------------------------------------------------------------------
[Statedef 10000]
anim=10000;なにも表示しないｱﾆﾒでもいいけど入れなくても全然問題ない
ctrl=0

[State 10000]
type = assertspecial
trigger1 = 1
flag = invisible

[State 10000]
type = NotHitBy
value = SCA
trigger1 = 1

[State 10000,間違いで本体が来たら立ちへ移行]
type=selfstate
trigger1=!ishelper
value=0

[State 10000,プレイヤー判定]
type=varset
trigger1=command="up"&&root,command="up"
trigger2=command="down"&&root,command="down"
trigger3=command="back"&&root,command="back"
trigger4=command="fwd"&&root,command="fwd"
trigger5=command="a"&&root,command="a"
trigger6=command="b"&&root,command="b"
trigger7=command="c"&&root,command="c"
trigger8=command="x"&&root,command="x"
trigger9=command="y"&&root,command="y"
trigger10=command="z"&&root,command="z"
trigger11=command="start"&&root,command="start"
var(59)=-1

[State 10000,立ったら消失]
Type = DestroySelf
triggerAll = isHelper
Trigger1 = root,var(59)||var(59)=-1
trigger2=command="up"&&root,command="up"
trigger3=command="down"&&root,command="down"
trigger4=command="back"&&root,command="back"
trigger5=command="fwd"&&root,command="fwd"
trigger6=command="a"&&root,command="a"
trigger7=command="b"&&root,command="b"
trigger8=command="c"&&root,command="c"
trigger9=command="x"&&root,command="x"
trigger10=command="y"&&root,command="y"
trigger11=command="z"&&root,command="z"
trigger12=command="start"&&root,command="start"

[State 10000,ﾌﾗｸﾞON]
type=varset
triggerall=var(59)!=-1
trigger1=root,command="up"
trigger2=root,command="down"
trigger3=root,command="back"
trigger4=root,command="fwd"
trigger5=root,command="a"
trigger6=root,command="b"
trigger7=root,command="c"
trigger8=root,command="x"
trigger9=root,command="y"
trigger10=root,command="z"
trigger11=root,command="start"
var(59)=1



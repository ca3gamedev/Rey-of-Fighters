[Statedef -3]

[State -3,AI起動用ヘルパー]
type=helper
trigger1 = !numhelper(10000+id) && !ishelper && alive && (roundstate=1 || roundstate=2 && ctrl)
helpertype=normal
name="AI"
ID = 10000+id
pos=0,524288
stateno=10000
keyctrl=1
ownpal = 0
pausemovetime=524288
supermovetime=524288
persistent = 0
IgnoreHitPause = 1

[State -3,↑が余計なことしないように]
type=changestate
trigger1= ishelper
trigger1= ishelper(10000+root,id) && (stateno !=10000)
value=10000


;===========================================================================
;                               AI設定記述
;===========================================================================
;AI
[State -3,AI]
type = varset
triggerall = var(59)<=0
triggerall = roundstate = 2
trigger1 = Command = "AI0"||Command = "AI1"||Command = "AI2"||Command = "AI3"
trigger2 = Command = "AI4"||Command = "AI5"||Command = "AI6"||Command = "AI7"
trigger3 = Command = "AI8"||Command = "AI9"||Command = "AI10"||Command = "AI11"
trigger4 = Command = "AI12"||Command = "AI13"||Command = "AI14"||Command = "AI15"
trigger5 = Command = "AI16"||Command = "AI17"||Command = "AI18"||Command = "AI19"
trigger6 = Command = "AI20"||Command = "AI21"||Command = "AI22"||Command = "AI23"
trigger7 = Command = "AI24"||Command = "AI25"||Command = "AI26"||Command = "AI27"
trigger8 = Command = "AI28"||Command = "AI29"||Command = "AI30"||Command = "AI31"
trigger9 = Command = "AI32"||Command = "AI33"||Command = "AI34"||Command = "AI35"
trigger10 = Command = "AI36"||Command = "AI37"||Command = "AI38"||Command = "AI39"
trigger11 = Command = "AI40"||Command = "AI41"||Command = "AI42"||Command = "AI43"
trigger12 = Command = "AI44"||Command = "AI45"||Command = "AI46"||Command = "AI47"
trigger13 = Command = "AI48"||Command = "AI49"||Command = "AI50"||Command = "AI51"
trigger14 = numhelper(10000+id)
trigger14 = helper(10000+id),var(59)>=2
trigger15 = ishometeam && roundstate = 0 && (teamside = 2 || matchno > 1)
var(59) = -1
ignorehitpause = 1

;=====================================================================
; Statedef -3の記述　いじっちゃダメ(はぁと
;=====================================================================
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 
trigger2 = stateno = 106
value = 41, 0

[State -3, 2];ジャンプ音;改変あり
type = PlaySnd
triggerall = time = 1
trigger1 = stateno = 40 || (stateno = [41,44]) || (stateno = [46,49])
trigger1 = var(15) <= 0
value = 40, 0
channel = 3

[State -3, 2];ジャンプ音;改変あり
type = PlaySnd
triggerall = time = 1
trigger1 = stateno = 40 || (stateno = [41,44]) || (stateno = [46,49])
trigger1 = var(15) > 1
value = 40, 1
channel = 3

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; ハイジャンプ処理
[State -3, 5];ハイジャンプ判定;改変あり
type = varset
trigger1 = var(59)<=0
trigger1 = stateno = 10
trigger1 = time = 0
trigger2 = stateno = 100
trigger3 = var(59)>0
trigger3 = (stateno = 42 && p2bodydist x > 100) || stateno = 46 || stateno = 99
v = 15
value = 20

[State -3, 5];ハイジャンプ消去
type = varset
trigger1 = stateno = 52
trigger1 = time = 0
v = 15
value = 0

; 小ジャンプ処理
[State -3, 5];小ジャンプ判定;改変あり
type = varset
trigger1 = var(59)<=0
trigger1 = stateno = 40
trigger1 = command != "holdup"
trigger2 = var(59)>0;AI
trigger2 = (stateno = 41 && p2statetype = L) || (stateno = [42,44])
trigger2 = stateno != 46
v = 16
value = 1

[State -3, 5];小ジャンプ消去;改変あり
type = varset
trigger1 = var(59)<=0
trigger1 = stateno = 40
trigger1 = command = "holdup"
trigger2 = var(59)>0;AI
trigger2 = stateno = 46
v = 16
value = 0

[State -3, 5]
type = velset
trigger1 = stateno = 50
trigger1 = anim = 42
trigger1 = time = 1
trigger1 = var(15) >= 1
x = 5
;y = -9


[State -3, 5]
type = velset
trigger1 = stateno = 50
trigger1 = anim = 43
trigger1 = time = 1
trigger1 = var(15) >= 1
x = -5
;y = -9

[State -3, 5];小ジャンプ
type = veladd
trigger1 = stateno = 50
trigger1 = time = 1
trigger1 = var(16) = 1
y = 3

[State -3, 5]
type = AfterImage
trigger1 = stateno = 50
trigger1 = time = 1
trigger1 = var(15) >= 1
time = 10
trans = add1
timegap = 1
framegap = 2
length = 8
palbright = 12,12,12
palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;=====================================================================
; CPU Function
;=====================================================================
[State -3,ncs]AI用しゃがみ滑り防止
type = velset
triggerall = var(59)>0
trigger1 = stateno = [400,440]
trigger1 = time = 1
x = 0
ignorehitpause = 0

[State -3,ckr];死体蹴り自重
type = varset
triggerall = var(59)>0
triggerall = var(6)>0
trigger1 = roundstate != 2
trigger2 = TeamMode = single || TeamMode = turns
trigger2 = p2life = 0
var(6) = 0

[State -3,ch];座高が高いキャラ用
type = varset
triggerall = var(59)>0
triggerall = !var(45)
triggerall = enemynear(var(58)),statetype = C
trigger1 = ((stateno = [230,235]) && AnimElemTime (6) > 0 || stateno = 1360) && movecontact
var(45) = 1

[State -3,ch2];座高が高いキャラ用2
type = varset
triggerall = var(59)>0
triggerall = enemynear(var(58)),statetype = C
trigger1 = (stateno = [200,205]) && movecontact
var(45) = 2

[State -3,chr];↑リセット
type = varset
triggerall = var(45)>0
trigger1 = TeamMode = turns
trigger1 = roundstate != 2
trigger2 = TeamMode = simul
trigger2 = enemynear(var(58)),statetype = C
trigger2 = ((stateno = [200,205]) || (stateno = [230,235]) && AnimElemTime (6) > 0) && movecontact=0
var(45) = 0

[State -3,ah];通常技空中ヒット
type = varset
triggerall = var(59)>0
triggerall = enemynear(var(58)),statetype = A
triggerall = (stateno = [200,205]) || stateno = 230 || stateno = 400 || stateno = 430 || (stateno = [600,640])
trigger1 = movehit && enemynear(var(58)),movetype = H
var(46) = 1

[State -3,ahr];↑リセット
type = varset
triggerall = var(46)>0
trigger1 = (stateno = [120,159]) || stateno = 215 || stateno = 410 || (stateno = [1000,5270])
trigger2 = enemynear(var(58)),stateno = [996,999]
trigger3 = enemynear(var(58)),movetype = A
trigger4 = (p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM" || p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin"
trigger5 = p2bodydist y >= 0
trigger6 = roundstate != 2
var(46) = 0

[State -3,afh];空中ふっとばしヒット
type = varset
triggerall = var(59)>0
triggerall = stateno = 650
trigger1 = movehit && enemynear(var(58)),movetype = H
var(47) = 1

[State -3,afhr];↑リセット
type = varset
triggerall = var(47)>0
trigger1 = (stateno = [120,159]) || (stateno = [1000,5270])
trigger2 = enemynear(var(58)),stateno = [996,999]
trigger3 = enemynear(var(58)),movetype = A
trigger4 = (p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM" || p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin"
trigger5 = p2bodydist y >= 0
trigger6 = roundstate != 2
var(47) = 0

[State -3,qm];クイックMAX
type = varset
triggerall = var(59)>0
trigger1 = stateno = 98 || stateno = 901
var(48) = 1

[State -3,qmr];↑リセット
type = varset
triggerall = var(48)>0
trigger1 = var(20)=0
trigger2 = (stateno = [120,155]) || (stateno = [5000,5270])
trigger3 = enemynear(var(58)),statetype = L
trigger4 = enemynear(var(58)),movetype = A
trigger5 = enemynear(var(58)),stateno = [120,159]
trigger6 = enemynear(var(58)),ctrl=1
trigger7 = (p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM" || p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin"
trigger8 = roundstate != 2
var(48) = 0

[State -3,cc];変身コンボ用
type = varset
triggerall = var(59)>0
trigger1 = stateno = 2900
var(49) = 1

[State -3,ccr];↑リセット
type = varset
triggerall = var(49)>0
trigger1 = var(20)=0
trigger2 = (stateno = [120,155]) || (stateno = [5000,5270])
trigger3 = enemynear(var(58)),statetype = L
trigger4 = enemynear(var(58)),movetype = A
trigger5 = enemynear(var(58)),stateno = [120,159]
trigger6 = enemynear(var(58)),ctrl=1
trigger7 = (p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM" || p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin"
trigger8 = roundstate != 2
var(49) = 0

[State -3,w];普段使わない技でKO用
type = varset
triggerall = var(59)>0
trigger1 = win || roundsexisted > 2
var(50) = 1

[State -3,tag];相手ﾀｯｸﾞ時生死確認
type = varset
trigger1 = var(59)>0
var(58) = IfElse((!EnemyNear,Alive && NumEnemy = 2),1,0)

;弱Райжин но Цуэ(雷神の杖)
[State -3,lrt]
type = ChangeState
value = 1550
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = statetype = A
trigger1 = stateno = 60 && vel x >= 0

;強Райжин но Цуэ(雷神の杖)
[State -3,hrt]
type = ChangeState
value = 1551
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = statetype = A
trigger1 = stateno = 60 && vel x < 0

[State -3,d98];シェルミーキャッチ→ダッシュ
type = ChangeState
value = 98
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),stateno = 1320
triggerall = !inguarddist
triggerall = !enemynear(var(58)),numproj
triggerall = p2bodydist x = [-5,90]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22])

[State -3,taunt1];ﾊﾞﾘﾊﾞﾘ
type = ChangeState
value = 1700
triggerall = var(59)>9
triggerall = var(1)=1
triggerall = alive
triggerall = life > 0
triggerall = roundstate = 3
triggerall = statetype != A
triggerall = prevstateno != 1700
triggerall = prevstateno != 2900
trigger1 = ctrl
ignorehitpause = 0

[State -3,taunt2];おっぱいﾌﾟﾙｰﾝﾌﾟﾙﾝ
type = ChangeState
value = 260
triggerall = var(59)>9
triggerall = var(1)=0
triggerall = alive
triggerall = life > 0
triggerall = roundstate = 3
triggerall = statetype != A
triggerall = prevstateno != 11
triggerall = prevstateno != [260,261]
triggerall = prevstateno != [2000,2900]
trigger1 = ctrl
ignorehitpause = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;どこキャン連続技:荒れ狂う稲光のシェルミー
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;КОУРАИ(降雷) キャンセル版
[State -3,c6a]
type = ChangeState
value = 251
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = var(48)=1
triggerall = roundstate = 2
triggerall = random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist
triggerall = p2bodydist x = [-10+floor(13*(enemynear(var(58)),vel x)),60+floor(13*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = (stateno = 215 || (stateno = [230,235]) && AnimElemTime (6) > 0 || stateno = 410) && movehit
trigger2 = !var(45)
trigger2 = (stateno = [230,235]) && movehit && (enemynear(var(58)),statetype = C || enemynear(var(58)),statetype = S && enemynear(var(58)),const(size.head.pos.y)+10 > -60)
ignorehitpause = 0

;変身→シェルミー
[State -3,Change s]
type = ChangeState
value = 2900
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = var(48)=1
triggerall = roundstate = 2
triggerall = (100*life/const(data.life)) <= 30 || life <= 300
triggerall = var(20)>0 && power >= 4000
triggerall = random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist
triggerall = p2bodydist x = [-15+floor(1*(enemynear(var(58)),vel x)),60+floor(1*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = stateno = 251 && movehit
ignorehitpause = 0

;Уммэй но Я(運命の矢) X
[State -3,uy]
type = ChangeState
value = 2600
triggerall = var(59)>7
triggerall = var(1)=1
triggerall = var(48)=1
triggerall = roundstate = 2
triggerall = (100*life/const(data.life)) <= 30 || life <= 300
triggerall = p2life > 500
triggerall = var(20)>0 && power >= 1000
triggerall = random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = S && enemynear(var(58)),const(size.head.pos.y)+10 <= -60 || var(45)>0 && enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist
triggerall = p2bodydist x = [-5+floor(21*(enemynear(var(58)),vel x)),50+floor(21*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = stateno = 251 && movehit
ignorehitpause = 0

;強Шажицу но Одори(斜日の踊り)
[State -3,hso]
type = ChangeState
value = 1501
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = var(20)>0
triggerall = var(48)=1
triggerall = roundstate = 2
triggerall = power >= 3000 || (var(20)>0 && power >= 1000)
triggerall = random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = S && enemynear(var(58)),const(size.head.pos.y)+10 <= -60 || var(45)>0 && enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist
triggerall = enemynear(var(58)),backedgedist <= 20 || enemynear(var(58)),frontedgebodydist <= 10
triggerall = p2bodydist x = [-10+floor(21*(enemynear(var(58)),vel x)),30+floor(21*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = stateno = 251 && movehit
ignorehitpause = 0

;MAXАнкоку Райкокэн(暗黒雷光拳)
[State -3,MAXar]
type = ChangeState
value = 2350
triggerall = var(59)>5
triggerall = var(1)=1
triggerall = var(48)=1
triggerall = roundstate = 2
triggerall = var(20)>0 && power >= 1000
triggerall = random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist
triggerall = p2bodydist x = [-10+floor(6*(enemynear(var(58)),vel x)),90+floor(6*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = stateno = 251 && movehit
ignorehitpause = 0

;弱Анкоку Райкокэн(暗黒雷光拳)
[State -3,lar]
type = ChangeState
value = 2300
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = var(20)>0
triggerall = var(48)=1
triggerall = roundstate = 2
triggerall = random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist
triggerall = p2bodydist x = [-10+floor(6*(enemynear(var(58)),vel x)),90+floor(6*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = stateno = 251 && movehit
ignorehitpause = 0

;空中MAXШукумэй・Гэнъэй・Шинши(宿命・幻影・震死)
[State -3,MAXsgs]
type = ChangeState
value = 2470
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = var(20)>0
triggerall = var(48)=1
triggerall = roundstate = 2
triggerall = power >= 1000
triggerall = random <= var(59)*100
triggerall = statetype = A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist
triggerall = p2bodydist y >= 0
trigger1 = stateno = 275 && movehit
trigger2 = power >= 2000
trigger2 = (stateno = 1500 || stateno = 1501) && movehit
trigger2 = vel y > 0
trigger2 = pos y = [-15,-3]
ignorehitpause = 0

;空中Шукумэй・Гэнъэй・Шинши(宿命・幻影・震死)
[State -3,sgs]
type = ChangeState
value = 2420
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = var(20)>0
triggerall = var(48)=1
triggerall = roundstate = 2
triggerall = random <= var(59)*100
triggerall = statetype = A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist
triggerall = p2bodydist y >= 0
trigger1 = stateno = 275 && movehit
trigger2 = power >= 1000
trigger2 = (stateno = 1500 || stateno = 1501) && movehit
trigger2 = vel y > 0
trigger2 = pos y = [-15,-3]
ignorehitpause = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;どこキャン連続技:シェルミー
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;爆NEWスープレックス
[State -3,oppai]
type = ChangeState
value = 260
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = var(20)>0
triggerall = var(48)=1
triggerall = roundstate = 2
triggerall = p2life <= 50
triggerall = random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist
triggerall = p2bodydist x = [-10+floor(17*(enemynear(var(58)),vel x)),5+floor(17*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = (stateno = 215 || stateno = 410) && movehit
ignorehitpause = 0

;シェルミースタンド(キャンセル版)
[State -3,c6a]
type = ChangeState
value = 251
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = var(48)=1
triggerall = roundstate = 2
triggerall = random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist
triggerall = p2bodydist x = [-10+floor(13*(enemynear(var(58)),vel x)),60+floor(13*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = (stateno = 215 || stateno = 410) && movehit
trigger2 = (100*life/const(data.life)) <= 30 || power >= 2000 || enemynear(var(58)),backedgedist <= 20 || enemynear(var(58)),frontedgebodydist <= 10
trigger2 = (stateno = [230,235]) && movehit
trigger2 = AnimElemTime (6) > 0 || !var(45) && (enemynear(var(58)),statetype = C || enemynear(var(58)),statetype = S && enemynear(var(58)),const(size.head.pos.y)+10 > -60)
;trigger3 = ((100*life/const(data.life)) <= 30 || life <= 300) && power >= 1000
;trigger3 = enemynear(var(58)),backedgedist > 20
;trigger3 = enemynear(var(58)),frontedgebodydist > 20
ignorehitpause = 0

;シェルミーアックス
[State -3,sa]
type = ChangeState
value = 1350
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = var(48)=1
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = var(20)>0 && (power >= 2000 || p2life <= 220 && power >= 1000)
triggerall = random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = stateno = 251 && movehit
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist
triggerall = p2bodydist y >= 0
trigger1 = p2bodydist x = [-10+floor(21*(enemynear(var(58)),vel x)),40+floor(21*(enemynear(var(58)),vel x))]
trigger2 = enemynear(var(58)),backedgedist <= 20 || enemynear(var(58)),frontedgebodydist <= 10
trigger2 = p2bodydist x = [-15,60]
ignorehitpause = 0

;イナズマレッグラリアート
[State -3,MAX2ilr]
type = ChangeState
value = 2500
triggerall = var(59)>7
triggerall = var(1)=0
triggerall = var(20)>0
triggerall = var(48)=1
triggerall = roundstate = 2
triggerall = (100*life/const(data.life)) <= 30 || life <= 300
triggerall = power >= 1000
triggerall = random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist
triggerall = p2bodydist x = [-10+floor(9*(enemynear(var(58)),vel x)),120+floor(9*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = stateno = 251 && movehit
trigger2 = power >= 2000
trigger2 = stateno = 1360 && movehit
ignorehitpause = 0

;稲妻レッグラリアート
[State -3,ilr]
type = ChangeState
value = 2200
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = var(20)>0
triggerall = var(48)=1
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = TeamMode = simul
triggerall = random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist
triggerall = p2bodydist x = [-10,120]
triggerall = p2bodydist y >= 0
trigger1 = (stateno = 251 || stateno = 1360 && power >= 1000) && movehit
ignorehitpause = 0

;MAXシェルミーフラッシュ
[State -3,MAXsf]
type = ChangeState
value = 2050
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = var(20)>0
triggerall = var(48)=1
triggerall = roundstate = 2
triggerall = var(50)=1 && p2life <= 200
triggerall = power >= 1000
triggerall = random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist
triggerall = p2bodydist x = [-10+floor(1*(enemynear(var(58)),vel x)),30+floor(1*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = !var(45) && (enemynear(var(58)),statetype = C || enemynear(var(58)),statetype = S && enemynear(var(58)),const(size.head.pos.y)+10 > -60)
trigger1 = stateno = 251 && movehit
trigger2 = power >= 2000
trigger2 = stateno = 1360 && movehit
ignorehitpause = 0

;MAXシェルミーカーニバル
[State -3,MAXscar]
type = ChangeState
value = 2150
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = var(20)>0 && power >= 1000
triggerall = var(48)=1
triggerall = roundstate = 2
triggerall = p2life > 150
triggerall = random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist
triggerall = p2bodydist y >= 0
trigger1 = (stateno = 251 && (enemynear(var(58)),backedgedist <= 20 || enemynear(var(58)),frontedgebodydist <= 10) || stateno = 1360 && power >= 2000) && movehit
trigger1 = p2bodydist x = [-10+floor(9*(enemynear(var(58)),vel x)),15+floor(9*(enemynear(var(58)),vel x))]
trigger2 = (stateno = [230,235]) && movehit && AnimElemTime (6) > 0
trigger2 = p2bodydist x = [-10+floor(9*(enemynear(var(58)),vel x)),30+floor(9*(enemynear(var(58)),vel x))]
trigger3 = !var(45)
trigger3 = (stateno = [230,235]) && movehit && (enemynear(var(58)),statetype = C || enemynear(var(58)),statetype = S && enemynear(var(58)),const(size.head.pos.y)+10 > -60)
trigger3 = p2bodydist x = [-10+floor(9*(enemynear(var(58)),vel x)),30+floor(9*(enemynear(var(58)),vel x))]
ignorehitpause = 0

;シェルミーカーニバル
[State -3,scar]
type = ChangeState
value = 2100
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = var(48)=1
triggerall = roundstate = 2
triggerall = var(20)>0
triggerall = random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist
triggerall = p2bodydist y >= 0
trigger1 = (stateno = 251 && (enemynear(var(58)),backedgedist <= 20 || enemynear(var(58)),frontedgebodydist <= 10) || stateno = 1360 && power >= 1000) && movehit
trigger1 = p2bodydist x = [-10+floor(9*(enemynear(var(58)),vel x)),15+floor(9*(enemynear(var(58)),vel x))]
trigger2 = (stateno = [230,235]) && movehit && AnimElemTime (6) > 0
trigger2 = p2bodydist x = [-10+floor(9*(enemynear(var(58)),vel x)),30+floor(9*(enemynear(var(58)),vel x))]
trigger3 = !var(45)
trigger3 = (stateno = [230,235]) && movehit && (enemynear(var(58)),statetype = C || enemynear(var(58)),statetype = S && enemynear(var(58)),const(size.head.pos.y)+10 > -60)
trigger3 = p2bodydist x = [-10+floor(9*(enemynear(var(58)),vel x)),30+floor(9*(enemynear(var(58)),vel x))]
ignorehitpause = 0

;シェルミーフラッシュ
[State -3,sf]
type = ChangeState
value = 2000
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = var(20)>0
triggerall = var(48)=1
triggerall = roundstate = 2
triggerall = random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist
triggerall = p2bodydist x = [-10+floor(1*(enemynear(var(58)),vel x)),30+floor(1*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = stateno = 251 && movehit
trigger2 = (stateno = [230,235]) && movehit && AnimElemTime (6) > 0
trigger3 = !var(45)
trigger3 = (stateno = [230,235]) && movehit && (enemynear(var(58)),statetype = C || enemynear(var(58)),statetype = S && enemynear(var(58)),const(size.head.pos.y)+10 > -60)
ignorehitpause = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;クイックMAX
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;しゃがみ強パンチ
[State -3,chp]
type = ChangeState
value = 410
triggerall = var(59)>0
triggerall = var(48)=1 || var(49)=1
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = stateno = 98 && time >=10
triggerall = p2dist x <=70
triggerall = p2bodydist x = [-30,12]
triggerall = p2bodydist y >= 0
trigger1 = var(1)=1 || var(44)=1 || power < 1000 || ((100*life/const(data.life)) <= 30 || life <= 300) && power >= 1000
trigger2 = (enemynear(var(58)),backedgedist <= 20 || frontedgebodydist <= 60 && enemynear(var(58)),frontedgebodydist <= 10) && enemynear(var(58)),statetype = S && enemynear(var(58)),const(size.head.pos.y)+10 <= -60
ignorehitpause = 0

;近距離立ち弱キック
[State -3,lk]
type = ChangeState
value = 235
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = var(48)=1 || var(49)=1
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = p2dist x <=50
triggerall = p2bodydist x = [-30,10]
triggerall = p2bodydist y >= 0
trigger1 = stateno = 98 && time >=10
ignorehitpause = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;目押し連携
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;近距離立ち強パンチ
[State -3,hp]
type = ChangeState
value = 215
triggerall = var(59)>0
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = S && enemynear(var(58)),const(size.head.pos.y)+10 <= -60 || var(45)=2 && enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = p2dist x <=70
triggerall = p2bodydist x = [-10,30]
triggerall = p2bodydist y >= 0
trigger1 = stateno = 1700 && animtime = 0 && time > 0
ignorehitpause = 0

;しゃがみ強パンチ
[State -3,chp]
type = ChangeState
value = 410
triggerall = var(59)>0
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = p2bodydist x = [-10,20]
triggerall = p2bodydist y >= 0
trigger1 = stateno = 1700 && animtime = 0 && time > 0
ignorehitpause = 0

;立ち弱キック
[State -3,lk]
type = ChangeState
value = Ifelse(p2dist x <=50,235,230)
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = var(44)=0 && enemynear(var(58)),statetype != A || var(44)=1 && enemynear(var(58)),statetype = S
triggerall = enemynear(var(58)),statetype != L
triggerall = p2dist x <=50
triggerall = p2bodydist x = [-10,30]
triggerall = p2bodydist y >= 0
trigger1 = ((stateno = 200 || stateno = 205) && animelem = 5,>0 || stateno = 400 && animelem = 5,>=0) && movehit && enemynear(var(58)),movetype = H
trigger1 = random <= (var(59))*100
trigger2 = ((stateno = 200 || stateno = 205) && animelem = 5,>0 || stateno = 400 && animelem = 5,>=0) && moveguarded
trigger2 = random <= (var(59))*30
trigger3 = stateno = 1700 && enemynear(var(58)),movetype = H && animtime = 0 && time > 0
trigger3 = enemynear(var(58)),stateno != [120,159]
trigger3 = random <= (var(59))*100
ignorehitpause = 0

;しゃがみ弱キック
[State -3,clk]
type = ChangeState
value = 430
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = p2bodydist x = [-10,45]
triggerall = p2bodydist y >= 0
trigger1 = ((stateno = 200 || stateno = 205) && animelem = 5,>0 || stateno = 400 && animelem = 5,>=0) && movehit
trigger2 = stateno = 1700 && animtime = 0 && time > 0
ignorehitpause = 0

;立ち弱パンチ
[State -3,lp]
type = ChangeState
value = Ifelse(p2dist x <=50,205,200)
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = stateno = 205 && animelem = 5,>=0
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = p2bodydist x = [-10,40]
triggerall = p2bodydist y = [-60,0]
trigger1 = movecontact
ignorehitpause = 0

;弱Анкоку Райкокэн(暗黒雷光拳)
[State -3,lar]
type = ChangeState
value = 2300
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = (power >= 5000 || p2life <= 250 && power >= 1000) || var(20)>0
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = p2bodydist x = [-10,80]
triggerall = p2bodydist y >= 0
trigger1 = stateno = 1700 && animtime = 0 && time > 0
ignorehitpause = 0

;ЖИНРАЙ(迅雷)
[State -3,6x]
type = ChangeState
value = 270
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = p2bodydist x = [0,80]
triggerall = p2bodydist y >= 0
trigger1 = stateno = 1700 && animtime = 0 && time > 0
ignorehitpause = 0

;イナズマレッグラリアート
[State -3,MAX2ilr]
type = ChangeState
value = 2500
triggerall = var(59)>7
triggerall = var(1)=0
triggerall = roundstate = 2
triggerall = (100*life/const(data.life)) <= 30 || life <= 300
triggerall = power >= 5000 || var(20)>0 && power >= 1000
triggerall = random <= (var(59))*30
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [40,60]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [0,60]
triggerall = p2bodydist y >= 0
trigger1 = ((stateno = [200,205]) || stateno = 400 || stateno = 430) && animtime = 0 && time > 0
ignorehitpause = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;反撃
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;強Анкоку Райкокэн(暗黒雷光拳)
[State -3,har]
type = ChangeState
value = 2301
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = power >= 5000 || var(59)>9 && p2life <= 300 && power >= 1000 || var(20)>0
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = A
triggerall = (prevstateno = [120,159]) || (prevstateno = [700,710]) || (prevstateno = [5000,5210])
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),animtime <= -10
triggerall = enemynear(var(58)),ctrl=0
triggerall = enemynear(var(58)),numproj=0
triggerall = p2bodydist x = [-5,80]
triggerall = p2bodydist y = [-100-floor(10*(enemynear(var(58)),vel y)+(10*(10+1)/2)*fvar(20)),-60-floor(10*(enemynear(var(58)),vel y)+(10*(10+1)/2)*fvar(20))]
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101])
ignorehitpause = 0

;イナズマレッグラリアート
[State -3,MAX2ilr]
type = ChangeState
value = 2500
triggerall = var(59)>4
triggerall = var(1)=0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = life > 0
triggerall = p2life > 0
triggerall = (100*life/const(data.life)) <= 30 || life <= 300
triggerall = power >= 5000 || p2life <= 450 && power >= 3000 || (var(20)>0 && power >= 1000)
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = (prevstateno = [120,159]) || (prevstateno = [700,710]) || prevstateno = 1010 || (prevstateno = [5000,5210])
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),animtime <= -9
triggerall = enemynear(var(58)),ctrl=0
triggerall = p2bodydist x = [-15,15]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101])
ignorehitpause = 0

;MAXシェルミーフラッシュ
[State -3,MAXsf]
type = ChangeState
value = 2050
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = life > 0
triggerall = p2life > 0
triggerall = var(44)=1 || var(50)=1 && p2life <= 200
triggerall = power >= 3000 || (var(20) > 0 && power >= 1000)
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = (prevstateno = [120,159]) || (prevstateno = [700,710]) || prevstateno = 1010 || (prevstateno = [5000,5210])
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),animtime <= -1
triggerall = enemynear(var(58)),ctrl=0
triggerall = p2bodydist x = [-15,30]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101])
ignorehitpause = 0

;シェルミーフラッシュ
[State -3,sf]
type = ChangeState
value = 2000
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = life > 0
triggerall = p2life > 0
triggerall = power >= 5000 || var(59)>9 && p2life <= 300 && power >= 1000 || var(20)>0
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = (prevstateno = [120,159]) || (prevstateno = [700,710]) || prevstateno = 1010 || (prevstateno = [5000,5210])
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),animtime <= -1
triggerall = enemynear(var(58)),ctrl=0
triggerall = enemynear(var(58)),numproj=0
triggerall = p2bodydist x = [-15,30]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101])
ignorehitpause = 0

;しゃがみ強パンチ
[State -3,chp]
type = ChangeState
value = 410
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = (prevstateno = [120,159]) || (prevstateno = [700,710]) || prevstateno = 1010 || (prevstateno = [5000,5210])
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),ctrl=0
triggerall = enemynear(var(58)),numproj=0
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101])
trigger1 = enemynear(var(58)),animtime <= -7
trigger1 = p2bodydist x = [-10,20]
trigger1 = p2bodydist y = [-30,0]
trigger2 = enemynear(var(58)),statetype = A
trigger2 = enemynear(var(58)),animtime <= -12
trigger2 = p2bodydist x = [-10,25]
trigger2 = p2bodydist y = [-70-floor(12*(enemynear(var(58)),vel y)+(9*(9+1)/2)*fvar(20)),-50-floor(12*(enemynear(var(58)),vel y)+(12*(12+1)/2)*fvar(20))]
ignorehitpause = 0

;シェルミーホイップ
[State -3,sw]
type = ChangeState
value = 1100
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = enemynear(var(58)),statetype != L
triggerall = (prevstateno = [120,159]) || (prevstateno = [700,710]) || prevstateno = 1010 || (prevstateno = [5000,5210])
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),animtime <= -7
triggerall = enemynear(var(58)),ctrl=0
triggerall = enemynear(var(58)),numproj=0
triggerall = p2bodydist x = [-10,30]
triggerall = p2bodydist y = [-40-floor(7*(enemynear(var(58)),vel y)+(7*(7+1)/2)*fvar(20)),0-floor(7*(enemynear(var(58)),vel y)+(7*(7+1)/2)*fvar(20))]
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101])
ignorehitpause = 0

;Такэру Мйкажутй(建御雷)
[State -3,tm]
type = ChangeState
value = 1700
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = (prevstateno = [120,159]) || (prevstateno = [700,710]) || (prevstateno = [5000,5210])
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),animtime <= -15
triggerall = enemynear(var(58)),ctrl=0
triggerall = enemynear(var(58)),numproj=0
triggerall = p2bodydist x = [-10,15]
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101])
trigger1 = enemynear(var(58)),statetype != A
trigger1 = p2bodydist y >= 0
trigger2 = enemynear(var(58)),statetype = A
trigger2 = p2bodydist y = [-180-floor(15*(enemynear(var(58)),vel y)+(15*(15+1)/2)*fvar(20)),-40-floor(15*(enemynear(var(58)),vel y)+(15*(15+1)/2)*fvar(20))]
ignorehitpause = 0

;近距離立ち強パンチ
[State -3,hp]
type = ChangeState
value = 215
triggerall = var(59)>0
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = (prevstateno = [120,159]) || (prevstateno = [700,710]) || prevstateno = 1010 || (prevstateno = [5000,5210])
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),animtime <= -6
triggerall = enemynear(var(58)),ctrl=0
triggerall = enemynear(var(58)),numproj=0
triggerall = p2dist x <=70
triggerall = p2bodydist x = [-10,30]
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101])
trigger1 = enemynear(var(58)),statetype = S && enemynear(var(58)),const(size.head.pos.y)+10 <= -60 || var(45)>=1 && enemynear(var(58)),statetype != A
trigger1 = p2bodydist y >= 0
trigger2 = enemynear(var(58)),statetype = A
trigger2 = enemynear(var(58)),stateno != [0,39]
trigger2 = enemynear(var(58)),stateno != [98,100]
trigger2 = p2bodydist y = [-40-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)),-11-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20))]
ignorehitpause = 0

;立ち弱パンチ
[State -3,lp]
type = ChangeState
value = Ifelse(p2dist x <=50,205,200)
triggerall = var(59)>0
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = (prevstateno = [120,159]) || (prevstateno = [700,710]) || prevstateno = 1010 || (prevstateno = [5000,5210])
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),animtime <= -6
triggerall = enemynear(var(58)),ctrl=0
triggerall = enemynear(var(58)),numproj=0
triggerall = p2bodydist x = [-10,30]
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101])
trigger1 = enemynear(var(58)),statetype = S && enemynear(var(58)),const(size.head.pos.y)+10 <= -60 || var(45)>1 && enemynear(var(58)),statetype != A
trigger1 = p2bodydist y >= 0
trigger2 = enemynear(var(58)),statetype = A
trigger2 = p2bodydist y = [-55-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)),-35-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20))]
ignorehitpause = 0

;しゃがみ弱パンチ
[State -3,clp]
type = ChangeState
value = 400
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = (prevstateno = [120,159]) || (prevstateno = [700,710]) || prevstateno = 1010 || (prevstateno = [5000,5210])
triggerall = enemynear(var(58)),animtime <= -6
triggerall = enemynear(var(58)),ctrl=0
triggerall = enemynear(var(58)),numproj=0
triggerall = p2bodydist x = [-15,20]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101])
ignorehitpause = 0

;立ち弱キック
[State -3,lk]
type = ChangeState
value = Ifelse(p2dist x <=50,235,230)
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = (prevstateno = [120,159]) || (prevstateno = [700,710]) || prevstateno = 1010 || (prevstateno = [5000,5210])
triggerall = enemynear(var(58)),animtime <= -6
triggerall = enemynear(var(58)),ctrl=0
triggerall = enemynear(var(58)),numproj=0
triggerall = p2bodydist x = [-10,40]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101])
ignorehitpause = 0

;しゃがみ弱キック
[State -3,clk]
type = ChangeState
value = 430
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = (prevstateno = [120,159]) || (prevstateno = [700,710]) || prevstateno = 1010 || (prevstateno = [5000,5210])
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),animtime <= -8
triggerall = enemynear(var(58)),ctrl=0
triggerall = enemynear(var(58)),numproj=0
triggerall = p2bodydist x = [-10,50]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101])
ignorehitpause = 0

;Якуса но йкацутй(八雷神)
[State -3,yi]
type = ChangeState
value = 1800
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = life > 0
triggerall = p2life > 0
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = (prevstateno = [120,159]) || (prevstateno = [700,710]) || (prevstateno = [5000,5210])
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),animtime <= -1
triggerall = enemynear(var(58)),ctrl=0
triggerall = p2bodydist x = [-15,20]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101])
ignorehitpause = 0

;シェルミースパイラル
[State -3,ss]
type = ChangeState
value = 1150
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = life > 0
triggerall = p2life > 0
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = (prevstateno = [120,159]) || (prevstateno = [700,710]) || prevstateno = 1010 || (prevstateno = [5000,5210])
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),animtime <= -1
triggerall = enemynear(var(58)),ctrl=0
triggerall = p2bodydist x = [-15,30]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101])
ignorehitpause = 0

;フロントフラッシュ/ЭНРАИ
[State -3,throwK]
type = ChangeState
value = 850
triggerall = var(59)>0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = stateno != [98,101]
triggerall = (prevstateno = [120,159]) || (prevstateno = [700,710]) || prevstateno = 1010 || (prevstateno = [5000,5210])
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = enemynear(var(58)),animtime <= -1
triggerall = enemynear(var(58)),ctrl=0
triggerall = backedgedist <= 50
triggerall = p2bodydist x < 5
triggerall = p2bodydist x = [-15,5]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22])
ignorehitpause = 0

;シェルミーフラッシュ・オリジナル/БАКУРАИ(P投げ)
[State -3,throwP]
type = ChangeState
value = 800
triggerall = var(59)>0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = stateno != [98,101]
triggerall = (prevstateno = [120,159]) || (prevstateno = [700,710]) || prevstateno = 1010 || (prevstateno = [5000,5210])
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = enemynear(var(58)),animtime <= -1
triggerall = enemynear(var(58)),ctrl=0
triggerall = p2bodydist x < 5
triggerall = p2bodydist x = [-15,5]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22])
ignorehitpause = 0

;遠距離立ち強パンチ
[State -3,ehp]
type = ChangeState
value = 210
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = S && enemynear(var(58)),const(size.head.pos.y)+10 <= -60 || var(45)>=1 && enemynear(var(58)),statetype != A
triggerall = (prevstateno = [120,159]) || (prevstateno = [700,710]) || (prevstateno = [5000,5210])
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),animtime <= -15
triggerall = enemynear(var(58)),ctrl=0
triggerall = enemynear(var(58)),numproj=0
triggerall = p2dist x >70
triggerall = p2bodydist x = [31,40]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101])
ignorehitpause = 0

;遠距離立ち強キック
[State -3,ehk]
type = ChangeState
value = 240
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = A
triggerall = (prevstateno = [120,159]) || (prevstateno = [700,710]) || (prevstateno = [5000,5210])
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),animtime <= -9
triggerall = enemynear(var(58)),ctrl=0
triggerall = enemynear(var(58)),numproj=0
triggerall = p2dist x >70
triggerall = p2bodydist x = [31,55]
triggerall = p2bodydist y = [-75-floor(9*(enemynear(var(58)),vel y)+(9*(9+1)/2)*fvar(20)),-55-floor(9*(enemynear(var(58)),vel y)+(9*(9+1)/2)*fvar(20))]
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101])
ignorehitpause = 0

;弱ダイヤモンドバスト
[State -3,ldb]
type = ChangeState
value = 1050
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = life > 0
triggerall = p2life > 0
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = (prevstateno = [120,159]) || (prevstateno = [700,710]) || prevstateno = 1010 || (prevstateno = [5000,5210])
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),animtime <= -12
triggerall = enemynear(var(58)),ctrl=0
triggerall = p2bodydist x = [0,48]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101])
ignorehitpause = 0

;しゃがみ強キック
[State -3,chk]
type = ChangeState
value = 440
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = (prevstateno = [120,159]) || (prevstateno = [700,710]) || (prevstateno = [5000,5210])
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),animtime <= -19
triggerall = enemynear(var(58)),ctrl=0
triggerall = enemynear(var(58)),numproj=0
triggerall = p2bodydist x = [0,50]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101])
ignorehitpause = 0

;ジャンプ強パンチ
[State -3,jhp]
type = ChangeState
value = 610
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype = A
triggerall = (enemynear(var(58)),statetype != A && vel y >= 0) || enemynear(var(58)),statetype = A
triggerall = stateno != [105,106]
triggerall = (prevstateno = [120,155]) || (prevstateno = [5000,5210])
triggerall = enemynear(var(58)),animtime <= -6
triggerall = enemynear(var(58)),ctrl=0
triggerall = !enemynear(var(58)),numproj
triggerall = p2bodydist x = [-20+floor(6*(enemynear(var(58)),vel x)+floor(6*vel x)),70+floor(6*(enemynear(var(58)),vel x)+floor(6*vel x))]
triggerall = p2bodydist y = [-20-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)-floor(6*vel y)-(6*(6+1)/2)*0.47),20-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)-floor(6*vel y)-(6*(6+1)/2)*0.47)]
trigger1 = ctrl || (stateno = [120,149])
ignorehitpause = 0

;斜めジャンプ強キック
[State -3,jhk]
type = ChangeState
value = 640
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype = A
triggerall = (enemynear(var(58)),statetype != A && vel y >= 0) || enemynear(var(58)),statetype = A
triggerall = stateno != [105,106]
triggerall = (prevstateno = [120,155]) || (prevstateno = [5000,5210])
triggerall = enemynear(var(58)),animtime <= -9
triggerall = enemynear(var(58)),ctrl=0
triggerall = !enemynear(var(58)),numproj
triggerall = vel x != 0
triggerall = p2bodydist x = [-20+floor(9*(enemynear(var(58)),vel x)+floor(9*vel x)),60+floor(9*(enemynear(var(58)),vel x)+floor(9*vel x))]
triggerall = p2bodydist y = [-10-floor(9*(enemynear(var(58)),vel y)+(9*(9+1)/2)*fvar(20)-floor(9*vel y)-(9*(9+1)/2)*0.47),45-floor(9*(enemynear(var(58)),vel y)+(9*(9+1)/2)*fvar(20)-floor(9*vel y)-(9*(9+1)/2)*0.47)]
trigger1 = ctrl || (stateno = [120,149])
ignorehitpause = 0

;垂直ジャンプ強キック
[State -3,jhk2]
type = ChangeState
value = 640
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype = A
triggerall = (enemynear(var(58)),statetype != A && vel y >= 0) || enemynear(var(58)),statetype = A
triggerall = stateno != [105,106]
triggerall = (prevstateno = [120,155]) || (prevstateno = [5000,5210])
triggerall = enemynear(var(58)),animtime <= -6
triggerall = enemynear(var(58)),ctrl=0
triggerall = !enemynear(var(58)),numproj
triggerall = vel x = 0
triggerall = p2bodydist x = [0+floor(6*(enemynear(var(58)),vel x)+floor(6*vel x)),70+floor(6*(enemynear(var(58)),vel x)+floor(6*vel x))]
triggerall = p2bodydist y = [-10-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)-floor(6*vel y)-(6*(6+1)/2)*0.47),40-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)-floor(6*vel y)-(6*(6+1)/2)*0.47)]
trigger1 = ctrl || (stateno = [120,149])
ignorehitpause = 0

;ジャンプふっ飛ばし攻撃
[State -3,jf]
type = ChangeState
value = 690
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype = A
triggerall = (enemynear(var(58)),statetype != A && vel y >= 0) || enemynear(var(58)),statetype = A
triggerall = stateno != [105,106]
triggerall = (prevstateno = [120,155]) || (prevstateno = [5000,5210])
triggerall = enemynear(var(58)),animtime <= -13
triggerall = enemynear(var(58)),ctrl=0
triggerall = !enemynear(var(58)),numproj
triggerall = p2bodydist x = [0+floor(13*(enemynear(var(58)),vel x)+floor(13*vel x)),65+floor(13*(enemynear(var(58)),vel x)+floor(13*vel x))]
triggerall = p2bodydist y = [-30-floor(13*(enemynear(var(58)),vel y)+(13*(13+1)/2)*fvar(20)-floor(13*vel y)-(13*(13+1)/2)*0.47),30-floor(13*(enemynear(var(58)),vel y)+(13*(13+1)/2)*fvar(20)-floor(13*vel y)-(13*(13+1)/2)*0.47)]
trigger1 = ctrl || (stateno = [120,149])
ignorehitpause = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;切り替えし
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;ハイジャンプ（投げ回避）
[State -3,hj]
type = ChangeState
value = 46
triggerall = var(59)>4
triggerall = roundstate = 2
triggerall = life > 0
triggerall = p2life > 0
triggerall = random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = backedgebodydist <= 60
triggerall = ctrl || (stateno = [10,12]) || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = enemynear(var(58)),movetype = A
trigger1 = enemynear(var(58)),hitdefattr = SCA, NT, ST, HT
trigger1 = p2bodydist x <= 90
trigger2 = enemynear(var(58)),stateno != [0,999]
trigger2 = enemynear(var(58)),hitdefattr = SCA,AT
trigger2 = enemynear(var(58)),time >=30 || (!time&&var(59)>=8) || (var(59)>9)
trigger2 = enemynear(var(58)),time >=50 || (var(59)>9)
trigger2 = p2bodydist x <= 30
ignorehitpause = 0

;バックステップ（投げ回避）
[State -3,backstep]
type = ChangeState
value = 105
triggerall = var(59)>4
triggerall = roundstate = 2
triggerall = life > 0
triggerall = p2life > 0
triggerall = random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),time >= 10*(9-var(59)) || (prevstateno = [150,155]) || (prevstateno = [5000,5270])
triggerall = p2bodydist x = [-15,90]
triggerall = backedgebodydist > 60
triggerall = ctrl || (stateno = [10,12]) || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = enemynear(var(58)),hitdefattr = SCA,AT
trigger1 = p2dist x > 0
trigger1 = !p2dist y && !enemynear(var(58)),vel y
trigger2 = enemynear(var(58)),statetype != L
trigger2 = enemynear(var(58)),movetype = A
trigger2 = enemynear(var(58)),movetype != H
trigger2 = enemynear(var(58)),stateno > 199
trigger2 = (enemynear(var(58)),stateno != [5100,5270]) || enemynear(var(58)),ctrl
trigger2 = enemynear(var(58)),pos y >= 0 && !enemynear(var(58)),vel y && enemynear(var(58)),hitdefattr = SCA,AT
trigger2 = enemynear(var(58)),time < 12 || enemynear(var(58)),hitdefattr = SCA,HT || enemynear(var(58)),vel x > 2
ignorehitpause = 0

;小ジャンプ（投げ回避）
[State -3,sj]
type = ChangeState
value = 42
triggerall = var(59)>5
triggerall = roundstate = 2
triggerall = life > 0
triggerall = p2life > 0
triggerall = random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),time >= 10*(9-var(59)) || (prevstateno = [150,155]) || (prevstateno = [5000,5270])
triggerall = p2bodydist x = [-15,90]
triggerall = ctrl || (stateno = [10,12]) || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = enemynear(var(58)),hitdefattr = SCA,AT
trigger1 = p2dist x > 0
trigger1 = !p2dist y && !enemynear(var(58)),vel y
trigger2 = enemynear(var(58)),statetype != L
trigger2 = enemynear(var(58)),movetype = A
trigger2 = enemynear(var(58)),movetype != H
trigger2 = enemynear(var(58)),stateno > 199
trigger2 = (enemynear(var(58)),stateno != [5100,5270]) || enemynear(var(58)),ctrl
trigger2 = enemynear(var(58)),pos y >= 0 && !enemynear(var(58)),vel y && enemynear(var(58)),hitdefattr = SCA,AT
trigger2 = enemynear(var(58)),time < 12 || enemynear(var(58)),hitdefattr = SCA,HT || enemynear(var(58)),vel x > 2
ignorehitpause = 0

;小ジャンプ（カウンター）
[State -3,sj c]
type = ChangeState
value = 42
triggerall = var(59)>0
triggerall = var(55)>0
triggerall = roundstate = 2
triggerall = var(59)+random < 80*(1+0*(enemynear(var(58)),hitdefattr=SCA,HA||(enemynear(var(58)),stateno=[3000,3999]))+1*(prevstateno=52||(prevstateno=[150,155])||(prevstateno=[5000,5270])))
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = C
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = A
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno > 199
triggerall = (enemynear(var(58)),stateno != [5100,5270]) || enemynear(var(58)),ctrl
triggerall = p2dist x > 0
triggerall = enemynear(var(58)),animtime < -30 || (var(59)=[1,9]) && enemynear(var(58)),animtime = [-30,-30+2*(9-var(59))]
triggerall = (enemynear(var(58)),time >= 9*(10-var(59)) || var(59)>9) && enemynear(var(58)),pos y >= 0 && !enemynear(var(58)),vel y
triggerall = ctrl || (stateno = [10,12]) || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = p2bodydist x+floor(3*(enemynear(var(58)),vel x))*(enemynear(var(58)),facing)*ifelse((enemynear(var(58)),pos x-pos x)>=0,1,-1)*(enemynear(var(58)),statetype=A) = [75,5*(28+10-var(59))]
trigger2 = (enemynear(var(58)),backedgebodydist <= 35-enemynear(var(58)),const(size.ground.back) || enemynear(var(58)),frontedgebodydist <= 35-enemynear(var(58)),const(size.ground.front) ) && p2bodydist x = [80,5*(30+10-var(59))]
ignorehitpause = 0

;ハイジャンプ（カウンター）
[State -3,hj c]
type = ChangeState
value = 46
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = var(59)+random < 110*(1+0*(enemynear(var(58)),hitdefattr=SCA,HA||(enemynear(var(58)),stateno=[3000,3999]))+1*(prevstateno=52||(prevstateno=[150,155])||(prevstateno=[5000,5270])))
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = A
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno > 199
triggerall = (enemynear(var(58)),stateno != [5100,5270]) || enemynear(var(58)),ctrl
triggerall = enemynear(var(58)),animtime < -33 || (var(59)=[1,9]) && enemynear(var(58)),animtime = [-33,-33+2*(9-var(59))]
triggerall = (enemynear(var(58)),time >= 9*(10-var(59)) || var(59)>9) && enemynear(var(58)),pos y >= 0 && !enemynear(var(58)),vel y
triggerall = ctrl || (stateno = [10,12]) || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = p2bodydist x+floor(3*(enemynear(var(58)),vel x))*(enemynear(var(58)),facing)*ifelse((enemynear(var(58)),pos x-pos x)>=0,1,-1)*(enemynear(var(58)),statetype=A) > 130
trigger2 = (enemynear(var(58)),backedgebodydist <= 35-enemynear(var(58)),const(size.ground.back) || enemynear(var(58)),frontedgebodydist <= 35-enemynear(var(58)),const(size.ground.front) ) && p2bodydist x > 130
ignorehitpause = 0

;Уммэй но Я(運命の矢) X（対空）
[State -3,uy]
type = ChangeState
value = 2600
triggerall = var(59)>7
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = (100*life/const(data.life)) <= 30 || life <= 300
triggerall = p2life > 500
triggerall = (power = [3000,4999]) && random <= var(59)*40 || power >= 5000 && random <= var(59)*70 || (var(20)>0 && power >= 1000) && random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = !enemynear(var(58)),hitdefattr = SCA,NT,ST,HT
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [40+floor(21*(enemynear(var(58)),vel x)),60+floor(21*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y = [-60-floor(21*(enemynear(var(58)),vel y)+(21*(21+1)/2)*fvar(20)),-15-floor(21*(enemynear(var(58)),vel y)+(21*(21+1)/2)*fvar(20))]
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger2 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
ignorehitpause = 0

;MAXШукумэй・Гэнъэй・Шинши(宿命・幻影・震死)
[State -3,MAXsgs]
type = ChangeState
value = 2450
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = var(55)>0
triggerall = roundstate = 2
triggerall = life > 0
triggerall = p2life > 0
triggerall = var(20)=0 && power >= 5000 && random <= var(59)*5 || var(20)>0 && power >= 1000 && random <= var(59)*80
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = A
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),animtime <= -14 || var(59)<6
triggerall = enemynear(var(58)),time >=30 || (!time&&var(59)>=8) || (var(59)>9)
triggerall = p2bodydist x = [-5+floor(14*(enemynear(var(58)),vel x)),40+floor(14*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y = [-40-floor(14*(enemynear(var(58)),vel y)+(14*(14+1)/2)*fvar(20)),30-floor(14*(enemynear(var(58)),vel y)+(14*(14+1)/2)*fvar(20))]
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = enemynear(var(58)),time >= 50 || var(59)>8
trigger2 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger2 = (prevstateno = [120,159]) || (prevstateno = [5000,5270])
trigger3 = var(59)>7
trigger3 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
ignorehitpause = 0

;MAXШукумэй・Гэнъэй・Шинши(宿命・幻影・震死)（ぶっぱ気味）
[State -3,MAXsgs b]
type = ChangeState
value = 2450
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = var(55)=0
triggerall = roundstate = 2
triggerall = life > 0
triggerall = p2life > 0
triggerall = var(20)=0 && power >= 5000 || var(20)>0 && power >= 1000
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !enemynear(var(58)),numproj
triggerall = p2bodydist x = [-5,90]
triggerall = p2bodydist y = [-30,0]
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = enemynear(var(58)),ctrl || enemynear(var(58)),stateno <= 199
trigger1 = random <= (11-(var(59)))*8
trigger2 = enemynear(var(58)),movetype = A
trigger2 = (enemynear(var(58)),stateno = [200,999]) && random <= var(59)*3 || enemynear(var(58)),stateno > 999 && random <= var(59)*4
ignorehitpause = 0

;Шукумэй・Гэнъэй・Шинши(宿命・幻影・震死)
[State -3,sgs]
type = ChangeState
value = 2400
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = var(55)>0
triggerall = roundstate = 2
triggerall = life > 0
triggerall = p2life > 0
triggerall = (power = [2000,3999]) && random <= var(59)*10 || (power = [4000,4999]) && random <= var(59)*30 || (p2life <= 250 && power >= 1000 || power >= 5000 || var(20)>0) && random <= var(59)*75
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = A
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),animtime <= -14 || var(59)<6
triggerall = enemynear(var(58)),time >=30 || (!time&&var(59)>=8) || (var(59)>9)
triggerall = p2bodydist x = [-5+floor(14*(enemynear(var(58)),vel x)),40+floor(14*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y = [-40-floor(14*(enemynear(var(58)),vel y)+(14*(14+1)/2)*fvar(20)),30-floor(14*(enemynear(var(58)),vel y)+(14*(14+1)/2)*fvar(20))]
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = enemynear(var(58)),time >= 50 || var(59)>8
trigger2 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger2 = (prevstateno = [120,159]) || (prevstateno = [5000,5270])
trigger3 = var(59)>7
trigger3 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
ignorehitpause = 0

;Шукумэй・Гэнъэй・Шинши(宿命・幻影・震死)（ぶっぱ気味）
[State -3,sgs b]
type = ChangeState
value = 2400
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = var(55)=0
triggerall = roundstate = 2
triggerall = life > 0
triggerall = p2life > 0
triggerall = power >= 3500 || p2life <= 250 && power >= 1000 || var(20)>0
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !enemynear(var(58)),numproj
triggerall = p2bodydist x = [-5,90]
triggerall = p2bodydist y = [-30,0]
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = enemynear(var(58)),ctrl || enemynear(var(58)),stateno <= 199
trigger1 = random <= (11-(var(59)))*4
trigger2 = enemynear(var(58)),movetype = A
trigger2 = (enemynear(var(58)),stateno = [200,999]) && random <= var(59)*1 || enemynear(var(58)),stateno > 999 && random <= var(59)*2
ignorehitpause = 0

;MAXАнкоку Райкокэн(暗黒雷光拳)（対空）
[State -3,MAXar2]
type = ChangeState
value = 2350
triggerall = var(59)>8
triggerall = var(1)=1
triggerall = var(20)>0
triggerall = roundstate = 2
triggerall = power >= 1000
triggerall = random <= var(59)*60
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [60+floor(6*(enemynear(var(58)),vel x)),80+floor(6*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y = [-60-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)),-30-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20))]
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger2 = var(59)>9
trigger2 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
ignorehitpause = 0

;弱Анкоку Райкокэн(暗黒雷光拳)
[State -3,lar]
type = ChangeState
value = 2300
triggerall = (var(59)=[3,6])
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = (power = [3000,3999]) && random <= var(59)*15 || (power = [4000,4999]) && random <= var(59)*30 || (power >= 5000 || var(20)>0) && random <= var(59)*50
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [40,49]
triggerall = enemynear(var(58)),stateno != [5030,5119]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !enemynear(var(58)),ctrl
triggerall = enemynear(var(58)),time >50 || (!time&&var(59)>=8)
triggerall = (enemynear(var(58)),vel y=0)||(enemynear(var(58)),vel y>0 && enemynear(var(58)),vel x<0)
triggerall = p2bodydist x = [70,90]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
ignorehitpause = 0

;強Анкоку Райкокэн(暗黒雷光拳)（対空）
[State -3,har]
type = ChangeState
value = 2301
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = (power = [3000,4999]) && random <= var(59)*30 || (power >= 5000 || p2life <= 250 && power >= 1000) && random <= var(59)*60 || var(20)>0 && random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = !enemynear(var(58)),hitdefattr = SCA,NT,ST,HT
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [50+floor(10*(enemynear(var(58)),vel x)),70+floor(10*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y = [-75-floor(10*(enemynear(var(58)),vel y)+(10*(10+1)/2)*fvar(20)),-55-floor(10*(enemynear(var(58)),vel y)+(10*(10+1)/2)*fvar(20))]
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger2 = var(59)>7
trigger2 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
ignorehitpause = 0

;イナズマレッグラリアート（着地狙い）
[State -3,MAX2ilr]
type = ChangeState
value = 2500
triggerall = var(59)>7
triggerall = var(1)=0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = life > 0
triggerall = (100*life/const(data.life)) <= 30 || life <= 300
triggerall = p2life > 0
triggerall = (power >= 5000 || power >= 3000 && p2life <= 360 || var(20)>0 && power >= 1000) && random <= var(59)*50
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [0,39]
triggerall = enemynear(var(58)),stateno != [98,159]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),ctrl=0
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [-10,30]
triggerall = p2bodydist y = [0-floor(9*(enemynear(var(58)),vel y)+(9*(9+1)/2)*fvar(20)),30-floor(9*(enemynear(var(58)),vel y)+(9*(9+1)/2)*fvar(20))]
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
ignorehitpause = 0

;変身→荒れ狂う稲光のシェルミー
[State -3,Change us]
type = ChangeState
value = 2900
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = var(55)>0
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = life > 0
triggerall = (100*life/const(data.life)) <= 30 || life <= 300
triggerall = p2life > 0
triggerall = (power >= 3000 && p2life <= 110 || var(20)>0 && power >= 1000) && random <= var(59)*50
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = A
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),animtime <= -3 || var(59)<6
triggerall = enemynear(var(58)),time >=30 || (!time&&var(59)>=8) || (var(59)>9)
triggerall = p2bodydist x = [-40+floor(3*(enemynear(var(58)),vel x)),40+floor(3*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y = [-120-floor(3*(enemynear(var(58)),vel y)+(3*(3+1)/2)*fvar(20)),0-floor(3*(enemynear(var(58)),vel y)+(3*(3+1)/2)*fvar(20))]
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = enemynear(var(58)),time >= 50 || var(59)>8
trigger2 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger2 = (prevstateno = [120,159]) || (prevstateno = [5000,5270])
trigger3 = var(59)>7
trigger3 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
ignorehitpause = 0

;MAXシェルミーフラッシュ
[State -3,MAXsf]
type = ChangeState
value = 2050
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = var(55)>0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = life > 0
triggerall = p2life > 0
triggerall = var(44)=1 || var(50)=1 && p2life <= 200
triggerall = (power >= 3000 || var(20) > 0 && power >= 1000) && random <= var(59)*75
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = A
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),hitdefattr = SC, NA, NT, NP, ST, SP, HP
triggerall = !enemynear(var(58)),hitdefattr = SCA,NT,ST,HT
triggerall = enemynear(var(58)),stateno != [40,60]
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = p2bodydist x = [-15+floor(1*(enemynear(var(58)),vel x)),15+floor(1*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger2 = var(59)>7
trigger2 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
ignorehitpause = 0

;MAXシェルミーフラッシュ2
[State -3,MAXsf2]
type = ChangeState
value = 2050
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = var(55)>0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = life > 0
triggerall = p2life > 0
triggerall = var(44)=1 || var(50)=1 && p2life <= 200
triggerall = (power >= 3000 || var(20) > 0 && power >= 1000) && random <= var(59)*80
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = !enemynear(var(58)),hitdefattr = SCA,NT,ST,HT
triggerall = enemynear(var(58)),stateno = [200,649]
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),animtime <= -1
triggerall = p2bodydist x = [-15,15]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger2 = var(59)>7
trigger2 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430]) && movecontact
ignorehitpause = 0

;MAXシェルミーカーニバル
[State -3,MAXscar]
type = ChangeState
value = 2150
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = var(55)>0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = life > 0
triggerall = p2life > 0
triggerall = p2life > 250
triggerall = (power = [4000,4999]) && random <= var(59)*8 || power >= 5000 && random <= var(59)*50 || (var(20)>0 && power >= 1000) && random <= var(59)*80
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = A
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),animtime <= -9 || var(59)<6
triggerall = enemynear(var(58)),time >=30 || (!time&&var(59)>=8) || (var(59)>9)
triggerall = inguarddist
triggerall = p2bodydist x = [-15+floor(9*(enemynear(var(58)),vel x)),15+floor(9*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = enemynear(var(58)),time >= 50 || var(59)>8
trigger2 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger2 = (prevstateno = [120,159]) || (prevstateno = [5000,5270])
trigger3 = var(59)>5
trigger3 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger4 = var(59)>7
trigger4 = ((stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 251 || stateno = 290 || (stateno = [400,430]) || stateno = 706) && movecontact
ignorehitpause = 0

;MAXシェルミーカーニバル（ぶっぱ気味）
[State -3,MAXscar b]
type = ChangeState
value = 2150
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = var(55)=0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = life > 0
triggerall = p2life > 0
triggerall = power >= 5000 || var(20)>0 && power >= 1000
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !enemynear(var(58)),numproj
triggerall = p2bodydist x = [-10,30]
triggerall = p2bodydist y >= 0
triggerall = ctrl || (stateno = [21,22]) || (stateno = [120,149])
trigger1 = enemynear(var(58)),ctrl || enemynear(var(58)),stateno <= 199
trigger1 = random <= (11-(var(59)))*7
trigger2 = enemynear(var(58)),movetype = A
trigger2 = (enemynear(var(58)),stateno = [200,999]) && random <= var(59)*4 || enemynear(var(58)),stateno > 999 && random <= var(59)*5
ignorehitpause = 0

;シェルミーカーニバル
[State -3,scar]
type = ChangeState
value = 2100
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = var(55)>0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = life > 0
triggerall = p2life > 0
triggerall = (power = [3000,3999]) && random <= var(59)*15 || (power = [4000,4999]) && random <= var(59)*30 || (p2life <= 250 && power >= 1000 || power >= 5000 || var(20)>0) && random <= var(59)*75
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = A
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),animtime <= -9 || var(59)<6
triggerall = enemynear(var(58)),time >=30 || (!time&&var(59)>=8) || (var(59)>9)
triggerall = inguarddist
triggerall = p2bodydist x = [-15+floor(9*(enemynear(var(58)),vel x)),15+floor(9*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = enemynear(var(58)),time >= 50 || var(59)>8
trigger2 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger2 = (prevstateno = [120,159]) || (prevstateno = [5000,5270])
trigger3 = var(59)>5
trigger3 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger4 = var(59)>7
trigger4 = ((stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 251 || stateno = 290 || (stateno = [400,430]) || stateno = 706) && movecontact
ignorehitpause = 0

;シェルミーカーニバル（ぶっぱ気味）
[State -3,scar b]
type = ChangeState
value = 2100
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = var(55)=0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = life > 0
triggerall = p2life > 0
triggerall = power >= 4000 || p2life <= 250 && power >= 1000 || var(20)>0
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !enemynear(var(58)),numproj
triggerall = p2bodydist x = [-10,30]
triggerall = p2bodydist y >= 0
triggerall = ctrl || (stateno = [21,22]) || (stateno = [120,149])
trigger1 = enemynear(var(58)),ctrl || enemynear(var(58)),stateno <= 199
trigger1 = random <= (11-(var(59)))*2
trigger2 = enemynear(var(58)),movetype = A
trigger2 = (enemynear(var(58)),stateno = [200,999]) && random <= var(59)*1 || enemynear(var(58)),stateno > 999 && random <= var(59)*3
ignorehitpause = 0

;Якуса но йкацутй(八雷神)
[State -3,yi]
type = ChangeState
value = 1800
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = var(55)>0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = life > 0
triggerall = p2life > 0
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = A
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),hitdefattr = SC, NA, NT, NP, ST, SP, HP
triggerall = !enemynear(var(58)),hitdefattr = SCA,NT,ST,HT
triggerall = enemynear(var(58)),stateno != [40,60]
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = p2bodydist x = [-10+floor(1*(enemynear(var(58)),vel x)),20+floor(1*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = random <= var(59)*55
trigger2 = var(59)>5
trigger2 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger2 = random <= var(59)*75
trigger3 = var(59)>9
trigger3 = ((stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 251 || stateno = 290 || (stateno = [400,430]) || stateno = 706) && movecontact
trigger3 = random <= var(59)*100
ignorehitpause = 0

;Якуса но йкацутй(八雷神)2
[State -3,yi2]
type = ChangeState
value = 1800
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = var(55)>0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = life > 0
triggerall = p2life > 0
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = !enemynear(var(58)),hitdefattr = SCA,NT,ST,HT
triggerall = enemynear(var(58)),stateno = [200,649]
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),animtime <= -1
triggerall = p2bodydist x = [-15,20]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = random <= var(59)*60
trigger2 = var(59)>9
trigger2 = ((stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 251 || stateno = 290 || (stateno = [400,430]) || stateno = 706) && movecontact
trigger2 = random <= var(59)*100
ignorehitpause = 0

;Якуса но йкацутй(八雷神)3
[State -3,yi3]
type = ChangeState
value = 1800
triggerall = var(59)>7
triggerall = var(1)=1
triggerall = var(55)>0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = life > 0
triggerall = (100*life/const(data.life)) <= 75
triggerall = p2life > 0
triggerall = random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = A
triggerall = enemynear(var(58)),stateno != [35,60]
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = enemynear(var(58)),time >=30 || (!time&&var(59)>=8) || (var(59)>9 && p2stateno < 1000)
triggerall = inguarddist || facing = enemynear(var(58)),facing || (p2bodydist x = [0,20])
triggerall = p2bodydist x = [-15,20]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = enemynear(var(58)),time >= 50 || var(59)>9
trigger2 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger2 = enemynear(var(58)),time >= 50 || var(59)>9
trigger2 = (prevstateno = [120,159]) || (prevstateno = [5000,5270])
trigger3 = var(59)>9
trigger3 = ((stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 251 || stateno = 290 || (stateno = [400,430]) || stateno = 706) && movecontact
ignorehitpause = 0

;シェルミースパイラル
[State -3,ss]
type = ChangeState
value = 1150
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = var(55)>0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = A
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),hitdefattr = SC, NA, NT, NP, ST, SP, HP
triggerall = !enemynear(var(58)),hitdefattr = SCA,NT,ST,HT
triggerall = enemynear(var(58)),stateno != [40,60]
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = p2bodydist x = [-10+floor(1*(enemynear(var(58)),vel x)),30+floor(1*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = random <= var(59)*50
trigger2 = var(59)>5
trigger2 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger2 = random <= var(59)*75
trigger3 = var(59)>9
trigger3 = ((stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 251 || stateno = 290 || (stateno = [400,430]) || stateno = 706) && movecontact
trigger3 = random <= var(59)*100
ignorehitpause = 0

;シェルミースパイラル2
[State -3,ss2]
type = ChangeState
value = 1150
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = var(55)>0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = !enemynear(var(58)),hitdefattr = SCA,NT,ST,HT
triggerall = enemynear(var(58)),stateno = [200,649]
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),animtime <= -1
triggerall = p2bodydist x = [-15,30]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = random <= var(59)*60
trigger2 = var(59)>9
trigger2 = ((stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 251 || stateno = 290 || (stateno = [400,430]) || stateno = 706) && movecontact
trigger2 = random <= var(59)*100
ignorehitpause = 0

;シェルミースパイラル3
[State -3,ss3]
type = ChangeState
value = 1150
triggerall = var(59)>7
triggerall = var(1)=0
triggerall = var(55)>0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = A
triggerall = enemynear(var(58)),stateno != [35,60]
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = enemynear(var(58)),time >=30 || (!time&&var(59)>=8) || (var(59)>9 && p2stateno < 1000)
triggerall = inguarddist || facing = enemynear(var(58)),facing || (p2bodydist x = [0,30])
triggerall = p2bodydist x = [-15,30]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = enemynear(var(58)),time >= 50 || var(59)>9
trigger1 = (100*life/const(data.life)) <= 75
trigger2 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger2 = (prevstateno = [120,159]) || (prevstateno = [5000,5270])
trigger2 = (100*life/const(data.life)) <= 75
trigger3 = var(59)>9
trigger3 = ((stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 251 || stateno = 290 || (stateno = [400,430]) || stateno = 706) && movecontact
ignorehitpause = 0

;弱シェルミーキャッチ
[State -3,lscat]
type = ChangeState
value = 1300
triggerall = var(59)>3
triggerall = var(1)=0
triggerall = var(55)>0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = A || enemynear(var(58)),hitdefattr = SC, NA, NT, NP, ST, SP, HP
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [40,60]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),animtime <= -32 || var(59)<6
triggerall = enemynear(var(58)),time >=30 || (!time&&var(59)>=8) || (var(59)>9)
triggerall = p2bodydist x > 60
triggerall = p2bodydist x = [60+floor(32*(enemynear(var(58)),vel x)),90+floor(32*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = random <= var(59)*75
trigger2 = var(59)>5
trigger2 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger2 = random <= var(59)*80
trigger3 = var(59)>9
trigger3 = ((stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 251 || stateno = 290 || (stateno = [400,430]) || stateno = 706) && movecontact
trigger3 = random <= var(59)*100
ignorehitpause = 0

;弱シェルミーキャッチ2
[State -3,lscat2]
type = ChangeState
value = 1300
triggerall = var(59)>5
triggerall = var(1)=0
triggerall = var(55)>0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno = [200,649]
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),animtime <= -32
triggerall = p2bodydist x > 60
triggerall = p2bodydist x = [60+floor(32*(enemynear(var(58)),vel x)),90+floor(32*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = random <= var(59)*50
trigger2 = var(59)>9
trigger2 = ((stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 251 || stateno = 290 || (stateno = [400,430]) || stateno = 706) && movecontact
trigger2 = random <= var(59)*100
ignorehitpause = 0

;弱シェルミーキャッチ3（着地狙い）
[State -3,lscat3]
type = ChangeState
value = 1300
triggerall = var(59)>6
triggerall = var(1)=0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = movetype != H
triggerall = enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I && enemynear(var(58)),movetype != H || var(47)=1
triggerall = enemynear(var(58)),stateno != [0,22]
triggerall = enemynear(var(58)),stateno != [99,159]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),ctrl=0
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = p2bodydist y = [0-floor(31*(enemynear(var(58)),vel y)+(31*(31+1)/2)*fvar(20)),30-floor(31*(enemynear(var(58)),vel y)+(31*(31+1)/2)*fvar(20))]
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = p2bodydist x = [60+floor(31*(enemynear(var(58)),vel x)),90+floor(31*(enemynear(var(58)),vel x))]
trigger1 = random <= var(59)*25
trigger2 = var(59)>5
trigger2 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger2 = p2bodydist x = [50+floor(31*(enemynear(var(58)),vel x)),90+floor(31*(enemynear(var(58)),vel x))]
trigger2 = random <= var(59)*80
trigger3 = var(59)>9
trigger3 = ((stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 251 || stateno = 290 || (stateno = [400,430]) || stateno = 706) && movecontact
trigger3 = p2bodydist x = [50+floor(31*(enemynear(var(58)),vel x)),90+floor(31*(enemynear(var(58)),vel x))]
trigger3 = random <= var(59)*100
ignorehitpause = 0

;強シェルミーキャッチ
[State -3,hscat]
type = ChangeState
value = 1300
triggerall = var(59)>5
triggerall = var(1)=0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = A || enemynear(var(58)),hitdefattr = SC, NA, NT, NP, ST, SP, HP
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [40,60]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = enemynear(var(58)),animtime <= -44 || var(59)<6
triggerall = enemynear(var(58)),time >=30 || (!time&&var(59)>=8) || (var(59)>9)
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist
triggerall = p2bodydist x = [140+floor(44*(enemynear(var(58)),vel x)),170+floor(44*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = random <= var(59)*75
trigger2 = var(59)>5
trigger2 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger2 = random <= var(59)*90
trigger3 = var(59)>9
trigger3 = ((stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 251 || stateno = 290 || (stateno = [400,430]) || stateno = 706) && movecontact
trigger3 = random <= var(59)*100
ignorehitpause = 0

;Fカップチュード
[State -3,Fct]
type = ChangeState
value = 1250
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = var(55)=0
triggerall = roundstate = 2
triggerall = random <= var(59)*40
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != C
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = A
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),hitdefattr = SCA,NA,SA,HA
triggerall = !enemynear(var(58)),hitdefattr = SCA,AT
triggerall = stateno != [120,159]
triggerall = prevstateno != [120,159]
triggerall = prevstateno != 1250
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = inguarddist && !enemynear(var(58)),numproj
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger1 = enemynear(var(58)),statetype = A
trigger1 = p2bodydist x = [15+floor(8*(enemynear(var(58)),vel x)),50+floor(8*(enemynear(var(58)),vel x))]
trigger1 = p2bodydist y = [-50-floor(8*(enemynear(var(58)),vel y)+(8*(8+1)/2)*fvar(20)),-30-floor(8*(enemynear(var(58)),vel y)+(8*(8+1)/2)*fvar(20))]
trigger2 = enemynear(var(58)),statetype != A
trigger2 = p2bodydist x = [10+floor(8*(enemynear(var(58)),vel x)),50+floor(8*(enemynear(var(58)),vel x))]
trigger2 = p2bodydist y >= 0
ignorehitpause = 0

;Fカップチュード2
[State -3,Fct2]
type = ChangeState
value = 1250
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = var(55)>0
triggerall = roundstate = 2
triggerall = random <= var(59)*40
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != C
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
;triggerall = enemynear(var(58)),hitdefattr = SCA,NA,SA,HA
;triggerall = !enemynear(var(58)),hitdefattr = SCA,AT
triggerall = stateno != [120,159]
triggerall = prevstateno != [120,159]
triggerall = prevstateno != 1250
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),time >= 8*(enemynear(var(58)),stateno>999) && !enemynear(var(58)),hitdefattr = CA,SA,HA,ST,HT && (enemynear(var(58)),ctrl || enemynear(var(58)),stateno != [5100,5270])
triggerall = numhelper(10000+id) > 0 && numhelper(11000+id) > 0 && numhelper(11005+id) 
triggerall = helper(10000+id),var(39) <= 0 && enemynear(var(58)),movetype = A && enemynear(var(58)),stateno > 199 && (enemynear(var(58)),time >= 14*(10-var(59)) || var(59)>9)
triggerall = !enemynear(var(58)),numproj
triggerall = p2dist x > 0
triggerall = !enemynear(var(58)),vel y && enemynear(var(58)),pos y >= 0 && (enemynear(var(58)),animtime < -18 || var(58)<8 && enemynear(var(58)),animtime = [-8-random%10,-4+2*(10-var(59))])
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger1 = p2bodydist x+floor(8*(enemynear(var(58)),vel x))*(enemynear(var(58)),facing)*ifelse((enemynear(var(58)),pos x-pos x)>=0,1,-1)*(enemynear(var(58)),statetype=A) = [-5*(0+10-ifelse(var(59)>9,10,var(59))),5*(15+10-ifelse(var(59)>9,10,var(59)))]
trigger2 = (enemynear(var(58)),backedgebodydist <= 35-enemynear(var(58)),const(size.ground.back) || enemynear(var(58)),frontedgebodydist <= 35-enemynear(var(58)),const(size.ground.front) ) && p2bodydist x = [-35,5*(15+10-ifelse(var(59)>9,10,var(59)))]
ignorehitpause = 0

;Fカップチュード3
[State -3,Fct3]
type = ChangeState
value = 1250
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = var(55)>0
triggerall = roundstate = 2
triggerall = life > 0
triggerall = p2life > 0
triggerall = random <= var(59)*50
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != C
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
;triggerall = enemynear(var(58)),hitdefattr = SCA,NA,SA,HA
triggerall = !enemynear(var(58)),hitdefattr = SCA,AT
triggerall = stateno != [120,159]
triggerall = prevstateno != [120,159]
triggerall = prevstateno != 1250
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),time >= 8*(enemynear(var(58)),stateno>999) && (enemynear(var(58)),ctrl || enemynear(var(58)),stateno != [5100,5270])
triggerall = (enemynear(var(58)),animtime < -12 || var(59)<10 && enemynear(var(58)),animtime = [-8-random%10,-4+2*(9-var(59))])
triggerall = numhelper(10000+id) > 0
triggerall = helper(10000+id),var(39) <= 0 && enemynear(var(58)),movetype = A && enemynear(var(58)),stateno > 199 && (enemynear(var(58)),time >= 8*(10-var(59)) || var(59)>9) && enemynear(var(58)),hitdefattr = SCA,NA,SA,HA
triggerall = !enemynear(var(58)),numproj
triggerall = !enemynear(var(58)),vel y && enemynear(var(58)),pos y >= 0 || enemynear(var(58)),pos y < 0 && var(59)>2 && enemynear(var(58)),vel y && p2dist y+floor(3*(enemynear(var(58)),vel y)+(3*(3+1)/2)*fvar(20)) >= 5*(0+10-ifelse(var(59)>9,10,var(59)))
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger1 = p2bodydist x+floor(8*(enemynear(var(58)),vel x))*(enemynear(var(58)),facing)*ifelse((enemynear(var(58)),pos x-pos x)>=0,1,-1)*(enemynear(var(58)),statetype=A) = [-5*(0+10-ifelse(var(59)>9,10,var(59))),5*(15+10-ifelse(var(59)>9,10,var(59)))]
trigger2 = (enemynear(var(58)),backedgebodydist <= 35-enemynear(var(58)),const(size.ground.back) || enemynear(var(58)),frontedgebodydist <= 35-enemynear(var(58)),const(size.ground.front) ) && p2bodydist x = [-35,5*(15+10-ifelse(var(59)>9,10,var(59)))]
ignorehitpause = 0

;Такэру Мйкажутй(建御雷)
[State -3,tm]
type = ChangeState
value = 1700
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [0,39]
triggerall = enemynear(var(58)),stateno != [98,100]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
;対空
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = p2bodydist x = [-40+floor(15*(enemynear(var(58)),vel x)),10+floor(15*(enemynear(var(58)),vel x))]
trigger1 = p2bodydist y = [-180-floor(15*(enemynear(var(58)),vel y)+(15*(15+1)/2)*fvar(20)),-70-floor(15*(enemynear(var(58)),vel y)+(15*(15+1)/2)*fvar(20))]
trigger1 = random <= var(59)*50
trigger2 = var(59)>7
trigger2 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger2 = p2bodydist x = [-40+floor(15*(enemynear(var(58)),vel x)),10+floor(15*(enemynear(var(58)),vel x))]
trigger2 = p2bodydist y = [-180-floor(15*(enemynear(var(58)),vel y)+(15*(15+1)/2)*fvar(20)),-70-floor(15*(enemynear(var(58)),vel y)+(15*(15+1)/2)*fvar(20))]
trigger2 = random <= var(59)*80
;着地狙い
trigger3 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger3 = p2bodydist x = [-15,10]
trigger3 = p2bodydist y = [0-floor(15*(enemynear(var(58)),vel y)+(15*(15+1)/2)*fvar(20)),30-floor(15*(enemynear(var(58)),vel y)+(15*(15+1)/2)*fvar(20))]
trigger3 = random <= var(59)*25
ignorehitpause = 0

;弱シェルミークラッチ
[State -3,lsclu]
type = ChangeState
value = 1200
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H || var(46)=1
triggerall = enemynear(var(58)),stateno != [0,39]
triggerall = enemynear(var(58)),stateno != [98,100]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [0+floor(12*(enemynear(var(58)),vel x)),40+floor(12*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y = [-60-floor(12*(enemynear(var(58)),vel y)+(12*(12+1)/2)*fvar(20)),-30-floor(12*(enemynear(var(58)),vel y)+(12*(12+1)/2)*fvar(20))]
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = random <= var(59)*50
trigger2 = var(59)>7
trigger2 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger2 = random <= var(59)*80
ignorehitpause = 0

;強シェルミークラッチ
[State -3,hsclu]
type = ChangeState
value = 1201
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H || var(46)=1
triggerall = enemynear(var(58)),stateno != [0,39]
triggerall = enemynear(var(58)),stateno != [98,100]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [20+floor(15*(enemynear(var(58)),vel x)),50+floor(15*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y = [-70-floor(15*(enemynear(var(58)),vel y)+(15*(15+1)/2)*fvar(20)),-40-floor(15*(enemynear(var(58)),vel y)+(15*(15+1)/2)*fvar(20))]
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = random <= var(59)*60
trigger2 = var(59)>7
trigger2 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger2 = random <= var(59)*80
ignorehitpause = 0

;シェルミーホイップ
[State -3,sw]
type = ChangeState
value = 1100
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H || var(46)=1
triggerall = enemynear(var(58)),stateno != [0,39]
triggerall = enemynear(var(58)),stateno != [98,100]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [-10+floor(7*(enemynear(var(58)),vel x)),35+floor(7*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y = [-50-floor(7*(enemynear(var(58)),vel y)+(7*(7+1)/2)*fvar(20)),-11-floor(7*(enemynear(var(58)),vel y)+(7*(7+1)/2)*fvar(20))]
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = random <= var(59)*45
trigger2 = var(59)>7
trigger2 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger2 = random <= var(59)*80
ignorehitpause = 0

;後小ジャンプ
[State -3,sbJ]
type = ChangeState
value = 44
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= var(59)*40
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [0,39]
triggerall = enemynear(var(58)),stateno != [98,100]
triggerall = enemynear(var(58)),stateno = [0,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = backedgebodydist > 90
triggerall = p2bodydist x = [-40+floor(20*(enemynear(var(58)),vel x)),0+floor(20*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y = [-100-floor(20*(enemynear(var(58)),vel y)+(20*(20+1)/2)*fvar(20)),-80-floor(20*(enemynear(var(58)),vel y)+(20*(20+1)/2)*fvar(20))]
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [120,149])
ignorehitpause = 0

;空中ふっ飛ばし攻撃
[State -3,jf]
type = ChangeState
value = 690
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= var(59)*100
triggerall = statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = stateno = 50 && vel x < 0
triggerall = stateno != 106
triggerall = !inguarddist && !enemynear(var(58)),numproj
trigger1 = ctrl || (stateno = [120,149])
ignorehitpause = 0

;近距離立ち強パンチ
[State -3,hp]
type = ChangeState
value = 215
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= var(59)*50
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [0,39]
triggerall = enemynear(var(58)),stateno != [98,100]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2dist x <=70
triggerall = p2bodydist x = [-10,20]
triggerall = p2bodydist y = [-40-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)),-11-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20))]
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
ignorehitpause = 0

;しゃがみ強パンチ
[State -3,chp]
type = ChangeState
value = 410
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [0,39]
triggerall = enemynear(var(58)),stateno != [98,159]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = p2bodydist x = [0+floor(7*(enemynear(var(58)),vel x)),15+floor(7*(enemynear(var(58)),vel x))]
trigger1 = p2bodydist y = [-40-floor(7*(enemynear(var(58)),vel y)+(7*(7+1)/2)*fvar(20)),-9-floor(7*(enemynear(var(58)),vel y)+(7*(7+1)/2)*fvar(20))]
trigger1 = random <= var(59)*50
trigger2 = p2bodydist x = [10+floor(12*(enemynear(var(58)),vel x)),20+floor(12*(enemynear(var(58)),vel x))]
trigger2 = p2bodydist y = [-60-floor(12*(enemynear(var(58)),vel y)+(12*(12+1)/2)*fvar(20)),-50-floor(12*(enemynear(var(58)),vel y)+(12*(12+1)/2)*fvar(20))]
trigger2 = random <= var(59)*30
;着地狙い
trigger3 = p2bodydist x = [-10,15]
trigger3 = p2bodydist y = [0-floor(7*(enemynear(var(58)),vel y)+(7*(7+1)/2)*fvar(20)),30-floor(7*(enemynear(var(58)),vel y)+(7*(7+1)/2)*fvar(20))]
trigger3 = random <= var(59)*40
ignorehitpause = 0

;しゃがみ弱パンチ（着地狙い）
[State -3,clp]
type = ChangeState
value = 400
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= var(59)*50
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [0,39]
triggerall = enemynear(var(58)),stateno != [98,100]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [-10,15]
triggerall = p2bodydist y = [0-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)),30-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20))]
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
ignorehitpause = 0

;立ち弱キック（着地狙い）
[State -3,lk]
type = ChangeState
value = Ifelse(p2dist x <=50,235,230)
triggerall = var(59)>0
triggerall = var(44)=0
triggerall = roundstate = 2
triggerall = random <= var(59)*50
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [0,39]
triggerall = enemynear(var(58)),stateno != [98,100]
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [-10,30]
triggerall = p2bodydist y = [0-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)),30-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20))]
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
ignorehitpause = 0

;攻撃避け
[State -3,ak]
type = ChangeState
value = 705
triggerall = var(59)>3
triggerall = roundstate = 2
triggerall = random <= var(59)*60+40*((100*life/lifemax)<=30)
triggerall = numhelper(10000+id) > 0
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = A
triggerall = !enemynear(var(58)),hitdefattr = SCA,AT
triggerall = enemynear(var(58)),stateno > 199
triggerall = (enemynear(var(58)),stateno != [5100,5270]) || enemynear(var(58)),ctrl
triggerall = enemynear(var(58)),time >= 6*(enemynear(var(58)),stateno > 999) && (enemynear(var(58)),time >= 10*(10-var(59)) || var(59)>8)
triggerall = p2dist x > 0
triggerall = enemynear(var(58)),facing*(pos x-enemynear(var(58)),pos x) >= 0
triggerall = !enemynear(var(58)),vel y && enemynear(var(58)),pos y >= 0 && (enemynear(var(58)),animtime < -38 || var(59)<8 && enemynear(var(58)),animtime = [-38-random%10,-38+2*(9-var(59))])
triggerall = enemynear(var(58)),animtime > -44-(10-ifelse(var(59)>9,10,var(59)))&&(enemynear(var(58)),hitdefattr = SCA,AA||helper(10000+id),var(39)>0)||p2dist x < 5*(44+10-ifelse(var(59)>9,10,var(59)))&&enemynear(var(58)),backedgebodydist > 0
triggerall = p2bodydist x+floor(38*(enemynear(var(58)),vel x))*(enemynear(var(58)),facing)*ifelse((enemynear(var(58)),pos x-pos x)>=0,1,-1) = [-70,5*(30+10-ifelse(var(59)>9,10,var(59)))]
trigger1 = ctrl || (stateno = [10,12]) || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
ignorehitpause = 0

;攻撃避け（飛び道具用）
[State -3,ak]
type = ChangeState
value = 705
triggerall = var(59)>4
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = !enemynear(var(58)),hitdefattr = SCA,AT
triggerall = prevstateno != [700,710]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = numhelper(10000+id) > 0 && inguarddist && enemynear(var(58)),pos y >= 0 && !enemynear(var(58)),vel y
trigger1 = helper(10000+id),var(39) <= 0 || helper(10000+id),var(37) > 0
trigger1 = helper(10000+id),inguarddist || (time > 3 && stateno = [130,139])
trigger1 = p2bodydist x > 160
trigger1 = random <= (var(59))*25
trigger2 = numhelper(10000+id) && time > 60 && stateno = [130,139]
trigger2 = helper(10000+id),inguarddist
trigger2 = random <= (var(59))*30
ignorehitpause = 0

;避け攻撃
[State -3,aka]
type = ChangeState
value = 706
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= var(59)*100
triggerall=  statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),animtime <= -15
triggerall = !enemynear(var(58)),ctrl
triggerall = !enemynear(var(58)),numproj
triggerall = p2bodydist x = [-10+floor(15*(enemynear(var(58)),vel x)),50+floor(15*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y = [-30-floor(15*(enemynear(var(58)),vel y)+(15*(15+1)/2)*fvar(20)),0-floor(15*(enemynear(var(58)),vel y)+(15*(15+1)/2)*fvar(20))]
trigger1 = stateno = 705 && animelem = 4,>=0 && animelem = 5,<0
ignorehitpause = 0

;緊急回避前
[State -3,kkm]
type = ChangeState
value = 700
triggerall = var(59)>5
triggerall = var(55)>0
triggerall = roundstate = 2
triggerall = random <= var(59)*50+50*((100*life/lifemax)<=30)
triggerall = numhelper(10000+id) > 0
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = A
triggerall = !enemynear(var(58)),hitdefattr = SCA,AT
triggerall = enemynear(var(58)),stateno > 199
triggerall = (enemynear(var(58)),stateno != [5100,5270]) || enemynear(var(58)),ctrl
triggerall = enemynear(var(58)),time >= 6*(enemynear(var(58)),stateno > 999) && (enemynear(var(58)),time >= 10*(10-var(59)) || var(59)>8)
triggerall = p2dist x > 0
triggerall = enemynear(var(58)),facing*(pos x-enemynear(var(58)),pos x) >= 0
triggerall = !enemynear(var(58)),vel y && enemynear(var(58)),pos y >= 0 && (enemynear(var(58)),animtime < -34 || var(59)<8 && enemynear(var(58)),animtime = [-34-random%10,-34+2*(9-var(59))])
triggerall = enemynear(var(58)),animtime > -40-(10-ifelse(var(59)>9,10,var(59)))&&(enemynear(var(58)),hitdefattr = SCA,AA||helper(10000+id),var(39)>0)||p2dist x < 5*(40+10-ifelse(var(59)>9,10,var(59)))&&enemynear(var(58)),backedgebodydist > 0
triggerall = p2bodydist x+floor(34*(enemynear(var(58)),vel x))*(enemynear(var(58)),facing)*ifelse((enemynear(var(58)),pos x-pos x)>=0,1,-1) = [-70,5*(30+10-ifelse(var(59)>9,10,var(59)))]
trigger1 = ctrl || (stateno = [10,12]) || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
ignorehitpause = 0

;緊急回避前2
[State -3,kkm2]
type = ChangeState
value = 700
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = !enemynear(var(58)),hitdefattr = SCA,AT
triggerall = prevstateno != [700,710]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = enemynear(var(58)),statetype != A || enemynear(var(58)),statetype = A  && enemynear(var(58)),stateno >=1000
trigger1 = enemynear(var(58)),movetype = A
trigger1 = enemynear(var(58)),animtime <= -40
trigger1 = inguarddist
trigger1 = p2bodydist x = [-10,90]
trigger1 = (100*life/const(data.life)) > 50 && random <= (var(59))*30 || (100*life/const(data.life)) <= 50 && random <= (var(59))*50 || var(59)>9 && backedgebodydist >= 30
trigger2 = enemynear(var(58)),animtime <= -34
trigger2 = enemynear(var(58)),ctrl=0
trigger2 = enemynear(var(58)),numproj
trigger2 = p2bodydist x = [30,100]
trigger2 = random <= (var(59))*18
trigger3 = numhelper(10000+id) > 0 && inguarddist && enemynear(var(58)),pos y >= 0 && !enemynear(var(58)),vel y
trigger3 = helper(10000+id),var(39) <= 0 || helper(10000+id),var(37) > 0
trigger3 = helper(10000+id),inguarddist || (time > 3 && stateno = [130,139])
trigger3 = p2bodydist x > 160
trigger3 = random <= (var(59))*22
trigger4 = numhelper(10000+id) && time > 60 && stateno = [130,139]
trigger4 = helper(10000+id),inguarddist
trigger4 = random <= (var(59))*27
ignorehitpause = 0

;緊急回避前（めくり対策）
[State -3,kkm3]
type = ChangeState
value = 700
triggerall = var(59)>4
triggerall = var(55)>0
triggerall = roundstate = 2
triggerall = random <= (var(59))*30
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = !enemynear(var(58)),hitdefattr = SCA,AT
triggerall = enemynear(var(58)),stateno = [0,999]
triggerall = enemynear(var(58)),stateno != [5100,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = p2dist x > 0
triggerall = p2bodydist x <= -15
triggerall = p2dist y < -15*(2+8-ifelse(var(59)>8,8,var(59)))
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = (enemynear(var(58)),movetype = I || enemynear(var(58)),movetype = A && enemynear(var(58)),time >= 10*(10-var(59))) && enemynear(var(58)),vel x*ifelse(enemynear(var(58)),facing*(pos x - enemynear(var(58)),pos x)>=0,1,-1) > 0
ignorehitpause = 0

;後緊急回避
[State -3,kku]
type = ChangeState
value = 701
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = var(1)=0 && random <= (var(59))*1 || var(1)=1 && random <= (var(59))*2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = !enemynear(var(58)),hitdefattr = SCA,AT
triggerall = prevstateno != [700,710]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !enemynear(var(58)),numproj
triggerall = backedgebodydist >= 90
triggerall = p2bodydist y >= 0
triggerall = ctrl || (stateno = [21,22]) || (stateno = [120,149])
trigger1 = life >=(enemynear(var(58)),life)
trigger1 = !inguarddist
trigger1 = p2bodydist x = [-10,50]
trigger2 = enemynear(var(58)),animtime > -34
trigger2 = inguarddist
trigger2 = p2bodydist x = [-10,50]
ignorehitpause = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;ガード 
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;ガード
[State -3,g]
type = ChangeState
value = 120
triggerall = var(59)>0
triggerall = alive
triggerall = roundstate < 3
triggerall = numenemy >= 2
triggerall = enemy(0),life > 0 && enemy(1),life > 0; && var(43)%100 > 0
triggerall = stateno != [120,159]
triggerall = ctrl || stateno = 0 || (stateno = [10,11]) || (stateno = [19,22]) || (stateno = [98,101])
trigger1 = inguarddist && (enemynear(0),movetype = A && enemynear(0),hitdefattr = SCA, NA, SA, HA || enemynear(1),movetype = A && enemynear(1),hitdefattr = SCA, NA, SA, HA)
trigger1 = random <= (var(59))*60 || var(59)>8
trigger2 = numhelper(10000+id)
trigger2 = inguarddist && (helper(10000+id),var(39) > 0 || helper(10000+id),var(37) > 0)
trigger2 = random <= (var(59))*60 || var(59)>8
trigger3 = numhelper(10000+id)
trigger3 = helper(10000+id),inguarddist && !enemynear(var(58)),hitdefattr = SCA, NT, ST, HT
trigger3 = random <= (var(59))*75 || var(59)>8
ignorehitpause = 0

;ガード2
[State -3,g2]
type = ChangeState
value = 120
triggerall = var(59)>0
triggerall = alive
triggerall = stateno != [120,159]
triggerall = ctrl || stateno = 0 || (stateno = [10,11]) || (stateno = [19,22]) || (stateno = [98,101])
trigger1 = inguarddist && facing*(enemynear(var(58)),pos x - pos x) > 0 && enemynear(var(58)),movetype = A && enemynear(var(58)),hitdefattr = SCA, NA, SA, HA
trigger1 = random <= (var(59))*60 || var(59)>8
trigger2 = numhelper(10000+id)
trigger2 = inguarddist && (helper(10000+id),var(39) > 0 || helper(10000+id),var(37) > 0)
trigger2 = random <= (var(59))*60 || var(59)>8
trigger3 = numhelper(10000+id)
trigger3 = helper(10000+id),inguarddist && !enemynear(var(58)),hitdefattr = SCA, NT, ST, HT
trigger3 = random <= (var(59))*75 || var(59)>8
ignorehitpause = 0

;ガードキャンセル緊急回避前
[State -3,700]
type = ChangeState
value = 700
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = power >= 1000
triggerall = backedgebodydist > 30 && random<=var(59)*9 || backedgebodydist <= 30 && random<=var(59)*30
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = A
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [0,110]
triggerall = enemynear(var(58)),animtime <= -34
triggerall = enemynear(var(58)),time >= 10*(10-var(59))
triggerall = p2bodydist x > 100 || (p2stateno = [3000,3999]) || p2bodydist x > 50 && p2stateno = [0,999]
triggerall = p2bodydist x = [-15,105]
triggerall = p2bodydist y >= 0
trigger1 = stateno = [150,151]

;ガードキャンセルふっ飛ばし攻撃
[State -3,gcf]
type = ChangeState
value = 291
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = power >= 1000
triggerall = random<=var(59)*1 || backedgebodydist <= 30 && random<=var(59)*12
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = A
triggerall = enemynear(var(58)),movetype != H
triggerall = (enemynear(var(58)),stateno = [0,999]) || (enemynear(var(58)),stateno = [3000,3999])
triggerall = enemynear(var(58)),stateno <= 2999 || enemynear(var(58)),stateno >= 3000 && enemynear(var(58)),time >= 44
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = var(1)=0 && enemynear(var(58)),animtime <= -5 || var(1)=1 && enemynear(var(58)),animtime <= -6
triggerall = enemynear(var(58)),time >= 10*(10-var(59))
triggerall = enemynear(var(58)),ctrl=0
triggerall = p2bodydist x = [-15,40]
triggerall = p2bodydist y >= -50 && enemynear(var(58)),vel y >= 0
trigger1 = stateno = [150,151]

;ダウン回避
[State -3,dk]
type = ChangeState
value = 702
triggerall = var(59)>0
triggerall = !var(40) && canrecover || var(40)=1
triggerall = alive=1
triggerall = roundstate = 2
triggerall = random <= (var(59))*80 || var(59)>9
triggerall = !(enemynear(var(58)),stateno = 1405 && enemynear(var(58)),name = "Shermie" && enemynear(var(58)),authorname = "Ahuron")
triggerall = pos y >=-40
triggerall = vel y > 0
trigger1 = stateno = 5050

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;起き攻め 
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;Уммэй но Я(運命の矢) X
[State -3,uyX]
type = ChangeState
value = 2600
triggerall = var(59)>7
triggerall = var(1)=1
triggerall = var(45)>=1
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = ((100*life/const(data.life)) <= 30 || life <= 300) && p2life > 600 || life <= 120 && p2life > 500
triggerall = (power = [3000,4999]) && random <= var(59)*25 || (power >= 5000 || var(20)>0 && power >= 1000) && random <= var(59)*50
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),stateno = 5120 && enemynear(var(58)),animtime = -18
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [50,80]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || stateno = 0 || (stateno = [21,22]) || (stateno = [99,101])
ignorehitpause = 0

;Уммэй но Я(運命の矢) A
[State -3,uyA]
type = ChangeState
value = 2601
triggerall = var(59)>7
triggerall = var(1)=1
triggerall = var(45)>=1
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = ((100*life/const(data.life)) <= 30 || life <= 300) && p2life > 600 || life <= 120 && p2life > 500
triggerall = (power = [3000,4999]) && random <= var(59)*40 || (power >= 5000 || var(20)>0 && power >= 1000) && random <= var(59)*50
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),stateno = 5120 && enemynear(var(58)),animtime = -22
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [90,120]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || stateno = 0 || (stateno = [21,22]) || (stateno = [99,101])
ignorehitpause = 0

;Уммэй но Я(運命の矢) Y
[State -3,uyY]
type = ChangeState
value = 2601
triggerall = var(59)>7
triggerall = var(1)=1
triggerall = var(45)>=1
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = ((100*life/const(data.life)) <= 30 || life <= 300) && p2life > 600 || life <= 120 && p2life > 500
triggerall = (power = [3000,4999]) && random <= var(59)*30 || (power >= 5000 || var(20)>0 && power >= 1000) && random <= var(59)*55
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),stateno = 5120 && enemynear(var(58)),animtime = -24
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [130,160]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || stateno = 0 || (stateno = [21,22]) || (stateno = [99,101])
ignorehitpause = 0

;Уммэй но Я(運命の矢) B
[State -3,uyB]
type = ChangeState
value = 2601
triggerall = var(59)>7
triggerall = var(1)=1
triggerall = var(45)>=1
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = ((100*life/const(data.life)) <= 30 || life <= 300) && p2life > 600 || life <= 120 && p2life > 500
triggerall = (power = [3000,4999]) && random <= var(59)*30 || (power >= 5000 || var(20)>0 && power >= 1000) && random <= var(59)*60
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),stateno = 5120 && enemynear(var(58)),animtime = -24
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [180,210]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || stateno = 0 || (stateno = [21,22]) || (stateno = [99,101])
ignorehitpause = 0

;Мугэцу но Райун(無月の雷雲) X
[State -3,mrX]
type = ChangeState
value = 1650
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = var(45)>=1
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = random <= var(59)*80
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),stateno = 5120 && enemynear(var(58)),animtime = -22
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [0,80]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || stateno = 0 || (stateno = [21,22]) || (stateno = [99,101])
ignorehitpause = 0

;Мугэцу но Райун(無月の雷雲) A
[State -3,mrA]
type = ChangeState
value = 1651
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = var(45)>=1
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [90,130]
triggerall = p2bodydist y >= 0
triggerall = ctrl || stateno = 0 || (stateno = [21,22]) || (stateno = [99,101])
trigger1 = enemynear(var(58)),stateno = 5120
trigger1 = random <= var(59)*15
trigger2 = enemynear(var(58)),stateno = 5120 && enemynear(var(58)),animtime <= -30
trigger2 = random <= var(59)*40
ignorehitpause = 0

;Мугэцу но Райун(無月の雷雲) Y
[State -3,mrY]
type = ChangeState
value = 1652
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [140,180]
triggerall = p2bodydist y >= 0
triggerall = ctrl || stateno = 0 || (stateno = [21,22]) || (stateno = [99,101])
trigger1 = var(45)>=1
trigger1 = enemynear(var(58)),stateno = 5120
trigger1 = random <= var(59)*20
trigger2 = var(45)>=1
trigger2 = enemynear(var(58)),stateno = 5120 && enemynear(var(58)),animtime <= -30
trigger2 = random <= var(59)*30
trigger3 = enemynear(var(58)),statetype = L
trigger3 = enemynear(var(58)),stateno != 5120
trigger3 = random <= var(59)*8
ignorehitpause = 0

;Мугэцу но Райун(無月の雷雲) B
[State -3,mrB]
type = ChangeState
value = 1653
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [190,300]
triggerall = p2bodydist y >= 0
triggerall = ctrl || stateno = 0 || (stateno = [21,22]) || (stateno = [99,101])
trigger1 = var(45)>=1
trigger1 = enemynear(var(58)),stateno = 5120
trigger1 = random <= var(59)*20
trigger2 = var(45)>=1
trigger2 = enemynear(var(58)),stateno = 5120 && enemynear(var(58)),animtime <= -30
trigger2 = random <= var(59)*30
trigger3 = enemynear(var(58)),statetype = L
trigger3 = enemynear(var(58)),stateno != 5120
trigger3 = random <= var(59)*30
ignorehitpause = 0

;Хонойкажутй(火雷)
[State -3,hi]
type = ChangeState
value = 1750
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = var(45)>=1
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = (100*life/const(data.life)) > 75
triggerall = random <= var(59)*30
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),stateno = 5120 && enemynear(var(58)),animtime <= -30
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [50,70]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || stateno = 0 || (stateno = [21,22]) || (stateno = [99,101])
ignorehitpause = 0

;Такэру Мйкажутй(建御雷)
[State -3,tm]
type = ChangeState
value = 1700
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),stateno = 5120 && enemynear(var(58)),animtime = -10
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [-10,30]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || stateno = 0 || (stateno = [21,22]) || (stateno = [99,101])
ignorehitpause = 0

;シェルミースタンド/КОУРАИ(降雷)
[State -3,6a]
type = ChangeState
value = 250
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= (var(59))*40
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),stateno = 5120 && enemynear(var(58)),animtime = -13
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [31,70]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || stateno = 0 || (stateno = [21,22]) || (stateno = [99,101])
ignorehitpause = 0

;ЖИНРАЙ(迅雷)
[State -3,6x]
type = ChangeState
value = 270
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),stateno = 5120
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist y >= 0
triggerall = ctrl || stateno = 0 || (stateno = [21,22]) || (stateno = [99,101])
trigger1 = enemynear(var(58)),animtime = -13
trigger1 = p2bodydist x = [60,80]
trigger1 = random <= (var(59))*30
trigger2 = enemynear(var(58)),animtime = -16
trigger2 = p2bodydist x = [60,90]
trigger2 = random <= (var(59))*40
ignorehitpause = 0

;しゃがみ弱キック
[State -3,clk]
type = ChangeState
value = 430
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= (var(59))*60
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),stateno = 5120 && enemynear(var(58)),animtime = -5
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [-10,45]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101])
ignorehitpause = 0

;雷神の杖用垂直ジャンプ
[State -3,rtj2]
type = ChangeState
value = 48
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = random <= (var(59))*1
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),stateno = 5120
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = backedgebodydist > 60
triggerall = p2bodydist x = [40,60]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22])
ignorehitpause = 0

;雷神の杖用後ジャンプ
[State -3,rtj3]
type = ChangeState
value = 49
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = random <= (var(59))*2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),stateno = 5120
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = backedgebodydist > 60
triggerall = p2bodydist x = [50,70]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22])
ignorehitpause = 0

;小ジャンプ
[State -3,sj]
type = ChangeState
value = 42
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= (var(59))*80
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),stateno = 5120 && enemynear(var(58)),animtime = -17
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x <= 90
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22])
ignorehitpause = 0

;ジャンプ強パンチ
[State -3,jhp]
type = ChangeState
value = 610
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype = A
triggerall = enemynear(var(58)),stateno = 5120 && enemynear(var(58)),animtime = -3
triggerall = p2bodydist x <= 60
trigger1 = ctrl || (stateno = [120,149])
ignorehitpause = 0

;しゃがみ強キック
[State -3,chk]
type = ChangeState
value = 440
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= (var(59))*30
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),stateno = 5120 && enemynear(var(58)),animtime = -16
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [31,55]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101])
ignorehitpause = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;コンボ1発目
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;近距離立ち強パンチ
[State -3,hp]
type = ChangeState
value = 215
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = p2dist x <=70
trigger1 = !var(44)
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = enemynear(var(58)),statetype = S && enemynear(var(58)),const(size.head.pos.y)+10 <= -60 || var(45)>0 && enemynear(var(58)),statetype != A
trigger1 = enemynear(var(58)),movetype = I && enemynear(var(58)),movetype != H
trigger1 = (enemynear(var(58)),stateno = [200,649]) && enemynear(var(58)),animtime <= -6
trigger1 = !inguarddist && !enemynear(var(58)),numproj
trigger1 = p2bodydist x = [-15,30]
trigger1 = p2bodydist y >= 0
trigger2 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger2 = enemynear(var(58)),statetype = S && enemynear(var(58)),const(size.head.pos.y)+10 <= -60 || var(45)>0 && enemynear(var(58)),statetype != A
trigger2 = enemynear(var(58)),movetype = H && (enemynear(var(58)),stateno != [120,159])
trigger2 = p2bodydist x = [-15,15]
trigger2 = p2bodydist y >= 0
trigger3 = var(46)=1
trigger3 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger3 = enemynear(var(58)),statetype = A
trigger3 = enemynear(var(58)),stateno != [0,39]
trigger3 = enemynear(var(58)),stateno != [98,100]
trigger3 = !inguarddist && !enemynear(var(58)),numproj
trigger3 = p2bodydist x = [-10,30]
trigger3 = p2bodydist y = [-40,-11]
trigger4 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger4 = enemynear(var(58)),statetype = A
trigger4 = enemynear(var(58)),movetype = I && enemynear(var(58)),movetype != H
trigger4 = enemynear(var(58)),stateno != [0,39]
trigger4 = enemynear(var(58)),stateno != [98,100]
trigger4 = enemynear(var(58)),animtime <= -6
trigger4 = !enemynear(var(58)),ctrl
trigger4 = !inguarddist && !enemynear(var(58)),numproj
trigger4 = p2bodydist x = [-10,30]
trigger4 = p2bodydist y = [-40,-11]
trigger5 = stateno = 98 && time >=4
trigger5 = enemynear(var(58)),statetype = S && enemynear(var(58)),const(size.head.pos.y)+10 <= -60 || var(45)>0 && enemynear(var(58)),statetype != A
trigger5 = enemynear(var(58)),movetype = H
trigger5 = enemynear(var(58)),stateno = 1320
trigger5 = p2bodydist x = [-30,10]
trigger5 = p2bodydist y >= 0
ignorehitpause = 0

;しゃがみ強パンチ
[State -3,chp]
type = ChangeState
value = 410
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = enemynear(var(58)),statetype != A && enemynear(var(58)),movetype = I && enemynear(var(58)),movetype != H
trigger1 = (enemynear(var(58)),stateno = [200,649]) && enemynear(var(58)),animtime <= -7
trigger1 = !inguarddist && !enemynear(var(58)),numproj
trigger1 = p2bodydist x = [-15,15]
trigger1 = p2bodydist y >= 0
trigger1 = random <= (var(59))*100
trigger2 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger2 = enemynear(var(58)),statetype != A
trigger2 = enemynear(var(58)),movetype = H && (enemynear(var(58)),stateno != [120,159])
trigger2 = p2bodydist x = [-15,9]
trigger2 = p2bodydist y >= 0
trigger2 = random <= (var(59))*100
trigger3 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger3 = enemynear(var(58)),statetype = A && enemynear(var(58)),movetype = I && enemynear(var(58)),movetype != H
trigger3 = enemynear(var(58)),stateno != [0,39]
trigger3 = enemynear(var(58)),stateno != [98,100]
trigger3 = enemynear(var(58)),animtime <= -7
trigger3 = !enemynear(var(58)),ctrl
trigger3 = !inguarddist && !enemynear(var(58)),numproj
trigger3 = p2bodydist x = [-10,20]
trigger3 = p2bodydist y = [-30,-11]
trigger3 = random <= (var(59))*100
trigger4 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger4 = enemynear(var(58)),statetype = A && enemynear(var(58)),movetype = I && enemynear(var(58)),movetype != H
trigger4 = enemynear(var(58)),stateno != [0,39]
trigger4 = enemynear(var(58)),stateno != [98,100]
trigger4 = enemynear(var(58)),animtime <= -12
trigger4 = !enemynear(var(58)),ctrl
trigger4 = !inguarddist && !enemynear(var(58)),numproj
trigger4 = p2bodydist x = [-10,25]
trigger4 = p2bodydist y = [-60,-31]
trigger4 = random <= (var(59))*100
trigger5 = var(46)=1
trigger5 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger5 = enemynear(var(58)),statetype = A
trigger5 = enemynear(var(58)),stateno != [0,39]
trigger5 = enemynear(var(58)),stateno != [98,100]
trigger5 = !inguarddist && !enemynear(var(58)),numproj
trigger5 = p2bodydist x = [-10,15]
trigger5 = p2bodydist y = [-60,-41]
trigger5 = random <= (var(59))*100
trigger6 = stateno = 98 && time >=4
trigger6 = enemynear(var(58)),statetype != A
trigger6 = enemynear(var(58)),movetype = H && enemynear(var(58)),stateno = 1320
trigger6 = p2bodydist x = [-30,10]
trigger6 = p2bodydist y >= 0
trigger6 = random <= (var(59))*100
trigger7 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger7 = enemynear(var(58)),ctrl || enemynear(var(58)),stateno != [5100,5119]
trigger7 = enemynear(var(58)),pos y >= 0 && !enemynear(var(58)),vel y || var(59)>3 && p2dist y < -15*(10-ifelse(var(59)>9,10,var(59))) && p2dist y+floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)) = [-15,5*(0+10-ifelse(var(59)>9,10,var(59)))]
trigger7 = enemynear(var(58)),pos y >= 0 && !enemynear(var(58)),vel y && enemynear(var(58)),const(size.mid.pos.y)-20 <= -75 ||  p2dist y < -15*(10-ifelse(var(59)>9,10,var(59)))
trigger7 = enemynear(var(58)),movetype != H && enemynear(var(58)),animtime > -7 || enemynear(var(58)),ctrl
trigger7 = (enemynear(var(58)),backedgebodydist <= 35-enemynear(var(58)),const(size.ground.back) || enemynear(var(58)),frontedgebodydist <= 35-enemynear(var(58)),const(size.ground.front))
trigger7 = p2bodydist x = [-10,3*(5+10-ifelse(var(59)>9,10,var(59)))]
trigger7 = random <= (var(59))*3*(1+3*(enemynear(var(58)),stateno<200)+2*((enemynear(var(58)),stateno!=[120,159])&&(enemynear(var(58)),prevstateno!=[5000,5270])))
trigger8 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger8 = enemynear(var(58)),ctrl || enemynear(var(58)),stateno != [5100,5119]
trigger8 = enemynear(var(58)),pos y >= 0 && !enemynear(var(58)),vel y || var(59)>3 && p2dist y < -15*(10-ifelse(var(59)>9,10,var(59))) && p2dist y+floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)) = [-15,5*(0+10-ifelse(var(59)>9,10,var(59)))]
trigger8 = enemynear(var(58)),pos y >= 0 && !enemynear(var(58)),vel y && enemynear(var(58)),const(size.mid.pos.y)-20 <= -75 ||  p2dist y < -15*(10-ifelse(var(59)>9,10,var(59)))
trigger8 = enemynear(var(58)),movetype != H && (enemynear(var(58)),prevstateno != 5050 && enemynear(var(58)),prevstateno != 5071 || enemynear(var(58)),stateno = 5210)
trigger8 = enemynear(var(58)),stateno < 200 || enemynear(var(58)),anim < 200 || enemynear(var(58)),time < 7*(10-var(59)) || enemynear(var(58)),movetype = I && enemynear(var(58)),time > 75
trigger8 = (enemynear(var(58)),backedgebodydist <= 35-enemynear(var(58)),const(size.ground.back) || enemynear(var(58)),frontedgebodydist <= 35-enemynear(var(58)),const(size.ground.front))
trigger8 = p2bodydist x = [-10,3*(5+10-ifelse(var(59)>9,10,var(59)))]
trigger8 = random <= (var(59))*3*(1+3*(enemynear(var(58)),stateno<200)+2*((enemynear(var(58)),stateno!=[120,159])&&(enemynear(var(58)),prevstateno!=[5000,5270])))
ignorehitpause = 0

;しゃがみ弱パンチ
[State -3,clp]
type = ChangeState
value = 400
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = ctrl || (stateno = [10,12]) || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = var(44)=0 && enemynear(var(58)),statetype != A || var(44)=1 && enemynear(var(58)),statetype = S
trigger1 = enemynear(var(58)),movetype = I
trigger1 = enemynear(var(58)),stateno != [120,159]
trigger1 = enemynear(var(58)),stateno != [5000,5270]
trigger1 = !inguarddist && !enemynear(var(58)),numproj
trigger1 = p2bodydist x = [-10,20]
trigger1 = p2bodydist y >= 0
trigger1 = random <= (var(59))*3
trigger2 = enemynear(var(58)),statetype != A && enemynear(var(58)),stateno = [120,159]
trigger2 = !inguarddist && !enemynear(var(58)),numproj
trigger2 = p2bodydist x = [-10,20]
trigger2 = p2bodydist y >= 0
trigger2 = random <= (var(59))*6
trigger3 = enemynear(var(58)),statetype != A && enemynear(var(58)),movetype = I
trigger3 = (enemynear(var(58)),stateno = [200,649]) && enemynear(var(58)),animtime <= -6
trigger3 = !inguarddist && !enemynear(var(58)),numproj
trigger3 = p2bodydist x = [-10,20]
trigger3 = p2bodydist y >= 0
trigger3 = random <= (var(59))*100
trigger4 = enemynear(var(58)),statetype != A && enemynear(var(58)),movetype = H
trigger4 = p2bodydist x = [-15,10]
trigger4 = p2bodydist y >= 0
trigger4 = random <= (var(59))*100
trigger5 = enemynear(var(58)),movetype != H
trigger5 = !inguarddist && !enemynear(var(58)),numproj
trigger5 = p2bodydist x = [-5+floor(6*(enemynear(var(58)),vel x)),10+floor(6*(enemynear(var(58)),vel x))]
trigger5 = p2bodydist y >= 0-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20))
trigger5 = random <= (var(59))*3
ignorehitpause = 0

;立ち弱キック
[State -3,lk]
type = ChangeState
value = Ifelse(p2dist x <=50,235,230)
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = ctrl || (stateno = [10,12]) || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = var(44)=0 && enemynear(var(58)),statetype != A || var(44)=1 && enemynear(var(58)),statetype = S
trigger1 = enemynear(var(58)),movetype = I
trigger1 = enemynear(var(58)),stateno != [120,159]
trigger1 = enemynear(var(58)),stateno != [5000,5270]
trigger1 = !inguarddist && !enemynear(var(58)),numproj
trigger1 = p2bodydist x = [-10,40]
trigger1 = p2bodydist y >= 0
trigger1 = random <= (var(59))*6
trigger2 = enemynear(var(58)),statetype != A && enemynear(var(58)),movetype = I
trigger2 = (enemynear(var(58)),stateno = [200,649]) && enemynear(var(58)),animtime <= -6
trigger2 = !inguarddist && !enemynear(var(58)),numproj
trigger2 = p2bodydist x = [-10,40]
trigger2 = p2bodydist y >= 0
trigger2 = random <= (var(59))*100
trigger3 = enemynear(var(58)),statetype != A && enemynear(var(58)),movetype = H
trigger3 = !inguarddist && !enemynear(var(58)),numproj
trigger3 = p2bodydist x = [-10,30]
trigger3 = p2bodydist y >= 0
trigger3 = random <= (var(59))*100
trigger4 = enemynear(var(58)),statetype != A && enemynear(var(58)),stateno = [120,159]
trigger4 = !inguarddist && !enemynear(var(58)),numproj
trigger4 = p2bodydist x = [-10,40]
trigger4 = p2bodydist y >= 0
trigger4 = random <= (var(59))*15
trigger5 = enemynear(var(58)),movetype != H
trigger5 = !inguarddist && !enemynear(var(58)),numproj
trigger5 = p2bodydist x = [0+floor(6*(enemynear(var(58)),vel x)),30+floor(6*(enemynear(var(58)),vel x))]
trigger5 = p2bodydist y >= 0-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20))
trigger5 = random <= (var(59))*3
trigger6 = enemynear(var(58)),ctrl || enemynear(var(58)),stateno != [5100,5119]
trigger6 = enemynear(var(58)),pos y >= 0 && !enemynear(var(58)),vel y || var(59)>3 && p2dist y < -15*(10-ifelse(var(59)>9,10,var(59))) && p2dist y+floor(5*(enemynear(var(58)),vel y)+(5*(5+1)/2)*fvar(20)) = [-15,5*(0+10-ifelse(var(59)>9,10,var(59)))]
trigger6 = enemynear(var(58)),pos y >= 0 && !enemynear(var(58)),vel y && enemynear(var(58)),const(size.mid.pos.y)-20 <= -75 ||  p2dist y < -15*(10-ifelse(var(59)>9,10,var(59)))
trigger6 = enemynear(var(58)),movetype != H && enemynear(var(58)),animtime > -6 || enemynear(var(58)),ctrl
trigger6 = p2bodydist x+floor(6*(enemynear(var(58)),vel x))*(enemynear(var(58)),facing)*ifelse((enemynear(var(58)),pos x-pos x)>=0,1,-1)*(enemynear(var(58)),statetype=A) = [-10,8*(5+10-ifelse(var(59)>9,10,var(59)))]
trigger6 = random <= (var(59))*2*(1+3*(enemynear(var(58)),stateno<200)+2*((enemynear(var(58)),stateno!=[120,159])&&(enemynear(var(58)),prevstateno!=[5000,5270])))
trigger7 = enemynear(var(58)),ctrl || enemynear(var(58)),stateno != [5100,5119]
trigger7 = enemynear(var(58)),pos y >= 0 && !enemynear(var(58)),vel y || var(59)>3 && p2dist y < -15*(10-ifelse(var(59)>9,10,var(59))) && p2dist y+floor(5*(enemynear(var(58)),vel y)+(5*(5+1)/2)*fvar(20)) = [-15,5*(0+10-ifelse(var(59)>9,10,var(59)))]
trigger7 = enemynear(var(58)),pos y >= 0 && !enemynear(var(58)),vel y && enemynear(var(58)),const(size.mid.pos.y)-20 <= -75 ||  p2dist y < -15*(10-ifelse(var(59)>9,10,var(59)))
trigger7 = enemynear(var(58)),movetype != H && enemynear(var(58)),animtime > -6 || enemynear(var(58)),ctrl
trigger7 = (enemynear(var(58)),backedgebodydist <= 35-enemynear(var(58)),const(size.ground.back) || enemynear(var(58)),frontedgebodydist <= 35-enemynear(var(58)),const(size.ground.front))
trigger7 = p2bodydist x = [-10,8*(5+10-ifelse(var(59)>9,10,var(59)))]
trigger7 = random <= (var(59))*3*(1+3*(enemynear(var(58)),stateno<200)+2*((enemynear(var(58)),stateno!=[120,159])&&(enemynear(var(58)),prevstateno!=[5000,5270])))
trigger8 = enemynear(var(58)),ctrl || enemynear(var(58)),stateno != [5100,5119]
trigger8 = enemynear(var(58)),pos y >= 0 && !enemynear(var(58)),vel y || var(59)>3 && p2dist y < -15*(10-ifelse(var(59)>9,10,var(59))) && p2dist y+floor(5*(enemynear(var(58)),vel y)+(5*(5+1)/2)*fvar(20)) = [-15,5*(0+10-ifelse(var(59)>9,10,var(59)))]
trigger8 = enemynear(var(58)),pos y >= 0 && !enemynear(var(58)),vel y && enemynear(var(58)),const(size.mid.pos.y)-20 <= -75 ||  p2dist y < -15*(10-ifelse(var(59)>9,10,var(59)))
trigger8 = enemynear(var(58)),movetype != H && (enemynear(var(58)),prevstateno != 5050 && enemynear(var(58)),prevstateno != 5071 || enemynear(var(58)),stateno = 5210)
trigger8 = enemynear(var(58)),stateno < 200 || enemynear(var(58)),anim < 200 || enemynear(var(58)),time < 6*(10-var(59)) || enemynear(var(58)),movetype = I && enemynear(var(58)),time > 75
trigger8 = p2bodydist x+floor(6*(enemynear(var(58)),vel x))*(enemynear(var(58)),facing)*ifelse((enemynear(var(58)),pos x-pos x)>=0,1,-1)*(enemynear(var(58)),statetype=A) = [-10,8*(5+10-ifelse(var(59)>9,10,var(59)))]
trigger8 = random <= (var(59))*2*(1+3*(enemynear(var(58)),stateno<200)+2*((enemynear(var(58)),stateno!=[120,159])&&(enemynear(var(58)),prevstateno!=[5000,5270])))
trigger9 = enemynear(var(58)),ctrl || enemynear(var(58)),stateno != [5100,5119]
trigger9 = enemynear(var(58)),pos y >= 0 && !enemynear(var(58)),vel y || var(59)>3 && p2dist y < -15*(10-ifelse(var(59)>9,10,var(59))) && p2dist y+floor(5*(enemynear(var(58)),vel y)+(5*(5+1)/2)*fvar(20)) = [-15,5*(0+10-ifelse(var(59)>9,10,var(59)))]
trigger9 = enemynear(var(58)),pos y >= 0 && !enemynear(var(58)),vel y && enemynear(var(58)),const(size.mid.pos.y)-20 <= -75 ||  p2dist y < -15*(10-ifelse(var(59)>9,10,var(59)))
trigger9 = enemynear(var(58)),movetype != H && (enemynear(var(58)),prevstateno != 5050 && enemynear(var(58)),prevstateno != 5071 || enemynear(var(58)),stateno = 5210)
trigger9 = enemynear(var(58)),stateno < 200 || enemynear(var(58)),anim < 200 || enemynear(var(58)),time < 6*(10-var(59)) || enemynear(var(58)),movetype = I && enemynear(var(58)),time > 75
trigger9 = (enemynear(var(58)),backedgebodydist <= 35-enemynear(var(58)),const(size.ground.back) || enemynear(var(58)),frontedgebodydist <= 35-enemynear(var(58)),const(size.ground.front))
trigger9 = p2bodydist x = [-10,8*(5+10-ifelse(var(59)>9,10,var(59)))]
trigger9 = random <= (var(59))*3*(1+3*(enemynear(var(58)),stateno<200)+2*((enemynear(var(58)),stateno!=[120,159])&&(enemynear(var(58)),prevstateno!=[5000,5270])))
ignorehitpause = 0

;しゃがみ弱キック
[State -3,clk]
type = ChangeState
value = 430
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist y >= 0
triggerall = ctrl || (stateno = [10,12]) || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = enemynear(var(58)),movetype = I
trigger1 = enemynear(var(58)),stateno != [120,159]
trigger1 = enemynear(var(58)),stateno != [5000,5270]
trigger1 = p2bodydist x = [-10,45]
trigger1 = random <= (var(59))*3
trigger2 = enemynear(var(58)),movetype = I
trigger2 = (enemynear(var(58)),stateno = [200,649]) && enemynear(var(58)),animtime <= -8
trigger2 = p2bodydist x = [-10,45]
trigger2 = random <= (var(59))*100
trigger3 = enemynear(var(58)),movetype = H
trigger3 = p2bodydist x = [-15,30]
trigger3 = random <= (var(59))*100
trigger4 = enemynear(var(58)),stateno = [120,159]
trigger4 = p2bodydist x = [-10,45]
trigger4 = random <= (var(59))*5
ignorehitpause = 0

;近距離立ち弱パンチ
[State -3,lp]
type = ChangeState
value = 205
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = enemynear(var(58)),animtime <= -6
triggerall = !enemynear(var(58)),ctrl
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2dist x <=50
triggerall = p2bodydist x = [-10,30]
triggerall = p2bodydist y = [-60,-45]
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
ignorehitpause = 0

;Такэру Мйкажутй(建御雷)
[State -3,tm]
type = ChangeState
value = 1700
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [-15,30]
triggerall = p2bodydist y = [-180,-31]
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = var(47)=1
trigger1 = enemynear(var(58)),backedgedist <= 20 || enemynear(var(58)),frontedgebodydist <= 10
trigger2 = !enemynear(var(58)),ctrl
trigger2 = enemynear(var(58)),movetype = I && enemynear(var(58)),movetype != H
trigger2 = enemynear(var(58)),animtime <= -15
ignorehitpause = 0

;Хонойкажутй(火雷)
[State -3,hi]
type = ChangeState
value = 1750
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = var(47)=1
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [-15,40]
triggerall = p2bodydist y = [-120,-31]
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
ignorehitpause = 0

;シェルミーホイップ
[State -3,sw]
type = ChangeState
value = 1100
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [-15,40]
triggerall = p2bodydist y = [-60,-11]
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = var(46)=1 || var(47)=1
trigger2 = !enemynear(var(58)),ctrl
trigger2 = enemynear(var(58)),movetype = I && enemynear(var(58)),movetype != H
trigger2 = enemynear(var(58)),animtime <= -7
ignorehitpause = 0

;ジャンプ強パンチ
[State -3,jhp]
type = ChangeState
value = 610
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = (enemynear(var(58)),statetype != A && vel y >= 0) || enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = stateno != [105,106]
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = p2bodydist x = [-30+floor(6*(enemynear(var(58)),vel x)+floor(6*vel x)),30+floor(6*(enemynear(var(58)),vel x)+floor(6*vel x))]
triggerall = p2bodydist y = [-20-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)-floor(6*vel y)-(6*(6+1)/2)*0.47),20-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)-floor(6*vel y)-(6*(6+1)/2)*0.47)]
triggerall = ctrl || stateno = 50 || (stateno = [120,149])
trigger1 = enemynear(var(58)),movetype = I && enemynear(var(58)),stateno != [120,159]
trigger1 = !inguarddist && !enemynear(var(58)),numproj
trigger1 = random <= (var(59))*30
trigger2 = enemynear(var(58)),movetype = I
trigger2 = (enemynear(var(58)),stateno = [200,649]) && enemynear(var(58)),animtime <= -9
trigger2 = random <= (var(59))*100
trigger3 = enemynear(var(58)),movetype = H && enemynear(var(58)),stateno != [120,159]
trigger3 = random <= (var(59))*100
trigger4 = enemynear(var(58)),stateno = [120,159]
trigger4 = !inguarddist && !enemynear(var(58)),numproj
trigger4 = random <= (var(59))*50
ignorehitpause = 0

;斜めジャンプ強キック
[State -3,jhk]
type = ChangeState
value = 640
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = (enemynear(var(58)),statetype != A && vel y >= 0) || enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = stateno != [105,106]
triggerall = enemynear(var(58)),stateno != [1520,1521]
triggerall = enemynear(var(58)),stateno != [13005,13020]
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = vel x != 0
triggerall = p2bodydist x = [-10+floor(9*(enemynear(var(58)),vel x)+floor(9*vel x)),60+floor(9*(enemynear(var(58)),vel x)+floor(9*vel x))]
triggerall = p2bodydist y = [-30-floor(9*(enemynear(var(58)),vel y)+(9*(9+1)/2)*fvar(20)-floor(9*vel y)-(9*(9+1)/2)*0.47),50-floor(9*(enemynear(var(58)),vel y)+(9*(9+1)/2)*fvar(20)-floor(9*vel y)-(9*(9+1)/2)*0.47)]
triggerall = ctrl || stateno = 50 || (stateno = [120,149])
trigger1 = enemynear(var(58)),movetype = I && enemynear(var(58)),stateno != [120,159]
trigger1 = !inguarddist && !enemynear(var(58)),numproj
trigger1 = random <= (var(59))*45
trigger2 = enemynear(var(58)),movetype = I
trigger2 = (enemynear(var(58)),stateno = [200,649]) && enemynear(var(58)),animtime <= -8
trigger2 = random <= (var(59))*100
trigger3 = enemynear(var(58)),movetype = H && enemynear(var(58)),stateno != [120,159]
trigger3 = random <= (var(59))*100
trigger4 = enemynear(var(58)),stateno = [120,159]
trigger4 = !inguarddist && !enemynear(var(58)),numproj
trigger4 = random <= (var(59))*60
ignorehitpause = 0

;垂直ジャンプ強キック
[State -3,jhk2]
type = ChangeState
value = 640
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = (enemynear(var(58)),statetype != A && vel y >= 0) || enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = stateno != [105,106]
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = vel x = 0
triggerall = p2bodydist x = [-10+floor(6*(enemynear(var(58)),vel x)+floor(6*vel x)),60+floor(6*(enemynear(var(58)),vel x)+floor(6*vel x))]
triggerall = p2bodydist y = [-30-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)-floor(6*vel y)-(6*(6+1)/2)*0.47),45-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)-floor(6*vel y)-(6*(6+1)/2)*0.47)]
triggerall = ctrl || stateno = 50 || (stateno = [120,149])
trigger1 = enemynear(var(58)),movetype = I && enemynear(var(58)),stateno != [120,159]
trigger1 = !inguarddist && !enemynear(var(58)),numproj
trigger1 = random <= (var(59))*60
trigger2 = enemynear(var(58)),movetype = I
trigger2 = (enemynear(var(58)),stateno = [200,649]) && enemynear(var(58)),animtime <= -9
trigger2 = random <= (var(59))*100
trigger3 = enemynear(var(58)),movetype = H && enemynear(var(58)),stateno != [120,159]
trigger3 = random <= (var(59))*100
trigger4 = enemynear(var(58)),stateno = [120,159]
trigger4 = !inguarddist && !enemynear(var(58)),numproj
trigger4 = random <= (var(59))*80
ignorehitpause = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;コンボ2〜3発目
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;爆NEWスープレックス
[State -3,oppai]
type = ChangeState
value = 260
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = roundstate = 2
triggerall = p2life <= 50
triggerall = random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = !inguarddist
triggerall = p2bodydist x = [-10+floor(17*(enemynear(var(58)),vel x)),5+floor(17*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = (stateno = 215 || stateno = 410) && movehit
ignorehitpause = 0

;シェルミースタンド/КОУРАИ(降雷) キャンセル版
[State -3,6a]
type = ChangeState
value = 251
triggerall = var(59)>0
triggerall = !var(48)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = p2bodydist x = [-10+floor(13*(enemynear(var(58)),vel x)),70+floor(13*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = (stateno = 215 || stateno = 410) && movehit && enemynear(var(58)),movetype = H
trigger1 = random <= (var(59))*200
trigger2 = (stateno = [230,235]) && AnimElemTime (6) > 0 && movehit && enemynear(var(58)),movetype = H
trigger2 = random <= (var(59))*200
trigger3 = !var(45)
trigger3 = enemynear(var(58)),statetype = C || enemynear(var(58)),statetype = S && enemynear(var(58)),const(size.head.pos.y)+10 > -60
trigger3 = (stateno = [230,235]) && movehit && enemynear(var(58)),movetype = H
trigger3 = var(1)=0&&random <= (var(59))*100||var(1)=1&&(power<3000&&random <= (var(59))*25||power>=3000&&random <= (var(59))*50)||var(1)=1&&((100*life/const(data.life)) <= 30||power>=5000)&&random <= (var(59))*100
trigger4 = var(1)=0
trigger4 = stateno = 430 && movehit
trigger4 = enemynear(var(58)),backedgedist > 20
trigger4 = p2bodydist x = [41,70]
trigger4 = random <= (var(59))*200
trigger5 = (stateno = 215 || stateno = 410) && moveguarded
trigger5 = random <= (var(59))*30
trigger6 = ((stateno = [230,235]) && animelem = 3,>=0 || (stateno = [230,235]) && AnimElemTime (6) > 0 || stateno = 430) && moveguarded
trigger6 = random <= (var(59))*5
ignorehitpause = 0

;Уммэй но Я(運命の矢) X
[State -3,uy]
type = ChangeState
value = 2600
triggerall = var(59)>7
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = ((100*life/const(data.life)) <= 30 || life <= 300) && p2life > 600 || life <= 120 && p2life > 500
triggerall = power >= 3000 || var(20)>0 && power >= 1000
triggerall = random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = p2bodydist x = [-5+floor(21*(enemynear(var(58)),vel x)),40+floor(21*(enemynear(var(58)),vel x))]
trigger1 = (stateno = 251 || stateno = 706) && movehit && (enemynear(var(58)),statetype = S && enemynear(var(58)),const(size.head.pos.y)+10 <= -60 || var(45)>0 && enemynear(var(58)),statetype != A)
trigger1 = p2bodydist y >= 0
trigger2 = stateno = 290 && movehit && (enemynear(var(58)),backedgedist <= 20 || enemynear(var(58)),frontedgebodydist <= 10)
ignorehitpause = 0

;弱Анкоку Райкокэн(暗黒雷光拳)
[State -3,lar]
type = ChangeState
value = 2300
triggerall = var(59)>6
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = var(20)>0 && power < 1000 || p2life <= 200 && power >= 1000
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = p2bodydist x = [-10+floor(6*(enemynear(var(58)),vel x)),70+floor(6*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y = [-60-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)),0-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20))]
trigger1 = stateno = 430 && movehit && enemynear(var(58)),statetype != A
trigger2 = ((stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 251 || (stateno = [400,430]) || stateno = 706) && movehit && enemynear(var(58)),statetype = A
ignorehitpause = 0

;強Анкоку Райкокэн(暗黒雷光拳)
[State -3,har]
type = ChangeState
value = 2301
triggerall = var(59)>4
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = (power = [3000,3999]) && random <= (var(59))*30 || (power = [4000,4999]) && random <= (var(59))*50 || (power >= 5000 || var(20)>0) && random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = p2bodydist x = [-10+floor(10*(enemynear(var(58)),vel x)),70+floor(10*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y = [-100-floor(10*(enemynear(var(58)),vel y)+(10*(10+1)/2)*fvar(20)),-60-floor(10*(enemynear(var(58)),vel y)+(10*(10+1)/2)*fvar(20))]
trigger1 = ((stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 251 || (stateno = [400,430]) || stateno = 706) && movehit
ignorehitpause = 0

;シェルミーフラッシュ
[State -3,sf]
type = ChangeState
value = 2000
triggerall = var(59)>7
triggerall = var(1)=0
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = p2bodydist x = [-10+floor(1*(enemynear(var(58)),vel x)),30+floor(1*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = power >= 1000 || var(20)>0
trigger1 = p2life = [250,90]
trigger1 = (stateno = 251 || stateno = 430 || stateno = 706) && movehit
trigger2 = power >= 3000 || var(20)>0
trigger2 = ((stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 251 || stateno = 290 || (stateno = [400,430]) || stateno = 706) && movehit && enemynear(var(58)),movetype != H
ignorehitpause = 0

;クイックMAX
[State -3,qm]
type = ChangeState
value = 901
triggerall = var(59)>4
triggerall = var(20)=0
triggerall = roundstate = 2
triggerall = (power >= 3000 || power >= 2000 && (100*life/const(data.life)) <= 30) && random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = !inguarddist
triggerall = p2bodydist y >= 0
trigger1 = stateno = 250 && movehit && AnimElemtime(7) >= 0 && AnimElemtime(9) < 0
trigger1 = p2bodydist x = [-20,30]
trigger2 = stateno = 251 && movehit
trigger2 = p2bodydist x = [-20,40]
trigger3 = (stateno = 210 || stateno = 240) && movehit
trigger3 = enemynear(var(58)),backedgedist <= 20 || enemynear(var(58)),frontedgebodydist <= 10
trigger3 = p2bodydist x = [-20,30]
ignorehitpause = 0

;ЖИНРАЙ(迅雷) キャンセル版
[State -3,c6x]
type = ChangeState
value = 275
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = !var(48)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = p2bodydist x = [-10+floor(13*(enemynear(var(58)),vel x)),90+floor(13*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = (stateno = 200 || stateno = 215 || (stateno = [230,235]) && AnimElemTime (6) > 0 || (stateno = [410,430])) && movehit && enemynear(var(58)),movetype = H
trigger1 = random <= (var(59))*200
trigger2 = !var(45)
trigger2 = enemynear(var(58)),statetype = C || enemynear(var(58)),statetype = S && enemynear(var(58)),const(size.head.pos.y)+10 > -60
trigger2 = (stateno = [230,235]) && movehit && enemynear(var(58)),movetype = H
trigger2 = random <= (var(59))*200
trigger3 = stateno = 430 && moveguarded
trigger3 = random <= (var(59))*30
ignorehitpause = 0

;変身→シェルミー
[State -3,Change s]
type = ChangeState
value = 2900
triggerall = var(59)>7
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = (100*life/const(data.life)) <= 30 || life <= 300
triggerall = var(20)>0 && power >= 4000
triggerall = random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = p2bodydist x = [-10+floor(1*(enemynear(var(58)),vel x)),60+floor(1*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = (stateno = 251 || stateno = 706) && movehit
ignorehitpause = 0

;イナズマレッグラリアート
[State -3,MAX2ilr]
type = ChangeState
value = 2500
triggerall = var(59)>7
triggerall = var(1)=0
triggerall = !var(48)
triggerall = roundstate = 2
triggerall = (100*life/const(data.life)) <= 30 || life <= 300
triggerall = power >= 5000 || var(20)>0 && power >= 1000 || var(50)=1 && p2life <= 250 && (power >= 3000 || var(20)>0 && power >= 1000)
triggerall = random <= var(59)*200
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = p2bodydist x = [-5+floor(21*(enemynear(var(58)),vel x)),90+floor(21*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = (stateno = 251 || stateno = 706) && movehit
ignorehitpause = 0

;MAXАнкоку Райкокэн(暗黒雷光拳)
[State -3,MAXar]
type = ChangeState
value = 2350
triggerall = var(59)>5
triggerall = var(1)=1
triggerall = !var(48)
triggerall = roundstate = 2
triggerall = power >= 5000 || var(20)>0 && power >= 1000
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
trigger1 = (stateno = 200 || stateno = 251 || stateno = 430 || stateno = 706) && movehit && enemynear(var(58)),statetype != A
trigger1 = p2bodydist x = [-10+floor(6*(enemynear(var(58)),vel x)),90+floor(6*(enemynear(var(58)),vel x))]
trigger1 = p2bodydist y >= 0
trigger2 = (stateno = 200 || stateno = 215 || (stateno = [230,235]) || stateno = 251 || stateno = 410 || stateno = 706) && movehit && enemynear(var(58)),statetype = A
trigger2 = p2bodydist x = [-10+floor(6*(enemynear(var(58)),vel x)),90+floor(6*(enemynear(var(58)),vel x))]
trigger2 = p2bodydist y = [-55-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)),-11-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20))]
ignorehitpause = 0

;空中MAXШукумэй・Гэнъэй・Шинши(宿命・幻影・震死)
[State -3,MAXsgs]
type = ChangeState
value = 2470
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = !var(48)
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
trigger1 = power >= 5000 || var(20)>0 && power >= 1000
trigger1 = stateno = 275 && movehit
trigger2 = !var(48)
trigger2 = var(20)>0 && power >= 2000
trigger2 = (stateno = 1500 || stateno = 1501) && movehit && enemynear(var(58)),statetype != A
trigger2 = vel y > 0
trigger2 = pos y = [-15,-3]
ignorehitpause = 0

;弱Анкоку Райкокэн(暗黒雷光拳)
[State -3,lar]
type = ChangeState
value = 2300
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = !var(48)
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = p2bodydist y >= 0
trigger1 = power >= 4000 || var(20)>0
trigger1 = (stateno = 200 || stateno = 706) && movehit
trigger1 = p2bodydist x = [-10+floor(6*(enemynear(var(58)),vel x)),90+floor(6*(enemynear(var(58)),vel x))]
trigger2 = power >= 1500 || var(20)>0
trigger2 = stateno = 430 && movehit
trigger2 = p2bodydist x = [21,90]
ignorehitpause = 0

;空中Шукумэй・Гэнъэй・Шинши(宿命・幻影・震死)
[State -3,sgs]
type = ChangeState
value = 2420
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = !var(48)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
trigger1 = stateno = 275 && movehit
trigger1 = (power = [2000,3999]) && random <= (var(59))*10 || (power = [4000,4999]) && random <= (var(59))*20 || (power >= 5000 || power >= 1000 && p2life <= 200 || var(20)>0) && random <= (var(59))*100
trigger2 = !var(48)
trigger2 = power >= 3000 || var(20)>0 && power >= 1000
trigger2 = (stateno = 1500 || stateno = 1501) && movehit && enemynear(var(58)),statetype != A
trigger2 = vel y > 0
trigger2 = pos y = [-15,-3]
trigger2 = random <= (var(59))*100
ignorehitpause = 0

;稲妻レッグラリアート
[State -3,ilr]
type = ChangeState
value = 2200
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = p2bodydist x = [-10,90]
trigger1 = TeamMode = simul
trigger1 = (stateno = 251 || stateno = 706) && movehit && enemynear(var(58)),statetype != A
trigger1 = p2bodydist y >= 0
trigger1 = (power = [2000,3999]) && random <= (var(59))*35 || (power = [4000,4999]) && random <= (var(59))*50 || (power >= 5000 || var(20)>0) && random <= (var(59))*100
trigger2 = ((stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 251 || stateno = 706) && movehit && enemynear(var(58)),statetype = A
trigger2 = p2bodydist y = [-60,-11]
trigger2 = (power = [2000,3999]) && random <= (var(59))*50 || (power >= 4000 || var(20)>0) && random <= (var(59))*100
ignorehitpause = 0

;MAXシェルミーフラッシュ
[State -3,MAXsf]
type = ChangeState
value = 2050
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = !var(48)
triggerall = roundstate = 2
triggerall = var(50)=1 && p2life <= 200
triggerall = random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = p2bodydist x = [-15+floor(1*(enemynear(var(58)),vel x)),30+floor(1*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = var(20)=0 && power >= 3000
trigger1 = (stateno = 251 || (stateno = [230,235]) && animelem = 3,>=0 || stateno = 430) && movehit
trigger2 = power >= 4000 || var(20)>0 && power >= 2000
trigger2 = stateno = 1360 && movehit
ignorehitpause = 0

;MAXシェルミーカーニバル
[State -3,MAXscar]
type = ChangeState
value = 2150
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = !var(48)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = p2bodydist x = [-15+floor(9*(enemynear(var(58)),vel x)),20+floor(9*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = ((stateno = [230,235]) && AnimElemTime (6) > 0 || (stateno = [230,235]) && (enemynear(var(58)),statetype = C || enemynear(var(58)),statetype = S && enemynear(var(58)),const(size.head.pos.y)+10 > -60)) && movehit
trigger1 = (power = [3500,4999]) && random <= (var(59))*40 || (power >= 5000 || var(20)>0 && power >= 1000) && random <= (var(59))*100
trigger2 = var(20)>0 && power >= 3000
trigger2 = stateno = 1360 && movehit
trigger2 = random <= (var(59))*200
ignorehitpause = 0

;シェルミーフラッシュ
[State -3,sf]
type = ChangeState
value = 2000
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = !var(48)
triggerall = roundstate = 2
triggerall = (power = [3000,4999]) && random <= (var(59))*25 || (power >= 5000 || var(20)>0) && random <= (var(59))*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = p2bodydist x = [-15+floor(1*(enemynear(var(58)),vel x)),30+floor(1*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = stateno = 430 && movehit
ignorehitpause = 0

;シェルミーカーニバル
[State -3,scar]
type = ChangeState
value = 2100
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = !var(48)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = p2bodydist x = [-15+floor(9*(enemynear(var(58)),vel x)),20+floor(9*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = ((stateno = [230,235]) && AnimElemTime (6) > 0 || (stateno = [230,235]) && (enemynear(var(58)),statetype = C || enemynear(var(58)),statetype = S && enemynear(var(58)),const(size.head.pos.y)+10 > -60)) && movehit
trigger1 = (power = [3000,4999]) && random <= (var(59))*40 || (power >= 5000 || var(20)>0) && random <= (var(59))*100
trigger2 = power >= 5000 || var(20)>0 && power >= 2000
trigger2 = stateno = 1360 && movehit
trigger2 = random <= (var(59))*200
ignorehitpause = 0

;弱Шажицу но Одори(斜日の踊り)
[State -3,lso]
type = ChangeState
value = 1500
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = !var(48)
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
trigger1 = power >= 3000 || (var(20)>0 && power >= 1000)
trigger1 = stateno = 251 && movehit && enemynear(var(58)),statetype = S && enemynear(var(58)),const(size.head.pos.y)+10 <= -60
trigger1 = enemynear(var(58)),movetype = H
trigger1 = enemynear(var(58)),backedgedist <= 20 || enemynear(var(58)),frontedgebodydist <= 10
trigger1 = p2bodydist x = [-15+floor(15*(enemynear(var(58)),vel x)),30+floor(15*(enemynear(var(58)),vel x))]
trigger1 = p2bodydist y >= 0
trigger1 = random <= var(59)*40
trigger2 = stateno = 430 && movehit && enemynear(var(58)),movetype = H
trigger2 = p2bodydist x = [21,60]
trigger2 = random <= (var(59))*50
trigger3 = stateno = 290 && movehit && enemynear(var(58)),movetype = H
trigger3 = random <= var(59)*100
trigger4 = (stateno = 215 || stateno = 251 || stateno = 290 || (stateno = [410,430]) || stateno = 706) && moveguarded && enemynear(var(58)),statetype != A
trigger4 = p2bodydist x = [-15+floor(15*(enemynear(var(58)),vel x)),30+floor(15*(enemynear(var(58)),vel x))]
trigger4 = p2bodydist y >= 0
trigger4 = random <= var(59)*25
ignorehitpause = 0

;強Шажицу но Одори(斜日の踊り)
[State -3,hso]
type = ChangeState
value = 1501
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = !var(48)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = p2bodydist x = [-15+floor(21*(enemynear(var(58)),vel x)),30+floor(21*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = power >= 4000 || (var(20)>0 && power >= 1000)
trigger1 = stateno = 251 && movehit && (enemynear(var(58)),statetype = S && enemynear(var(58)),const(size.head.pos.y)+10 <= -60 || var(45)>0)
trigger1 = enemynear(var(58)),movetype = H
trigger1 = enemynear(var(58)),backedgedist <= 20 || enemynear(var(58)),frontedgebodydist <= 10
trigger1 = random <= var(59)*50
trigger2 = stateno = 430 && movehit && enemynear(var(58)),movetype = H
trigger2 = p2bodydist x = [21,90]
trigger2 = random <= (var(59))*150
trigger3 = (stateno = 215 || stateno = 251 || stateno = 290 || (stateno = [410,430]) || stateno = 706) && moveguarded
trigger3 = random <= var(59)*30
ignorehitpause = 0

;強Ятанаги но Мучи(八咫薙の鞭)
[State -3,hym]
type = ChangeState
value = 1601
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = !var(48)
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = random <= (var(59))*200
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = p2bodydist x = [-10+floor(17*(enemynear(var(58)),vel x)),60+floor(17*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y >= 0
trigger1 = (stateno = 251 || stateno = 706) && movehit
ignorehitpause = 0

;Якуса но йкацутй(八雷神)
[State -3,yi]
type = ChangeState
value = 1800
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = !var(48)
triggerall = roundstate = 2
triggerall = random <= (var(59))*200
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = p2bodydist x = [-15,20]
triggerall = p2bodydist y >= 0
trigger1 = (stateno = 251 || stateno = 430 || stateno = 706) && movehit && enemynear(var(58)),movetype = H
trigger2 = (stateno = [230,235]) && movehit && enemynear(var(58)),movetype = H
trigger2 = AnimElemTime (6) > 0 || !var(45) && (enemynear(var(58)),statetype = C || enemynear(var(58)),statetype = S && enemynear(var(58)),const(size.head.pos.y)+10 > -60)
trigger3 = ((stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 251 || stateno = 290 || (stateno = [400,430]) || stateno = 706) && movehit && enemynear(var(58)),movetype != H
ignorehitpause = 0

;Хонойкажутй(火雷)
[State -3,hi]
type = ChangeState
value = 1750
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = random <= (var(59))*200
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = p2bodydist x = [-10+floor(21*(enemynear(var(58)),vel x)),40+floor(21*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y = [-100-floor(21*(enemynear(var(58)),vel y)+(21*(21+1)/2)*fvar(20)),-11-floor(21*(enemynear(var(58)),vel y)+(21*(21+1)/2)*fvar(20))]
trigger1 = (stateno = 200 || stateno = 215 || (stateno = [230,235]) || stateno = 251 || (stateno = [400,430]) || stateno = 706) && movehit
ignorehitpause = 0

;Такэру Мйкажутй(建御雷)
[State -3,tm]
type = ChangeState
value = 1700
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = random <= var(59)*25
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),stateno = [120,159]
triggerall = p2bodydist x = [-15,10]
triggerall = p2bodydist y >= 0
trigger1 = (stateno = 251 || stateno = 290) && moveguarded
ignorehitpause = 0

;Мугэцу но Райун(無月の雷雲) X
[State -3,mrX]
type = ChangeState
value = 1650
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = random <= var(59)*150
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
trigger1 = (stateno = 215 || stateno = 251 || stateno = 706) && movehit
trigger1 = p2bodydist x = [-10,60]
trigger1 = p2bodydist y = [-140,0]
trigger2 = (stateno = 215 || (stateno = [230,235]) && AnimElemTime (6) > 0 || stateno = 251 || stateno = 290 || stateno = 410 || stateno = 706) && moveguarded && enemynear(var(58)),statetype != A
trigger2 = p2bodydist x = [0,90]
trigger2 = p2bodydist y >= 0
trigger3 = stateno = 706 && movecontact && enemynear(var(58)),statetype != A
trigger3 = p2bodydist x = [20,120]
trigger3 = p2bodydist y >= 0
trigger4 = (stateno = 215 || stateno = 410 && AnimElemTime (4) > 0) && movecontact=0
trigger4 = p2bodydist x = [60,400]
trigger4 = p2bodydist y >= 0
trigger5 = stateno = 290 && AnimElemTime (7) > 0 && movecontact=0
ignorehitpause = 0

;弱Райжин но Цуэ(雷神の杖)
[State -3,lrt]
type = ChangeState
value = 1550
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = !var(48)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = p2bodydist x = [-30,90]
trigger1 = stateno = 275 && movehit && enemynear(var(58)),movetype = H
trigger1 = random <= (var(59))*200
trigger2 = stateno = 275 && moveguarded
trigger2 = random <= (var(59))*30
ignorehitpause = 0

;強Райжин но Цуэ(雷神の杖)
[State -3,hrt]
type = ChangeState
value = 1551
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = !var(48)
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = p2bodydist x = [-30,120]
trigger1 = stateno = 275 && movehit && enemynear(var(58)),movetype != H
trigger1 = random <= (var(59))*200
trigger2 = stateno = 275 && moveguarded
trigger2 = random <= (var(59))*40
ignorehitpause = 0

;シェルミーアックス
[State -3,sa]
type = ChangeState
value = 1350
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = !var(48)
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = p2bodydist y >= 0
trigger1 = (stateno = 251 || stateno = 706) && movehit && enemynear(var(58)),movetype = H && (enemynear(var(58)),backedgedist <= 20 || enemynear(var(58)),frontedgebodydist <= 10)
trigger1 = p2bodydist x = [-10+floor(21*(enemynear(var(58)),vel x)),60+floor(21*(enemynear(var(58)),vel x))]
trigger1 = random <= (var(59))*30 || (power >= 3000 || var(20)>0 && power >= 1000) && random <= (var(59))*200
trigger2 = (stateno = 251 || stateno = 290 || stateno = 430 || stateno = 706) && moveguarded
trigger2 = p2bodydist x = [-10+floor(21*(enemynear(var(58)),vel x)),90+floor(21*(enemynear(var(58)),vel x))]
trigger2 = random <= (var(59))*50
ignorehitpause = 0

;弱シェルミーキャッチ
[State -3,lscat]
type = ChangeState
value = 1300
triggerall = var(59)>5
triggerall = var(1)=0
triggerall = !var(48)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = p2bodydist x = [0,80]
trigger1 = (100*life/const(data.life)) > 75 && random <= (var(59))*15 || (100*life/const(data.life)) <= 30 && p2life > 400 && random <= (var(59))*20
trigger1 = (stateno = 215 || stateno = 251 || stateno = 410 || stateno = 430) && movehit && enemynear(var(58)),statetype != A
trigger2 = (stateno = 200 || stateno = 215 || (stateno = [230,235]) || stateno = 251 || stateno = 290 || (stateno = [400,430]) || stateno = 706) && moveguarded
trigger2 = enemynear(var(58)),statetype != A
trigger2 = random <= (var(59))*20
trigger3 = (stateno = 200 || stateno = 215 || (stateno = [230,235]) || stateno = 251 || stateno = 290 || (stateno = [400,430]) || stateno = 706) && movehit
trigger3 = enemynear(var(58)),statetype = A && enemynear(var(58)),movetype != H
trigger3 = random <= (var(59))*200
ignorehitpause = 0

;シェルミーホイップ
[State -3,sw]
type = ChangeState
value = 1100
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = p2bodydist y = [-60-floor(7*(enemynear(var(58)),vel y)+(7*(7+1)/2)*fvar(20)),0-floor(7*(enemynear(var(58)),vel y)+(7*(7+1)/2)*fvar(20))]
trigger1 = (stateno = 251 || stateno = 706) && movehit && enemynear(var(58)),movetype = H
trigger1 = p2bodydist x = [-10+floor(7*(enemynear(var(58)),vel x)),10+floor(7*(enemynear(var(58)),vel x))]
trigger1 = random <= (var(59))*25
trigger2 = (stateno = 200 || stateno = 430) && movehit && enemynear(var(58)),movetype = H
trigger2 = p2bodydist x = [-10+floor(7*(enemynear(var(58)),vel x)),15+floor(7*(enemynear(var(58)),vel x))]
trigger2 = random <= (var(59))*50
trigger3 = (stateno = [230,235]) && movehit && enemynear(var(58)),movetype = H
trigger3 = AnimElemTime (6) > 0 || !var(45) && (enemynear(var(58)),statetype = C || enemynear(var(58)),statetype = S && enemynear(var(58)),const(size.head.pos.y)+10 > -60)
trigger4 = ((stateno = [230,235]) || stateno = 251 || (stateno = [400,430]) || stateno = 706) && movehit && enemynear(var(58)),statetype = A
trigger4 = p2bodydist x = [-15+floor(7*(enemynear(var(58)),vel x)),30+floor(7*(enemynear(var(58)),vel x))]
trigger4 = random <= (var(59))*200
ignorehitpause = 0

;強シェルミークラッチ
[State -3,hsclu]
type = ChangeState
value = 1201
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = roundstate = 2
triggerall = random <= (var(59))*200
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = p2bodydist x = [0+floor(15*(enemynear(var(58)),vel x)),50+floor(15*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y = [-120-floor(15*(enemynear(var(58)),vel y)+(15*(15+1)/2)*fvar(20)),-11-floor(15*(enemynear(var(58)),vel y)+(15*(15+1)/2)*fvar(20))]
trigger1 = (stateno = 200 || stateno = 215 && AnimElemTime (5) > 0) && movecontact
ignorehitpause = 0

;シェルミースパイラル
[State -3,ss]
type = ChangeState
value = 1150
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = !var(48)
triggerall = roundstate = 2
triggerall = random <= (var(59))*200
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = p2bodydist y >= 0
trigger1 = (stateno = 251 || stateno = 430 || stateno = 706) && movehit && enemynear(var(58)),movetype = H
trigger1 = p2bodydist x = [-15,30]
trigger2 = (stateno = [230,235]) && movehit && enemynear(var(58)),movetype = H
trigger2 = AnimElemTime (6) > 0 || !var(45) && (enemynear(var(58)),statetype = C || enemynear(var(58)),statetype = S && enemynear(var(58)),const(size.head.pos.y)+10 > -60)
trigger2 = p2bodydist x = [-15,40]
trigger3 = ((stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 251 || stateno = 290 || (stateno = [400,430]) || stateno = 706) && movehit && enemynear(var(58)),movetype != H
trigger3 = p2bodydist x = [-15,30]
ignorehitpause = 0

;弱ダイヤモンドバスト
[State -3,ldb]
type = ChangeState
value = 1050
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = !var(48)
triggerall = roundstate = 2
triggerall = random <= (var(59))*200
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = p2bodydist x = [0,60]
triggerall = p2bodydist y >= 0
trigger1 = (stateno = 215 || (stateno = [230,235]) && AnimElemTime (6) > 0 || stateno = 251 || (stateno = [410,430]) || stateno = 706) && movehit
ignorehitpause = 0

;強ダイヤモンドバスト
[State -3,ldb]
type = ChangeState
value = 1052
triggerall = var(59)>3
triggerall = var(1)=0
triggerall = !var(48)
triggerall = roundstate = 2
triggerall = random <= (var(59))*200
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = H
triggerall = p2bodydist x = [0,90]
triggerall = p2bodydist y >= 0
trigger1 = (stateno = 215 || (stateno = [230,235]) && AnimElemTime (6) > 0 || stateno = 251 || (stateno = [410,430]) || stateno = 706) && movehit
ignorehitpause = 0

;弱アクセルスピンキック
[State -3,lask]
type = ChangeState
value = 1000
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = p2bodydist y >= 0
trigger1 = stateno = 251 && moveguarded
trigger1 = p2bodydist x = [0,90]
trigger1 = random <= var(59)*25
trigger2 = stateno = 290 && moveguarded
trigger2 = p2bodydist x = [0,90]
trigger2 = random <= var(59)*50
trigger3 = stateno = 290 && AnimElemTime (7) > 0 && movecontact=0
trigger3 = random <= var(59)*100
ignorehitpause = 0

;アクセルスピンキック(フェイント)
[State -3,askf]
type = ChangeState
value = 1002
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = random <= var(59)*100
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
trigger1 = stateno = 290 && movehit && enemynear(var(58)),movetype = H
trigger2 = stateno = 290 && moveguarded && enemynear(var(58)),statetype != A
trigger2 = p2bodydist x = [0,120]
trigger2 = p2bodydist y >= 0
trigger3 = ((stateno = [230,235]) || stateno = 251 || (stateno = [400,430]) || stateno = 706) && movehit && enemynear(var(58)),movetype != H
ignorehitpause = 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;立ち回り
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;イナズマレッグラリアート
[State -3,MAX2ilr]
type = ChangeState
value = 2500
triggerall = var(59)>7
triggerall = var(1)=0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = life > 0
triggerall = p2life > 0
triggerall = (100*life/const(data.life)) <= 30 || life <= 300
triggerall = power >= 5000 || var(20)>0 && power >= 1000
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = p2bodydist x = [60,90]
triggerall = p2bodydist y >= 0
triggerall = ctrl || (stateno = [21,22])
trigger1 = enemynear(var(58)),stateno != [120,155]
trigger1 = enemynear(var(58)),stateno = [0,999]
trigger1 = random <= (var(59))*1
trigger2 = enemynear(var(58)),stateno = [120,155]
trigger2 = random <= (var(59))*6
ignorehitpause = 0

;MAXシェルミーフラッシュ
[State -3,MAXsf]
type = ChangeState
value = 2050
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = life > 0
triggerall = p2life > 0
triggerall = var(50)=1 && p2life <= 250
triggerall = power >= 5000 || (var(20) > 0 && power >= 1000)
triggerall = roundstate = 2
triggerall = random <= var(59)*5
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [40,60]
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [996,5270]
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = p2bodydist x = [-15,20]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || stateno = 101 || (stateno = [120,149]) || var(55)>0 && ((stateno = [21,22]) || (stateno = [99,101]))
trigger2 = var(59)>5
trigger2 = stateno = 290
ignorehitpause = 0

;シェルミーフラッシュ
[State -3,sf]
type = ChangeState
value = 2000
triggerall = var(59)>6
triggerall = var(1)=0
triggerall = !var(42)
triggerall = life > 0
triggerall = p2life > 0
triggerall = p2life <= 300
triggerall = power >= 1000 || var(20)>0
triggerall = roundstate = 2
triggerall = random <= var(59)*10
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [40,60]
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [996,5270]
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = p2bodydist x = [-15,20]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || stateno = 101 || (stateno = [120,149]) || var(55)>0 && ((stateno = [21,22]) || (stateno = [99,101]))
trigger2 = var(59)>9
trigger2 = stateno = 290
ignorehitpause = 0

;Якуса но йкацутй(八雷神)
[State -3,yi]
type = ChangeState
value = 1800
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = life > 0
triggerall = p2life > 0
triggerall = random <= var(59)*8
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [40,60]
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [996,5270]
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = p2bodydist x = [-15,20]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || stateno = 101 || (stateno = [120,149]) || var(55)>0 && ((stateno = [21,22]) || (stateno = [99,101]))
trigger2 = var(59)>9
trigger2 = stateno = 290
ignorehitpause = 0

;シェルミースパイラル
[State -3,ss]
type = ChangeState
value = 1150
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = life > 0
triggerall = p2life > 0
triggerall = random <= var(59)*6
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [40,60]
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [996,5270]
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = p2bodydist x = [-15,30]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || stateno = 101 || (stateno = [120,149]) || var(55)>0 && ((stateno = [21,22]) || (stateno = [99,101]))
trigger2 = var(59)>9
trigger2 = stateno = 290
ignorehitpause = 0

;前小ジャンプ
[State -3,sJ]
type = ChangeState
value = 42
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101])
trigger1 = enemynear(var(58)),statetype != A
trigger1 = enemynear(var(58)),movetype = I && enemynear(var(58)),movetype != H
trigger1 = !inguarddist
trigger1 = !enemynear(var(58)),numproj
trigger1 = p2bodydist x = [65,95]
trigger1 = p2bodydist y >= 0
trigger1 = random <= (var(59))*1
trigger2 = var(1)=0
trigger2 = enemynear(var(58)),statetype != A
trigger2 = enemynear(var(58)),movetype = I && enemynear(var(58)),movetype != H
trigger2 = !enemynear(var(58)),numproj
trigger2 = p2bodydist x = [105,135]
trigger2 = p2bodydist y >= 0
trigger2 = random <= (var(59))*2
trigger3 = enemynear(var(58)),statetype = C
trigger3 = enemynear(var(58)),movetype = A
trigger3 = enemynear(var(58)),hitdefattr = SCA, NA
trigger3 = p2bodydist x = [-10,50]
trigger3 = random <= (var(59))*4
trigger4 = enemynear(var(58)),statetype != A
trigger4 = enemynear(var(58)),stateno = [120,155]
trigger4 = p2bodydist x = [0,60]
trigger4 = random <= var(59)*5
trigger5 = enemynear(var(58)),statetype = C
trigger5 = enemynear(var(58)),movetype = A
trigger5 = enemynear(var(58)),animtime = -23
trigger5 = enemynear(var(58)),time >= 9
trigger5 = p2bodydist x = [0,80]
trigger5 = random <= (var(59))*60

;垂直小ジャンプ
[State -3,ssJ]
type = ChangeState
value = 43
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = p2bodydist x >50
triggerall = p2bodydist y >= 0
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101])
trigger1 = p2bodydist x = [61,75]
trigger1 = random <= (var(59))*3
trigger2 = p2bodydist x = [76,110]
trigger2 = random <= (var(59))*1

;垂直ジャンプ強キック
[State -3,jhk2]
type = ChangeState
value = 640
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= var(59)*100
triggerall = statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = stateno = 50 && vel x = 0
triggerall = stateno != [105,109]
;triggerall = !inguarddist
triggerall = !enemynear(var(58)),numproj
trigger1 = ctrl || (stateno = [120,149])

;ハイジャンプ
[State -3,hj]
type = ChangeState
value = 46
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !inguarddist
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101])
trigger1 = enemynear(var(58)),movetype != H
trigger1 = !enemynear(var(58)),numproj
trigger1 = p2bodydist x = [140,210]
trigger1 = random <= (var(59))*1
trigger2 = enemynear(var(58)),statetype != L && enemynear(var(58)),movetype != H
trigger2 = enemy(var(58)),numproj
trigger2 = p2bodydist x >= 160
trigger2 = p2bodydist y >= 0
trigger2 = random <= (var(59))*3
trigger3 = enemynear(var(58)),stateno != [5000,5099]
trigger3 = backedgebodydist <= 0
trigger3 = random <= (var(59))*1

;ｼﾞｬﾝﾌﾟ
[State -3,j]
type = changestate
value = 41
triggerall = (var(59)=[1,9])
triggerall = roundstate = 2
triggerall = random <= var(59)*1
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != A
triggerall = prevstateno != [40,52]
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = ctrl || (stateno = [21,22])
trigger1 = p2bodydist x = [80,100]
trigger1 = enemynear(var(58)),statetype = C
trigger1 = backedgebodydist > 5
trigger2 = p2bodydist x = [110,130]

;ダッシュ
[State -3,d99]
type = ChangeState
value = 99
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = stateno != [99,101]
triggerall = prevstateno != [99,101]
triggerall = !inguarddist
triggerall = frontedgebodydist >= 30
triggerall = ctrl || stateno = 22
trigger1 = p2bodydist x >= 210
trigger1 = random <= (var(59))*70
trigger2 = p2bodydist x = [120,210]
trigger2 = random <= (var(59))*40
trigger3 = p2bodydist x = [50,120]
trigger3 = random <= (var(59))*20
trigger4 = enemynear(var(58)),movetype = H
trigger4 = enemynear(var(58)),stateno != [5050,5210]
trigger4 = !enemynear(var(58)),numproj
trigger4 = p2bodydist x = [20,70]
trigger4 = random <= (var(59))*40
trigger5 = TeamMode = single || TeamMode = turns
trigger5 = enemynear(var(58)),movetype = H
trigger5 = enemynear(var(58)),stateno != [5050,5210]
trigger5 = !enemynear(var(58)),numproj
trigger5 = p2bodydist x = [20,120]
trigger5 = random <= (var(59))*50

;前進
[State -3,walkm]
type = ChangeState
value = 21
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !inguarddist
triggerall = frontedgebodydist > 0
triggerall = ctrl || (stateno = 22 && time >= 6)
trigger1 = p2bodydist x = [211,999]
trigger1 = random <= var(59)*100
trigger2 = p2bodydist x = [120,210]
trigger2 = random <= var(59)*60
trigger3 = enemynear(var(58)),statetype != L
trigger3 = enemynear(var(58)),stateno != [5110,5120]
trigger3 = p2bodydist x = [0,121]
trigger3 = random <= var(59)*80
trigger4 = enemynear(var(58)),stateno = [120,159]
trigger4 = p2bodydist x <= 60
trigger4 = random <= var(59)*50
trigger5 = enemynear(var(58)),statetype = L
trigger5 = p2bodydist x = [41,120]
trigger5 = random <= var(59)*45
trigger6 = enemynear(var(58)),statetype != L
trigger6 = enemynear(var(58)),movetype = H
trigger6 = enemynear(var(58)),stateno = [5000,5029]
trigger6 = random <= var(59)*100

;後退
[State -3,walku]
type = ChangeState
value = 22
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = !inguarddist
triggerall = ctrl || (stateno = 21 && time >= 6)
triggerall = backedgebodydist > 0
trigger1 = p2bodydist x = [240,270]
trigger1 = random <= var(59)*2
trigger2 = p2bodydist x = [120,240]
trigger2 = random <= var(59)*1
trigger3 = p2bodydist x = [-10,120]
trigger3 = random <= var(59)*3
trigger4 = enemynear(var(58)),statetype != A
trigger4 = p2bodydist x = [-40,0]
trigger5 = enemynear(var(58)),statetype = L
trigger5 = p2bodydist x <= 40
trigger5 = random <= var(59)*100

;後退ダッシュ
[State -3,run back]
type = ChangeState
value = 105
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = var(1)=0 && random <= var(59)*1 || var(1)=1 && random <= var(59)*2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [996,999]
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [60,110]
triggerall = backedgedist > 60
trigger1 = ctrl || (stateno = [21,22])
ignorehitpause = 0

;フロントフラッシュ/ЭНРАИ
[State -3,throwK]
type = ChangeState
value = 850
triggerall = var(59)>0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = random <= var(59)*30
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = stateno != [98,101]
triggerall = enemynear(var(58)),stateno != [120,153]
triggerall = enemynear(var(58)),stateno != [1000,5270]
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = !inguarddist
triggerall = backedgedist <= 50
triggerall = p2bodydist x < 5
triggerall = p2bodydist x = [-15,5]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [120,149])
ignorehitpause = 0

;シェルミーフラッシュ・オリジナル/БАКУРАИ(P投げ)
[State -3,throwP]
type = ChangeState
value = 800
triggerall = var(59)>0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = random <= var(59)*30
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = stateno != [98,101]
triggerall = enemynear(var(58)),stateno != [120,153]
triggerall = enemynear(var(58)),stateno != [1000,5270]
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = !inguarddist
triggerall = p2bodydist x < 5
triggerall = p2bodydist x = [-15,5]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [120,149])
ignorehitpause = 0

;Такэру Мйкажутй(建御雷)（パワー溜め）
[State -3,tm]
type = ChangeState
value = 1700
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = var(20)=0
triggerall = roundstate = 2
triggerall = power < 5000
triggerall = statetype != A
triggerall = enemynear(var(58)),movetype != A
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101])
trigger1 = enemynear(var(58)),stateno = [0,999]
trigger1 = p2bodydist x > 200
trigger1 = random <= var(59)*2
trigger2 = (100*life/const(data.life)) > 75
trigger2 = enemynear(var(58)),statetype = L
trigger2 = p2bodydist x >= 160
trigger2 = random <= var(59)*7
trigger3 = (100*life/const(data.life)) > 75
trigger3 = enemynear(var(58)),stateno = [5030,5210]
trigger3 = p2bodydist x >= 120
trigger3 = p2bodydist y >= -30
trigger3 = random <= var(59)*5
trigger4 = enemynear(var(58)),statetype != L
trigger4 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger4 = enemynear(var(58)),stateno = [0,999]
trigger4 = p2bodydist x >= 190
trigger4 = random <= (var(59))*10
ignorehitpause = 0

;MAX発動
[State -3,max]
type = ChangeState
value = 900
triggerall = var(59)>0
triggerall = var(20)=0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),movetype != A
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101])
trigger1 = power >= 5000
trigger1 = enemynear(var(58)),statetype != A
trigger1 = p2bodydist x >= 180
trigger1 = random <= var(59)*1
trigger2 = power >= 5000
trigger2 = enemynear(var(58)),statetype = L
trigger2 = p2bodydist x >= 120
trigger2 = random <= var(59)*3
trigger3 = (100*life/const(data.life)) <= 30 || life <= 300
trigger3 = power >= 2000
trigger3 = enemynear(var(58)),statetype = A
trigger3 = enemynear(var(58)),stateno = [5030,5210]
trigger3 = p2bodydist x = [120,320]
trigger3 = p2bodydist y >= -30
trigger3 = random <= var(59)*15
ignorehitpause = 0

;遠距離立ち弱パンチ
[State -3,elp]
type = ChangeState
value = 200
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= (var(59))*5
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2dist x >50
triggerall = p2bodydist x = [0+floor(6*(enemynear(var(58)),vel x)),20+floor(6*(enemynear(var(58)),vel x))]
triggerall = p2bodydist y = [-45-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)),-30-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20))]
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101])
ignorehitpause = 0

;しゃがみ弱パンチ
[State -3,clp]
type = ChangeState
value = 400
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != 5120
triggerall = enemynear(var(58)),stateno != 5201
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = enemynear(var(58)),vel x > -3
triggerall = p2dist y+floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)) = [-10,0]
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101])
trigger1 = p2bodydist x+floor(6*(enemynear(var(58)),vel x))*(enemynear(var(58)),facing)*ifelse((enemynear(var(58)),pos x-pos x)>=0,1,-1)*(enemynear(var(58)),statetype = A) = [-5,20]
trigger1 = random <= var(59)*10
trigger2 = p2bodydist x = [-5,20]
trigger2 = enemynear(var(58)),backedgebodydist < 30-enemynear(var(58)),const(size.ground.back) || enemynear(var(58)),frontedgebodydist < 30-enemynear(var(58)),const(size.ground.front)
trigger2 = random <= var(59)*12
ignorehitpause = 0

;立ち弱キック
[State -3,lk]
type = ChangeState
value = Ifelse(p2dist x <=50,235,230)
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != 5120
triggerall = enemynear(var(58)),stateno != 5201
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = enemynear(var(58)),vel x > -3
triggerall = p2dist y+floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)) = [-10,0]
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101])
trigger1 = p2bodydist x+floor(6*(enemynear(var(58)),vel x))*(enemynear(var(58)),facing)*ifelse((enemynear(var(58)),pos x-pos x)>=0,1,-1)*(enemynear(var(58)),statetype = A) = [0,40]
trigger1 = random <= var(59)*11
trigger2 = p2bodydist x = [0,40]
trigger2 = enemynear(var(58)),backedgebodydist < 30-enemynear(var(58)),const(size.ground.back) || enemynear(var(58)),frontedgebodydist < 30-enemynear(var(58)),const(size.ground.front)
trigger2 = random <= var(59)*14
ignorehitpause = 0

;しゃがみ弱キック
[State -3,clk]
type = ChangeState
value = 430
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != 5120
triggerall = enemynear(var(58)),stateno != 5201
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = enemynear(var(58)),vel x > -3
triggerall = p2dist y+floor(8*(enemynear(var(58)),vel y)+(8*(8+1)/2)*fvar(20)) = [-5,0]
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101])
trigger1 = p2bodydist x+floor(8*(enemynear(var(58)),vel x))*(enemynear(var(58)),facing)*ifelse((enemynear(var(58)),pos x-pos x)>=0,1,-1)*(enemynear(var(58)),statetype = A) = [0,60]
trigger1 = random <= var(59)*4
trigger2 = p2bodydist x = [0,60]
trigger2 = enemynear(var(58)),backedgebodydist < 30-enemynear(var(58)),const(size.ground.back) || enemynear(var(58)),frontedgebodydist < 30-enemynear(var(58)),const(size.ground.front)
trigger2 = random <= var(59)*6
ignorehitpause = 0

;ふっ飛ばし攻撃
[State -3,f]
type = ChangeState
value = 290
triggerall = var(59)>6
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != 5120
triggerall = enemynear(var(58)),stateno != 5201
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = enemynear(var(58)),vel x > -3
triggerall = p2dist y+floor(16*(enemynear(var(58)),vel y)+(16*(16+1)/2)*fvar(20)) = [-40,0]
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101])
trigger1 = p2bodydist x+floor(16*(enemynear(var(58)),vel x))*(enemynear(var(58)),facing)*ifelse((enemynear(var(58)),pos x-pos x)>=0,1,-1)*(enemynear(var(58)),statetype = A) = [50,60]
trigger1 = random <= var(59)*5
trigger2 = p2bodydist x = [50,60]
trigger2 = enemynear(var(58)),backedgebodydist < 35-enemynear(var(58)),const(size.ground.back) || enemynear(var(58)),frontedgebodydist < 35-enemynear(var(58)),const(size.ground.front)
trigger2 = random <= var(59)*7
ignorehitpause = 0

;ЖИНРАЙ(迅雷)
[State -3,6x]
type = ChangeState
value = 270
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != 5120
triggerall = enemynear(var(58)),stateno != 5201
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = enemynear(var(58)),vel x > -3
triggerall = p2dist y+floor(13*(enemynear(var(58)),vel y)+(13*(13+1)/2)*fvar(20)) = [-5,0]
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101])
trigger1 = p2bodydist x+floor(13*(enemynear(var(58)),vel x))*(enemynear(var(58)),facing)*ifelse((enemynear(var(58)),pos x-pos x)>=0,1,-1)*(enemynear(var(58)),statetype = A) = [60,100]
trigger1 = random <= var(59)*6
trigger2 = p2bodydist x = [60,100]
trigger2 = enemynear(var(58)),backedgebodydist < 35-enemynear(var(58)),const(size.ground.back) || enemynear(var(58)),frontedgebodydist < 35-enemynear(var(58)),const(size.ground.front)
trigger2 = random <= var(59)*9
ignorehitpause = 0

;シェルミースタンド/КОУРАИ(降雷)
[State -3,6a]
type = ChangeState
value = 250
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist y >= 0
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101])
trigger1 = enemynear(var(58)),statetype = C
trigger1 = p2bodydist x = [70,80]
trigger1 = random <= (var(59))*2
trigger2 = enemynear(var(58)),statetype != A
trigger2 = p2bodydist x = [81,90]
trigger2 = random <= (var(59))*1
ignorehitpause = 0

;Мугэцу но Райун(無月の雷雲) X
[State -3,mrX]
type = ChangeState
value = 1650
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [5000,5210]
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist y >= 0
triggerall = ctrl || (stateno = [21,22]) || (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger1 = (100*life/const(data.life)) > 75
trigger1 = enemynear(var(58)),vel x != 0
trigger1 = p2bodydist x = [50+ceil(25*(enemynear(var(58)),vel x)),80+ceil(25*(enemynear(var(58)),vel x))]
trigger1 = random <= (var(59))*10
trigger2 = (100*life/const(data.life)) <= 75
trigger2 = enemynear(var(58)),vel x != 0
trigger2 = p2bodydist x = [60+ceil(25*(enemynear(var(58)),vel x)),100+ceil(25*(enemynear(var(58)),vel x))]
trigger2 = random <= (var(59))*14
trigger3 = (100*life/const(data.life)) > 50
trigger3 = enemynear(var(58)),vel x = 0
trigger3 = p2bodydist x = [45,70]
trigger3 = random <= (var(59))*1
trigger4 = p2bodydist x = [90,140]
trigger4 = random <= (var(59))*13
trigger5 = p2bodydist x = [141,170]
trigger5 = random <= (var(59))*18
trigger6 = p2bodydist x = [171,210]
trigger6 = random <= (var(59))*22
trigger7 = p2bodydist x = [211,500]
trigger7 = random <= (var(59))*25
ignorehitpause = 0

;Мугэцу но Райун(無月の雷雲) A
[State -3,mrA]
type = ChangeState
value = 1651
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [5000,5210]
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x > 60
triggerall = p2bodydist y >= 0
triggerall = ctrl || (stateno = [21,22]) || (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger1 = (100*life/const(data.life)) > 75
trigger1 = enemynear(var(58)),vel x != 0
trigger1 = p2bodydist x = [100+ceil(29*(enemynear(var(58)),vel x)),140+ceil(29*(enemynear(var(58)),vel x))]
trigger1 = random <= (var(59))*10
trigger2 = (100*life/const(data.life)) <= 75
trigger2 = enemynear(var(58)),vel x != 0
trigger2 = p2bodydist x = [120+ceil(29*(enemynear(var(58)),vel x)),160+ceil(29*(enemynear(var(58)),vel x))]
trigger2 = random <= (var(59))*10
trigger3 = (100*life/const(data.life)) > 60
trigger3 = enemynear(var(58)),vel x = 0
trigger3 = p2bodydist x = [90,130]
trigger3 = random <= (var(59))*2
trigger4 = (100*life/const(data.life)) <= 60
trigger4 = enemynear(var(58)),vel x = 0
trigger4 = p2bodydist x = [110,150]
trigger4 = random <= (var(59))*1
trigger5 = p2bodydist x = [151,190]
trigger5 = random <= (var(59))*7
trigger6 = p2bodydist x = [191,210]
trigger6 = random <= (var(59))*14
trigger7 = p2bodydist x = [211,500]
trigger7 = random <= (var(59))*30
ignorehitpause = 0

;Мугэцу но Райун(無月の雷雲) Y
[State -3,mrY]
type = ChangeState
value = 1652
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [5000,5210]
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x > 100
triggerall = p2bodydist y >= 0
triggerall = ctrl || (stateno = [21,22]) || (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger1 = (100*life/const(data.life)) > 60
trigger1 = enemynear(var(58)),vel x = 0
trigger1 = p2bodydist x = [160,200]
trigger1 = random <= (var(59))*2
trigger2 = (100*life/const(data.life)) <= 60
trigger2 = enemynear(var(58)),vel x = 0
trigger2 = p2bodydist x = [180,210]
trigger2 = random <= (var(59))*1
trigger3 = p2bodydist x = [211,500]
trigger3 = random <= (var(59))*1
ignorehitpause = 0

;Мугэцу но Райун(無月の雷雲) B
[State -3,mrB]
type = ChangeState
value = 1653
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [5000,5210]
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x > 160
triggerall = p2bodydist y >= 0
triggerall = ctrl || (stateno = [21,22]) || (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger1 = (100*life/const(data.life)) > 60
trigger1 = enemynear(var(58)),vel x = 0
trigger1 = p2bodydist x = [180,220]
trigger1 = random <= (var(59))*2
trigger2 = (100*life/const(data.life)) <= 60
trigger2 = enemynear(var(58)),vel x = 0
trigger2 = p2bodydist x = [211,500]
trigger2 = random <= (var(59))*1
ignorehitpause = 0

;弱Ятанаги но Мучи(八咫薙の鞭)
[State -3,lym]
type = ChangeState
value = 1600
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = S && enemynear(var(58)),const(size.head.pos.y)+10 <= -60 || var(45)>=1 && enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = (enemynear(var(58)),movetype = I && enemynear(var(58)),stateno = [0,999])
triggerall = enemynear(var(58)),movetype != H
triggerall = prevstateno != 1600
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [5000,5210]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101])
trigger1 = p2bodydist x = [90,130]
trigger1 = random <= (var(59))*1
trigger2 = ctrl || (stateno = [21,22]) || (stateno = [99,101])
trigger2 = p2bodydist x = [131,150]
trigger2 = random <= (var(59))*2
trigger3 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger3 = p2bodydist x = [90,140]
trigger3 = random <= (var(59))*3
ignorehitpause = 0

;弱Шажицу но Одори(斜日の踊り)
[State -3,lso]
type = ChangeState
value = 1500
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [5000,5210]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [80,105]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101])
trigger1 = random <= (var(59))*6
trigger2 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger2 = random <= (var(59))*9
ignorehitpause = 0

;強Шажицу но Одори(斜日の踊り)
[State -3,hso]
type = ChangeState
value = 1501
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I || (enemynear(var(58)),movetype = A && enemynear(var(58)),stateno != [3000,3999])
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [5000,5210]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101])
trigger1 = p2bodydist x = [106,130]
trigger1 = random <= (var(59))*7
trigger2 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger2 = p2bodydist x = [100,125]
trigger2 = random <= (var(59))*10
ignorehitpause = 0

;雷神の杖用前ジャンプ
[State -3,rtj1]
type = ChangeState
value = 47
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [5000,5210]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist y >= 0
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101])
trigger1 = p2bodydist x = [100,130]
trigger1 = random <= (var(59))*1
trigger2 = p2bodydist x = [131,160]
trigger2 = random <= (var(59))*2
trigger2 = p2bodydist x = [161,190]
trigger2 = random <= (var(59))*1
ignorehitpause = 0

;雷神の杖用垂直ジャンプ
[State -3,rtj2]
type = ChangeState
value = 48
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [5000,5210]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = backedgebodydist > 60
triggerall = p2bodydist y >= 0
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101])
trigger1 = p2bodydist x = [90,120]
trigger1 = random <= (var(59))*1
trigger2 = p2bodydist x = [121,150]
trigger2 = random <= (var(59))*2
trigger2 = p2bodydist x = [151,180]
trigger2 = random <= (var(59))*3
ignorehitpause = 0

;雷神の杖用後ジャンプ
[State -3,rtj3]
type = ChangeState
value = 49
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [5000,5210]
triggerall = !((p2stateno = [700,710]) && p2movetype = I && enemynear(var(58)),authorname = "Ahuron")
triggerall = !((p2stateno = [5400,5410]) && p2movetype = I && enemynear(var(58)),authorname = "GM")
triggerall = !(p2stateno = 52000 && p2movetype = I && enemynear(var(58)),authorname = "jin")
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = backedgebodydist > 60
triggerall = p2bodydist y >= 0
triggerall = ctrl || (stateno = [21,22]) || (stateno = [99,101])
trigger1 = p2bodydist x = [90,130]
trigger1 = random <= (var(59))*2
trigger2 = p2bodydist x = [131,150]
trigger2 = random <= (var(59))*2
trigger2 = p2bodydist x = [151,210]
trigger2 = random <= (var(59))*1
ignorehitpause = 0

;シェルミーアックス
[State -3,sa]
type = ChangeState
value = 1350
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = roundstate = 2
triggerall = random <= (var(59))*1
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = (enemynear(var(58)),movetype = I && enemynear(var(58)),stateno = [0,999]) || (enemynear(var(58)),movetype = A && enemynear(var(58)),stateno != [3000,3999])
triggerall = enemynear(var(58)),stateno != [120,155]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [90,105]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || stateno = 290
ignorehitpause = 0

;弱シェルミーキャッチ
[State -3,lscat]
type = ChangeState
value = 1300
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = prevstateno != [1300,1320]
triggerall = enemynear(var(58)),stateno != [20,29]
triggerall = enemynear(var(58)),stateno != [38,49]
triggerall = enemynear(var(58)),stateno != [98,109]
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = enemynear(var(58)),vel x <=0
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = enemynear(var(58)),movetype = I || (enemynear(var(58)),movetype = A && enemynear(var(58)),stateno != [3000,3999])
trigger1 = p2bodydist x = [60,85]
trigger1 = (100*life/const(data.life)) > 75 && random <= (var(59))*2 || (100*life/const(data.life)) <= 40 && random <= 6
trigger2 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger2 = enemynear(var(58)),movetype = A
trigger2 = p2bodydist x = [60,85]
trigger2 = (100*life/const(data.life)) > 75 && random <= (var(59))*3 || (100*life/const(data.life)) <= 40 && random <= 7
trigger3 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger3 = enemynear(var(58)),movetype = I || (enemynear(var(58)),movetype = A && enemynear(var(58)),stateno != [3000,3999])
trigger3 = p2bodydist x = [86,96]
trigger3 = (100*life/const(data.life)) > 75 && random <= (var(59))*2 || (100*life/const(data.life)) <= 40 && random <= 8
trigger4 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger4 = enemynear(var(58)),movetype = A
trigger4 = p2bodydist x = [86,96]
trigger4 = (100*life/const(data.life)) > 75 && random <= (var(59))*3 || (100*life/const(data.life)) <= 40 && random <= 9
ignorehitpause = 0

;強シェルミーキャッチ
[State -3,hscat]
type = ChangeState
value = 1301
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = !var(42)
triggerall = (100*life/const(data.life)) > 75 && random <= (var(59))*1 || (100*life/const(data.life)) <= 40 && random <= 7
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I || (enemynear(var(58)),movetype = A && enemynear(var(58)),stateno != [3000,3999])
triggerall = enemynear(var(58)),movetype != H
triggerall = prevstateno != [1700,1720]
triggerall = enemynear(var(58)),stateno != [20,29]
triggerall = enemynear(var(58)),stateno != [38,49]
triggerall = enemynear(var(58)),stateno != [98,109]
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = p2bodydist x = [140,180]
triggerall = enemynear(var(58)),vel x <=0
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger2 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
ignorehitpause = 0

;弱ダイヤモンドバスト
[State -3,ldb]
type = ChangeState
value = 1050
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = enemynear(var(58)),movetype = I || (enemynear(var(58)),movetype = A && enemynear(var(58)),stateno != [3000,3999])
trigger1 = enemynear(var(58)),stateno != [120,155]
trigger1 = p2bodydist x = [80,90]
trigger1 = random <= (var(59))*2
trigger2 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger2 = enemynear(var(58)),stateno = [120,155]
trigger2 = p2bodydist x = [60,80]
trigger2 = random <= (var(59))*3
trigger3 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger3 = enemynear(var(58)),movetype = I && enemynear(var(58)),stateno = [0,999]
trigger3 = p2bodydist x = [60,70]
trigger3 = random <= (var(59))*4
ignorehitpause = 0

;強ダイヤモンドバスト
[State -3,ldb]
type = ChangeState
value = 1052
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = !var(42)
triggerall = roundstate = 2
triggerall = random <= (var(59))*1
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I || (enemynear(var(58)),movetype = A && enemynear(var(58)),stateno != [3000,3999])
triggerall = enemynear(var(58)),movetype != H
triggerall = (enemynear(var(58)),stateno!=[120,159])
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = enemynear(var(58)),prevstateno != [5000,5270]
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [95,110]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger2 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
ignorehitpause = 0

;Fカップチュード
[State -3,Fct]
type = ChangeState
value = 1250
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype = S
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = !enemynear(var(58)),hitdefattr = SCA,NT,ST,HT
triggerall = stateno != [120,159]
triggerall = prevstateno != [120,159]
triggerall = prevstateno != 1250
triggerall = (enemynear(var(58)),stateno!=[120,159])
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [60,110]
triggerall = p2bodydist y >= 0
trigger1 = (100*life/const(data.life)) > 75
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = random <= var(59)*1
trigger2 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger2 = random <= var(59)*4
ignorehitpause = 0

;弱アクセルスピンキック
[State -3,lask]
type = ChangeState
value = 1000
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = (enemynear(var(58)),movetype = I && enemynear(var(58)),stateno = [0,999]) || (enemynear(var(58)),movetype = A && enemynear(var(58)),stateno != [3000,3999])
triggerall = enemynear(var(58)),movetype != H
triggerall = (enemynear(var(58)),stateno!=[120,159])
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = p2bodydist x = [80,100]
trigger1 = random <= (var(59))*1
trigger2 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger2 = p2bodydist x = [101,140]
trigger2 = random <= (var(59))*3
trigger3 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger3 = p2bodydist x = [120,140]
trigger3 = random <= var(59)*4
ignorehitpause = 0

;強アクセルスピンキック
[State -3,hask]
type = ChangeState
value = 1001
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = (enemynear(var(58)),movetype = I && enemynear(var(58)),stateno = [0,999]) || (enemynear(var(58)),movetype = A && enemynear(var(58)),stateno != [3000,3999])
triggerall = enemynear(var(58)),movetype != H
triggerall = (enemynear(var(58)),stateno!=[120,159])
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger1 = p2bodydist x = [140,150]
trigger1 = random <= (var(59))*1
trigger2 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger2 = !enemynear(var(58)),numproj
trigger2 = p2bodydist x = [150,190]
trigger2 = random <= (var(59))*2
trigger3 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
trigger3 = p2bodydist x = [150,190]
trigger3 = random <= (var(59))*1
ignorehitpause = 0

;アクセルスピンキック(フェイント)
[State -3,askf]
type = ChangeState
value = 1002
triggerall = var(59)>0
triggerall = var(1)=0
triggerall = !var(44)
triggerall = roundstate = 2
triggerall = random <= (var(59))*1
triggerall = statetype != A
triggerall = enemynear(var(58)),statetype != A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I || (enemynear(var(58)),movetype = A && enemynear(var(58)),stateno != [3000,3999])
triggerall = enemynear(var(58)),movetype != H
triggerall = (enemynear(var(58)),stateno!=[120,159])
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = numhelper(10000+id) > 0
triggerall = (helper(10000+id),var(39) <= 0 || helper(10000+id),var(39) > 0 && !inguarddist && !helper(10000+id),inguarddist) && (helper(10000+id),var(37) <= 0 || !inguarddist && !helper(10000+id),inguarddist)
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [210,320]
triggerall = p2bodydist y >= 0
trigger1 = ctrl || (stateno = [21,22]) || (stateno = [99,101]) || (stateno = [120,149])
trigger2 = (stateno = [200,205]) || stateno = 215 || (stateno = [230,235]) || stateno = 290 || (stateno = [400,430])
ignorehitpause = 0

;ジャンプ強パンチ
[State -3,jhp]
type = ChangeState
value = 610
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype = A
triggerall = (enemynear(var(58)),statetype != A && vel y >= -2) || enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = prevstateno != [105,109]
triggerall = !inguarddist
triggerall = pos y+floor(-floor(6*vel y)-(6*(6)/2)*0.52) <= 0
triggerall = p2bodydist x = [-40+floor(6*(enemynear(var(58)),vel x)+6*(vel x)),40+floor(6*(enemynear(var(58)),vel x)+6*(vel x))]
triggerall = p2bodydist y = [-6-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)-6*(vel y)-5*0.55),50-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)-6*(vel y)-(6*(6+1)/2)*0.55)]
trigger1 = ctrl || (stateno = [120,149])
ignorehitpause = 0

;ジャンプ強パンチ2
[State -3,jhp2]
type = ChangeState
value = 610
triggerall = var(59)>0
triggerall = statetype = A
triggerall = enemynear(var(58)),movetype != H
triggerall = (enemynear(var(58)),stateno = [5120,5129]) && enemynear(var(58)),animtime >= -10
triggerall = enemynear(var(58)),ctrl || enemynear(var(58)),anim < 200 || enemynear(var(58)),time < 8*(10-var(59)) || enemynear(var(58)),movetype != A || enemynear(var(58)),pos y >= 0 && !enemynear(var(58)),vel y || enemynear(var(58)),time > 12
triggerall = pos y+floor(6*vel y)+(6*(6+1)/2)*.58 <= 0
triggerall = pos y+floor(9*vel y)+(9*(9+1)/2)*.58 > 0-5*(9-ifelse(var(59)>9,9,var(59))) || (enemynear(var(58)),pos y < 0 || enemynear(var(58)),vel y) && (vel y > -1.5)
triggerall = ctrl || stateno = 50 || (stateno = [120,149])
trigger1 = vel x >= 0 && p2dist x >= floor(7*vel x) && p2dist y+floor(7*(enemynear(var(58)),vel y)+(7*(7+1)/2)*fvar(20)-floor(7*vel y)-(7*(7+1)/2)*.58) >= -(enemynear(var(58)),const(size.mid.pos.y)-20)-30
trigger1 = p2bodydist x+floor(8*(enemynear(var(58)),vel x)*(enemynear(var(58)),statetype=A))*(enemynear(var(58)),facing)*ifelse((enemynear(var(58)),pos x-pos x)>=0,1,-1)-floor(8*vel x) = [-70,10]
trigger1 = p2dist y+floor(9*(enemynear(var(58)),vel y)+(9*(9+1)/2)*fvar(20)-floor(9*vel y)-(9*(9+1)/2)*.58)=[0,40]
trigger1 = random <= (var(59))*90
trigger2 = vel x >= 0 && p2dist x > 0 && p2dist y+floor(7*(enemynear(var(58)),vel y)+(7*(7+1)/2)*fvar(20)-floor(7*vel y)-(7*(7+1)/2)*.58) >= -(enemynear(var(58)),const(size.mid.pos.y)-20)-30
trigger2 = p2dist y+floor(9*(enemynear(var(58)),vel y)+(9*(9+1)/2)*fvar(20)-floor(9*vel y)-(9*(9+1)/2)*.58)=[0,40]
trigger2 = (enemynear(var(58)),backedgebodydist <= 35-enemynear(var(58)),const(size.ground.back) || enemynear(var(58)),frontedgebodydist <= 35-enemynear(var(58)),const(size.ground.front)) && p2bodydist x = [-70,10+floor(8*vel x)]
trigger2 = random <= (var(59))*90
trigger3 = vel x > 0 && p2dist x < floor(6*vel x) && p2dist y >= -(enemynear(var(58)),const(size.mid.pos.y)-20*(enemynear(var(58)),statetype != C))-30
trigger3 = p2bodydist x+floor(6*(enemynear(var(58)),vel x)*(enemynear(var(58)),statetype=A))*(enemynear(var(58)),facing)*ifelse((enemynear(var(58)),pos x-pos x)>=0,1,-1)-floor(6*vel x) = [-70,-40]
trigger3 = p2dist y+floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)-floor(6*vel y)-(6*(6+1)/2)*.58)=[0,-(enemynear(var(58)),const(size.mid.pos.y)-20*(enemynear(var(58)),statetype != C))-30]
trigger3 = random <= (var(59))*90
trigger4 = p2dist x < 0 && p2dist y >= -(enemynear(var(58)),const(size.mid.pos.y)-20*(enemynear(var(58)),statetype != C))-30 && p2bodydist x = [-10,10]
trigger4 = p2dist y+floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)-floor(6*vel y)-(6*(6+1)/2)*.58)=[0,-(enemynear(var(58)),const(size.mid.pos.y)-20*(enemynear(var(58)),statetype != C))-30]
trigger4 = random <= (var(59))*90
trigger5 = p2bodydist x+floor(7*(enemynear(var(58)),vel x)*(enemynear(var(58)),statetype=A))*(enemynear(var(58)),facing)*ifelse((enemynear(var(58)),pos x-pos x)>=0,1,-1)-floor(7*vel x) = [-40,20]
trigger5 = p2dist y+floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)-floor(6*vel y)-(6*(6+1)/2)*.58)=[0,-(enemynear(var(58)),const(size.mid.pos.y)-20)-30]
trigger5 = random <= (var(59))*40
trigger6 = (enemynear(var(58)),backedgebodydist <= 35-enemynear(var(58)),const(size.ground.back) || enemynear(var(58)),frontedgebodydist <= 35-enemynear(var(58)),const(size.ground.front)) && p2bodydist x = [-40,20+floor(7*vel x)]
trigger6 = p2dist y+floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)-floor(6*vel y)-(6*(6+1)/2)*.58)=[0,-(enemynear(var(58)),const(size.mid.pos.y)-20)-30]
trigger6 = random <= (var(59))*40
ignorehitpause = 0

;斜めジャンプ強キック
[State -3,jhk]
type = ChangeState
value = 640
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype = A
triggerall = (enemynear(var(58)),statetype != A && vel y >= -2) || enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = prevstateno != [105,109]
triggerall = !inguarddist
triggerall = vel x != 0
triggerall = pos y+floor(-floor(9*vel y)-(9*(9)/2)*0.52) <= 0
triggerall = p2bodydist x = [-25+floor(9*(enemynear(var(58)),vel x)+9*(vel x)),70+floor(9*(enemynear(var(58)),vel x)+9*(vel x))]
triggerall = p2bodydist y = [-9-floor(9*(enemynear(var(58)),vel y)+(9*(9+1)/2)*fvar(20)-9*(vel y)-5*0.55),60-floor(9*(enemynear(var(58)),vel y)+(9*(9+1)/2)*fvar(20)-9*(vel y)-(9*(9+1)/2)*0.55)]
trigger1 = ctrl || (stateno = [120,149])
ignorehitpause = 0

;ジャンプ強キック2
[State -3,jhk2]
type = ChangeState
value = 640
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = statetype = A
triggerall = enemynear(var(58)),movetype != H
triggerall = (enemynear(var(58)),stateno = [5120,5129]) && enemynear(var(58)),animtime >= -16
triggerall = enemynear(var(58)),ctrl || enemynear(var(58)),anim < 200 || enemynear(var(58)),time < 8*(10-var(59)) || enemynear(var(58)),movetype != A
triggerall = vel x != 0
triggerall = pos y+floor(9*vel y)+(9*(9+1)/2)*.58 <= 0
triggerall = pos y+floor(16*vel y)+(16*(16+1)/2)*.58 > 0-5*(9-ifelse(var(59)>9,9,var(59))) || (enemynear(var(58)),pos y < 0 || enemynear(var(58)),vel y) && (vel y > -1.5)  || vel x < 0
triggerall = ctrl || stateno = 50 || (stateno = [120,149])
trigger1 = p2bodydist x+floor(10*(enemynear(var(58)),vel x)*(enemynear(var(58)),statetype=A))*(enemynear(var(58)),facing)*ifelse((enemynear(var(58)),pos x-pos x)>=0,1,-1)-floor(10*vel x) = [-50,70]
trigger1 = p2dist y+floor(9*(enemynear(var(58)),vel y)+(9*(9+1)/2)*fvar(20)-floor(9*vel y)-(9*(9+1)/2)*.58)=[-5,-(enemynear(var(58)),const(size.mid.pos.y)-20)-45]
trigger1 = random <= (var(59))*20
trigger2 = (enemynear(var(58)),backedgebodydist <= 35-enemynear(var(58)),const(size.ground.back) || enemynear(var(58)),frontedgebodydist <= 35-enemynear(var(58)),const(size.ground.front)) && p2bodydist x = [-50,75+floor(10*vel x)]
trigger2 = p2dist y+floor(9*(enemynear(var(58)),vel y)+(9*(9+1)/2)*fvar(20)-floor(9*vel y)-(9*(9+1)/2)*.58)=[-5,-(enemynear(var(58)),const(size.mid.pos.y)-20)-45]
trigger2 = random <= (var(59))*20
trigger3 = vel x >= 0 && p2dist y+floor(13*(enemynear(var(58)),vel y)+(13*(13+1)/2)*fvar(20)-floor(13*vel y)-(13*(13+1)/2)*.58)=[-5,40]
trigger3 = p2bodydist x+floor(16*(enemynear(var(58)),vel x)*(enemynear(var(58)),statetype=A))*(enemynear(var(58)),facing)*ifelse((enemynear(var(58)),pos x-pos x)>=0,1,-1)-floor(16*vel x) = [20,75]
trigger3 = random <= (var(59))*45
trigger4 = vel x >= 0 && p2dist y+floor(13*(enemynear(var(58)),vel y)+(13*(13+1)/2)*fvar(20)-floor(13*vel y)-(13*(13+1)/2)*.58)=[-5,40]
trigger4 = (enemynear(var(58)),backedgebodydist <= 35-enemynear(var(58)),const(size.ground.back) || enemynear(var(58)),frontedgebodydist <= 35-enemynear(var(58)),const(size.ground.front)) && p2bodydist x = [20,60+floor(16*vel x)]
trigger4 = random <= (var(59))*60
ignorehitpause = 0

;垂直ジャンプ強キック
[State -3,jhk2]
type = ChangeState
value = 640
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype = A
triggerall = (enemynear(var(58)),statetype != A && vel y >= -2) || enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = prevstateno != [105,109]
triggerall = !inguarddist
triggerall = vel x = 0
triggerall = pos y+floor(-floor(6*vel y)-(6*(6)/2)*0.52) <= 0
triggerall = p2bodydist x = [0+floor(6*(enemynear(var(58)),vel x)+6*(vel x)),70+floor(6*(enemynear(var(58)),vel x)+6*(vel x))]
triggerall = p2bodydist y = [-6-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)-6*(vel y)-5*0.55),60-floor(6*(enemynear(var(58)),vel y)+(6*(6+1)/2)*fvar(20)-6*(vel y)-(6*(6+1)/2)*0.55)]
trigger1 = ctrl || (stateno = [120,149])
ignorehitpause = 0

;ジャンプふっ飛ばし攻撃
[State -3,jf]
type = ChangeState
value = 690
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = random <= (var(59))*100
triggerall = statetype = A
triggerall = (enemynear(var(58)),statetype != A && vel y >= -2) || enemynear(var(58)),statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = prevstateno != [105,109]
triggerall = !inguarddist
triggerall = pos y+floor(-floor(13*vel y)-(13*(13)/2)*0.52) <= 0
triggerall = p2bodydist x = [0+floor(13*(enemynear(var(58)),vel x)+13*(vel x)),60+floor(13*(enemynear(var(58)),vel x)+13*(vel x))]
triggerall = p2bodydist y = [-13-floor(13*(enemynear(var(58)),vel y)+(13*(13+1)/2)*fvar(20)-13*(vel y)-5*0.55),30-floor(13*(enemynear(var(58)),vel y)+(13*(13+1)/2)*fvar(20)-13*(vel y)-(13*(13+1)/2)*0.55)]
trigger1 = ctrl || (stateno = [120,149])
ignorehitpause = 0

;弱Райжин но Цуэ(雷神の杖)
[State -3,lrt]
type = ChangeState
value = 1550
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = random <= (var(59))*2
triggerall = statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [0,110]
trigger1 = stateno = 105
ignorehitpause = 0

;強Райжин но Цуэ(雷神の杖)
[State -3,hrt]
type = ChangeState
value = 1551
triggerall = var(59)>0
triggerall = var(1)=1
triggerall = roundstate = 2
triggerall = random <= (var(59))*3
triggerall = statetype = A
triggerall = enemynear(var(58)),statetype != L
triggerall = enemynear(var(58)),movetype = I
triggerall = enemynear(var(58)),movetype != H
triggerall = enemynear(var(58)),stateno != [120,159]
triggerall = enemynear(var(58)),stateno != [5000,5270]
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x = [90,160]
trigger1 = stateno = 105
ignorehitpause = 0

;挑発
[State -3,taunt]
type = ChangeState
value = 199
triggerall = var(59)>0
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = enemynear(var(58)),movetype != A
triggerall = !inguarddist && !enemynear(var(58)),numproj
triggerall = p2bodydist x > 120
triggerall = ctrl || (stateno = [21,22])
trigger1 = var(59)=1
trigger1 = random < 120
trigger2 = var(59)=[2,3]
trigger2 = random < 50
ignorehitpause = 0


;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;AI起動&ガードヘルパー
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 10000]
type = A
ctrl = 0
anim = 0
velset = 0,0
movetype = I
physics = N
sprpriority = 1

[State 10000,0];消しておく
type = assertspecial
trigger1 = 1
flag = invisible
flag2 = noshadow

[State 10000,1];無敵
type = nothitby
value = SCA
trigger1 = 1

[State 10000,2];押せない
type = PlayerPush
trigger1 = 1
value = 0

[State 10000,3];保険
type=selfstate
trigger1=!ishelper
value=0

[State 10000,4];プレイヤー認識
type = varset
triggerall=var(59)!=1
triggerall=time>0
trigger1=command="a"&&root,command="a"
trigger2=command="b"&&root,command="b"
trigger3=command="c"&&root,command="c"
trigger4=command="x"&&root,command="x"
trigger5=command="y"&&root,command="y"
trigger6=command="z"&&root,command="z"
trigger7=command="start"&&root,command="start"
trigger8=command="fwd"&&root,command="fwd"
trigger9=command="back"&&root,command="back"
trigger10=command="up"&&root,command="up"
trigger11=command="down"&&root,command="down"
var(59)=-1

[State 10000,5];CPU認識
type = varset
triggerall=var(59)!=-1
triggerall=time > 0
trigger1=root,command="up"
trigger2=root,command="down"
trigger3=root,command="back"
trigger4=root,command="fwd"
trigger5=root,command="a"
trigger6=root,command="b"
trigger7=root,command="c"
trigger8=root,command="x"
trigger9=root,command="y"
trigger10=root,command="z"
trigger11=root,command="start"
var(59)=1

[State 10000,6];AI起動
type = varset
triggerall = var(59)=1
trigger1 = roundstate=2 && root,ctrl
var(59) = 2

[State 10000,7]
type = varset
triggerall = roundstate = 2
trigger1 = numenemy <= 1
trigger2 = numenemy >= 2
trigger2 = (enemy(0),life <= 0 || enemy(1),life <= 0) && enemynear(0),life > 0
trigger3 = numenemy >= 2
trigger3 = enemy(0),life > 0 && enemy(1),life > 0
trigger3 = abs(root,pos x - enemynear(0),pos x) <= abs(root,pos x - enemynear(1),pos x)
var(34) = 0
IgnoreHitPause = 1

[State 10000,8]
type = varset
triggerall = roundstate = 2
triggerall = numenemy >= 2
trigger1 = enemynear(0),life <= 0
trigger2 = (enemy(0),life <= 0 || enemy(1),life <= 0) && enemynear(0),life <= 0
trigger3 = enemy(0),life > 0 && enemy(1),life > 0
trigger3 = abs(root,pos x - enemynear(0),pos x) > abs(root,pos x - enemynear(1),pos x)
var(34) = 1
IgnoreHitPause = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;背後に設置
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[state 10000]
type = turn
trigger1 = facing*ifelse((enemynear(var(34)),pos x-pos x)>=0,1,-1) < 0
IgnoreHitPause = 1
supermovetime = 9999
pausemovetime = 9999

[state 10000]
type = varset
trigger1 = enemynear(var(34)),facing*ifelse((enemynear(var(34)),pos x-root,pos x)>=0,1,-1)<=0
trigger2 = !enemynear(var(34)),hitdefattr = A,NA,SA,HA
var(35) = 0
IgnoreHitPause = 1
supermovetime = 9999
pausemovetime = 9999

[state 10000]
type = varset
trigger1 = enemynear(var(34)),facing*ifelse((enemynear(var(34)),pos x-root,pos x)>=0,1,-1)>0
trigger1 = enemynear(var(34)),hitdefattr = A,NA,SA,HA
var(35) = 1
IgnoreHitPause = 1
supermovetime = 9999
pausemovetime = 9999

[state 10000]
type = posset
trigger1 = 1
x = root,pos x+ifelse((enemynear(var(34)),pos y<0&&var(35)=1),(enemynear(var(34)),const(size.attack.dist)),(enemynear(var(34)),const(size.proj.attack.dist)))*(enemynear(var(34)),facing)
IgnoreHitPause = 1
supermovetime = 9999
pausemovetime = 9999

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;敵の飛び道具の数を計測
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State 10000]
type = varset
triggerall = roundstate = 2 && numenemy <= 1
trigger1 = !var(36) || var(36) > enemynear(var(34)),numhelper+1
var(36) = enemynear(var(34)),numhelper+1
ignorehitpause = 1

[State 10000]
type = varset
trigger1 = roundstate = 2 && numenemy >= 2
trigger1 = !var(36) || var(36) > (enemy(0),numhelper+enemy(1),numhelper+1)
var(36) = (enemy(0),numhelper+enemy(1),numhelper+1)
ignorehitpause = 1

[State 10000]
type = varset
triggerall = roundstate = 2 && var(36) > 0
trigger1 = numenemy <= 1
var(37) = (enemynear(var(34)),numhelper+1) - var(36)
ignorehitpause = 1

[State 10000]
type = varset
triggerall = roundstate = 2 && var(36) > 0
trigger1 = numenemy >= 2
var(37) = (enemy(0),numhelper+enemy(1),numhelper+1)-var(36)
ignorehitpause = 1

[State 10000]
type = varset
triggerall = roundstate = 2 && numenemy <= 1
trigger1 = !var(38) || var(38) > (enemynear(var(34)),numproj+1)
var(38) = enemynear(var(34)),numproj+1
ignorehitpause = 1

[State 10000]
type = varset
trigger1 = roundstate = 2 && numenemy >= 2
trigger1 = !var(38) || var(38) > (enemy(0),numproj+enemy(1),numproj+1)
var(38) = (enemy(0),numproj+enemy(1),numproj+1)
ignorehitpause = 1

[State 10000]
type = varset
triggerall = roundstate = 2
trigger1 = numenemy <= 1
var(39) = (enemynear(var(34)),numproj+1) - var(38)
ignorehitpause = 1

[State 10000]
type = varset
triggerall = roundstate = 2
trigger1 = numenemy >= 2
var(39) = (enemy(0),numproj+enemy(1),numproj+1) - var(38)
ignorehitpause = 1

[State 10000];終了
type = destroyself
trigger1 = ishelper && roundstate > 3



[Statedef -3]

[State -3, AI起動用ヘルパー]
type=helper
trigger1=!NumHelper(10000+id)
trigger1=roundstate=[1,2]
trigger1=alive
trigger1=var(59)=0
Trigger1=(PrevStateNo=[190,199])||PrevStateNo=5900
Trigger1=!ctrl&&stateno=0
Trigger1=time <= 1
helpertype=normal
name="AI"
stateno=10000
ID=10000+id
pos=9999,9999
keyctrl=1
pausemovetime=2147483647
supermovetime=2147483647
persistent = 0

;念のため↓も付けておく
[State -3, 関係無いステートに行かないように]
type=changestate
trigger1= ishelper(10000+id)
trigger1= stateno!=10000
value=10000

[State -3, AIフラグセット]
type = VarSet
triggerall = Var(59) = 0
triggerall = RoundState = [1,2]
trigger1 = Command = "AI0" || Command = "AI1" || Command = "AI2" || Command = "AI3"
trigger2 = Command = "AI4" || Command = "AI5" || Command = "AI6" || Command = "AI7"
trigger3 = Command = "AI8" || Command = "AI9" || Command = "AI10"|| Command = "AI11"
trigger4 = Command = "AI12"|| Command = "AI13"|| Command = "AI14"|| Command = "AI15"
trigger5 = Command = "AI16"|| Command = "AI17"|| Command = "AI18"|| Command = "AI19"
trigger6 = Command = "AI20"|| Command = "AI21"|| Command = "AI22"|| Command = "AI23"
trigger7 = Command = "AI24"|| Command = "AI25"|| Command = "AI26"|| Command = "AI27"
trigger8 = Command = "AI28"|| Command = "AI29"|| Command = "AI30"|| Command = "AI31"
trigger9 = Command = "AI32"|| Command = "AI33"|| Command = "AI34"|| Command = "AI35"
trigger10= NumHelper(10000+id) > 0 && RoundState = 2
trigger10= Helper(10000+id),var(59)=1
trigger11= var(57) > 10 ; LV11は常時AI起動;                                                                            trigger12= Command = "start"
;trigger12 = 1 ; ←1番左の;を外せば常時AI起動
var(59) = 1    ; ←ここはいじらないでね

[State -3, AILV選択]
type = VarSet
trigger1 = !var(57)
var(57) = 10 ;　LV選択幅　1－11 　11は超反応有

[State -3, 簡易モード選択]
type = VarSet
trigger1 = 1
var(56) = 0  ; 0 - デフォ通りのカラーでモード選択
             ; 1 - 1P～3P KOFモード
             ; 2 - 4P～6P 餓狼モード
             ; 3 - 7P～9P MIXモード
             ; 4 - 10P～12P ナイトメアモード
             ; 5 - 1～3のどれかがランダム
             ; 6 - 1～4のどれかがランダム

[state -3, 襖演出スイッチ]
type = varset
trigger1 = 1
var(27) = 1  ;ここを0にするとナイトメアの襖演出がなくなります。

;他のスイッチはAI_option.txtに移動しました
;==================================================================================
;以下はいじらないでね

[State -3, AI]
type = VarSet
triggerall = Var(59) >= 1
trigger1 = RoundState = 4
trigger2 = Lose = 1
trigger3 = Drawgame = 1
V = 59
Value = -Var(59)

[State -3,AI]
type = VarSet
triggerall = Var(59) <= -1
trigger1 = RoundState = 2
V = 59
Value = -Var(59)

[State -3, 挑発設定]
type = VarSet
triggerall = RoundState = 2
trigger1 = var(59)
fvar(38) = Helper(15000+id),var(33)

[state -3, 挑発終了]
type = varset
triggerall = var(59)
trigger1 = RoundState = 3
trigger1 = stateno = [730,731]
fvar(38) = 0

;==================================================================================
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 
trigger2 = stateno = 106
value = 41, 0

[State -3, 2];ジャンプ音
type = PlaySnd
triggerall = time = 1
trigger1 = stateno = 50 
trigger1 = var(15) <= 0
trigger2 = stateno = 50 
trigger2 = (vel x)= 0
value = 40, 0
channel = 3

[State -3, 2];ジャンプ音
type = PlaySnd
triggerall = time = 1
trigger1 = stateno = 50
trigger1 = (vel x)!= 0
trigger1 = var(15) > 1
value = 40, 1
channel = 3

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; ハイジャンプ処理
[State -3, 5];ハイジャンプ判定
type = varset
trigger1 = !var(59)
trigger1 = statetype = C
trigger1 = !(time >= 11)
trigger1 = stateno = 10
trigger1 = time = 0
trigger2 = stateno = 100
trigger3 = stateno = 36
trigger4 = stateno = 35
trigger4 = P2BodyDist X > 80
v = 15
value = 20

[State -3, 5];ハイジャンプ消去
type = varset
trigger1 = stateno = 52
trigger1 = time >= 0
trigger2 = stateno = 0
trigger2 = time >= 3
trigger3 = stateno = 11
trigger3 = time >= 11
trigger4 = stateno = 47
trigger4 = time >= 0
trigger5 = stateno = [5,6]
trigger5 = time >= 0
trigger6 = (stateno = [400,441])
trigger6 = time = 10
v = 15
value = 0

; 小ジャンプ処理
[State -3, 5];小ジャンプ判定
type = varset
trigger1 = stateno = 40
trigger1 = !var(59)
trigger1 = command != "holdup"
trigger2 = var(59)
trigger2 = stateno = 35 ||(stateno = 38 && P2BodyDist X < 50)
v = 16
value = 1

[State -3, 5];小ジャンプ消去
type = varset
trigger1 = stateno = 40
trigger1 = !var(59)
trigger1 = command = "holdup"
trigger2 = MoveType = H
trigger2 = time = 0
trigger3 = stateno = 52
trigger3 = time = 0
v = 16
value = 0

; 垂直ジャンプ処理
[State -3, 5];垂直ジャンプ判定
type = varset
triggerall = var(16) = 0
trigger1 = stateno = 40
trigger1 = !var(59)
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger2 = stateno = 38
trigger2 = var(59)
v = 16
value = 2

; 垂直ジャンプ処理
[State -3, 5];垂直ジャンプ判定消去
type = varset
triggerall = stateno = 50
triggerall = var(16) = 2
trigger1 = (vel x)!= 0
v = 16
value = 0

; 小・中ジャンプ・前方ジャンプ中は空中ガード不可
[State -3, 5];
type = AssertSpecial
triggerall = StateType = A
trigger1 = var(16) = 1
trigger2 = (vel x)>0
flag = noairguard

[State -3, 5]
type = velset
trigger1 = stateno = 50
trigger1 = (vel x)>0
trigger1 = time = 1
trigger1 = var(15) >= 1
x = 5
;y = -9

[State -3, 5]
type = velset
trigger1 = stateno = 50
trigger1 = (vel x)<0
trigger1 = time = 1
trigger1 = var(15) >= 1
x = -5
;y = -9

[State -3, 5];小ジャンプ
type = veladd
trigger1 = stateno = 50
trigger1 = time = 1
trigger1 = var(16) = 1
y = 3

[State -3, 5]
type = AfterImage
trigger1 = stateno = 50
trigger1 = (vel x)!= 0
trigger1 = time = 1
trigger1 = var(15) >= 1
time = 10
trans = add1
timegap = 1
framegap = 2
length = 8
palbright = 12,12,12
palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 1400, width];相手が画面端にいるときは裏に回らないように
type = Width
trigger1 = enemy,BackEdgeDist < 3
edge = 13,0

;==============================================================================
;AIのアレやコレ

[State -3, AILV不具合対策]
type = VarSet
triggerall = var(59) && RoundState = 2
triggerall = var(57) > 11
trigger1 = var(59) != 920813 && var(59) != 951221
var(57) = 11

[State -3, 相手立ち・空中攻撃に対し無敵]
type = NotHitBy
triggerall = var(59) && RoundState = 2
triggerall = var(57) > 11
triggerall = MoveType != H
trigger1 = stateno = 706 || stateno = 751 || stateno = 755
value = SA, AA, AT, AP

[State -3, 投げ以外無敵]
type = HitBy
triggerall = var(59) && RoundState = 2
triggerall = var(57) > 11
trigger1 = stateno = 750
value = SCA, AT

;==================================================================================
;以下AI用記述
;タッグ判定
[State -3,相手タッグパートナー死亡判定用1]
type = VarSet
triggerall = RoundState = 2
trigger1 = NumEnemy = 1
trigger2 = NumEnemy = 2
trigger2 = EnemyNear(0),Life > 0
var(55) = 0
ignorehitpause = 1

[State -3, 相手タッグパートナー死亡判定用2]
type = VarSet
triggerall = RoundState = 2
triggerall = NumEnemy = 2
trigger1 = EnemyNear(0),Life <= 0
var(55) = 1
ignorehitpause = 1

[State -3,味方パートナーダウン]
Type = VarSet
triggerall = var(59) > 0
trigger1 = TeamMode = Simul
trigger1 = (!NumPartner) || (!Partner,Alive)
trigger2 = TeamMode = Single
trigger3 = TeamMode = Turns
var(54) = 0

;パートナー前衛
[State -3,]
Type = VarSet
triggerall = TeamMode = Simul
triggerall = NumPartner && Partner,Alive
trigger1 = (facing = 1 && Partner,Pos X - Pos X > 0) || (facing = -1 && Partner,Pos X - Pos X < 0)
var(54) = 1

;パートナー後衛
[State -3,]
Type = VarSet
triggerall = TeamMode = Simul
triggerall = NumPartner && Partner,Alive
trigger1 = (facing = 1 && Partner,Pos X - Pos X < 0) || (facing = -1 && Partner,Pos X - Pos X > 0)
var(54) = 2

;相手が1人の時
[State -3]
Type = VarSet
trigger1 = NumEnemy = 1
trigger2 = NumEnemy = 2
trigger2 = !EnemyNear(0),Alive || !EnemyNear(1),Alive
var(53) = 0

;相手が2人の時
[State -3]
Type = VarSet
triggerall = NumEnemy = 2
trigger1 = EnemyNear(0),Alive && EnemyNear(1),Alive
var(53) = 1

;自分、パートナー、敵、敵
[State -3]
Type = VarSet
triggerall = TeamMode = Simul
triggerall = NumEnemy = 2
triggerall = NumPartner && Partner,Alive
triggerall = EnemyNear(0),Alive && EnemyNear(1),Alive
trigger1 = ifelse(facing = 1,EnemyNear(0),Pos X - Pos X > 0,EnemyNear(0),Pos X - Pos X < 0)
trigger1 = ifelse(facing = 1,EnemyNear(1),Pos X - Pos X > 0,EnemyNear(1),Pos X - Pos X < 0)
trigger1 = ifelse(facing = 1,EnemyNear(0),Pos X - Partner,Pos X > 0,EnemyNear(0),Pos X - Partner,Pos X < 0)
trigger1 = ifelse(facing = 1,EnemyNear(1),Pos X - Partner,Pos X > 0,EnemyNear(1),Pos X - Partner,Pos X < 0)
var(53) = 2

;自分、敵、パートナー、敵
[State -3]
Type = VarSet
triggerall = TeamMode = Simul
triggerall = NumEnemy = 2
triggerall = NumPartner && Partner,Alive
triggerall = EnemyNear(0),Alive && EnemyNear(1),Alive
trigger1 = ifelse(facing = 1,EnemyNear(0),Pos X - Pos X > 0,EnemyNear(0),Pos X - Pos X < 0)
trigger1 = ifelse(facing = 1,EnemyNear(1),Pos X - Pos X > 0,EnemyNear(1),Pos X - Pos X < 0)
trigger1 = ifelse(facing = 1,EnemyNear(0),Pos X - Partner,Pos X < 0,EnemyNear(0),Pos X - Partner,Pos X > 0)
trigger1 = ifelse(facing = 1,EnemyNear(1),Pos X - Partner,Pos X > 0,EnemyNear(1),Pos X - Partner,Pos X < 0)
var(53) = 3

;相手をはさんだ時
[State -3]
Type = VarSet
triggerall = TeamMode = Simul
triggerall = NumEnemy = 2
triggerall = NumPartner && Partner,Alive
triggerall = EnemyNear(0),Alive && EnemyNear(1),Alive
trigger1 = ifelse(facing = 1,EnemyNear(0),Pos X - Pos X > 0,EnemyNear(0),Pos X - Pos X < 0)
trigger1 = ifelse(facing = 1,EnemyNear(1),Pos X - Pos X > 0,EnemyNear(1),Pos X - Pos X < 0)
trigger1 = ifelse(facing = 1,EnemyNear(0),Pos X - Partner,Pos X < 0,EnemyNear(0),Pos X - Partner,Pos X > 0)
trigger1 = ifelse(facing = 1,EnemyNear(1),Pos X - Partner,Pos X < 0,EnemyNear(1),Pos X - Partner,Pos X > 0)
var(53) = 4

;後ろに回られた時
[State -3]
Type = VarSet
triggerall = TeamMode = Simul
triggerall = NumEnemy = 2
triggerall = EnemyNear(0),Alive && EnemyNear(1),Alive
trigger1 = ifelse(facing = 1,EnemyNear(0),Pos X - Pos X < 0,EnemyNear(0),Pos X - Pos X > 0)
trigger2 = ifelse(facing = 1,EnemyNear(1),Pos X - Pos X < 0,EnemyNear(1),Pos X - Pos X > 0)
var(53) = 5

;==================================================================================
;めくり対応
[State -3]
Type = HelPer
Trigger1 = !NumHelper(15000+ID)
HelPerType = normal
Name = "mekuri"
StateNo = 15000
ID = 15000+ID
OwnPal = 1
pos = 5, 0
postype = p1
PauseMoveTime = 99999999
SuperMoveTime = 99999999
IgnoreHitPause = 1

[State -3]
type = changestate
Trigger1 = IsHelper
Trigger1 = IsHelper(15000+root,ID)
Trigger1 = StateNo != 15000
value = 15000

[State -3]
type = changeanim
Trigger1 = IsHelper
Trigger1 = IsHelper(15000+root,ID)
Trigger1 = Anim != 0
value = 0

;==============================================================================
;ガード切り替え
[State -3,下段ガード用]
Type = VarSet
triggerall = var(59) >= 1 && RoundState = 2
Trigger1 = EnemyNear(var(55)),Name = "millia"
Trigger1 = EnemyNear(var(55)),StateNo = 1500
Trigger2 = EnemyNear(var(55)),Name = "eddie"
Trigger2 = EnemyNear(var(55)),StateNo=1000||EnemyNear(var(55)),StateNo=1050||EnemyNear,NumHelper(1002);||EnemyNear,NumHelper(1001)
Trigger3 = EnemyNear(var(55)),Name = "eddie"
Trigger3 = EnemyNear(var(55)),StateNo=1800||EnemyNear(var(55)),StateNo=1850
Trigger4 = EnemyNear(var(55)),Name = "eddie" || EnemyNear(var(55)),Name = "jam"
Trigger4 = EnemyNear(var(55)),StateNo = 210
Trigger5 = EnemyNear(var(55)),Name = "Death Adder" && EnemyNear(var(55)),NumHelper(1022)
Trigger6 = EnemyNear(var(55)),Name = "Rucheca" && EnemyNear(var(55)),AuthorName = "Teaf"
Trigger6 = EnemyNear(var(55)),StateNo = 1210
Trigger7 = EnemyNear(var(55)),Name = "Kurenai Misuzu" && EnemyNear(var(55)),AuthorName = "MAITAKE"
Trigger7 = EnemyNear(var(55)),StateNo = 950
;ジャギュタ・立強K
Trigger8 = EnemyNear(var(55)),Name = "jagyuta" && EnemyNear(var(55)),StateNo = 215
;リンディス・「(EX)抜刀・下段」
Trigger9 = EnemyNear(var(55)),Name = "Lyndis"
Trigger9 = EnemyNear(var(55)),StateNo = 1020 || EnemyNear(var(55)),StateNo = 1053
;秋静葉・「枯れ薄」
Trigger10= EnemyNear(var(55)),Name = "shizuha" && EnemyNear(var(55)),AuthorName = "stel2"
Trigger10= EnemyNear(var(55)),StateNo = 970
;白狼天狗・「狼ゲイザー」
Trigger11= EnemyNear(var(55)),Name = "hakurou" && EnemyNear(var(55)),AuthorName = "ria-coarst"
Trigger11= EnemyNear(var(55)),StateNo = 3230
;D0パチェ・「弱ワイプモイスチャー」
Trigger12= EnemyNear(var(55)),authorName = "hoe2" || EnemyNear(var(55)),authorName = "hoe2+seizi"
Trigger12= EnemyNear(var(55)),Name = "Patchouli_K"
Trigger12= EnemyNear(var(55)),StateNo = 1250
Trigger13= fvar(37) && EnemyNear(var(55)),StateNo = fvar(37)
fvar(39) = 2

[State -3,中段ガード用]
Type = VarSet
triggerall = var(59) >= 1 && RoundState = 2
Trigger1 = AutHorName = "muteki" || AutHorName = "Akutagawa"
Trigger1 = EnemyNear,StateNo = 240
Trigger2 = EnemyNear(var(55)),Name!="Kurenai Misuzu" || EnemyNear(var(55)),StateNo != 1210
Trigger2 = EnemyNear(var(55)),Name!="millia"||EnemyNear(var(55)),StateNo!=1500
Trigger2 = EnemyNear(var(55)),Name!="eddie"||!(EnemyNear(var(55)),StateNo=1000||EnemyNear(var(55)),StateNo=1050||EnemyNear(var(55)),StateNo=1800||EnemyNear(var(55)),StateNo=1850||EnemyNear,NumHelper(1001)||EnemyNear,NumHelper(1002))
Trigger2 = EnemyNear(var(55)),StateType=A
Trigger3 = EnemyNear(var(55)),Name = "testa" || EnemyNear(var(55)),Name = "lehyu"
Trigger3 = EnemyNear(var(55)),StateNo = 205
Trigger4 = EnemyNear(var(55)),Name="millia"||EnemyNear(var(55)),Name="BRIDGET"||EnemyNear(var(55)),Name="eddie"||EnemyNear(var(55)),Name = "jam"
Trigger4 = EnemyNear(var(55)),StateNo = 215
Trigger5 = EnemyNear(var(55)),Name = "faust"
Trigger5 = EnemyNear(var(55)),StateNo = 235
Trigger6 = EnemyNear(var(55)),Name = "johnny"
Trigger6 = EnemyNear(var(55)),StateNo = 1500||EnemyNear(var(55)),StateNo = [3500,3501]
Trigger7 = EnemyNear(var(55)),Name = "order-Sol=Badguy"
Trigger7 = EnemyNear(var(55)),StateNo = 432
Trigger8 = EnemyNear(var(55)),Name = "Sion_Eltnam_Atlasia"
Trigger8 = EnemyNear(var(55)),StateNo = [240,241]
Trigger9 = EnemyNear(var(55)),Name = "Gale_s"
Trigger9 = (EnemyNear(var(55)),StateNo = [320,330]) || (EnemyNear(var(55)),StateNo = [1100,1150])
Trigger10= EnemyNear(var(55)),Name = "Kim Kaphwan" && EnemyNear(var(55)),AuthorName = "Ahuron"
Trigger10= EnemyNear(var(55)),StateNo = 260
Trigger11= EnemyNear(var(55)),Name = "jagyuta" && (EnemyNear(var(55)),StateNo = [1040,1047])
Trigger12= EnemyNear(var(55)),Name = "Heavy D!" && EnemyNear(var(55)),AuthorName = "RYO 2005"
Trigger12= EnemyNear(var(55)),StateNo = 300
Trigger13= EnemyNear(var(55)),Name = "Mukai" && EnemyNear(var(55)),AuthorName = "RYO 2005"
Trigger13= EnemyNear(var(55)),StateNo = 230
Trigger14= EnemyNear(var(55)),Name = "Clark Stil" && EnemyNear(var(55)),StateNo = 1410
Trigger15= EnemyNear(var(55)),Name = "Iori" && EnemyNear(var(55)),AuthorName = "RYO 2005"
Trigger15= EnemyNear(var(55)),StateNo = 300
Trigger16= EnemyNear(var(55)),Name = "Geese Howard" && EnemyNear(var(55)),AuthorName = "Cannon Musume"
Trigger16= EnemyNear(var(55)),StateNo = 230
Trigger17= (fvar(35) && EnemyNear(var(55)),StateNo = fvar(35))||(fvar(36) && EnemyNear(var(55)),StateNo = fvar(36))
fvar(39) = 3

[State -3,ガード不能用(投げ)]
Type = VarSet
triggerall = var(59) >= 1 && RoundState = 2
;通常投げ
Trigger1 = EnemyNear(var(55)),AutHorName = "muteki"||EnemyNear(var(55)),AutHorName="H”"||EnemyNear(var(55)),AutHorName="Phantom.of.the.Server"
Trigger1 = EnemyNear(var(55)),StateNo = 800
Trigger2 = EnemyNear(var(55)),AutHorName="GM"||EnemyNear(var(55)),AutHorName="⑨"||EnemyNear(var(55)),AutHorName="jin"||EnemyNear(var(55)),AutHorName="Ahuron"||AutHorName = "Akutagawa"
Trigger2 = EnemyNear(var(55)),StateNo = 800
Trigger3 = EnemyNear(var(55)),AutHorName = "Warusaki3"
Trigger3 = EnemyNear(var(55)),StateNo = 900
;GGキャラ投げ技
Trigger4 = EnemyNear(var(55)),Name = "eddie" && EnemyNear(var(55)),StateNo = 1300
Trigger5 = EnemyNear(var(55)),Name = "SLAYER" && EnemyNear(var(55)),StateNo = 1200
Trigger6 = EnemyNear(var(55)),Name = "order-Sol=Badguy" || EnemyNear(var(55)),Name = "faust"
Trigger6 = EnemyNear(var(55)),StateNo = 1500
Trigger7 = EnemyNear(var(55)),Name = "jam" && EnemyNear(var(55)),StateNo = 2500
Trigger8 = EnemyNear(var(55)),Name = "sol" && EnemyNear(var(55)),StateNo = 1600
;Gルガ・移動投げ
Trigger9 = EnemyNear(var(55)),Name="cvsg_rugal"||EnemyNear,Name="cvsrugal"
Trigger9 = (EnemyNear(var(55)),stateno = [1700,1701])|| EnemyNear(var(55)),stateno=3200
fvar(39) = 4

[State -3,ガード不能用(投げその2)]
Type = VarSet
triggerall = var(59) >= 1 && RoundState = 2
;瞬獄殺系
Trigger1 = EnemyNear(var(55)),name = "wind"&&(EnemyNear(var(55)),stateno=[7600,7601])
Trigger2 = EnemyNear(var(55)),stateno = 4000
Trigger2 = EnemyNear(var(55)),name="Shin Gouki"||EnemyNear,name="Ryu"||EnemyNear,name="Morrigan Aensland"||EnemyNear,name ="Sakura Kasugano"
Trigger3 = EnemyNear(var(55)),stateno = 3300
Trigger3 = EnemyNear(var(55)),name="Yuri Sakazaki"||EnemyNear,name="cvsgouki"||EnemyNear,name="cvsryu"||EnemyNear,name="cvssakura"
Trigger4 = EnemyNear(var(55)),stateno = 3600||EnemyNear(var(55)),StateNo=1700
Trigger4 = EnemyNear(var(55)),name = "Gouki"
Trigger5 = EnemyNear(var(55)),stateno = 20080||EnemyNear,stateno = 20060
Trigger5 = EnemyNear(var(55)),name = "Kaori Misaka"
Trigger6 = EnemyNear(var(55)),name = "Evil Ken"&&EnemyNear(var(55)),stateno = 3890
;コンバット越前・デットリーレイプ
Trigger7 = EnemyNear(var(55)),Name = "Combat Echizen"
Trigger7 = EnemyNear(var(55)),StateNo = [3200,3201]
;ウィンドMCXX・最終審判
Trigger8 = EnemyNear(var(55)),Name = "wind_MCXX"
Trigger8 = EnemyNear(var(55)),StateNo = [7600,7651]
;ロードレイヴナス・食事の時間
Trigger9 = EnemyNear(var(55)),Name = "RaveEx"
Trigger9 = ((EnemyNear(var(55)),StateNo = [3100,3101])&&EnemyNear(var(55)),Time > 40)||(EnemyNear(var(55)),StateNo = [3200,3301])
;因幡てゐ・罠符「ピットフォール」/ 因幡デスペラード
Trigger10= EnemyNear(var(55)),Name = "Inaba Tei" && EnemyNear(var(55)),AuthorName = "pikapon"
Trigger10= (EnemyNear(var(55)),StateNo = 1800 && EnemyNear(var(55)),time > 3)|| EnemyNear(var(55)),StateNo = 1830
;くれないみすず・虹色流星
Trigger11= EnemyNear(var(55)),Name = "Kurenai Misuzu" && EnemyNear(var(55)),AuthorName = "MAITAKE"
Trigger11= EnemyNear(var(55)),StateNo = 2200 && EnemyNear(var(55)),time > 3
fvar(39) = 5

[State -3,ガード不能用(打撃)]
Type = VarSet
triggerall = var(59) >= 1 && RoundState = 2
;スレイヤー・アンダートウ
Trigger1 = EnemyNear(var(55)),Name = "SLAYER" && EnemyNear(var(55)),StateNo = 1300
Trigger1 = EnemyNear(var(55)),Time = [30,50]
;ジョニー・バッカス付きミスト
Trigger2 = EnemyNear(var(55)),Name = "johnny" && EnemyNear(var(55)),var(49)
Trigger2 = EnemyNear(var(55)),StateNo = 1001||EnemyNear(var(55)),StateNo = 1011||EnemyNear(var(55)),StateNo = 1021
Trigger2 = EnemyNear(var(55)),Time = [1,11]
;ラルフ・ギャラクティカファントム
Trigger3 = EnemyNear(var(55)),Name = "Ralf Jones" && EnemyNear(var(55)),AuthorName = "Men'sClub"
Trigger3 = EnemyNear(var(55)),StateNo = 1500
Trigger3 = EnemyNear(var(55)),Time = [79,105]
;秋静葉・「狂いの落葉・ルナティック」「嵐といふらむ」
Trigger4 = EnemyNear(var(55)),Name = "shizuha" && EnemyNear(var(55)),AuthorName = "stel2"
Trigger4 = (EnemyNear(var(55)),StateNo = 2600 &&(EnemyNear(var(55)),time = [29,36]))||(EnemyNear(var(55)),StateNo = 20007 &&(EnemyNear(var(55)),time = [0,30]))
;独歩ちゃん・菩薩の拳
Trigger5 = EnemyNear(var(55)),Name = "doppo orochi" && EnemyNear(var(55)),AuthorName = "tokage"
Trigger5 = EnemyNear(var(55)),StateNo = 2000
Trigger5 = EnemyNear(var(55)),Time = [20,340]
;くれないみすず・架推掌
Trigger6 = EnemyNear(var(55)),Name = "Kurenai Misuzu" && EnemyNear(var(55)),AuthorName = "MAITAKE"
Trigger6 = (EnemyNear(var(55)),StateNo = 584 && EnemyNear(var(55)),Time <= 5)
fvar(39) = 6

[State -3,]
type = VarAdd
triggerall = var(59) >= 1
trigger1 = fvar(39) >= 1
fvar(39) = -1

;==============================================================================
;その他警報類

;人操作なら普通にガード出来るけど
;AIが認識出来ない攻撃をガード準備状態にさせる

[State -3, 対応攻撃を指定]
Type = ChangeState
Value = 120 ;ガード準備ステートに移動
triggerall = var(59) > 7 && Roundstate = 2
triggerall = statetype != A ||(var(16) != 1 && Vel X <= 0)
triggerall = ctrl ||(stateno = [18,19])|| stateno = 100 ; ctrlであることが前提、でないと詐欺ガードになるよ！
;A-KUE氏ゾディアック・ディアンサス
trigger1 = EnemyNear(var(55)),AuthorName = "A-KUE" && EnemyNear(var(55)),Name = "Zodiac"
trigger1 = EnemyNear(var(55)),StateNo = 1055 && EnemyNear(var(55)),Time < 34
trigger1 = P2bodydist X < 195
;hoehoe氏 D0霧雨魔理沙・グリーンスプレッド
trigger2 = EnemyNear(var(55)),AuthorName = "hoe2" && EnemyNear(var(55)),Name = "MARISA,K"
trigger2 = (EnemyNear(var(55)),StateNo = [1600,1620])&& P2BodyDist X < 120
;シロト氏鈴仙・全画面
trigger3 = EnemyNear(var(55)),AuthorName = "Shiroto" && EnemyNear(var(55)),Name = "Reisen Udongein Inaba"
trigger3 = EnemyNear(var(55)),StateNo = 2030 && EnemyNear(var(55)),animelemtime(55) <= 1
;ブロントさん・屈S
trigger4 = EnemyNear(var(55)),AuthorName = "RYU-SAN" && EnemyNear(var(55)),Name = "Buront"
trigger4 = EnemyNear(var(55)),StateNo = 420 && P2BodyDist X < 143
;くれないみすず・屈強P
trigger5 = EnemyNear(var(55)),Name = "Kurenai Misuzu" && EnemyNear(var(55)),AuthorName = "MAITAKE"
trigger5 = EnemyNear(var(55)),StateNo = 610 && EnemyNear(var(55)),Time < 30
;hoehoe氏 D0パチュリー・「賢者の石」「ロイヤルフレア」
trigger6 = EnemyNear(var(55)),authorName = "hoe2" && EnemyNear(var(55)),Name = "Patchouli_K"
trigger6 = (EnemyNear(var(55)),StateNo = [7000,7009])||(EnemyNear(var(55)),StateNo = [7500,7524])

[State -3, 対応攻撃を指定・タッグ時]
Type = ChangeState
Value = 120
triggerall = var(59) > 7 && Roundstate = 2
triggerall = numenemy = 2
triggerall = statetype != A ||(var(16) != 1 && Vel X <= 0)
triggerall = ctrl ||(stateno = [18,19])|| stateno = 100
trigger1 = EnemyNear(1),AuthorName = "A-KUE" && EnemyNear(1),Name = "Zodiac"
trigger1 = EnemyNear(1),StateNo = 1055 && EnemyNear(1),Time < 34
trigger1 = P2bodydist X < 195
trigger2 = EnemyNear(1),AuthorName = "hoe2" && EnemyNear(1),Name = "MARISA,K"
trigger2 = (EnemyNear(1),StateNo = [1600,1620])&& P2BodyDist X < 120
trigger3 = EnemyNear(1),AuthorName = "Shiroto" && EnemyNear(1),Name = "Reisen Udongein Inaba"
trigger3 = EnemyNear(1),StateNo = 2030 && EnemyNear(1),animelemtime(55) <= 1
trigger4 = EnemyNear(1),AuthorName = "RYU-SAN" && EnemyNear(1),Name = "Buront"
trigger4 = EnemyNear(1),StateNo = 420 && P2BodyDist X < 143
trigger5 = EnemyNear(1),Name = "Kurenai Misuzu" && EnemyNear(1),AuthorName = "MAITAKE"
trigger5 = EnemyNear(1),StateNo = 610 && EnemyNear(1),Time < 30
trigger6 = EnemyNear(1),authorName = "hoe2" && EnemyNear(1),Name = "Patchouli_K"
trigger6 = (EnemyNear(1),StateNo = [7000,7009])||(EnemyNear(1),StateNo = [7500,7524])

[State -3, CanRecoverを無視する相手の対策とか・・・取れたらいいね]
Type = VarSet
trigger1 = EnemyNear(var(55)),AuthorName = "ahuron"
trigger1 = EnemyNear(var(55)),StateNo = 702
trigger2 = EnemyNear(var(55)),AuthorName = "jin" || EnemyNear(var(55)),AuthorName = "Aoba" || EnemyNear(var(55)),AuthorName = "日本狼"
trigger2 = EnemyNear(var(55)),StateNo = 52000
trigger3 = EnemyNear(var(55)),AuthorName = "kayui uma"
trigger3 = EnemyNear(var(55)),StateNo = 681
trigger4 = EnemyNear(var(55)),AuthorName = "Rin & Bat"
trigger4 = EnemyNear(var(55)),Name = "White" || EnemyNear(var(55)),Name = "Geese Howard" || EnemyNear(var(55)),Name = "Nightmare Geese"
trigger4 = EnemyNear(var(55)),StateNo = 750
trigger5 = EnemyNear(var(55)),Name = "Rucheca" && EnemyNear(var(55)),AuthorName = "Teaf"
fvar(34) = 1

[State -3, VS自作AILV12]
Type = VarSet
triggerall = EnemyNear(var(55)),Var(59) > 11
trigger1 = EnemyNear(var(55)),Name = "Gale_s" && EnemyNear(var(55)),AuthorName = "seizi"
trigger2 = EnemyNear(var(55)),Name = "MARISA,K" && EnemyNear(var(55)),AuthorName = "hoe2"
trigger3 = EnemyNear(var(55)),Name = "wakimiko" && EnemyNear(var(55)),AuthorName = "nyoibou"
fvar(34) = 1

[State -3, VS自作AILV12]
Type = VarSet
triggerall = EnemyNear(var(55)),Var(57) > 11
triggerall = EnemyNear(var(55)),AuthorName = "Ambasa"
trigger1 = EnemyNear(var(55)),Name = "King"
trigger2 = EnemyNear(var(55)),Name = "kyoko_typeP"
trigger3 = EnemyNear(var(55)),Name = "Geese"
fvar(34) = 1

;===========================================================================
;先行入力認識用ヘルパー暴走防止
[state -3, ステートリセット]
type = changestate
trigger1 = ishelper(60000)
value = 60000
ignorehitpause = 1

;==============================================================================
;チームモードイントロ 
[State -3, Turns Mode Intro] 
type = ChangeState 
trigger1 = roundsexisted <= 0 
trigger1 = roundstate = 0 
trigger1 = time = 0 
value = 190 ;イントロのステート

;---------------------[特殊イントロ]
[State 190,];対テリー アンディ ギース クラウザー
type = ChangeState
triggerall = var(1) != 3
triggerall = roundstate = 0 
triggerall = time = 0 
triggerall = TeamMode = Turns
trigger1 = p2name = "Terry Bogard" || p4name = "Terry Bogard"
trigger2 = p2name = "Terry" || p4name = "Terry"
trigger3 = p2name = "cvsterry" || p4name = "cvsterry"
trigger4 = p2name = "Ultimate Terry" || p4name = "Ultimate Terry"
trigger5 = p2name = "Andy Bogard" || p4name = "Andy Bogard"
trigger6 = p2name = "Andy" || p4name = "Andy"
trigger7 = p2name = "cvsandy" || p4name = "cvsandy"
trigger8 = (p2name = "Geese" || p4name = "Geese") && !(enemy,authorname = "Ambasa")
trigger9 = p2name = "Geese Howard" || p4name = "Geese Howard"
trigger10 = p2name = "NIGHTMARE GEESE" || p4name = "NIGHTMARE GEESE"
trigger11 = p2name = "N-Geese" || p4name = "N-Geese"
trigger12 = p2name = "Master Geese" || p4name = "Master Geese"
trigger13 = p2name = "W.Krauser" || p4name = "W.Krauser"
trigger14 = p2Name = "Krauser" || p4Name = "Krauser"
value = 193

[State 190,];相手が自分のギースだった場合は2P側のみ特殊に
type = ChangeState
triggerall = var(1) != 3
triggerall = roundstate = 0 
triggerall = time = 0 
triggerall = TeamMode = Turns
trigger1 = (p2name = "Geese" || p4name = "Geese") && (enemy,authorname = "Ambasa")
trigger1 = TeamSide = 2
value = 193

[State 190,];対ロック
type = ChangeState
triggerall = var(1) != 3
triggerall = roundstate = 0 
triggerall = time = 0 
triggerall = TeamMode = Turns
trigger1 = p2name = "Rock Howard" || p4name = "Rock Howard"
trigger2 = p2name = "Rock" || p4name = "Rock"
trigger3 = p2name = "NeoRock" || p4name = "NeoRock"
trigger4 = p2name = "cvsrock" || p4name = "cvsrock"
value = 194

[State 190,];対ビリー
type = ChangeState
triggerall = var(1) != 3
triggerall = roundstate = 0 
triggerall = TeamMode = Turns
triggerall = time = 0 
trigger1 = P2Name = "Billy Kane"	 || P4Name = "Billy Kane"
trigger2 = P2Name = "Billy Kane 95"	 || P4Name = "Billy Kane 95"
trigger3 = P2Name = "Billy Herrington"	 || P4Name = "Billy Herrington"
trigger4 = P2Name = "Billy Karn"	 || P4Name = "Billy Karn"
trigger5 = P2Name = "Billy_Kane"	 || P4Name = "Billy_Kane"
trigger6 = P2Name = "Billy Kane 03 "	 || P4Name = "Billy Kane 03 "
trigger7 = P2Name = "ffsp_billy"	 || P4Name = "ffsp_billy"
value = 195

[State 190,];対マリー
type = ChangeState
triggerall = var(1) != 3
triggerall = roundstate = 0 
triggerall = TeamMode = Turns
triggerall = time = 0 
trigger1 = p2name = "Blue Mary" || P4Name = "Blue Mary"
trigger2 = p2name = "Mary" || P4Name = "Mary"
trigger3 = p2name = "mary" || P4Name = "mary"
value = 196

;==============================================================================
;コンボ用

[State -3, クイックMAX発動フラグ1～3P]
type = varset
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = var(20) = 0
triggerall = var(1) = 0
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = power >= 2000
triggerall = movehit
trigger1 = stateno = 245
trigger1 = (animelemtime(3) >= 1 && animelemtime(4) <0)|| Helper(15000+id),var(51) < 90
trigger2 = stateno = [270,271]
trigger2 = animelemtime(6) >= 1 && animelemtime(7) <0
trigger2 = P2BodyDist X <= 5
trigger3 = stateno = 260
trigger3 = P2BodyDist X <= 20
trigger4 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger4 = P2BodyDist X <= 10
var(58) = 1

[State -3, クイックMAX発動フラグ1～3P・画面端]
type = varset
triggerall = var(59)
triggerall = var(57) >= 9 && RoundState = 2
triggerall = var(58) = 1
triggerall = var(1) = 0
triggerall = !fvar(34)
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = movehit
triggerall = Helper(15000+id),var(51) < 180
trigger1 = Helper(15000+id),var(51) < 160
trigger1 = stateno = 245 && animelemtime(3) >= 1 && animelemtime(4) <0
trigger2 = stateno = [270,271]
trigger2 = animelemtime(6) >= 1 && animelemtime(7) <0
trigger2 = P2BodyDist X <= 5
trigger3 = stateno = 260
trigger3 = P2BodyDist X <= 20
trigger4 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger4 = P2BodyDist X <= 10
trigger5 = stateno = 1431 && animelemtime(8) <0
var(58) = 2

[State -3, 中段当て身打ち追撃フラグ]
type = varset
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo = [5000,5099]
trigger1 = stateno = 1521 && animelemtime(4) >= 1
var(58) = ifelse(var(57) > 9 && Helper(15000+id),var(51) < 100, 6, 5)

[State -3, 下段当て身打ち追撃フラグ]
type = varset
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),StateType = A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = stateno = 1541 && animelemtime(7) >= 1
var(58) = ifelse(var(57) > 9 && Helper(15000+id),var(51) < 120, 8, 7)

[State -3, 邪影拳KOF強・画面端追撃フラグ]
type = varset
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 2
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = Helper(15000+id),var(51) < 120
trigger1 = stateno = 1441 && animelemtime(10) >= 0
trigger1 = movehit
var(58) = 9

[State -3, ダウン追い討ちフラグ]
type = varset
triggerall = var(59)
triggerall = var(57) >= 5 && RoundState = 2
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = stateno = 3001 || stateno = 3010 || stateno = 3020
trigger1 = EnemyNear(var(55)),StateNo = [3060,3061]
trigger1 = Helper(15000+id),var(51) < 115
trigger2 = stateno = 801
trigger2 = (EnemyNear(var(55)),StateNo = [802,804])|| EnemyNear(var(55)),StateNo = 282
trigger3 = stateno = 1501
trigger3 = (EnemyNear(var(55)),StateNo = [281,282])|| EnemyNear(var(55)),StateNo = 1510
trigger4 = !fvar(34)
trigger4 = (stateno = 690 || stateno = 695)&& movehit
trigger4 = Helper(15000+id),var(51) < 115
trigger5 = !var(58)
trigger5 = !fvar(34)
trigger5 = stateno = 1200 || stateno = 1250
trigger5 = movehit
trigger5 = Helper(15000+id),var(51) < 90
trigger6 = !fvar(34)
trigger6 = stateno = 1090
trigger6 = movehit
trigger6 = Helper(15000+id),var(51) < 100
trigger7 = stateno = 1301
trigger7 = (EnemyNear(var(55)),StateNo = [286,287])||EnemyNear(var(55)),StateNo = 1305
trigger7 = Helper(15000+id),var(52) < 95 ||((Helper(15000+id),var(51) < 95 || P2BodyDist X < 20)&& ctrl)
trigger8 = stateno = 250 || stateno = 451
trigger8 = (EnemyNear(var(55)),StateNo = [280,282])
trigger9 = stateno = 1421
trigger9 = (EnemyNear(var(55)),StateNo = [1425,1426])
trigger10= var(58) = 15
trigger10= stateno != 103
trigger10= Helper(15000+id),var(51) < 115
trigger11= stateno = 1551
trigger11= Helper(15000+id),var(51) < 180
trigger11= (EnemyNear(var(55)),StateNo = [293,294])
trigger12= !fvar(34)
trigger12= stateno = 3400 && movehit
trigger12= Helper(15000+id),var(51) < 90
trigger13= stateno = 4310 && movehit
trigger13= Helper(15000+id),var(51) < 90
trigger14= var(1) = 3
trigger14= stateno = 3500 || stateno = 3510
trigger14= (EnemyNear(var(55)),StateNo = [3060,3061])
trigger14= Helper(15000+id),var(51) < 115
trigger15= var(1) = 3
trigger15= stateno = 4000
trigger15= EnemyNear(var(55)),StateNo = 4032
trigger15= Helper(15000+id),var(51) < 165
var(58) = 10

[State -3, ダウン追い討ちフラグ]
type = varset
triggerall = var(59)
triggerall = var(57) >= 5 && RoundState = 2
triggerall = var(1) = 3
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = stateno = 1611
trigger1 = EnemyNear(var(55)),StateNo = 1615
var(58) = 30

[State -3, 裏雲隠し・追撃フラグ]
type = varset
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = stateno = 1311
trigger1 = EnemyNear(var(55)),StateNo = 1315
trigger2 = stateno = 1531
trigger2 = EnemyNear(var(55)),StateNo = 1532
var(58) = 11

[State -3, 餓狼版弱飛翔日輪斬・追撃フラグ4~9P]
type = varset
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = [1,2]
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = stateno = 1270 && movecontact
var(58) = 13

[State -3, 餓狼版強飛翔日輪斬・追撃フラグ4~9P]
type = varset
triggerall = var(59)
triggerall = var(57) >= 5 && RoundState = 2
triggerall = var(1) = [1,2]
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = stateno = 1271 && movecontact
var(58) = 14

[State -3, 中邪影拳4~9P・追撃フラグ]
type = varset
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = var(1) = [1,2]
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = var(58) != 10
trigger1 = stateno = 1411 && movehit
trigger1 = EnemyNear(var(55)),StateType = A ||(EnemyNear(var(55)),StateNo = [293,294])
var(58) = 15

[State -3, クイックMAX発動フラグ4～12P・画面端]
type = varset
triggerall = var(59)
triggerall = var(57) >= 9 && RoundState = 2
triggerall = var(20) = 0
triggerall =(var(1) = [1,2])||((!Helper(15000+id),var(35) || Helper(15000+id),var(43))&& var(1) = 3)
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = power >= 2000
triggerall = movehit ||((stateno = [1401,1411])&& var(5) = 1)
triggerall = Helper(15000+id),var(51) < 120
trigger1 = stateno = 245 && animelemtime(3) >= 1 && animelemtime(4) <0
trigger2 = Helper(15000+id),var(51) < 95
trigger2 = stateno = [270,271]
trigger2 = animelemtime(6) >= 1 && animelemtime(7) <0
trigger2 = P2BodyDist X <= 5
trigger3 = Helper(15000+id),var(51) < 95
trigger3 = stateno = 450
trigger3 = P2BodyDist X <= 40
trigger4 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger4 = P2BodyDist X <= 10
trigger5 = Helper(15000+id),var(51) < 85
trigger5 =(stateno = [1431,1441])&& animelemtime(8) <0
trigger6 = Helper(15000+id),var(51) < 85
trigger6 =(stateno = [1401,1411])&& var(5) = 1
trigger7 = stateno = [260,261]
var(58) = 16

[State -3, CVS上段当身投げ・追撃フラグ]
type = varset
triggerall = var(59)
triggerall = var(57) >= 5 && RoundState = 2
triggerall = EnemyNear(var(55)),Movetype = H
trigger1 = stateno = 1506
trigger1 = EnemyNear(var(55)),StateNo = [1511,1512]
var(58) = 18

[State -3, 中段当身・裏雲隠し追撃フラグ]
type = varset
triggerall = var(59)
triggerall = var(57) >= 5 && RoundState = 2
triggerall = EnemyNear(var(55)),Movetype = H
trigger1 = stateno = 1531
trigger1 = EnemyNear(var(55)),StateNo = 1532
var(58) = 20

[State -3, クイックMAX発動フラグ7～12P]
type = varset
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = var(58) != 16
triggerall = var(20) = 0
triggerall = var(1) = 2||((!Helper(15000+id),var(35) || Helper(15000+id),var(43))&& var(1) = 3)
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = power >= 2000
triggerall = movehit
trigger1 = stateno = 245
trigger1 = (animelemtime(3) >= 1 && animelemtime(4) <0)|| Helper(15000+id),var(51) < 90
trigger2 = stateno = [270,271]
trigger2 = animelemtime(6) >= 1 && animelemtime(7) <0
trigger2 = P2BodyDist X <= 5
trigger3 = stateno = [260,261]
;trigger3 = P2BodyDist X <= 20 || var(1) = 3
trigger4 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger4 = P2BodyDist X <= 10
trigger5 = stateno = 450
trigger5 = P2BodyDist X <= 20
var(58) = 21

[State -3, 餓狼版飛翔日輪斬・追撃フラグ10~12P]
type = varset
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = stateno = [1270,1271]
trigger1 = movecontact
var(58) = 22

[State -3, 中邪影拳10~12P・追撃フラグ]
type = varset
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = var(58) != [24,26]
trigger1 = stateno = 1411 || stateno = 4310
trigger1 = movehit
trigger1 = EnemyNear(var(55)),StateType = A
var(58) = 23

[State -3, 中邪影拳10~12P・バレーボール]
type = varset
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = stateno = 1411 && movehit
trigger1 = Helper(15000+id),var(35)
trigger1 = !Helper(15000+id),var(43) || var(58) = 26
trigger1 = EnemyNear(var(55)),StateType = A
trigger1 = var(58) = 23 || var(58) = 26
var(58) = 24

[State -3, 中邪影拳10~12P・バレーボール2]
type = varset
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = Helper(15000+id),var(35)
trigger1 = stateno = 1080 && movehit
trigger1 = EnemyNear(var(55)),StateType = A
trigger1 = var(58) = 24 || var(58) = 26
var(58) = 25

[State -3, 中邪影拳10~12P・バレーボール]
type = varset
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = stateno = 1200 && movehit
trigger1 = EnemyNear(var(55)),StateType = A
trigger1 = var(58) = 25
var(58) = 26

[State -3, 10~12P・弱ダブル疾風拳時追撃]
type = varset
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = !var(58)
triggerall = var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = stateno = 1150 || stateno = 1160
trigger1 = EnemyNear(var(55)),StateNo = [5000,5099]
var(58) = 27

[State -3, 10~12P・邪影拳KOF強追撃フラグ]
type = varset
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = stateno = 1441 && animelemtime(10) >= 0
trigger1 = movehit
var(58) = 28

[State -3, 10~12P・KOF弱烈風拳後追撃]
type = varset
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = var(1) = 3
triggerall = var(58) != [24,26]
triggerall = EnemyNear(var(55)),StateType = A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = !Helper(15000+id),var(35) || Helper(15000+id),var(43)
trigger1 = stateno = 1080 && movehit
trigger2 = stateno = 1090 && movehit = 1
trigger2 = animelemtime(11) >= 0
var(58) = 29

[State -3, コンボフラグリセット]
type = varset
triggerall = var(59)
triggerall = var(58)
triggerall = var(58) != 10
triggerall = var(58) != 12
triggerall = var(58) != 19
triggerall = var(58) != 30
triggerall = var(58) != [51,59]
trigger1 = var(58) != 15 && var(58) != 18
trigger1 = EnemyNear(var(55)),StateType = L
trigger2 = var(58) != 13
trigger2 = EnemyNear(var(55)),Movetype != H
trigger3 = var(58) != 13
trigger3 = EnemyNear(var(55)),Ctrl
trigger4 = var(58) = [1,6]
trigger4 = stateno = 3500 || stateno = [3600,3610]
trigger5 = var(58) = [7,9]
trigger5 = stateno = 690 || stateno = 695 || stateno = 3100 || stateno = 3500 || stateno = [3600,3610]
trigger6 = var(58) = [8,9]
trigger6 =(stateno = [1200,1250])
trigger7 = var(58) = 6 || var(58) = 11 || var(58) = 22 || var(58) = 27
trigger7 = stateno = [200,499]
trigger8 = var(58) = 13
trigger8 = stateno = 1275
trigger8 =(EnemyNear(var(55)),BackEdgeBodyDist > 10 && P2bodyDist X > 0)|| P2bodyDist X > 24
trigger9 = (var(58) = [13,14])|| var(58) = 20
trigger9 = (stateno = [240,245])||(stateno = [1300,1301])||(stateno = [3200,3301])||(stateno = [3700,3701])||(stateno = [4300,4301])
trigger10= var(58) = 15 || var(58) = 18
trigger10= stateno = 1101
trigger11= var(58) = 17
trigger11= (stateno = [400,410])|| stateno = 261
trigger11= movehit
trigger11= !var(20) || Power < 2000
trigger12= var(58) = 13 || var(58) = 22
trigger12= Movetype = H
trigger13= var(58) = 23
trigger13= stateno = 1420 ||(stateno = [3000,3030])||(stateno = [3500,3510])||(stateno = [4000,4001])
trigger14= var(1) = 3 && Helper(15000+id),var(35)
trigger14= stateno = 252
var(58) = 0

[State -3, 追い打ちフラグリセット]
type = varset
triggerall = var(59)
triggerall = var(58) = 10 || var(58) = 19 || var(58) = 30
trigger1 = stateno = 1600 ||(stateno = 1610 && var(58) != 30)
trigger2 = EnemyNear(var(55)),Movetype != H
trigger3 = EnemyNear(var(55)),Ctrl
trigger4 = var(58) = 10
trigger4 = P2BodyDist X < -100 || P2BodyDist X > 130
var(58) = 0

[State -3, 雷光キャンセルリセット]
type = varset
triggerall = var(59)
triggerall = var(58) = 12
trigger1 = stateno = 270 && movecontact
trigger2 = (stateno = [1300,1301])||(stateno = [3000,3999])
trigger3 = Movetype = H
trigger4 = ctrl || stateno = [18,19]
var(58) = 0

[State -3, ジャンプ連携フラグリセット]
type = varset
triggerall = var(59)
triggerall = var(58) = [51,59]
trigger1 = Movetype = H
trigger2 = var(58) = [51,52]
trigger2 = stateno = [1120,1121]
trigger3 = var(58) = [51,55]
trigger3 = stateno != [35,39]
trigger3 = stateType != A
var(58) = 0

;==============================================================================
;切り返し
;ジャンプ(近距離投げ対策)
[State -3,ジャンプ]
Type = ChangeState
Value = ifelse(fvar(39) = 4, 36, 38)
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100 ||(stateno = [120,140])
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype != H
triggerall = EnemyNear(var(55)),facing != facing
triggerall = Random <= var(57)*50 || var(57) > 9
trigger1 = p2bodydist X < 80
trigger1 = fvar(39)= 3
trigger2 = fvar(39)= 4

;---------------------------------------------------------------------------
;緊急回避前
[State -3, Taunt]
type = ChangeState
value = 700
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100 ||(stateno = [120,140])
triggerall = EnemyNear(var(55)),facing != facing
triggerall = Random <= var(57)*50 || var(57) > 9
triggerall = fvar(39)= 5
trigger1 = p2bodydist X < 100
trigger2 = EnemyNear(var(55)),Name = "doppo orochi" && EnemyNear(var(55)),AuthorName = "tokage"
trigger2 = p2bodydist X < 190

;---------------------------------------------------------------------------
;しゃがみ強パンチ
[State -3, Crouching Strong Punch]
type = ChangeState
value = 410
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 99 ||(stateno = [120,131])
triggerall = var(59)
triggerall = var(57) >= 10 && RoundState = 2
triggerall = fvar(39) < 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),stateno != [0,159]
triggerall = EnemyNear(var(55)),stateno != [5000,5500]
triggerall = !EnemyNear(var(55)),Ctrl
triggerall = !Enemy,numproj
triggerall = P2bodydist X <= 30
triggerall = P2bodydist Y > -50
triggerall = EnemyNear(var(55)),AnimTime <= -4
trigger1 = Helper(15000+id),var(50) ||(var(57) = 10 && Random <= 333)|| var(57) > 10
trigger1 = Helper(30000+id),var(53)
trigger1 = Random <= 200

;---------------------------------------------------------------------------
;レイジング祭り
[State Twister Drive]
type = ChangeState
value = 4400
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100 ||(stateno = [120,140])
triggerall = var(59)
triggerall = var(57) >= 10 && RoundState = 2
triggerall = var(1) = 3
triggerall = fvar(39) != [3,4]
triggerall = power >= 5000 ||(var(20) && power >= 4000)
triggerall = life <= 300
triggerall = Random <= 150
triggerall = P2bodydist X = [-50,50]
triggerall = P2bodydist Y > -140
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),AnimTime <= -5
triggerall = EnemyNear(var(55)),Movetype = A
triggerall = !Enemy,numproj
triggerall = (!Time&&var(57)>9)|| var(57)>10
trigger1 = (Enemynear(var(55)),Time >= 50-var(57)*2)|| var(57) > 10
trigger2 =(prevstateno = [120,155])||(PrevStateNo=[5000,5270])
trigger3 = Helper(15000+id),var(50)

;---------------------------------------------------------------------------
;サンダーブレイク餓狼
[State Twister Drive]
type = ChangeState
value = 4001
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100 ||(stateno = [120,140])
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = (var(57)<=10&&Random<=var(57)*10)||(var(57)>10&&Random<=333) || Power >= 5000
triggerall = fvar(39) != [3,4]
triggerall = (life <= 300 || var(1) = 3)
triggerall = (var(20) > 0 && power >= 1000)|| power >= 3000
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = life <= lifemax * 0.5 || var(57) > 10
triggerall = P2bodydist X = [-50,65]
triggerall = P2bodydist Y > -240
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),AnimTime <= -22 || var(57) < 8
triggerall = EnemyNear(var(55)),Movetype = A
triggerall = Enemynear(var(55)),Time >= 30||(var(57) > 7 &&(Enemynear(var(55)),Time >= 25-var(57)*1))||(!Time&&var(57)>9)|| var(57)>10
trigger1 = (Enemynear(var(55)),Time >= 50-var(57)*2)|| var(57) > 10
trigger2 =(prevstateno = [120,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270])
trigger3 = Helper(15000+id),var(50)

;---------------------------------------------------------------------------
;サンダーブレイクKOF
[State Twister Drive]
type = ChangeState
value = 4000
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100 ||(stateno = [120,140])
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = (var(57)<=10&&Random<=var(57)*10)||(var(57)>10&&Random<=333)
triggerall = fvar(39) != [3,4]
triggerall = (life <= 300 || var(1) = 3)
triggerall = (var(20) > 0 && power >= 1000)|| power >= 3000
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = life <= lifemax * 0.5 || var(57) > 10
triggerall = P2bodydist X = [-35,45]
triggerall = P2bodydist Y > -240
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),AnimTime <= -10 || var(57) < 8
triggerall = EnemyNear(var(55)),Movetype = A
triggerall = Enemynear(var(55)),Time >= 30||(var(57) > 7 &&(Enemynear(var(55)),Time >= 25-var(57)*1))||(!Time&&var(57)>9)|| var(57)>10
trigger1 = (Enemynear(var(55)),Time >= 50-var(57)*2)|| var(57) > 10
trigger2 =(prevstateno = [120,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270])
trigger3 = Helper(15000+id),var(50)

;---------------------------------------------------------------------------
;MAX2餓狼デッドリーレイブ
[State Twister Drive]
type = ChangeState
value = 4300
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100 ||(stateno = [120,140])
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = (var(57)<=10&&Random<=var(57)*13)||(var(57)>10&&Random<=333) || Power >= 5000
triggerall = fvar(39) != [3,4]
triggerall = (life <= 300 || var(1) = 3)
triggerall = (var(20) > 0 && power >= 1000)|| power >= 3000
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = life <= lifemax * 0.5 || var(57) > 10
triggerall = P2bodydist X = [-5,60]
triggerall = P2bodydist Y > -40
triggerall = P2bodydist X < 30 || EnemyNear(var(55)),AnimTime <= -9
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),AnimTime <= -5 || var(57) < 8
triggerall = EnemyNear(var(55)),Movetype = A
triggerall = Enemynear(var(55)),Time >= 30||(var(57) > 7 &&(Enemynear(var(55)),Time >= 25-var(57)*1))||(!Time&&var(57)>9)|| var(57)>10
trigger1 = (Enemynear(var(55)),Time >= 50-var(57)*2)|| var(57) > 10
trigger2 =(prevstateno = [120,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270])
trigger3 = Helper(15000+id),var(50)

;---------------------------------------------------------------------------
;レイジングデッドエンド中の当て身
[State Scramble Dash]
type = ChangeState
value = ifelse(Random <= 499 , 4505, 4506)
triggerall = statetype != A
triggerall = ctrl ||(stateno = [18,19])||(stateno = [100,101])||(stateno = [120,140])
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = Random <= var(57)*50 || Helper(15000+id),var(2) || var(57) > 10
triggerall = var(1) = 3
triggerall = var(28) = 1
triggerall = fvar(39) != [3,4]
triggerall = Random <= Helper(15000+id),var(30)*100
triggerall = EnemyNear(var(55)),StateType != A ||(EnemyNear(var(55)),StateType = A && Helper(30000+id),var(54))
triggerall = inguarddist || EnemyNear(var(55)),MoveType = A
triggerall = !(Enemy,HitDefAttr = SCA, AP)
triggerall = !Enemy,numproj
trigger1 = Helper(30000+id),var(54) || Helper(30000+id),var(55)

;---------------------------------------------------------------------------
;レイジングデッドエンド中の当て身
[State Scramble Dash]
type = ChangeState
value = ifelse(Random <= 499 , 4505, 4506)
triggerall = statetype != A
triggerall = ctrl ||(stateno = [18,19])||(stateno = [100,101])||(stateno = [120,140])
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = Random <= var(57)*30 || var(57) > 10
triggerall = Random <= Helper(15000+id),var(30)*100
triggerall = var(1) = 3
triggerall = var(28) = 1
triggerall = fvar(39) != [3,4]
triggerall = Helper(15000+id),var(30) < 10
triggerall = life <= lifemax * 0.7
triggerall = EnemyNear(var(55)),Movetype = A
triggerall = EnemyNear(var(55)),HitDefAttr = SCA, NA, SA, HA
triggerall = (Enemynear(var(55)),Time >= 25-var(57)*1)||(!Time&&var(57)>9) || var(57)>10 || Helper(15000+id),var(49)
triggerall = (!var(53)&&var(57)<10&&(P2BodyDist X = [0,90]))||(!var(53)&&var(57)>=10&&(P2BodyDist X = [0,60]))||(var(53)&&(P2BodyDist X = [0,50]))
triggerall = (life>lifemax * 0.3&&Random<=333)|| life<=lifemax * 0.3
triggerall = P2BodyDist Y > -110
triggerall = !(Enemy,HitDefAttr = SCA, AP)
triggerall = !Enemy,numproj
triggerall = inguarddist
trigger1 = Enemynear(var(55)),Time <= 5
trigger1 = var(57) > 10
trigger2 = (PrevStateNo = [120,159])
trigger2 = var(57) < 10
trigger3 = Enemynear(var(55)),Time <= 10
trigger3 = (PrevStateNo = [120,139]) || Helper(15000+id),var(50)
trigger3 = var(57) >= 10
trigger4 = (var(57) > 9 && Enemynear(var(55)),Time <= 10) || var(57) <= 9
trigger4 = (prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270]) || Helper(15000+id),var(50)

;---------------------------------------------------------------------------
;レイジングデッドエンド or 虚空烈風斬(当て身)
[State Twister Drive]
type = ChangeState
value = ifelse(var(1) != 1 &&(var(1) = 0 || Random <= 499), 4100, 4200)
triggerall = statetype != A
triggerall = ctrl ||(stateno = [18,19])||(stateno = [100,101])||(stateno = [120,140])
triggerall = var(59)
triggerall = var(57) >= 5 && RoundState = 2
triggerall = fvar(39) != [3,4]
triggerall = Random <= var(57)*100 || var(57) > 10
triggerall = Random <= Helper(15000+id),var(30)*100
triggerall = Random<=300 || Helper(15000+id),var(30) > 9 || Helper(15000+id),var(50) || Helper(30000+id),var(50) > 10 || Helper(15000+id),var(2) || var(57)>10
triggerall = (life <= 300 || var(1) = 3) || var(9) = 2
triggerall = power >= 3000 ||(var(20)&& Power >= 1000)
triggerall = EnemyNear(var(55)),StateType != A ||(EnemyNear(var(55)),StateType = A && Helper(30000+id),var(54))
triggerall = inguarddist || EnemyNear(var(55)),MoveType = A
triggerall = EnemyNear(var(55)),HitDefAttr = SCA, NA, SA, HA
triggerall = !(Enemy,HitDefAttr = SCA, AP)
triggerall = !Enemy,numproj
trigger1 = Helper(30000+id),var(54) || Helper(30000+id),var(55)

;---------------------------------------------------------------------------
;レイジングデッドエンド or 虚空烈風斬(当て身)
[State Twister Drive]
type = ChangeState
value = ifelse(var(1) != 1 &&(var(1) = 0 || Random <= 499), 4100, 4200)
triggerall = statetype != A
triggerall = ctrl ||(stateno = [18,19])||(stateno = [100,101])||(stateno = [120,140])
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(57) < 12
triggerall = Random <= var(57)*30
triggerall = Random <= Helper(15000+id),var(30)*100
triggerall = var(1) = 3
triggerall = fvar(39) != [3,4]
triggerall = Helper(15000+id),var(30) < 10
triggerall = (life <= 300 || var(1) = 3) || var(9) = 2
triggerall = power >= 3000 ||(var(20)&& Power >= 1000)
triggerall = EnemyNear(var(55)),Movetype = A
triggerall = EnemyNear(var(55)),HitDefAttr = SCA, NA, SA, HA
triggerall = (Enemynear(var(55)),Time >= 25-var(57)*1)||(!Time&&var(57)>9) || var(57)>10 || Helper(15000+id),var(50)
triggerall = (!var(53)&&var(57)<10&&(P2BodyDist X = [0,90]))||(!var(53)&&var(57)>=10&&(P2BodyDist X = [0,60]))||(var(53)&&(P2BodyDist X = [0,50]))
triggerall = (life>lifemax * 0.3&&Random<=333)|| life<=lifemax * 0.3
triggerall = P2BodyDist Y > -110
triggerall = !(Enemy,HitDefAttr = SCA, AP)
triggerall = !Enemy,numproj
triggerall = inguarddist
trigger1 = Enemynear(var(55)),Time <= 5
trigger1 = var(57) > 10
trigger2 = (PrevStateNo = [120,159])
trigger2 = var(57) < 10
trigger3 = Enemynear(var(55)),Time <= 10
trigger3 = (PrevStateNo = [120,139]) || Helper(15000+id),var(50)
trigger3 = var(57) >= 10
trigger4 = (var(57) > 9 && Enemynear(var(55)),Time <= 10) || var(57) <= 9
trigger4 = (prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270])

;---------------------------------------------------------------------------
;MAX羅生門 どっちかはランダム
[State Twister Drive]
type = ChangeState
value = ifelse(Random <= 500, 3701, 3700)
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100 ||(stateno = [120,140])
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = (var(57)<=10&&Random<=var(57)*7)||(var(57)>10&&Random<=300)
triggerall = (var(20) > 0 && power >= 1000)|| power >= 3000
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = fvar(39) != [3,4]
triggerall = life <= lifemax * 0.6 || power >= 3000
triggerall = P2bodydist X = [-5,50]
triggerall = (P2bodydist X = [-5,28])|| var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),AnimTime <= -2 || var(57) < 8
triggerall = EnemyNear(var(55)),Movetype = A
triggerall = Enemynear(var(55)),Time >= 30||(var(57) > 7 &&(Enemynear(var(55)),Time >= 25-var(57)*1))||(!Time&&var(57)>9)|| var(57)>10
trigger1 = (Enemynear(var(55)),Time >= 50-var(57)*2)|| var(57) > 10
trigger2 =(prevstateno = [120,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270])
trigger3 = Helper(15000+id),var(50)
trigger3 = Random <= 250 || var(57) > 10

;---------------------------------------------------------------------------
;MAXレイジングストーム餓狼
[State Twister Drive]
type = ChangeState
value = 3510
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100 ||(stateno = [120,140])
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = (var(57)<=10&&Random<=var(57)*8)||(var(57)>10&&Random<=300)
triggerall = (var(20) > 0 && power >= 1000)|| power >= 3000
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = fvar(39) != [3,4]
triggerall = life <= lifemax * 0.6 || power >= 3000 
triggerall = P2bodydist X = [-5,85]
triggerall = P2bodydist Y > -90
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),AnimTime <= -9 || var(57) < 8
triggerall = EnemyNear(var(55)),Movetype = A
triggerall = Enemynear(var(55)),Time >= 30||(var(57) > 7 &&(Enemynear(var(55)),Time >= 25-var(57)*1))||(!Time&&var(57)>9)|| var(57)>10
trigger1 = (Enemynear(var(55)),Time >= 50-var(57)*2)|| var(57) > 10
trigger2 =(prevstateno = [120,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270])
trigger3 = Helper(15000+id),var(50)
trigger3 = Random <= 250 || var(57) > 10

;---------------------------------------------------------------------------
;MAXレイジングストームKOF
[State Twister Drive]
type = ChangeState
value = 3500
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100 ||(stateno = [120,140])
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = (var(57)<=10&&Random<=var(57)*8)||(var(57)>10&&Random<=300)
triggerall = (var(20) > 0 && power >= 1000)|| power >= 3000
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = fvar(39) != [3,4]
triggerall = life <= lifemax * 0.6 || power >= 3000
triggerall = P2bodydist X = [-55,65]
triggerall = P2bodydist Y > -240
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),AnimTime <= -7 || var(57) < 8
triggerall = EnemyNear(var(55)),Movetype = A
triggerall = Enemynear(var(55)),Time >= 30||(var(57) > 7 &&(Enemynear(var(55)),Time >= 25-var(57)*1))||(!Time&&var(57)>9)|| var(57)>10
trigger1 = (Enemynear(var(55)),Time >= 50-var(57)*2)|| var(57) > 10
trigger2 =(prevstateno = [120,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270])
trigger3 = Helper(15000+id),var(50)
trigger3 = Random <= 250 || var(57) > 10

;---------------------------------------------------------------------------
;潜在レイジングストーム
[State Twister Drive]
type = ChangeState
value = 3900
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100 ||(stateno = [120,140])
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = (var(57)<=10&&Random<=var(57)*8)||(var(57)>10&&Random<=300)
triggerall = (var(20) > 0 && power >= 1000)|| power >= 3000
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = fvar(39) != [3,4]
triggerall = life <= lifemax * 0.6 || power >= 3000
triggerall = P2bodydist X = [-5,30]
triggerall = P2bodydist Y > -40
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),AnimTime <= -8 || var(57) < 8
triggerall = EnemyNear(var(55)),Movetype = A
triggerall = Enemynear(var(55)),Time >= 30||(var(57) > 7 &&(Enemynear(var(55)),Time >= 25-var(57)*1))||(!Time&&var(57)>9)|| var(57)>10
trigger1 = (Enemynear(var(55)),Time >= 50-var(57)*2)|| var(57) > 10
trigger2 =(prevstateno = [120,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270])
trigger3 = Helper(15000+id),var(50)
trigger3 = Random <= 250 || var(57) > 10

;---------------------------------------------------------------------------
;投げレイジング or 羅生門
[State Twister Drive]
type = ChangeState
value = ifelse((Random <= 499 && P2bodyDist X < 24), 3300, 3200)
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100 ||(stateno = [120,140])
triggerall = var(59)
triggerall = var(57) >= 5 && RoundState = 2
triggerall = (var(57)<=10&&Random<=var(57)*5)||(var(57)>10&&Random<=200)
triggerall = fvar(39) != [3,4]
triggerall = power >= 1000 || var(20) > 0
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = life <= lifemax * 0.6 || power >= 3000
triggerall = P2bodydist X = [-5,45]
triggerall = P2bodydist X < 29 || var(1) = 3
triggerall = P2bodydist Y > -10
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),AnimTime <= -3 || var(57) < 8
triggerall = EnemyNear(var(55)),Movetype = A
triggerall = Enemynear(var(55)),Time >= 30||(var(57) > 7 &&(Enemynear(var(55)),Time >= 25-var(57)*1))||(!Time&&var(57)>9)|| var(57)>10
trigger1 = (Enemynear(var(55)),Time >= 50-var(57)*2)|| var(57) > 10
trigger2 =(prevstateno = [120,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270])
trigger3 = Helper(15000+id),var(50)
trigger3 = Random <= 250 || var(57) > 10

;---------------------------------------------------------------------------
;レイジングストームKOF96
[State Twister Drive]
type = ChangeState
value = 3000
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100 ||(stateno = [120,140])
triggerall = var(59)
triggerall = var(57) >= 4 && RoundState = 2
triggerall = (var(57)<=10&&Random<=var(57)*5)||(var(57)>10&&Random<=150)
triggerall = power >= 1000 || var(20) > 0
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = fvar(39) != [3,4]
triggerall = life <= lifemax * 0.6 || power >= 3000
triggerall = P2bodydist X = [-35,48]
triggerall = (P2bodydist Y = [-190,-50])|| EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),AnimTime <= -12 || var(57) < 8 || EnemyNear(var(55)),StateType = A
triggerall = EnemyNear(var(55)),Movetype = A
triggerall = Enemynear(var(55)),Time >= 30||(var(57) > 7 &&(Enemynear(var(55)),Time >= 25-var(57)*1))||(!Time&&var(57)>9)|| var(57)>10 ||(EnemyNear(var(55)),StateType = A && P2Dist X < 0)
trigger1 = (Enemynear(var(55)),Time >= 50-var(57)*2)|| var(57) > 10
trigger2 =(prevstateno = [120,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270])
trigger3 = Helper(15000+id),var(50)
trigger3 = Random <= 250 || var(57) > 10

;---------------------------------------------------------------------------
;レイジングストームRB
[State Twister Drive]
type = ChangeState
value = 3020
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100 ||(stateno = [120,140])
triggerall = var(59)
triggerall = var(57) >= 4 && RoundState = 2
triggerall = (var(57)<=10&&Random<=var(57)*5)||(var(57)>10&&Random<=150)
triggerall = fvar(39) != [3,4]
triggerall = power >= 1000 || var(20) > 0
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = life <= lifemax * 0.6 || power >= 3000
triggerall = P2bodydist X = [-55,61]
triggerall = P2bodydist Y > -190
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),AnimTime <= -9 || var(57) < 8
triggerall = EnemyNear(var(55)),Movetype = A
triggerall = Enemynear(var(55)),Time >= 30||(var(57) > 7 &&(Enemynear(var(55)),Time >= 25-var(57)*1))||(!Time&&var(57)>9)|| var(57)>10
trigger1 = (Enemynear(var(55)),Time >= 50-var(57)*2)|| var(57) > 10
trigger2 =(prevstateno = [120,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270])
trigger3 = Helper(15000+id),var(50)
trigger3 = Random <= 250 || var(57) > 10

;---------------------------------------------------------------------------
;弱飛翔日輪斬(若ギース)
[State Scramble Dash]
type = ChangeState
value = 1270
triggerall = statetype != A
triggerall = ctrl ||(stateno = [18,19])||(stateno = [100,101])||(stateno = [120,140])
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = (var(57)<=10&&Random<=var(57)*8)||(var(57)>10&&Random<=150)
triggerall = fvar(39) != [3,4]
triggerall = var(1) = 3
triggerall = life <= lifemax * 0.6 || Random <= 333
triggerall = P2BodyDist X = [15,65]
triggerall = P2bodydist Y > -10
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),AnimTime <= -20 || var(57) < 8
triggerall = EnemyNear(var(55)),Movetype = A
triggerall = Enemynear(var(55)),Time >= 30||(var(57) > 7 &&(Enemynear(var(55)),Time >= 25-var(57)*1))||(!Time&&var(57)>9)|| var(57)>10
trigger1 = (Enemynear(var(55)),Time >= 50-var(57)*2)|| var(57) > 10
trigger2 =(prevstateno = [120,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270])
trigger3 = Helper(15000+id),var(50)
trigger3 = Random <= 250 || var(57) > 10

;---------------------------------------------------------------------------
;裏雲隠し
[State Scramble Dash]
type = ChangeState
value = 1310
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100 ||(stateno = [120,140])
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = (var(57)<=10&&Random<=var(57)*10)||(var(57)>10&&Random<=200)
triggerall = var(1) = 3
triggerall = fvar(39) != [3,4]
triggerall = life <= lifemax * 0.6 || Random <= 333
triggerall = P2bodydist X = [-9,20]
triggerall = P2bodydist Y > -10
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),AnimTime <= -7 || var(57) < 8
triggerall = EnemyNear(var(55)),Movetype = A
triggerall = Enemynear(var(55)),Time >= 30||(var(57) > 7 &&(Enemynear(var(55)),Time >= 25-var(57)*1))||(!Time&&var(57)>9)|| var(57)>10
trigger1 = (Enemynear(var(55)),Time >= 50-var(57)*2)|| var(57) > 10
trigger2 =(prevstateno = [120,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270])
trigger3 = Helper(15000+id),var(50)
trigger3 = Random <= 250 || var(57) > 10

;---------------------------------------------------------------------------
;真空投げ
[State Scramble Dash]
type = ChangeState
value = 1300
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100 ||(stateno = [120,140])
triggerall = var(59)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = (var(57)<=10&&Random<=var(57)*8)||(var(57)>10&&Random<=150)
triggerall = var(1) = 0 || var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = fvar(39) != [3,4]
triggerall = life <= lifemax * 0.6 || Random <= 333
triggerall = P2bodydist X = [-9,36]
triggerall = P2bodydist X < 25 || var(1) = 3
triggerall = P2bodydist Y > -10
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),AnimTime <= -3 || var(57) < 8
triggerall = EnemyNear(var(55)),Movetype = A
triggerall = Enemynear(var(55)),Time >= 30||(var(57) > 7 &&(Enemynear(var(55)),Time >= 25-var(57)*1))||(!Time&&var(57)>9)|| var(57)>10
trigger1 = (Enemynear(var(55)),Time >= 50-var(57)*2)|| var(57) > 10
trigger2 =(prevstateno = [120,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270])
trigger3 = Helper(15000+id),var(50)
trigger3 = Random <= 250 || var(57) > 10

;---------------------------------------------------------------------------
;上段当て身投げ1~6P
[State Scramble Dash]
type = ChangeState
value = ifelse(var(1) = 0, 1500, 1505)
triggerall = statetype != A
triggerall = ctrl ||(stateno = [18,19])||(stateno = [100,101])||(stateno = [120,140])
triggerall = Random<=300 || Helper(15000+id),var(30) > 9 || Helper(15000+id),var(50) || Helper(30000+id),var(50) > 10 || Helper(15000+id),var(2) || var(57)>10
triggerall = var(59)
triggerall = var(57) >= 5 && RoundState = 2
triggerall = Random <= var(57)*100 || var(57) > 10
triggerall = Random <= Helper(15000+id),var(30)*100
triggerall = var(1) = [0,1]
triggerall = var(28) != 1
triggerall = EnemyNear(var(55)),StateNo != Helper(30000+id),var(51)
triggerall = EnemyNear(var(55)),StateNo != Helper(30000+id),var(52)
triggerall = EnemyNear(var(55)),StateType != A ||(EnemyNear(var(55)),StateType = A && Helper(30000+id),var(54))
triggerall = inguarddist || EnemyNear(var(55)),MoveType = A
triggerall = (EnemyNear(var(55)),HitDefAttr = SC, SA, HA)||(EnemyNear(var(55)),HitDefAttr = A, AA)
triggerall = !(Enemy,HitDefAttr = SCA, AP)
triggerall = !Enemy,numproj
trigger1 = Helper(30000+id),var(54)

;---------------------------------------------------------------------------
;上段当て身投げ1~6P
[State Scramble Dash]
type = ChangeState
value = ifelse(var(1) = 0, 1500, 1505)
triggerall = statetype != A
triggerall = ctrl ||(stateno = [18,19])||(stateno = [100,101])||(stateno = [120,140])
triggerall =(prevstateno = [120,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270]) || Random<=300 || Helper(15000+id),var(50) ||var(57)>10
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(57) < 12
triggerall = Random <= var(57)*50 || var(57) > 10
triggerall = Random <= Helper(15000+id),var(30)*100
triggerall = var(1) = [0,1]
triggerall = var(28) != 1
triggerall = !Helper(30000+id),var(54)
triggerall = Helper(15000+id),var(30) < 10
triggerall = P2BodyDist X < 80
triggerall = P2BodyDist Y > -85
triggerall = EnemyNear(var(55)),StateType != A ||(EnemyNear(var(55)),StateType = A && EnemyNear(var(55)),Pos Y < -30)
triggerall = EnemyNear(var(55)),Facing != facing
triggerall = inguarddist || EnemyNear(var(55)),MoveType = A
triggerall = (EnemyNear(var(55)),HitDefAttr = SC, SA, HA)||(EnemyNear(var(55)),HitDefAttr = A, AA)
triggerall = !Enemy,numproj
trigger1 =(var(57)<10 && Life <= Lifemax * 0.3 && Random <= 30)||(var(57)=10 && Life <= Lifemax * 0.6 && Random <= 60)||(var(57)>10 && Random <= 100)
trigger1 = Enemynear(var(55)),Time <= 3
trigger2 =(var(57)=10 && Random <= 60)||(var(57)>10 && Random <= 150)
trigger2 = Enemynear(var(55)),Time <= 2
trigger2 = (PrevStateNo = [120,139])|| Helper(15000+id),var(50) || Random <= 200

;---------------------------------------------------------------------------
;上段当て身投げ7~12P
[State Scramble Dash]
type = ChangeState
value = ifelse(Random <= 200 && var(57) < 11, 1505, 1500)
triggerall = statetype != A
triggerall = ctrl ||(stateno = [18,19])||(stateno = [100,101])||(stateno = [120,140])
triggerall = Random<=300 || Helper(15000+id),var(30) > 9 || Helper(15000+id),var(50) || Helper(30000+id),var(50) > 12 || Helper(15000+id),var(2) || var(57)>10
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = Random <= var(57)*100 || var(57) > 10
triggerall = Random <= Helper(15000+id),var(30)*100
triggerall = var(1) = 2 || var(1) = 3
triggerall = var(28) != 1
triggerall = EnemyNear(var(55)),StateNo != Helper(30000+id),var(51)
triggerall = EnemyNear(var(55)),StateNo != Helper(30000+id),var(52)
triggerall = EnemyNear(var(55)),StateType != A ||(EnemyNear(var(55)),StateType = A && Helper(30000+id),var(54))
triggerall = inguarddist || EnemyNear(var(55)),MoveType = A
triggerall = (EnemyNear(var(55)),HitDefAttr = SC, SA, HA)||(EnemyNear(var(55)),HitDefAttr = A, AA)
triggerall = !(Enemy,HitDefAttr = SCA, AP)
triggerall = !Enemy,numproj
trigger1 = Helper(30000+id),var(54)

;---------------------------------------------------------------------------
;上段当て身投げ7~12P
[State Scramble Dash]
type = ChangeState
value = ifelse(Random <= 200 && var(57) < 11, 1505, 1500)
triggerall = statetype != A
triggerall = ctrl ||(stateno = [18,19])||(stateno = [100,101])||(stateno = [120,140])
triggerall =(prevstateno = [120,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270]) || Random<=300 || Helper(15000+id),var(50) ||var(57)>10
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(57) < 12
triggerall = Random <= var(57)*50 || var(57) > 10
triggerall = Random <= Helper(15000+id),var(30)*100
triggerall = var(1) = [2,3]
triggerall = var(28) != 1
triggerall = !Helper(30000+id),var(54)
triggerall = Helper(15000+id),var(30) < 10
triggerall = P2BodyDist X < 80
triggerall = P2BodyDist Y > -120
triggerall = EnemyNear(var(55)),StateType != A ||(EnemyNear(var(55)),StateType = A && EnemyNear(var(55)),Pos Y < -30)
triggerall = EnemyNear(var(55)),Facing != facing
triggerall = inguarddist || EnemyNear(var(55)),MoveType = A
triggerall = (EnemyNear(var(55)),HitDefAttr = SC, SA, HA)||(EnemyNear(var(55)),HitDefAttr = A, AA)
triggerall = !(Enemy,HitDefAttr = SCA, AP)
triggerall = !Enemy,numproj
trigger1 =(var(57)<10 && Life <= Lifemax * 0.3 && Random <= 30)||(var(57)=10 && Life <= Lifemax * 0.6 && Random <= 60)||(var(57)>10 && Random <= 100)
trigger1 = Enemynear(var(55)),Time <= 3
trigger2 =(var(57)=10 && Random <= 60)||(var(57)>10 && Random <= 150)
trigger2 = Enemynear(var(55)),Time <= 2
trigger2 = (PrevStateNo = [120,139])|| Helper(15000+id),var(50) || Random <= 200

;---------------------------------------------------------------------------
;中段当て身1~6P
[State Scramble Dash]
type = ChangeState
value = ifelse(var(1) = 0, 1520, 1530)
triggerall = statetype != A
triggerall = ctrl ||(stateno = [18,19])||(stateno = [100,101])||(stateno = [120,140])
triggerall = Random<=300 || Helper(15000+id),var(30) > 9 || Helper(15000+id),var(50) || Helper(30000+id),var(50) > 10 || Helper(15000+id),var(2) || var(57)>10
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = Random <= var(57)*100 || var(57) > 10
triggerall = Random <= Helper(15000+id),var(30)*100
triggerall = var(1) = [0,1]
triggerall = var(28) != 1
triggerall = EnemyNear(var(55)),StateType != A
triggerall = inguarddist || EnemyNear(var(55)),MoveType = A
triggerall = EnemyNear(var(55)),StateNo != Helper(30000+id),var(56)
triggerall = EnemyNear(var(55)),StateNo != Helper(30000+id),var(57)
triggerall = !(Enemy,HitDefAttr = SCA, AP)
triggerall = !Enemy,numproj
trigger1 = EnemyNear(var(55)),HitDefAttr = S, NA
trigger1 = Helper(30000+id),var(54) || Helper(30000+id),var(55)

;---------------------------------------------------------------------------
;中段当て身1~6P
[State Scramble Dash]
type = ChangeState
value = ifelse(var(1) = 0, 1520, 1530)
triggerall = statetype != A
triggerall = ctrl ||(stateno = [18,19])||(stateno = [100,101])||(stateno = [120,140])
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(57) < 12
triggerall = Random <= var(57)*30 ||(var(57) > 10 && Random<= 500)
triggerall = Random <= Helper(15000+id),var(30)*100
triggerall = var(1) = [0,1]
triggerall = var(28) != 1
triggerall = !Helper(30000+id),var(54)
triggerall = !Helper(30000+id),var(55)
triggerall = Helper(15000+id),var(30) < 10
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),MoveType = A
triggerall = EnemyNear(var(55)),Const(size.head.pos.y) < -60
triggerall = EnemyNear(var(55)),HitDefAttr = S, NA
triggerall = EnemyNear(var(55)),AnimTime <= -6 || var(57)<8
triggerall = Enemynear(var(55)),Time >= 30||(!Time&&var(57)>8) || Helper(15000+id),var(50)
triggerall = P2BodyDist X = [0,50]
triggerall = P2BodyDist Y > -25
triggerall = !(Enemy,HitDefAttr = SCA, AP)
triggerall = !Enemy,numproj
trigger1 = (PrevStateNo = [120,159])
trigger1 = var(57) < 10
trigger2 = (var(57) > 9 && Enemynear(var(55)),Time <= 5) || var(57) <= 9
trigger2 =(prevstateno = [120,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270]) || Helper(15000+id),var(50) || Random <= 200

;---------------------------------------------------------------------------
;中段当て身7~12P
[State Scramble Dash]
type = ChangeState
value = ifelse(Helper(15000+id),var(51) < 100 , 1520, 1530)
triggerall = statetype != A
triggerall = ctrl ||(stateno = [18,19])||(stateno = [100,101])||(stateno = [120,140])
triggerall = Random<=300 || Helper(15000+id),var(30) > 9 || Helper(15000+id),var(50) || Helper(30000+id),var(50) > 12 || Helper(15000+id),var(2) || var(57)>10
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = Random <= var(57)*100 || var(57) > 10
triggerall = Random <= Helper(15000+id),var(30)*100
triggerall = var(1) = 2 || var(1) = 3
triggerall = var(28) != 1
triggerall = EnemyNear(var(55)),StateType != A
triggerall = inguarddist || EnemyNear(var(55)),MoveType = A
triggerall = EnemyNear(var(55)),StateNo != Helper(30000+id),var(56)
triggerall = EnemyNear(var(55)),StateNo != Helper(30000+id),var(57)
triggerall = !(Enemy,HitDefAttr = SCA, AP)
triggerall = !Enemy,numproj
trigger1 = EnemyNear(var(55)),HitDefAttr = S, NA
trigger1 = Helper(30000+id),var(54) || Helper(30000+id),var(55)

;---------------------------------------------------------------------------
;中段当て身7~12P
[State Scramble Dash]
type = ChangeState
value = ifelse(Helper(15000+id),var(51) < 100 , 1520, 1530)
triggerall = statetype != A
triggerall = ctrl ||(stateno = [18,19])||(stateno = [100,101])||(stateno = [120,140])
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(57) < 12
triggerall = Random <= var(57)*30 ||(var(57) > 10 && Random<= 500)
triggerall = Random <= Helper(15000+id),var(30)*100
triggerall = var(1) = [2,3]
triggerall = var(28) != 1
triggerall = !Helper(30000+id),var(54)
triggerall = !Helper(30000+id),var(55)
triggerall = Helper(15000+id),var(30) < 10
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),MoveType = A
triggerall = EnemyNear(var(55)),Const(size.head.pos.y) < -60
triggerall = EnemyNear(var(55)),HitDefAttr = S, NA
triggerall = EnemyNear(var(55)),AnimTime <= -6 || var(57)<8
triggerall = Enemynear(var(55)),Time >= 30||(!Time&&var(57)>8) || Helper(15000+id),var(50)
triggerall = P2BodyDist X = [0,50]
triggerall = P2BodyDist Y > -25
triggerall = !(Enemy,HitDefAttr = SCA, AP)
triggerall = !Enemy,numproj
trigger1 = (PrevStateNo = [120,159])
trigger1 = var(57) < 10
trigger2 = (var(57) > 9 && Enemynear(var(55)),Time <= 5) || var(57) <= 9
trigger2 =(prevstateno = [120,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270]) || Helper(15000+id),var(50) || Random <= 200

;---------------------------------------------------------------------------
;下段当て身打ち1~6P
[State Scramble Dash]
type = ChangeState
value = ifelse(var(1) = 0, 1540, 1550)
triggerall = statetype != A
triggerall = ctrl ||(stateno = [18,19])||(stateno = [100,101])||(stateno = [120,140])
triggerall = Random<=300 || Helper(15000+id),var(30) > 9 || Helper(15000+id),var(50) || Helper(30000+id),var(50) > 14 || Helper(15000+id),var(2) || var(57)>10
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = Random <= var(57)*100 || var(57) > 10
triggerall = Random <= Helper(15000+id),var(30)*100
triggerall = var(1) = [0,1]
triggerall = var(28) != 1
triggerall = EnemyNear(var(55)),StateType != A
triggerall = inguarddist || EnemyNear(var(55)),MoveType = A
triggerall = !(Enemy,HitDefAttr = SCA, AP)
triggerall = !Enemy,numproj
trigger1 = EnemyNear(var(55)),HitDefAttr = C, NA
trigger1 = Random < 500
trigger1 = Helper(30000+id),var(54) || Helper(30000+id),var(55)
trigger2 = EnemyNear(var(55)),HitDefAttr = S, NA
trigger2 = (EnemyNear(var(55)),StateNo = Helper(30000+id),var(56))||(EnemyNear(var(55)),StateNo = Helper(30000+id),var(57))
trigger2 = Random < 500
trigger2 = Helper(30000+id),var(54) || Helper(30000+id),var(55)

;---------------------------------------------------------------------------
;下段当て身打ち1~6P
[State Scramble Dash]
type = ChangeState
value = ifelse(var(1) = 0, 1540, 1550)
triggerall = statetype != A
triggerall = ctrl ||(stateno = [18,19])||(stateno = [100,101])||(stateno = [120,140])
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(57) < 12
triggerall = Random <= var(57)*20 ||(var(57) > 10 && Random<= 500)
triggerall = Random <= Helper(15000+id),var(30)*100
triggerall = var(1) = [0,1]
triggerall = var(28) != 1
triggerall = !Helper(30000+id),var(54)
triggerall = !Helper(30000+id),var(55)
triggerall = Helper(15000+id),var(30) < 10
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),MoveType = A
triggerall = EnemyNear(var(55)),HitDefAttr = C, NA ||(EnemyNear(var(55)),HitDefAttr = S, NA && EnemyNear(var(55)),Const(size.head.pos.y) >= -60)
triggerall = EnemyNear(var(55)),AnimTime <= -6 || var(57)<8
triggerall = Enemynear(var(55)),Time >= 30||(!Time&&var(57)>8) || Helper(15000+id),var(50)
triggerall = P2BodyDist X = [0,50]
triggerall = P2BodyDist Y > -25
triggerall = !(Enemy,HitDefAttr = SCA, AP)
triggerall = !Enemy,numproj
trigger1 = (PrevStateNo = [120,159])
trigger1 = var(57) < 10
trigger2 = (var(57) > 9 && Enemynear(var(55)),Time <= 5) || var(57) <= 9
trigger2 =(prevstateno = [120,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270]) || Helper(15000+id),var(50) || Random <= 200

;---------------------------------------------------------------------------
;下段当て身打ち7~12P
[State Scramble Dash]
type = ChangeState
value = ifelse(Helper(15000+id),var(51) < 150 || var(1) = 3, 1550, 1540)
triggerall = statetype != A
triggerall = ctrl ||(stateno = [18,19])||(stateno = [100,101])||(stateno = [120,140])
triggerall = Random<=300 || Helper(15000+id),var(30) > 9 || Helper(15000+id),var(50) || Helper(30000+id),var(50) > 14 || Helper(15000+id),var(2) || var(57)>10
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = Random <= var(57)*100 || var(57) > 10
triggerall = Random <= Helper(15000+id),var(30)*100
triggerall = var(1) = 2 || var(1) = 3
triggerall = var(28) != 1
triggerall = EnemyNear(var(55)),StateType != A ||(EnemyNear(var(55)),StateType = A && Helper(30000+id),var(54))
triggerall = inguarddist || EnemyNear(var(55)),MoveType = A
triggerall = !(Enemy,HitDefAttr = SCA, AP)
triggerall = !Enemy,numproj
trigger1 = EnemyNear(var(55)),HitDefAttr = C, NA
trigger1 = Helper(30000+id),var(54) || Helper(30000+id),var(55)
trigger2 = EnemyNear(var(55)),HitDefAttr = S, NA
trigger2 = (EnemyNear(var(55)),StateNo = Helper(30000+id),var(56))||(EnemyNear(var(55)),StateNo = Helper(30000+id),var(57))
trigger2 = Helper(30000+id),var(54) || Helper(30000+id),var(55)

;---------------------------------------------------------------------------
;下段当て身打ち7~12P
[State Scramble Dash]
type = ChangeState
value = ifelse(Helper(15000+id),var(51) < 150 || var(1) = 3, 1550, 1540)
triggerall = statetype != A
triggerall = ctrl ||(stateno = [18,19])||(stateno = [100,101])||(stateno = [120,140])
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(57) < 12
triggerall = Random <= var(57)*20 ||(var(57) > 10 && Random<= 500)
triggerall = Random <= Helper(15000+id),var(30)*100
triggerall = var(1) = [2,3]
triggerall = var(28) != 1
triggerall = !Helper(30000+id),var(54)
triggerall = !Helper(30000+id),var(55)
triggerall = Helper(15000+id),var(30) < 10
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),MoveType = A
triggerall = EnemyNear(var(55)),HitDefAttr = C, NA ||(EnemyNear(var(55)),HitDefAttr = S, NA && EnemyNear(var(55)),Const(size.head.pos.y) >= -60)
triggerall = EnemyNear(var(55)),AnimTime <= -6 || var(57)<8
triggerall = Enemynear(var(55)),Time >= 30||(!Time&&var(57)>8) || Helper(15000+id),var(50)
triggerall = P2BodyDist X = [0,50]
triggerall = P2BodyDist Y > -25
triggerall = !(Enemy,HitDefAttr = SCA, AP)
triggerall = !Enemy,numproj
trigger1 = (PrevStateNo = [120,159])
trigger1 = var(57) < 10
trigger2 = (var(57) > 9 && Enemynear(var(55)),Time <= 5) || var(57) <= 9
trigger2 =(prevstateno = [120,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270]) || Helper(15000+id),var(50) || Random <= 200

;---------------------------------------------------------------------------
;邪影拳5
[State Scramble Dash]
type = ChangeState
value = 1440
triggerall = statetype != A
triggerall = ctrl ||(stateno = [18,19])||(stateno = [100,101])||(stateno = [120,140])
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = (var(57)<=10&&Random<=var(57)*8)||(var(57)>10&&Random<=150)
triggerall = fvar(39) != [3,4]
triggerall = var(1) = 3
triggerall = life <= lifemax * 0.6 || Random <= 333
triggerall = P2bodydist X = [50,130]
triggerall = P2bodydist Y > -10
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),AnimTime <= -16 || var(57) < 8
triggerall = EnemyNear(var(55)),Movetype = A
triggerall = Enemynear(var(55)),Time >= 30||(var(57) > 7 &&(Enemynear(var(55)),Time >= 25-var(57)*1))||(!Time&&var(57)>9)|| var(57)>10
trigger1 = (Enemynear(var(55)),Time >= 50-var(57)*2)|| var(57) > 10
trigger2 =(prevstateno = [120,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270])
trigger3 = Helper(15000+id),var(50)
trigger3 = Random <= 250 || var(57) > 10

;---------------------------------------------------------------------------
;後退ダッシュ
[State -3, Run Back]
type = ChangeState
value = 105
triggerall = var(59)
triggerall = var(57) >= 9 && RoundState = 2
triggerall = fvar(39) < 4
triggerall = EnemyNear(var(55)),Name!="Kurenai Misuzu" || EnemyNear(var(55)),StateNo != 1210
triggerall = Random <= var(57)*100
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100 ||(stateno = [120,131])
trigger1 = facing != EnemyNear(var(55)),facing
trigger1 = EnemyNear(var(55)),HitDefAttr = SCA, AT
trigger1 = P2BodyDist X = [-9,60]
trigger1 = Random <= var(57)*35 || var(57)>10

;---------------------------------------------------------------------------
;ガードキャンセルかわし移動前
[State -3, 701]
type = ChangeState
value = 750
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 9 && RoundState = 2
triggerall = power >= 1000
triggerall = stateno = [150,153]
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = !EnemyNear(var(55)),Ctrl
triggerall = facing != EnemyNear(var(55)),facing
triggerall = life <= lifemax * 0.5 || Helper(15000+id),var(49) > 150
trigger1 = var(20) >= 20
trigger1 = Enemynear(var(55)),animtime <= -18
trigger1 = EnemyNear(var(55)),HitDefAttr = SC, NA, SA, NP, SP
trigger1 = P2BodyDist X = [5,100]
trigger1 = Random <= 75 ||(power >= 2000 && var(57) > 10)|| var(57) > 11
trigger1 = var(58) := 20
trigger2 = var(57) > 11
trigger2 = Helper(15000+id),var(49) > 150
trigger2 = Helper(15000+id),var(49) > 300 || life <= lifemax * 0.5
trigger3 = var(57) > 11
trigger3 = life <= lifemax * 0.1
trigger3 = Helper(15000+id),var(49) > 60 || Helper(15000+id),var(52) < 90

;---------------------------------------------------------------------------
;ガードキャンセルふっ飛ばし攻撃1
[State -1, 290]
type = ChangeState
value = ifelse(var(1) = 0, 299, 291)
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = power >= 1000
triggerall = stateno = [150,153]
triggerall = P2BodyDist X = [-8,60]
triggerall = P2BodyDist X < 35 || var(1)
triggerall = P2BodyDist Y = [-95,10]
triggerall = P2BodyDist Y < -70 || !var(1)
triggerall = Enemynear(var(55)),animtime <= -7
triggerall = !EnemyNear(var(55)),Ctrl
triggerall = life <= lifemax * 0.6
trigger1 = BackEdgeBodyDist < 30
trigger1 = TeamMode = Simul
trigger1 = NumPartner && Partner,Alive
trigger1 = Floor(Partner,Pos X - Pos X = [-50,50])
trigger1 = Random <= 200
trigger2 = BackEdgeBodyDist < 15 || Helper(15000+id),var(52) < 90
trigger2 = Random <= 10
trigger3 = life <= lifemax * 0.1
trigger3 = Random <= 20
trigger4 = var(57) >= 10
trigger4 = var(20) >= 10
trigger4 = Random <= 75 ||(power >= 2000 && var(57) > 10)
trigger5 = var(57) > 11 && life <= lifemax * 0.4
trigger5 = var(20) >= 5 || Helper(15000+id),var(49) > 300
trigger5 = EnemyNear(var(55)),StateType = S
trigger5 = P2BodyDist X <= 50
trigger5 = Random <= 180 || life <= lifemax * 0.15

;---------------------------------------------------------------------------
;避け
[State -3, Taunt]
type = ChangeState
value = 705
triggerall = var(59)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = !var(58)
triggerall = !fvar(39)
triggerall = (var(57)<=10 && Random<=var(57)*5)||(var(57)>10 && Random<=120)
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100 ||(stateno = [120,131])
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = A
triggerall = P2BodyDist Y > -60
trigger1 = EnemyNear(var(55)),AnimTime <= -30
trigger1 = P2BodyDist X = [5,60]
trigger1 = EnemyNear(var(55)),HitDefAttr = S, NA, SA
trigger2 = P2BodyDist X = [120,180]
trigger2 = EnemyNear(var(55)),HitDefAttr = S, NP, SP
trigger3 = var(57) > 11
trigger3 = EnemyNear(var(55)),AnimTime <= -22
trigger3 = P2BodyDist X = [2,55]
trigger3 = EnemyNear(var(55)),StateType = S

;---------------------------------------------------------------------------
;避け攻撃
[State -3, Taunt]
type = ChangeState
value = 706
triggerall = var(59)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = !var(58)
triggerall = fvar(39) < 3
triggerall = Random <= var(57)*100
triggerall = stateno = 705 && animelemtime(3) >= 0 && animelemtime(4) < 0
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype != H
triggerall = EnemyNear(var(55)),AnimTime = [-25,-11]
triggerall = P2BodyDist X = [-8,58]
triggerall = P2BodyDist Y > -60
triggerall = !EnemyNear(var(55)),Ctrl
trigger1 = !inguarddist
trigger2 = EnemyNear(var(55)),HitDefAttr = SA, NA, SA, AT
trigger3 = EnemyNear(var(55)),AnimTime = [-13,-11]
trigger3 = Random <= 150
trigger4 = var(57) > 11
trigger4 = EnemyNear(var(55)),StateType != C
trigger4 = !(EnemyNear(var(55)),HitDefAttr = SCA, HA, HT, HP)

;---------------------------------------------------------------------------
;ガードキャンセル緊急回避前
[State -3, 700]
type = ChangeState
value = 700
triggerall = var(59)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = !var(58)
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = facing != EnemyNear(var(55)),facing
triggerall = stateno = [150,153]
triggerall = power >= 1000
triggerall = life <= lifemax * 0.5
trigger1 = EnemyNear(var(55)),StateType != A
trigger1 = Enemynear(var(55)),animtime = [-45,-34]
trigger1 = P2BodyDist X = [30,100]
trigger1 = Random <= 50
trigger2 = Helper(15000+id),var(52) < 60
trigger2 = Enemynear(var(55)),animtime < -35
trigger2 = P2BodyDist X = [0,50]
trigger2 = Random <= 120

;---------------------------------------------------------------------------
;緊急回避前
[State -3, Taunt]
type = ChangeState
value = 700
triggerall = var(59)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = var(57) < 12 || life > Lifemax * 0.5
triggerall = !var(58) && !var(53)
triggerall = fvar(39) < 3
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = facing != EnemyNear(var(55)),facing
trigger1 = (var(57)<=10 && Random<=var(57)*18) || (var(57)>10 && Random<=333)
trigger1 = EnemyNear(var(55)),movetype = A
trigger1 = Enemynear(var(55)),animtime = [-39,-33]
trigger1 = (!Enemy,numproj &&(P2BodyDist X = [0,110]))||(Enemy,numproj &&(P2BodyDist X = [30,140]))
trigger1 = InGuardDist || Random <= 333
trigger2 = EnemyNear(var(55)),StateType = A
trigger2 = EnemyNear(var(55)),Movetype != H
trigger2 = P2BodyDist X = [-30,-5]
trigger2 = Random <= 250 || var(57) > 10

;---------------------------------------------------------------------------
;かわし移動前
[State -3, Taunt]
type = ChangeState
value = 750
triggerall = var(59)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = !var(58)
triggerall = !var(53) ||(var(57) > 11 && life < Lifemax * 0.5)
triggerall = fvar(39) < 3
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100 ||(stateno = [120,131])
triggerall = facing != EnemyNear(var(55)),facing
trigger1 = Enemy,numproj = 1
trigger1 = P2BodyDist X = [120,190]
trigger1 = InGuardDist
trigger1 = Random <= 100
trigger2 = var(20) > 30
trigger2 = EnemyNear(var(55)),StateType = S
trigger2 = EnemyNear(var(55)),Movetype = A
trigger2 = ((P2BodyDist X = [30,105])&& EnemyNear(var(55)),AnimTime <= -23)||((P2BodyDist X = [103,150])&& EnemyNear(var(55)),AnimTime <= -32)
trigger2 = (var(57)<=10 && Random<=var(57)*6) || (var(57)>10 && Random<=120)
trigger3 = var(57) > 11
trigger3 = !(EnemyNear(var(55)),HitDefAttr = SCA, AT)
trigger3 = InGuardDist || Helper(15000+id),InGuardDist || EnemyNear(var(55)),Movetype = A
trigger3 = P2BodyDist X > 100

;---------------------------------------------------------------------------
;かわし移動攻撃
[State -3, Taunt]
type = ChangeState
value = 751
triggerall = var(59)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = !var(58) || var(58) = 20
triggerall = fvar(39) < 3
triggerall = Random <= var(57)*100
triggerall = stateno = 750 && animelemtime(3) >= 0 && animelemtime(5) < 0
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype != H
triggerall = EnemyNear(var(55)),AnimTime = [-24,-8]
triggerall = P2BodyDist X = [-8,58]
triggerall = P2BodyDist Y > -60
triggerall = !EnemyNear(var(55)),Ctrl
trigger1 = numHelper(15000+ID)
trigger1 = !inguarddist && !Helper(15000+ID),inguarddist
trigger2 = EnemyNear(var(55)),HitDefAttr = SA, AA, AT
trigger3 = var(57) > 11
trigger3 = EnemyNear(var(55)),StateType != C

;---------------------------------------------------------------------------
;緊急回避後
[State -3, Taunt]
type = ChangeState
value = 701
triggerall = var(59) && RoundState = 2
triggerall = var(57) < 12 || life > Lifemax * 0.5
triggerall = !var(53) && !var(58)
triggerall = fvar(39) < 3
triggerall = Helper(15000+id),var(52) > 120
triggerall = !Helper(15000+id),var(2)
triggerall = !Helper(30000+id),var(54)
triggerall = !Helper(30000+id),var(55)
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),statetype != L
triggerall = EnemyNear(var(55)),Movetype = A
triggerall = !(EnemyNear(var(55)),HitDefAttr = SCA, AP)
triggerall = BackEdgeBodyDist > 50
trigger1 = P2BodyDist X = [40,110]
trigger1 = var(57) <= 8
trigger1 = Random <= 60-var(57)*5
trigger2 = P2BodyDist X = [40,110]
trigger2 = var(57) > 8
trigger2 = Enemynear(var(55)),time <= 10
trigger2 = !Enemy,numproj
trigger2 = Random <= 20
trigger3 = EnemyNear(var(55)),statetype = A
trigger3 = facing = EnemyNear(var(55)),facing
trigger3 = P2BodyDist X = [-10,25]
trigger3 = Random <= 150

;==============================================================================
;隙突き用
;小中ジャンプ強パンチ
[State -3, Jump Strong Punch]
type = ChangeState
value = 612
triggerall = statetype = A
triggerall = ctrl || stateno = [120,140]
triggerall = var(59) && RoundState = 2
triggerall = var(57) > 4
triggerall = var(16) = 1
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype != H
triggerall = EnemyNear(var(55)),stateno != [120,159]
triggerall = P2BodyDist X = [-9,45+Floor(vel X * 7)]
triggerall = P2BodyDist Y = [-30,95+Floor(vel Y * 7)]
triggerall = !EnemyNear(var(55)),Ctrl
triggerall = Random <= var(57)*100
trigger1 = (prevstateno = [120,155])||(prevstateno = [5000,5210])|| Helper(15000+id),var(50)
trigger1 = EnemyNear(var(55)),StateType = A || Vel Y >= 0
trigger1 = EnemyNear(var(55)),AnimTime = [-24,-7]
trigger1 = Random <= 300
trigger2 = Vel Y >= 1
trigger2 = fvar(39) = 3||((stateno = [132,140])&&(EnemyNear(var(55)),HitDefAttr = SCA, NA, SA, AT, NP, SP))

;---------------------------------------------------------------------------
;垂直空中強パンチ
[State -3, Jump Strong Punch]
type = ChangeState
value = 610
triggerall = statetype = A
triggerall = ctrl || stateno = [120,140]
triggerall = var(59) && RoundState = 2
triggerall = var(57) > 4
triggerall = var(16) = 2
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype != H
triggerall = EnemyNear(var(55)),stateno != [120,159]
triggerall = P2BodyDist X = [-9,50+Floor(vel X * 7)]
triggerall = P2BodyDist Y = [-40,100+Floor(vel Y * 7)]
triggerall = Vel Y >= 0
triggerall = !EnemyNear(var(55)),Ctrl
triggerall = Random <= var(57)*100
trigger1 = (prevstateno = [120,155])||(prevstateno = [5000,5210])|| Helper(15000+id),var(50)
trigger1 = EnemyNear(var(55)),AnimTime = [-24,-7]
trigger1 = Random <= 300
trigger2 = Vel Y >= 1
trigger2 = fvar(39) = 3||((stateno = [132,140])&&(EnemyNear(var(55)),HitDefAttr = SCA, NA, SA, AT, NP, SP))

;---------------------------------------------------------------------------
;空中強パンチ
[State -3, Jump Strong Punch]
type = ChangeState
value = 615
triggerall = statetype = A
triggerall = ctrl || stateno = [120,140]
triggerall = var(59) && RoundState = 2
triggerall = var(57) > 4
triggerall = !(var(16) = [1,2])
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype != H
triggerall = EnemyNear(var(55)),stateno != [120,159]
triggerall = P2BodyDist X = [-5,45+Floor(vel X * 7)]
triggerall = P2BodyDist Y = [-60,95+Floor(vel Y * 7)]
triggerall = !EnemyNear(var(55)),Ctrl
triggerall = Random <= var(57)*100
trigger1 = (prevstateno = [120,155])||(prevstateno = [5000,5210])|| Helper(15000+id),var(50)
trigger1 = EnemyNear(var(55)),StateType = A || Vel Y >= 0
trigger1 = EnemyNear(var(55)),AnimTime = [-24,-7]
trigger1 = Random <= 300
trigger2 = Vel Y >= 1
trigger2 = fvar(39) = 3||((stateno = [132,140])&&(EnemyNear(var(55)),HitDefAttr = SCA, NA, SA, AT, NP, SP))

;---------------------------------------------------------------------------
;空中強キック
[State -1, Jump Strong Kick]
type = ChangeState
value = 640
triggerall = statetype = A
triggerall = ctrl || stateno = [120,140]
triggerall = var(59) && RoundState = 2
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype != H
triggerall = EnemyNear(var(55)),stateno != [120,159]
triggerall = P2BodyDist X = [-5,65+Floor(vel X * 7)]
triggerall = P2BodyDist Y = [-60,60+Floor(vel Y * 7)]
triggerall = !EnemyNear(var(55)),Ctrl
triggerall = Random <= var(57)*100
trigger1 = (prevstateno = [120,155])||(prevstateno = [5000,5210])|| Helper(15000+id),var(50)
trigger1 = EnemyNear(var(55)),StateType = A || Vel Y >= 0
trigger1 = EnemyNear(var(55)),AnimTime = [-20,-7]
trigger1 = Random <= 300
trigger2 = Vel Y >= 1
trigger2 = fvar(39) = 3||((stateno = [132,140])&&(EnemyNear(var(55)),HitDefAttr = SCA, NA, SA, AT, NP, SP))

;---------------------------------------------------------------------------
;強ダブル疾風拳
[State Glider Stomp]
type = ChangeState
value = 1151
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = !var(58)
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = statetype = A
triggerall = ctrl ||(StateNo = [120,140])
triggerall = Random <= var(57)*30
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
triggerall = P2BodyDist X = [30,135]
trigger1 = EnemyNear(var(55)),StateType != L
trigger1 = EnemyNear(var(55)),StateType != A
trigger1 = EnemyNear(var(55)),MoveType = A
trigger1 = EnemyNear(var(55)),HitDefAttr = SC, NA
trigger1 = vel X >= 0
trigger1 = vel Y >= 0
trigger1 = Pos Y < -60

;---------------------------------------------------------------------------
;疾風拳KOF10~12P
[State Glider Stomp]
type = ChangeState
value = ifelse(Random <= 500 && Helper(15000+id),var(52) >=150 && vel X >= 0, 1151, 1150)
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = !var(58)
triggerall = var(1) = 3
triggerall = statetype = A
triggerall = ctrl ||(StateNo = [120,140])
triggerall = Random <= var(57)*30
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
triggerall = P2BodyDist X = [60,140]
trigger1 = EnemyNear(var(55)),StateType != L
trigger1 = EnemyNear(var(55)),MoveType = A
trigger1 = EnemyNear(var(55)),HitDefAttr = SCA, NA, SA
trigger1 = vel X >= 0
trigger1 = Pos Y < -60

;---------------------------------------------------------------------------
;疾風拳KOF
[State Glider Stomp]
type = ChangeState
value = ifelse(Random <= 500 && Helper(15000+id),var(52) >=150 && vel X >= 0, 1121, 1120)
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = !var(58)
triggerall = var(1) = 0 || var(1) = 2
triggerall = statetype = A
triggerall = ctrl ||(StateNo = [120,140])
triggerall = Random <= var(57)*30
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
triggerall = P2BodyDist X = [60,140]
trigger1 = EnemyNear(var(55)),StateType != L
trigger1 = EnemyNear(var(55)),MoveType = A
trigger1 = EnemyNear(var(55)),HitDefAttr = SCA, NA, SA
trigger1 = vel X >= 0
trigger1 = Pos Y < -60

;---------------------------------------------------------------------------
;しゃがみ強パンチ
[State -3, Crouching Strong Punch]
type = ChangeState
value = 410
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100 ||(stateno = [120,131])
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = fvar(39) < 3
triggerall = Random <= var(57)*33
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),stateno != [0,30]
triggerall = EnemyNear(var(55)),stateno != [90,119]
triggerall = EnemyNear(var(55)),stateno != [5000,5500]
triggerall = !EnemyNear(var(55)),Ctrl
triggerall = !Enemy,numproj
triggerall = P2bodydist X+Floor(EnemyNear(var(55)),vel X * 4) = [-5,36]
triggerall = P2bodydist Y > -90
triggerall = EnemyNear(var(55)),AnimTime <= -4
trigger1 =(prevstateno = [140,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270])||(EnemyNear(var(55)),facing = facing)
trigger1 = Random <= 500
trigger2 = (EnemyNear(var(55)),stateno = [200,699])||(EnemyNear(var(55)),HitDefAttr = SC, NA)
trigger2 = EnemyNear(var(55)),AnimTime > -9
trigger2 =(prevstateno = [140,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270])||Random <= var(57)*20
trigger3 = Helper(15000+id),var(50) ||(var(57) = 10 && Random <= 250)|| var(57) > 10
trigger3 = Helper(30000+id),var(53)
trigger3 = Random <= 333

;---------------------------------------------------------------------------
;近距離立ち弱キック
[State -3, Stand Light Kick]
type = ChangeState
value = 235
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100 ||(stateno = [120,131])
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = Random <= var(57)*33
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),stateno != [0,30]
triggerall = EnemyNear(var(55)),stateno != [90,119]
triggerall = EnemyNear(var(55)),stateno != [5000,5500]
triggerall = !EnemyNear(var(55)),Ctrl
triggerall = !Enemy,numproj
triggerall = P2dist X <=45
triggerall = P2bodydist Y > -50
triggerall = EnemyNear(var(55)),AnimTime <= -3
trigger1 =(prevstateno = [140,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270])||(EnemyNear(var(55)),facing = facing)
trigger1 = Random <= 500
trigger2 = (EnemyNear(var(55)),stateno = [200,699])||(EnemyNear(var(55)),HitDefAttr = SC, NA)
trigger2 = EnemyNear(var(55)),AnimTime > -9
trigger2 =(prevstateno = [140,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270])||Random <= var(57)*20
trigger3 = Helper(15000+id),var(50) ||(var(57) = 10 && Random <= 250)|| var(57) > 10
trigger3 = Helper(30000+id),var(53)
trigger3 = Random <= 333

;---------------------------------------------------------------------------
;しゃがみ弱パンチ
[State -3, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = Random <= var(57)*33
triggerall = EnemyNear(var(55)),StateType != L && EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),stateno != [0,159]
triggerall = EnemyNear(var(55)),stateno != [5000,5500]
triggerall = !EnemyNear(var(55)),Ctrl
triggerall = !Enemy,numproj
triggerall = P2bodydist X+Floor(EnemyNear(var(55)),vel X * 5) = [-3,41]
triggerall = EnemyNear(var(55)),AnimTime <= -5
trigger1 =(prevstateno = [140,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270])||(EnemyNear(var(55)),facing = facing)
trigger1 = Random <= 500
trigger2 = (EnemyNear(var(55)),stateno = [200,699])||(EnemyNear(var(55)),HitDefAttr = SC, NA)
trigger2 = EnemyNear(var(55)),AnimTime > -9
trigger2 =(prevstateno = [140,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270])||Random <= var(57)*20
trigger3 = Helper(15000+id),var(50) ||(var(57) = 10 && Random <= 250)|| var(57) > 10
trigger3 = Helper(30000+id),var(53)
trigger3 = Random <= 250

;---------------------------------------------------------------------------
;遠距離立ち強パンチ KOF
[State -3, Stand Strong Punch]
type = ChangeState
value = 210
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = fvar(39) < 3
triggerall = Random <= var(57)*33
triggerall = EnemyNear(var(55)),StateType != L && EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),stateno != [0,159]
triggerall = EnemyNear(var(55)),stateno != [5000,5500]
triggerall = !EnemyNear(var(55)),Ctrl
triggerall = !Enemy,numproj
triggerall = P2dist X >59
triggerall = P2bodydist X+Floor(EnemyNear(var(55)),vel X * 5) = [25,62]
triggerall = EnemyNear(var(55)),AnimTime <= -6
trigger1 =(prevstateno = [140,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270])||(EnemyNear(var(55)),facing = facing)
trigger1 = Random <= 500
trigger2 = (EnemyNear(var(55)),stateno = [200,699])||(EnemyNear(var(55)),HitDefAttr = SC, NA)
trigger2 = EnemyNear(var(55)),AnimTime > -10
trigger2 =(prevstateno = [140,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270])||Random <= var(57)*20
trigger3 = Helper(15000+id),var(50) ||(var(57) = 10 && Random <= 250)|| var(57) > 10
trigger3 = Helper(30000+id),var(53)
trigger3 = Random <= 333

;---------------------------------------------------------------------------
;飛燕失脚2
[State -3, a]
type = ChangeState
value = 450
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100 ||(stateno = [120,131])
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = fvar(39) < 2
triggerall = Random <= var(57)*33
triggerall = EnemyNear(var(55)),StateType != L && EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),stateno != [0,159]
triggerall = EnemyNear(var(55)),stateno != [5000,5500]
triggerall = !EnemyNear(var(55)),Ctrl
triggerall = !Enemy,numproj
triggerall = P2bodydist X+Floor(EnemyNear(var(55)),vel X * 9) = [35,80]
triggerall = EnemyNear(var(55)),AnimTime <= -11
trigger1 =(prevstateno = [140,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270])||(EnemyNear(var(55)),facing = facing)
trigger1 = Random <= 500
trigger2 = (EnemyNear(var(55)),stateno = [200,699])||(EnemyNear(var(55)),HitDefAttr = SC, NA)
trigger2 = EnemyNear(var(55)),AnimTime > -16
trigger2 =(prevstateno = [140,155])||(prevstateno = [700,701])||(prevstateno = [750,754])||(PrevStateNo=[5000,5270])||Random <= var(57)*20

;---------------------------------------------------------------------------
;真空投げ
[State Scramble Dash]
type = ChangeState
value = 1300
triggerall = var(59)
triggerall = var(57) > 8 && RoundState = 2
triggerall = !var(58)
triggerall = StateType != A
triggerall = ctrl ||(stateno = [18,19])||(stateno = [120,131])
triggerall = stateno != [99,100]
triggerall = EnemyNear(var(55)),AnimTime <= -2
triggerall = enemy,statetype = S || enemy,statetype = C
triggerall = enemy,stateno != [120,159]
triggerall = EnemyNear(var(55)),stateno != [0,159]
triggerall = EnemyNear(var(55)),stateno != [5000,5500]
triggerall = p2bodydist X = [-5,38]
triggerall = (p2bodydist X = [-5,24])|| var(1) = 3
trigger1 = Helper(15000+id),var(50)

;---------------------------------------------------------------------------
;通常投げ 4~6P
[State -3, Kung Fu Throw]
type = ChangeState
value = ifelse((Helper(15000+id),var(52) < 50 && !var(53))|| var(53) = 5 ,830 ,810)
triggerall = var(59)
triggerall = var(57) > 8 && RoundState = 2
triggerall = var(57) <= 11
triggerall = !var(23)
triggerall = var(1) = 1
triggerall = StateType != A
triggerall = ctrl ||(stateno = [18,19])||(stateno = [120,131])
triggerall = stateno != [99,100]
triggerall = EnemyNear(var(55)),prevstateno != [5000,5999]
triggerall = EnemyNear(var(55)),stateNo != [150,155]
triggerall = EnemyNear(var(55)),stateNo != 40
triggerall = EnemyNear(var(55)),AnimTime <= -2
triggerall = P2statetype != A
triggerall = P2movetype != H
triggerall = p2bodydist X = [-5,9]
trigger1 = Helper(15000+id),var(50)

;---------------------------------------------------------------------------
;通常投げ 1~3P 7~12P
[State -3, Kung Fu Throw]
type = ChangeState
value = ifelse((Helper(15000+id),var(52) < 50 && !var(53))|| var(53) = 5 ,820 ,800)
triggerall = var(59)
triggerall = var(57) > 8 && RoundState = 2
triggerall = var(57) <= 11
triggerall = !var(23)
triggerall = fvar(39) != [3,4]
triggerall = var(1) != 1
triggerall = StateType != A
triggerall = ctrl ||(stateno = [18,19])||(stateno = [120,131])
triggerall = stateno != [99,100]
triggerall = EnemyNear(var(55)),prevstateno != [5000,5999]
triggerall = EnemyNear(var(55)),stateNo != [150,155]
triggerall = EnemyNear(var(55)),stateNo != 40
triggerall = EnemyNear(var(55)),AnimTime <= -2
triggerall = P2statetype != A
triggerall = P2movetype != H
triggerall = p2bodydist X = [-5,9]
trigger1 = Helper(15000+id),var(50)

;==============================================================================
;タッグ記述
;虚空烈風斬2(1ゲージ)ナイトメア版
[State Twister Drive]
type = ChangeState
value = 3401
triggerall = StateType != A
triggerall = ctrl ||(stateno = [18,19])|| stateno = 100 ||(stateno = [120,140])
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(54)
triggerall = var(53) != 5
triggerall = var(1) = 3
triggerall = Random <= var(57)*8
triggerall = power >= 1000 || var(20) > 0
triggerall = EnemyNear(var(55)),StateType = S || EnemyNear(var(55)),StateType = C
triggerall = EnemyNear(var(55)),Movetype = A
triggerall = EnemyNear(var(55)),AnimTime <= -16
triggerall = !EnemyNear(var(55)),Ctrl
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 99
trigger1 = P2BodyDist X = [150,210]
trigger2 = var(54) = 1
trigger2 = TeamMode = Simul
trigger2 = NumPartner && Partner,Alive
trigger2 = Partner,MoveType = H
trigger2 = (Partner,StateNo = [120,159]) || (Partner,StateNo = [5000,5099])
trigger2 = P2BodyDist X = [110,200]

;---------------------------------------------------------------------------
;デッドリーレイブKOF弱
[State Twister Drive]
type = ChangeState
value = 3100
triggerall = StateType != A
triggerall = ctrl ||(stateno = [18,19])|| stateno = 100 ||(stateno = [120,140])
triggerall = Random <= var(57)*8
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(54)
triggerall = power >= 1000 || var(20) > 0
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),stateno != [0,30]
triggerall = EnemyNear(var(55)),stateno != [90,159]
triggerall = !(Enemy,HitDefAttr = SCA, AP)
triggerall = !EnemyNear(var(55)),Ctrl
triggerall = !Enemy,numproj
triggerall = TeamMode = Simul
triggerall = NumPartner && Partner,Alive
triggerall = P2BodyDist Y > -55-Floor(EnemyNear(var(55)),vel Y * 11)
triggerall = (Partner,StateNo = [120,159]) || (Partner,StateNo = [5000,5099]) ||(EnemyNear(var(55)),facing = facing)
trigger1 = ((P2BodyDist X = [50,61]) && EnemyNear(var(55)),AnimTime <= -15)||((P2BodyDist X = [62,73]) && EnemyNear(var(55)),AnimTime <= -16)
trigger2 = ((P2BodyDist X = [74,85]) && EnemyNear(var(55)),AnimTime <= -17)||((P2BodyDist X = [86,97]) && EnemyNear(var(55)),AnimTime <= -18)
trigger3 = ((P2BodyDist X =[98,109]) && EnemyNear(var(55)),AnimTime <= -19)||((P2BodyDist X =[110,121])&& EnemyNear(var(55)),AnimTime <= -20)
trigger4 = ((P2BodyDist X =[122,133])&& EnemyNear(var(55)),AnimTime <= -21)||((P2BodyDist X =[134,145])&& EnemyNear(var(55)),AnimTime <= -22)

;---------------------------------------------------------------------------
;邪影拳4
[State Scramble Dash]
type = ChangeState
value = 1430
triggerall = statetype != A
triggerall = ctrl ||(stateno = [18,19])|| stateno = 100
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = 0
triggerall = TeamMode = Simul
triggerall = NumPartner && Partner,Alive
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = !EnemyNear(var(55)),Ctrl
triggerall = !Enemy,numproj
triggerall = P2BodyDist X = [75,140]
triggerall = P2BodyDist Y = [-40,5]
triggerall = Random <= var(57)*6
trigger1 = EnemyNear(var(55)),MoveType = A
trigger1 = Partner,MoveType = H
trigger1 = (Partner,StateNo = [120,159])||(Partner,StateNo = [5000,5099])
trigger2 = EnemyNear(var(55)),MoveType != H
trigger2 = EnemyNear(var(55)),facing = facing
trigger2 = EnemyNear(var(55)),AnimTime <= -15

;---------------------------------------------------------------------------
;邪影拳2
[State Scramble Dash]
type = ChangeState
value = 1410
triggerall = statetype != A
triggerall = ctrl ||(stateno = [18,19])|| stateno = 100
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = TeamMode = Simul
triggerall = NumPartner && Partner,Alive
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = !EnemyNear(var(55)),Ctrl
triggerall = !Enemy,numproj
triggerall = P2BodyDist X = [75,140]
triggerall = P2BodyDist Y = [-40,5]
triggerall = Random <= var(57)*6
trigger1 = EnemyNear(var(55)),MoveType = A
trigger1 = Partner,MoveType = H
trigger1 = (Partner,StateNo = [120,159])||(Partner,StateNo = [5000,5099])
trigger2 = EnemyNear(var(55)),MoveType != H
trigger2 = EnemyNear(var(55)),facing = facing
trigger2 = EnemyNear(var(55)),AnimTime <= -16

;---------------------------------------------------------------------------
;ダブル烈風拳KOF
[State Scramble Dash]
type = ChangeState
value = 1090
triggerall = statetype != A
triggerall = ctrl ||(stateno = [18,19])|| stateno = 100
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = 0
triggerall = TeamMode = Simul
triggerall = NumPartner && Partner,Alive
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = !EnemyNear(var(55)),Ctrl
triggerall = !Enemy,numproj
triggerall = P2BodyDist X = [65,125]
triggerall = P2BodyDist Y = [-50,5]
triggerall = Random <= var(57)*9
trigger1 = EnemyNear(var(55)),MoveType = A
trigger1 = Partner,MoveType = H
trigger1 = (Partner,StateNo = [120,159])||(Partner,StateNo = [5000,5099])
trigger2 = EnemyNear(var(55)),MoveType != H
trigger2 = EnemyNear(var(55)),facing = facing
trigger2 = EnemyNear(var(55)),AnimTime <= -13

;---------------------------------------------------------------------------
;強烈風拳
[State Slide Touch]
type = ChangeState
value = 1010
triggerall = StateType != A
triggerall = ctrl ||(stateno = [18,19])|| stateno = 100 ||(stateno = [120,140])
triggerall = var(59)
triggerall = var(57) >= 5 && RoundState = 2
triggerall = var(54) = 1
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1200) = 0
triggerall = NumProjID(3651) = 0
triggerall = TeamMode = Simul
triggerall = NumPartner && Partner,Alive
triggerall = P2BodyDist X > 120
triggerall = P2BodyDist Y > -35
triggerall = Random <= var(57)*15
trigger1 = (Partner,StateNo = [120,159])||(Partner,StateNo = [5000,5099])
trigger2 = Partner,MoveType = A
trigger2 = EnemyNear(var(55)),StateType != A
trigger2 = EnemyNear(var(55)),MoveType = H
trigger2 = EnemyNear(var(55)),StateNo = [120,159]

;---------------------------------------------------------------------------
;パワー溜め
[State -3, Jump Strong Kick]
type = ChangeState
value = 710
triggerall = var(59) && RoundState = 2
triggerall = var(20) = 0
triggerall = Random <= var(57)*100
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19])
triggerall = power < powermax
triggerall = TeamMode = Simul
triggerall = NumPartner && Partner,Alive
triggerall = EnemyNear(var(55)),MoveType != A
triggerall = !(EnemyNear(var(55)),StateNo = 710  && EnemyNear(var(55)),AuthorName = "Ambasa")
triggerall = !(EnemyNear(var(55)),StateNo = 2000 && EnemyNear(var(55)),authorName = "hoe2")
triggerall = !(EnemyNear(var(55)),HitDefAttr = SCA, AP)
triggerall = !inguarddist
triggerall = !Enemy,NumProj
trigger1 = var(53) <= 2
trigger1 = P2bodydist X > 200 && Random <= 20
trigger2 = var(53) <= 2
trigger2 = Partner,MoveType = A
trigger2 = (Partner,StateNo = [2000,4999])||(Partner,StateNo >= 6000)
trigger2 = EnemyNear(var(55)),MoveType = H
trigger2 = EnemyNear(var(55)),StateNo != [120,159]
trigger2 = EnemyNear(var(55)),StateNo != [5000,5099]
trigger2 = p2bodydist X > 120 || !var(53) || EnemyNear(numenemy>=2),MoveType = H
trigger3 = Partner,MoveType = A
trigger3 = p2bodydist X > 180 || (Partner,StateNo = [2000,4999])||(Partner,StateNo >= 6000)
trigger3 = EnemyNear(var(55)),MoveType = H && EnemyNear(numenemy>=2),MoveType = H
trigger3 = (EnemyNear(var(55)),StateNo != [120,159])&&(EnemyNear(numenemy>=2),StateNo != [120,159])

;==============================================================================
;ガード・受け身記述
[State -3]
type = ChangeState
value = 120
triggerall = var(59) && RoundState = 2
triggerall = stateno != [140,155]
triggerall = statetype != A ||(var(16) != 1 && Vel X <= 0)
triggerall = ctrl|| (stateno = [18,20]) || stateno = 100 ||(stateno = 0 && facing = EnemyNear(var(55)),facing)
triggerall = var(58) != [51,59]
triggerall =!(EnemyNear(var(55)),HitDefAttr = SCA, AT)
triggerall = Random <= var(57)*70 || var(57) > 9
trigger1 = inguarddist
trigger2 = statetype != A
trigger2 = var(57) > 8
trigger2 = numHelper(15000+ID)
trigger2 = Helper(15000+ID),inguarddist
trigger3 = statetype != A
trigger3 = numHelper(15000+ID)
trigger3 = EnemyNear(var(55)),facing = facing || P2Dist X < 0
trigger3 = Helper(15000+ID),inguarddist && EnemyNear(var(55)),StateType = A

;---------------------------------------------------------------------------
;空中受身
[State -3,A_UKEMI]
type = ChangeState
value = 5210
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = Vel Y > -1
triggerall = Alive
triggerall = StateNo = 5050
triggerall = CanRecover
trigger1 = Random <= var(57)*25

;---------------------------------------------------------------------------
;バックステップ
[State -3, Back Step]
type = ChangeState
value = 105
triggerall = var(59) && RoundState = 2
triggerall = var(58) != 10 && var(58) != 19
triggerall = Random <= var(57)*100
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19])
triggerall = BackEdgeBodyDist > 40
triggerall = P2BodyDist X < 45
triggerall = !(EnemyNear(var(55)),HitDefAttr = SCA, AP)
triggerall = !Enemy,numproj
triggerall = !inguarddist
trigger1 = var(53) != 5
trigger1 = !var(54) && !var(58)
trigger1 = EnemyNear(var(55)),StateType = L
trigger1 = Random <= 500
trigger2 = EnemyNear(var(55)),StateNo = 5120
trigger2 = EnemyNear(var(55)),AnimTime > -10

;---------------------------------------------------------------------------
;緊急回避前
[State -3, Taunt]
type = ChangeState
value = 700
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59) && RoundState = 2
triggerall = !var(58)
triggerall = BackEdgeBodyDist < 20 || Helper(15000+id),var(52) < 40
triggerall = P2BodyDist X < 35
trigger1 = EnemyNear(var(55)),StateType = L
trigger2 = EnemyNear(var(55)),StateNo = 5120
trigger2 = EnemyNear(var(55)),AnimTime > -10

;---------------------------------------------------------------------------
;垂直空中強パンチ
[State -3, Jump Strong Punch]
type = ChangeState
value = ifelse(var(16) = 1 , 612, 610)
triggerall = statetype = A
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = !var(16)
triggerall = EnemyNear(var(55)),StateType != L
trigger1 = var(58) = 52
trigger1 = ctrl ||(StateNo = [120,140])

;---------------------------------------------------------------------------
;弱ダブル疾風拳KOF
[State Glider Stomp]
type = ChangeState
value = 1160
triggerall = statetype = A
triggerall = ctrl ||(StateNo = [120,140])
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = 3
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
trigger1 = Vel Y >= 0
trigger1 = var(58) = 55

;---------------------------------------------------------------------------
;弱ダブル疾風拳
[State Glider Stomp]
type = ChangeState
value = 1150
triggerall = statetype = A
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = 3
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
triggerall = !(ProjHitTime(3651) != -1 && ProjHitTime(3651) <= 25)
trigger1 = (var(58) = 53 && Vel Y >= 0)|| var(58) = 54
trigger1 = ctrl ||(StateNo = [120,140])
trigger2 = var(58) = 52
trigger2 = Pos Y < -40
trigger2 = stateno = 610 || stateno = 612
trigger2 = animelemtime(3) >= 1 && animelemtime(4) <0
trigger2 = movehit

;---------------------------------------------------------------------------
;弱疾風拳KOF
[State Glider Stomp]
type = ChangeState
value = 1120
triggerall = statetype = A
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
trigger1 = var(58) = 52
trigger1 = Pos Y < -40
trigger1 = EnemyNear(var(55)),BackEdgeBodyDist < 20 || Helper(15000+id),var(51) < 70
trigger1 = stateno = 610 || stateno = 612
trigger1 = animelemtime(3) >= 1 && animelemtime(4) <0
trigger1 = movehit

;---------------------------------------------------------------------------
;強ダブル疾風拳
[State Glider Stomp]
type = ChangeState
value = 1151
triggerall = statetype = A
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = Random <= var(57)*100
triggerall = Random <= 250 || var(1) = 1 || var(1) = 3
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
triggerall = Pos Y < -60 || Vel Y < 0 ||(stateno = [610,612])
trigger1 = var(58) = 51
trigger1 = ctrl ||(StateNo = [120,140])
trigger2 = var(58) = 52
trigger2 = stateno = 610 || stateno = 612
trigger2 = animelemtime(3) >= 1 && animelemtime(4) <0
trigger2 = moveguarded
trigger3 = stateno = 1150 && animelemtime(8) >= 1 && var(5) = 0 && var(1) >= 2
trigger3 = EnemyNear(var(55)),StateNo = [120,159]
trigger3 = Random < 250 || var(57) > 10 || var(58) = [53,54]

;---------------------------------------------------------------------------
;強疾風拳
[State Glider Stomp]
type = ChangeState
value = ifelse(var(1) = 3 && var(57) > 10 , 1151, 1101)
triggerall = statetype = A
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = 1 || var(1) = 3
triggerall = Random <= var(57)*100
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
triggerall = Pos Y < -60 || Vel Y < 0 ||(stateno = [610,612])
trigger1 = var(58) = 52
trigger1 = stateno = 610 || stateno = 612
trigger1 = animelemtime(3) >= 1 && animelemtime(4) <0
trigger1 = movecontact
trigger2 = var(58) = 51
trigger2 = ctrl ||(StateNo = [120,140])

;---------------------------------------------------------------------------
;強疾風拳
[State Glider Stomp]
type = ChangeState
value = 1121
triggerall = statetype = A
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 2
triggerall = Random <= var(57)*100
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
triggerall = Pos Y < -60 || Vel Y < 0 ||(stateno = [610,612])
trigger1 = var(58) = 52
trigger1 = stateno = 610 || stateno = 612
trigger1 = animelemtime(3) >= 1 && animelemtime(4) <0
trigger1 = movecontact
trigger2 = var(58) = 51
trigger2 = ctrl ||(StateNo = [120,140])

;==============================================================================
;起き攻め
;雷光回し蹴り
[State -3, a]
type = ChangeState
value = 270
triggerall = StateType != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = !var(58)
triggerall = (var(57) <= 9 && Random <= var(57)*10) || (var(57)>9&&Random <= 50)
triggerall = EnemyNear(var(55)),StateType = L
triggerall = EnemyNear(var(55)),StateNo = 5120
trigger1 = P2BodyDist X = [75,105]
trigger1 = EnemyNear(var(55)),AnimTime = [-12,-8]
trigger1 = var(58) := 12

;---------------------------------------------------------------------------
;烈風拳KOF
[State Scramble Dash]
type = ChangeState
value = 1080
triggerall = StateType != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = !var(58)
triggerall = (var(57) <= 9 && Random <= var(57)*20) || (var(57)>9&&Random <= 300)
triggerall = var(1) = 0 ||((var(1) = 2 || var(1) = 3)&& Random <= 333)
triggerall = EnemyNear(var(55)),StateType = L
triggerall = EnemyNear(var(55)),StateNo = 5120
trigger1 = P2BodyDist X = [60,85]
trigger1 = EnemyNear(var(55)),AnimTime = [-12,-8]

;---------------------------------------------------------------------------
;烈風拳
[State Slide Touch]
type = ChangeState
value = ifelse(Random <= 250 && P2Bodydist X > 160, 1010, 1000)
triggerall = StateType != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = !var(58)
triggerall = (var(57) <= 9 && Random <= var(57)*20) || (var(57)>9&&Random <= 300)
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
triggerall = EnemyNear(var(55)),StateType = L
triggerall = EnemyNear(var(55)),StateNo = 5120
trigger1 = P2BodyDist X = [60,100]
trigger1 = EnemyNear(var(55)),AnimTime = [-17,-13]
trigger2 = P2BodyDist X = [100,160]
trigger2 = EnemyNear(var(55)),AnimTime = [-20,-15]
trigger3 = P2BodyDist X = [160,200]
trigger3 = EnemyNear(var(55)),AnimTime = [-24,-18]
trigger4 = P2BodyDist X = [200,270]
trigger4 = EnemyNear(var(55)),AnimTime = [-28,-22]

;---------------------------------------------------------------------------
;パワー溜め
[State -3, Jump Strong Kick]
type = ChangeState
value = 710
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = var(20) = 0
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = power < powermax
triggerall = power < 1000 || Random <= 333
triggerall = EnemyNear(var(55)),StateType = L
triggerall = !(EnemyNear(var(55)),StateNo = 710  && EnemyNear(var(55)),AuthorName = "Ambasa")
triggerall = !(EnemyNear(var(55)),StateNo = 2000 && EnemyNear(var(55)),authorName = "hoe2")
triggerall = EnemyNear(var(55)),StateNo = [5100,5120]
triggerall = P2BodyDist X > 60
trigger1 = power < 2000
trigger1 = power < 1000 || P2BodyDist X >= 100
trigger1 = Random <= var(57)*12
trigger2 = var(57) > 9 && power >= 3000
trigger2 = P2BodyDist X >= 100
trigger2 = Random <= 75

;---------------------------------------------------------------------------
;AI前進
[State -3,前進]
Type = ChangeState
Value = 18
triggerall = var(59) && RoundState = 2
triggerall = !var(58)
triggerall = statetype != A
triggerall = EnemyNear(var(55)),stateno != [5110,5120]
triggerall = ctrl || (stateno = 19 && time >= 16) ||(stateno = 100 && P2bodydist X <= 10)
triggerall = enemynear(var(55)),movetype = H
trigger1 = var(54)
trigger1 = EnemyNear(var(55)),StateType = A 
trigger1 = p2bodydist X > 40
trigger2 = EnemyNear(var(55)),StateType = L
trigger2 = p2bodydist X > 100

;---------------------------------------------------------------------------
;AI後退
[State -3,後退]
Type = ChangeState
Value = 19
triggerall = var(59) && RoundState = 2
triggerall = !var(58)
triggerall = statetype != A
triggerall = EnemyNear(var(55)),stateno != [5110,5120]
triggerall = ctrl ||(stateno = 19 && time >= 16)||(stateno = 100 && P2bodydist X <= 10)
triggerall = enemynear(var(55)),movetype = H
trigger1 = EnemyNear(var(55)),StateType = A 
trigger1 = p2bodydist X < 20
trigger2 = EnemyNear(var(55)),StateType = L
trigger2 = p2bodydist X < 50

;==============================================================================
;ブロ・アーマー対策
;レイジング祭り
[State Twister Drive]
type = ChangeState
value = 4400
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 10 && RoundState = 2
triggerall = life <= 300 || var(9) = 2
triggerall = var(1) = 3
triggerall = power >= 5000||(var(20) > 0 && Power >= 4000)
triggerall = Random <= var(57)*25 || var(57) > 10
triggerall = P2bodyDist X = [-40,40]
triggerall = P2BodyDist Y > -140
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = EnemyNear(var(55)),StateNo != [5000,5099]
triggerall = EnemyNear(var(55)),facing != facing
triggerall = inguarddist ||(EnemyNear(var(55)),MoveType = A &&(var(53) ||(EnemyNear(var(55)),HitDefAttr = SCA, AT)))|| EnemyNear(var(55)),AnimTime <= -12
triggerall = movecontact
trigger1 = stateno = 205 || stateno = 235
trigger1 =(animelemtime(2) >= 1 && animelemtime(3) <0)|| var(20)
trigger2 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger3 = stateno = 245 || stateno = 400
trigger3 =(animelemtime(3) >= 1 && animelemtime(4) <0)|| var(20)
trigger4 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0
trigger4 =(animelemtime(2) >= 1 && animelemtime(3) <0)|| var(20)
trigger5 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger6 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0 && var(1) != 1
trigger7 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0

;---------------------------------------------------------------------------
;レイジング祭り・どこキャン
[State Twister Drive]
type = ChangeState
value = 4400
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 10 && RoundState = 2
triggerall = var(20) > 0
triggerall = life <= 300 || var(9) = 2
triggerall = var(1) = 3
triggerall = power >= 5000||(var(20) > 0 && Power >= 4000)
triggerall = P2bodyDist X = [-40,40]
triggerall = P2BodyDist Y > -140
triggerall = Random <= var(57)*15 || var(57) > 10
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = EnemyNear(var(55)),StateNo != [5000,5099]
triggerall = EnemyNear(var(55)),facing != facing || var(53) = 5
triggerall = inguarddist ||(EnemyNear(var(55)),MoveType = A &&(var(53) ||(EnemyNear(var(55)),HitDefAttr = SCA, AT)))|| EnemyNear(var(55)),AnimTime <= -12
triggerall = movecontact ||((stateno = [1401,1441])&& var(5) = 1)
trigger1 = (stateno = [200,246])
trigger2 = (stateno = [400,441])
trigger3 = stateno = 260 || stateno = 270 || stateno = 450 || stateno = 751 || stateno = 1521 || stateno = 1541
trigger3 = movecontact = 1
trigger4 = ((stateno = [1401,1402]) && var(5) = 1)|| stateno = 1401 && movecontact = 1
trigger5 = ((stateno = [1411,1412]) && var(5) = 1)|| stateno = 1411 && movecontact = 1
trigger6 = (stateno = 1431 || stateno = 1441)&& var(5) = 1
trigger7 = (stateno = 1431 || stateno = 1441)&&(animelemtime(6) >= 1 && animelemtime(8) <0)
trigger8 = stateno = 1431 && animelemtime(10) >= 1 && animelemtime(11) <0
trigger9 = stateno = 1441 && animelemtime(11) >= 1 && animelemtime(12) <0

;---------------------------------------------------------------------------
;レイジング祭り・空キャン
[State Twister Drive]
type = ChangeState
value = 4400
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 10 && RoundState = 2
triggerall = life <= 300 || var(9) = 2
triggerall = var(1) = 3
triggerall = power >= 5000||(var(20) > 0 && Power >= 4000)
triggerall = Random <= 50 ||(var(57) > 10 && Random <= 70)|| var(57) > 11 || PalNo = 12
triggerall = P2bodyDist X = [-40,40]
triggerall = P2BodyDist Y > -140
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = EnemyNear(var(55)),StateNo != [5000,5099]
triggerall = EnemyNear(var(55)),facing != facing || var(53) = 5
triggerall = EnemyNear(var(55)),MoveType = A
triggerall = inguarddist
triggerall = !movecontact
trigger1 = stateno = 205 || stateno = 235
trigger1 =(animelemtime(2) >= 1 && animelemtime(3) <0)|| var(20)
trigger2 = stateno = 215
trigger2 =(animelemtime(4) >= 1 && animelemtime(5) <0)|| var(20)
trigger3 = stateno = 245 || stateno = 400
trigger3 =(animelemtime(3) >= 1 && animelemtime(4) <0)|| var(20)
trigger4 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0
trigger4 =(animelemtime(2) >= 1 && animelemtime(3) <0)|| var(20)
trigger5 = var(20)
trigger5 = (stateno = [200,246])||(stateno = [400,441])

;---------------------------------------------------------------------------
;レイジングストームKOF96
[State Twister Drive]
type = ChangeState
value = 3000
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) > 7 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 2
triggerall = power >= 1000 || var(20) > 0
triggerall = Random <= var(57)*25 || var(57) > 10
triggerall = P2BodyDist X = [-50,45]
triggerall = P2BodyDist Y > -140
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = EnemyNear(var(55)),StateNo != [5000,5099]
triggerall = EnemyNear(var(55)),facing != facing
triggerall = inguarddist ||(EnemyNear(var(55)),MoveType = A &&(var(53) ||(EnemyNear(var(55)),HitDefAttr = SCA, AT)))|| EnemyNear(var(55)),AnimTime <= -12
triggerall = movecontact
trigger1 = stateno = 205 || stateno = 235
trigger1 =(animelemtime(2) >= 1 && animelemtime(3) <0)|| var(20)
trigger2 = stateno = 215
trigger2 =(animelemtime(4) >= 1 && animelemtime(5) <0)|| var(20)
trigger3 = stateno = 245 || stateno = 400
trigger3 =(animelemtime(3) >= 1 && animelemtime(4) <0)|| var(20)
trigger4 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0
trigger4 =(animelemtime(2) >= 1 && animelemtime(3) <0)|| var(20)
trigger5 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger6 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0 && var(1) != 1
trigger7 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0

;---------------------------------------------------------------------------
;レイジングストームKOF96・どこキャン
[State Twister Drive]
type = ChangeState
value = 3000
triggerall = statetype != A
triggerall = var(59)
triggerall = !var(58)
triggerall = var(57) > 8 && RoundState = 2
triggerall = var(20) > 0
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = Random <= var(57)*15 || var(57) > 11 || PalNo = 12
triggerall = P2BodyDist X = [-50,45]
triggerall = P2BodyDist Y > -140
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = EnemyNear(var(55)),StateNo != [5000,5099]
triggerall = EnemyNear(var(55)),facing != facing || var(53) = 5
triggerall = inguarddist ||(EnemyNear(var(55)),MoveType = A &&(var(53) ||(EnemyNear(var(55)),HitDefAttr = SCA, AT)))|| EnemyNear(var(55)),AnimTime <= -12
triggerall = movecontact ||((stateno = [1401,1441])&& var(5) = 1)
trigger1 = (stateno = [200,246])
trigger2 = (stateno = [400,441])
trigger3 = stateno = 260 || stateno = 270 || stateno = 450 || stateno = 751 || stateno = 1521 || stateno = 1541
trigger3 = movecontact = 1
trigger4 = ((stateno = [1401,1402]) && var(5) = 1)|| stateno = 1401 && movecontact = 1
trigger5 = ((stateno = [1411,1412]) && var(5) = 1)|| stateno = 1411 && movecontact = 1
trigger6 = (stateno = 1431 || stateno = 1441)&& var(5) = 1
trigger7 = (stateno = 1431 || stateno = 1441)&&(animelemtime(6) >= 1 && animelemtime(8) <0)
trigger8 = stateno = 1431 && animelemtime(10) >= 1 && animelemtime(11) <0
trigger9 = stateno = 1441 && animelemtime(11) >= 1 && animelemtime(12) <0

;---------------------------------------------------------------------------
;レイジングストームKOF96・空キャン
[State Twister Drive]
type = ChangeState
value = 3000
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) > 9 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = power >= 1000 || var(20) > 0
triggerall = Random <= 50 ||(var(57) > 10 && Random <= 100)|| var(57) > 11 || PalNo = 12
triggerall = P2BodyDist X = [-50,45]
triggerall = P2BodyDist Y > -140
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = EnemyNear(var(55)),StateNo != [5000,5099]
triggerall = EnemyNear(var(55)),facing != facing || var(53) = 5
triggerall = EnemyNear(var(55)),MoveType = A
triggerall = inguarddist
triggerall = !movecontact
trigger1 = stateno = 205 || stateno = 235
trigger1 =(animelemtime(2) >= 1 && animelemtime(3) <0)|| var(20)
trigger2 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger3 = stateno = 245 || stateno = 400
trigger3 =(animelemtime(3) >= 1 && animelemtime(4) <0)|| var(20)
trigger4 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0
trigger4 =(animelemtime(2) >= 1 && animelemtime(3) <0)|| var(20)
trigger5 = var(20)
trigger5 = (stateno = [200,246])||(stateno = [400,441])

;---------------------------------------------------------------------------
;レイジングストームRB
[State Twister Drive]
type = ChangeState
value = 3020
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) > 8 && RoundState = 2
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = power >= 1000 || var(20) > 0
triggerall = Random <= var(57)*25 || var(57) > 10
triggerall = P2BodyDist X = [-50,55]
triggerall = P2BodyDist Y > -150
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = EnemyNear(var(55)),StateNo != [5000,5099]
triggerall = EnemyNear(var(55)),facing != facing
triggerall = inguarddist ||(EnemyNear(var(55)),MoveType = A &&(var(53) ||(EnemyNear(var(55)),HitDefAttr = SCA, AT)))|| EnemyNear(var(55)),AnimTime <= -12
triggerall = movecontact
trigger1 = stateno = 205 || stateno = 235
trigger1 =(animelemtime(2) >= 1 && animelemtime(3) <0)|| var(20)
trigger2 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger3 = stateno = 245 || stateno = 400
trigger3 =(animelemtime(3) >= 1 && animelemtime(4) <0)|| var(20)
trigger4 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0
trigger4 =(animelemtime(2) >= 1 && animelemtime(3) <0)|| var(20)
trigger5 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger6 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0 && var(1) != 1
trigger7 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0

;---------------------------------------------------------------------------
;レイジングストームRB・どこキャン
[State Hunting Air DC]
type = ChangeState
value = 3020
triggerall = statetype != A
triggerall = var(59)
triggerall = !var(58)
triggerall = var(57) > 8 && RoundState = 2
triggerall = var(20) > 0
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = Random <= var(57)*15 || var(57) > 11 || PalNo = 12
triggerall = P2BodyDist X = [-50,55]
triggerall = P2BodyDist Y > -150
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = EnemyNear(var(55)),StateNo != [5000,5099]
triggerall = EnemyNear(var(55)),facing != facing || var(53) = 5
triggerall = inguarddist ||(EnemyNear(var(55)),MoveType = A &&(var(53) ||(EnemyNear(var(55)),HitDefAttr = SCA, AT)))|| EnemyNear(var(55)),AnimTime <= -12
triggerall = movecontact ||((stateno = [1401,1441])&& var(5) = 1)
trigger1 = (stateno = [200,246])
trigger2 = (stateno = [400,441])
trigger3 = stateno = 260 || stateno = 270 || stateno = 450 || stateno = 751 || stateno = 1521 || stateno = 1541
trigger3 = movecontact = 1
trigger4 = ((stateno = [1401,1402]) && var(5) = 1)|| stateno = 1401 && movecontact = 1
trigger5 = ((stateno = [1411,1412]) && var(5) = 1)|| stateno = 1411 && movecontact = 1
trigger6 = (stateno = 1431 || stateno = 1441)&& var(5) = 1
trigger7 = (stateno = 1431 || stateno = 1441)&&(animelemtime(6) >= 1 && animelemtime(8) <0)
trigger8 = stateno = 1431 && animelemtime(10) >= 1 && animelemtime(11) <0
trigger9 = stateno = 1441 && animelemtime(11) >= 1 && animelemtime(12) <0

;---------------------------------------------------------------------------
;レイジングストームRB・空キャン
[State Hunting Air DC]
type = ChangeState
value = 3020
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) > 9 && RoundState = 2
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = power >= 1000 || var(20) > 0
triggerall = Random <= 50 ||(var(57) > 10 && Random <= 70)|| var(57) > 11 || PalNo = 12
triggerall = P2BodyDist X = [-50,55]
triggerall = P2BodyDist Y > -150
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = EnemyNear(var(55)),StateNo != [5000,5099]
triggerall = EnemyNear(var(55)),facing != facing || var(53) = 5
triggerall = EnemyNear(var(55)),MoveType = A
triggerall = inguarddist
triggerall = !movecontact
trigger1 = stateno = 205 || stateno = 235
trigger1 =(animelemtime(2) >= 1 && animelemtime(3) <0)|| var(20)
trigger2 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger3 = stateno = 245 || stateno = 400
trigger3 =(animelemtime(3) >= 1 && animelemtime(4) <0)|| var(20)
trigger4 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0
trigger4 =(animelemtime(2) >= 1 && animelemtime(3) <0)|| var(20)
trigger5 = var(20)
trigger5 = (stateno = [200,246])||(stateno = [400,441])

;---------------------------------------------------------------------------
;上段当て身投げ
[State Scramble Dash]
type = ChangeState
value = ifelse(var(1) = 1, 1505, 1500)
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) > 9 && RoundState = 2
triggerall = Random <= var(57)*30 || var(57) > 10
triggerall = Random <= Helper(15000+id),var(30)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = EnemyNear(var(55)),StateNo != [5000,5099]
triggerall = EnemyNear(var(55)),time < 5
triggerall = ((EnemyNear(var(55)),HitDefAttr = SC, SA, HA)&& P2StateType != A)||((EnemyNear(var(55)),HitDefAttr = A, AA)&& P2StateType = A)
triggerall = Random <= 30 || EnemyNear(var(55)),MoveType = A
trigger1 = stateno = 205 || stateno = 235
trigger1 =(animelemtime(2) >= 1 && animelemtime(3) <0)
trigger2 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger3 = stateno = 245 || stateno = 400
trigger3 =(animelemtime(3) >= 1 && animelemtime(4) <0)|| var(57) > 11
trigger4 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0
trigger5 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0 && movecontact
trigger6 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0 && var(1) != 1 && movecontact
trigger7 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger8 = var(20)
trigger8 = stateno = 200 ||(stateno = [210,211])|| stateno = 230 || stateno = 240 || stateno = 430
trigger9 = var(20)
trigger9 = stateno = 245 && animelemtime(4) >= 1

;---------------------------------------------------------------------------
;中段当て身
[State Scramble Dash]
type = ChangeState
value = ifelse(var(1) = 0, 1520, 1530)
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) > 9 && RoundState = 2
triggerall = Random <= var(57)*30 || var(57) > 10
triggerall = Random <= Helper(15000+id),var(30)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = EnemyNear(var(55)),StateNo != [5000,5099]
triggerall = EnemyNear(var(55)),time < 5
triggerall = (EnemyNear(var(55)),HitDefAttr = S, NA)
triggerall = Random <= 30 || EnemyNear(var(55)),MoveType = A
trigger1 = stateno = 205 || stateno = 235
trigger1 =(animelemtime(2) >= 1 && animelemtime(3) <0)
trigger2 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger3 = stateno = 245 || stateno = 400
trigger3 =(animelemtime(3) >= 1 && animelemtime(4) <0)
trigger4 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0
trigger5 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0 && movecontact
trigger6 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0 && var(1) != 1 && movecontact
trigger7 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger8 = var(20)
trigger8 = stateno = 200 ||(stateno = [210,211])|| stateno = 230 || stateno = 240 || stateno = 430
trigger9 = var(20)
trigger9 = stateno = 245 && animelemtime(4) >= 1

;---------------------------------------------------------------------------
;下段当て身打ち
[State Scramble Dash]
type = ChangeState
value = ifelse(var(1) = 1, 1550, 1540)
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) > 9 && RoundState = 2
triggerall = Random <= var(57)*30 || var(57) > 10
triggerall = Random <= Helper(15000+id),var(30)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = EnemyNear(var(55)),StateNo != [5000,5099]
triggerall = EnemyNear(var(55)),time < 5
triggerall = (EnemyNear(var(55)),HitDefAttr = C, NA)
triggerall = Random <= 30 || EnemyNear(var(55)),MoveType = A
trigger1 = stateno = 205 || stateno = 235
trigger1 =(animelemtime(2) >= 1 && animelemtime(3) <0)
trigger2 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger3 = stateno = 245 || stateno = 400
trigger3 =(animelemtime(3) >= 1 && animelemtime(4) <0)
trigger4 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0
trigger5 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0 && movecontact
trigger6 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0 && var(1) != 1 && movecontact
trigger7 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger8 = var(20)
trigger8 = stateno = 200 ||(stateno = [210,211])|| stateno = 230 || stateno = 240 || stateno = 430
trigger9 = var(20)
trigger9 = stateno = 245 && animelemtime(4) >= 1

;---------------------------------------------------------------------------
;弱飛翔日輪斬(若ギース)
[State Scramble Dash]
type = ChangeState
value = 1270
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) > 9 && RoundState = 2
triggerall = var(1) = 3
triggerall = Random <= var(57)*30 || var(57) > 11
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = EnemyNear(var(55)),StateNo != [5000,5099]
triggerall = EnemyNear(var(55)),MoveType = A
triggerall = P2BodyDist X = [-15,60]
triggerall = P2BodyDist Y > -50
triggerall = !movecontact
trigger1 = stateno = 205 || stateno = 235
trigger1 =(animelemtime(2) >= 1 && animelemtime(3) <0)
trigger2 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger3 = stateno = 245 || stateno = 400
trigger3 =(animelemtime(3) >= 1 && animelemtime(4) <0)
trigger4 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0
trigger5 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0 && movecontact
trigger6 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0 && var(1) != 1 && movecontact
trigger7 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger8 = var(20)
trigger8 = stateno = 200 ||(stateno = [210,211])|| stateno = 230 || stateno = 240 || stateno = 430
trigger9 = var(20)
trigger9 = stateno = 245 && animelemtime(4) >= 1
trigger10= var(57) > 11
trigger10= stateno = 200 || stateno = 205 || stateno = 235 || stateno = 400
trigger10= animelemtime(3) <= 0
;trigger11= var(57) > 11
;trigger11= stateno = 751
;trigger11= time < 5

;==============================================================================
;ダウン追い討ち
;レイジングストームRB/KOF98UM
[State Twister Drive]
type = ChangeState
value = ifelse(random <= 499 && p2bodydist X <= 60, 3020, 3010)
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19])|| stateno = 100
triggerall = var(59)
triggerall = var(57) >= 9 && RoundState = 2
triggerall = var(1) = 3
triggerall = power >= 1000 || var(20)
trigger1 = Helper(15000+id),var(42) <= 1 || Helper(15000+id),var(35)
trigger1 = p2bodydist X <= 72
trigger1 = var(58) = 10 || var(58) = 19

;------------------------------------------------------------------------------
;雷光回し蹴り
[State -3, a]
type = ChangeState
value = 270
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19])|| stateno = 100
triggerall = var(59)
triggerall = var(57) >= 5 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = enemynear(var(55)),movetype = H
trigger1 = p2bodydist X = [40,140]
trigger1 = var(58) = 10 || var(58) = 30

;------------------------------------------------------------------------------
;雷鳴豪破投げ10~12P
[State -3, RGN]
type = ChangeState
value = 1610
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19])||(stateno = 270 && animelemtime(1) >= 1 && animelemtime(6) <0)
triggerall = var(59)
triggerall = var(57) >= 10 && RoundState = 2
triggerall = p2bodydist X < 50
triggerall = p2bodydist Y > -10
triggerall = p2statetype = L || p2statetype = A
triggerall = var(1) = 3
trigger1 = var(58) = 10
trigger2 = var(58) = 19
trigger3 = !var(58)
trigger3 = p2bodydist X < 20
trigger3 =(EnemyNear(var(55)),StateNo = [286,287])||(EnemyNear(var(55)),StateNo = [293,294])|| EnemyNear(var(55)),StateNo = 1305
trigger4 = !var(58)
trigger4 = p2bodydist X < 20
trigger4 =(EnemyNear(var(55)),StateNo = [3060,3061])|| EnemyNear(var(55)),StateNo = 4032

;------------------------------------------------------------------------------
;雷鳴豪破投げ7~12P
[State -3, RGN]
type = ChangeState
value = ifelse(Random <= 499 || var(58) = 30, 1600, 1610)
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19])||(stateno = 270 && animelemtime(1) >= 1 && animelemtime(6) <0)
triggerall = var(59)
triggerall = var(57) >= 5 && RoundState = 2
triggerall = p2bodydist X < 45
triggerall = p2bodydist Y > -10
triggerall = p2statetype = L || p2statetype = A
triggerall = var(1) = [2,3]
trigger1 = var(58) = 10 || var(58) = 30
trigger2 = var(58) = 19
trigger3 = var(57) >= 9
trigger3 = !var(58)
trigger3 = p2bodydist X < 20
trigger3 =(EnemyNear(var(55)),StateNo = [286,287])||(EnemyNear(var(55)),StateNo = [293,294])|| EnemyNear(var(55)),StateNo = 1305
trigger4 = var(1) = 3
trigger4 = var(57) >= 9
trigger4 = !var(58)
trigger4 = p2bodydist X < 20
trigger4 =(EnemyNear(var(55)),StateNo = [3060,3061])|| EnemyNear(var(55)),StateNo = 4032

;------------------------------------------------------------------------------
;雷鳴豪破投げ1~6P
[State -3, RGN]
type = ChangeState
value = ifelse(var(1) = 0, 1610, 1600)
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19])||(stateno = 270 && animelemtime(1) >= 1 && animelemtime(6) <0)
triggerall = var(59)
triggerall = var(57) >= 5 && RoundState = 2
triggerall = p2bodydist X < 45
triggerall = p2bodydist Y > -10
triggerall = p2statetype = L || p2statetype = A
triggerall = enemynear(var(55)),movetype = H
triggerall = var(1) = [0,1]
trigger1 = var(58) = 10
trigger2 = var(58) = 19
trigger3 = var(57) >= 9
trigger3 = !var(58)
trigger3 = p2bodydist X < 20
trigger3 =(EnemyNear(var(55)),StateNo = [286,287])||(EnemyNear(var(55)),StateNo = [293,294])|| EnemyNear(var(55)),StateNo = 1305
trigger4 = var(1) = 3
trigger4 = var(57) >= 9
trigger4 = !var(58)
trigger4 = p2bodydist X < 20
trigger4 =(EnemyNear(var(55)),StateNo = [3060,3061])|| EnemyNear(var(55)),StateNo = 4032

;---------------------------------------------------------------------------
;強疾風拳
[State Glider Stomp]
type = ChangeState
value = 1101
triggerall = var(59)
Triggerall = var(57) > 5 && RoundState = 2
triggerall = Random <= var(57)*100
triggerall = statetype = A
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
trigger1 = var(58) = 15
trigger1 = stateno = 103 && animelemtime(2) >= 1
trigger1 = time > 9
trigger2 = var(58) = 18
trigger2 = ctrl ||(stateno = [120,140])
trigger2 = Helper(15000+id),var(46) > 10

;---------------------------------------------------------------------------
;Front Step
;フロントステップ
[State -3, Front Step]
type = ChangeState
value = 103
triggerall = var(59)
Triggerall = var(57) > 5 && RoundState = 2
triggerall = Random <= var(57)*100
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = EnemyNear(var(55)),StateType = L
triggerall = EnemyNear(var(55)),MoveType = H
trigger1 = var(58) = 15
trigger2 = var(58) = 18
trigger2 = Helper(15000+id),var(51) < 210
trigger2 = var(58) := 19

;------------------------------------------------------------------------------
;前ハイジャンプ
[State -3,ジャンプ]
Type     = ChangeState
Value    = 36
triggerall = var(59)
Triggerall = var(57) > 5 && RoundState = 2
triggerall = Random <= var(57)*100
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = EnemyNear(var(55)),MoveType = H
trigger1 = ctrl || stateno = [120,140]
trigger1 = var(58) = 18

;==============================================================================
;連続技・画面端 or どこキャン
;裏雲隠し
[State Scramble Dash]
type = ChangeState
value = 1310
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 9 && RoundState = 2
triggerall = var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = Helper(15000+id),var(52) < 250
triggerall = P2BodyDist X < 23
trigger1 = EnemyNear(var(55)),GethitVar(hitcount) <= 8
trigger1 = EnemyNear(var(55)),Life > 200
trigger1 = !Helper(15000+id),var(44) || var(57) > 11
trigger1 = stateno = 245 && animelemtime(3) >= 1 && animelemtime(4) <0
trigger1 = movehit = 1

;---------------------------------------------------------------------------
;サンダーブレイクKOF / MAX2餓狼デッドリーレイブ
[State Twister Drive]
type = ChangeState
value = ifelse(Random <= 333 && Helper(15000+id),var(51) >= 165 && P2BodyDist X <= 25, 4000, 4300)
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 1 && RoundState = 2
triggerall = (var(1) = 2 && Life <= 300)|| var(1) = 3 || var(9) = 2
triggerall = var(1) = 2 || var(1) = 3
triggerall = PalNo = 12 || Power >= Powermax
triggerall = power >= 4000 || (var(20) > 0 && Power >= 1000)
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = EnemyNear(var(55)),GethitVar(hitcount) >= 30
triggerall = P2BodyDist X <= 100
triggerall =(var(58) = [16,17])|| var(58) = 21
triggerall = !Helper(15000+id),var(35)
trigger1 = stateno = 1431 || stateno = 1441
trigger1 = animelemtime(6) >= 1 && animelemtime(8) <0
trigger1 = movehit
trigger2 = ((stateno = [1401,1402]) && var(5) = 1)||((stateno = [1411,1412]) && var(5) = 1)

;---------------------------------------------------------------------------
;飛燕失脚1 キャンセル版
[State -3, a]
type = ChangeState
value = 252
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 10 && RoundState = 2
triggerall = var(58) != 17
triggerall = var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),Life > 160
triggerall = EnemyNear(var(55)),Life > 240 || Power < 1000
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = P2BodyDist X < 21 || Helper(15000+id),var(51) <= 100 || stateno = 245
triggerall = Helper(15000+id),var(35)
triggerall = movehit
trigger1 = stateno = 205 && animelemtime(2) >= 1 && animelemtime(3) <0
trigger2 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger3 = stateno = 245 && animelemtime(3) >= 1 && animelemtime(4) <0
trigger4 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0

;---------------------------------------------------------------------------
;不動活殺裏拳 キャンセル版
[State -3, a]
type = ChangeState
value = 261
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = Random <= var(57)*100
trigger1 =(var(20) = 0 && power >= 2000)|| var(20) > 0
trigger1 = (var(58) = [1,2])|| var(58) = 21
trigger1 = P2BodyDist X <= 20 || Helper(15000+id),var(51) < 120 || var(20) > 0
trigger1 = stateno = 245 && animelemtime(3) >= 1 && animelemtime(5) <0
trigger1 = animelemtime(4) <0 || var(20)
trigger1 = movehit
trigger2 = (var(58) = [1,2])|| var(58) = 21
trigger2 = Helper(15000+id),var(51) < 120 || var(20) > 0
trigger2 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger2 = P2BodyDist X <= 15

;クイックMAX
[State -3, Jump Strong Kick]
type = ChangeState
value = 901
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = var(20) = 0
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = Random <= var(57)*100
triggerall = power >= 2000
triggerall = movehit
triggerall = (var(58) = [1,2])|| var(58) = 16 || var(58) = 21
trigger1 = stateno = 245
trigger1 = (animelemtime(3) >= 1 && animelemtime(4) <0)|| Helper(15000+id),var(51) < 90
trigger2 = stateno = [270,271]
trigger2 = animelemtime(6) >= 1 && animelemtime(7) <0
trigger2 = P2BodyDist X <= 5
trigger3 = stateno = [260,261]
trigger4 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger5 = stateno = 450 && movehit = 1

;---------------------------------------------------------------------------
;烈風拳KOF・どこでもキャンセル
[State Hunting Air DC]
type = ChangeState
value = 1080
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = P2BodyDist Y > -40 || var(58) = 28
trigger1 = var(58) = 1
trigger1 = var(20) > 160
trigger1 = EnemyNear(var(55)),StateType = A
trigger1 = stateno = 1200 && movehit
trigger2 = var(58) = 9 || var(58) = 28
trigger2 = var(20) > 160 || Power >= 2000
trigger2 = ctrl || (stateno = [18,19])
trigger2 = EnemyNear(var(55)),StateType = A
trigger3 = var(58) = 1
trigger3 = var(20) > 170
trigger3 = stateno = 1431 && animelemtime(10) >= 1 && animelemtime(11) <0
trigger3 = movehit
trigger4 = var(58) = 28
trigger4 = var(1) = 3 && Helper(15000+id),var(51) < 135
trigger4 = !var(7)
trigger4 = ctrl || (stateno = [18,19])
trigger4 = EnemyNear(var(55)),StateType = A

;---------------------------------------------------------------------------
;サンダーブレイク1~3P・どこキャン
[State Hunting Air DC]
type = ChangeState
value = ifelse(Random <= 499 || var(58) = 9, 4000, 4001)
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = (power >= 1000 && var(20) > 0)|| Power >= 3000
triggerall = (life <= 300 || var(1) = 3) || var(9) = 2
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = var(58) = 1
trigger1 = var(20) > 0
trigger1 = Helper(15000+id),var(51) < 115
trigger1 = stateno = 1080 && movehit = 1
trigger2 = var(58) = 4 || var(58) = 8
trigger2 = var(20) > 0
trigger2 = stateno = 1200 || stateno = 1250
trigger2 = movehit
trigger2 = EnemyNear(var(55)),StateType = A
trigger3 = var(58) = 4
trigger3 = ctrl || (stateno = [18,19])
trigger3 = EnemyNear(var(55)),StateType = A
trigger3 = !var(20)
trigger4 = !var(20) || var(58) = 29
trigger4 = ctrl || (stateno = [18,19])|| stateno = 100
trigger4 = Helper(15000+id),var(51) < 115
trigger4 = (var(58) = [8,9])||(var(58) = [28,29])

;---------------------------------------------------------------------------
;阿修羅疾風拳7~12P
[State Twister Drive]
type = ChangeState
value = ifelse(Random <= 499, 3800, 3802)
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = ctrl || (stateno = [18,19])|| stateno = 100
triggerall = (power >= 1000 && var(20) > 0)|| Power >= 3000
triggerall = var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = !var(20)
trigger1 = Helper(15000+id),var(51) < 115
trigger1 = (var(58) = [8,9])|| var(58) = 29
trigger2 = var(58) = 28

;---------------------------------------------------------------------------
;MAXレイジングストームKOF1~3P or MAXデッドリーレイブKOF・どこキャン
[State Twister Drive]
type = ChangeState
value = ifelse(Random <= 499, 3500, 3600)
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = (power >= 1000 && var(20) > 0)|| Power >= 3000
triggerall = var(1) = 0
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = var(58) = 1 || var(58) = 9
trigger1 = var(20) > 0
trigger1 = Helper(15000+id),var(51) < 115
trigger1 = stateno = 1080 && movehit = 1
trigger2 = var(58) = 4 || var(58) = 8
trigger2 = var(20) > 0
trigger2 = stateno = 1200 || stateno = 1250
trigger2 = movehit
trigger2 = EnemyNear(var(55)),StateType = A
trigger3 = var(58) = 4
trigger3 = ctrl || (stateno = [18,19])
trigger3 = EnemyNear(var(55)),StateType = A
trigger3 = !var(20)
trigger4 = !var(20)
trigger4 = ctrl || (stateno = [18,19])|| stateno = 100
trigger4 = Helper(15000+id),var(51) < 115
trigger4 = var(58) = [8,9]

;---------------------------------------------------------------------------
;MAXデッドリーレイブKOF
[State Hunting Air DC]
type = ChangeState
value = 3600
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 5 && RoundState = 2
triggerall = (power >= 1000 && var(20) > 0)|| Power >= 3000
triggerall = var(1) = 0
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = var(58) = 1
trigger1 = stateno = 1080 || stateno = 1200
trigger1 = movehit = 1
trigger1 = Helper(15000+id),var(51) < 195

;---------------------------------------------------------------------------
;レイジングストーム1~3P 7~12P・どこキャン
[State Hunting Air DC]
type = ChangeState
value = ifelse(Helper(15000+id),var(51) < 90 && Random <= 499, 3000, 3010)
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 5 && RoundState = 2
triggerall = var(20) > 0 || Power >= 1000
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = var(58) = 1 || var(58) = 9 || var(58) = 28
trigger1 = var(20) > 0 || power >= 2000
trigger1 = Helper(15000+id),var(51) < 115
trigger1 = stateno = 1080 && movehit = 1
trigger2 = var(58) = 4 || var(58) = 8
trigger2 = var(20) > 0
trigger2 = stateno = 1200 || stateno = 1250
trigger2 = movehit
trigger2 = EnemyNear(var(55)),StateType = A
trigger3 = var(58) = 4
trigger3 = ctrl || (stateno = [18,19])|| stateno = 100
trigger3 = EnemyNear(var(55)),StateType = A
trigger3 = !var(20)
trigger4 = ctrl || (stateno = [18,19])|| stateno = 100
trigger4 = Helper(15000+id),var(51) < 115
trigger4 = var(58) = 7 ||(!var(20) && (var(58) = [8,9])) || var(58) = 29

;---------------------------------------------------------------------------
;デッドリーレイブKOF強・どこキャン
[State Hunting Air DC]
type = ChangeState
value = 3101
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = var(20) > 0
triggerall = var(1) = 0 || var(1) = 2
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = var(58) = 1
trigger1 = stateno = 1080 || stateno = 1200
trigger1 = movehit = 1

;---------------------------------------------------------------------------
;デッドリーレイブKOF弱7~12P
[State Hunting Air DC]
type = ChangeState
value = ifelse((Power >= 3000 ||(Power >= 1000 && var(20))),ifelse(Random < 500, 3802, 3800), 3100)
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19])|| stateno = 100
triggerall = var(59)
triggerall = var(57) >= 5 && RoundState = 2
triggerall = var(20) > 0 || Power >= 1000
triggerall = var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = Helper(15000+id),var(0) >= 5
trigger1 = var(58) = 7
trigger2 = P2BodyDist X < 125 || Power >= 3000 ||(Power >= 1000 && var(20))
trigger2 = Helper(15000+id),var(46) >= 5 || P2BodyDist X > 75
trigger2 = var(58) = 29

;---------------------------------------------------------------------------
;デッドリーレイブKOF弱1~3P
[State Hunting Air DC]
type = ChangeState
value = ifelse((Power >= 3000 ||(Power >= 1000 && var(20))), 3600, 3100)
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19])|| stateno = 100
triggerall = var(59)
triggerall = var(57) >= 5 && RoundState = 2
triggerall = var(20) > 0 || Power >= 1000
triggerall = var(1) = 0
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = Helper(15000+id),var(0) >= 5
trigger1 = var(58) = 7

;---------------------------------------------------------------------------
;弱疾風拳KOF・どこでもキャンセル
[State Glider Stomp DC]
type = ChangeState
value = 1120
triggerall = statetype = A
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = var(20) > 0
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
triggerall = EnemyNear(var(55)),Vel Y >= 0
trigger1 = stateno = 1200 && movehit
trigger1 = var(58) = 2 && time > 21
trigger2 = stateno = 1200 && movehit
trigger2 = var(58) = 3 && time > 18
trigger2 = var(58) := 4

;---------------------------------------------------------------------------
;弱飛翔日輪斬・どこでもキャンセル
[State Hunting Air DC]
type = ChangeState
value = 1200
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = var(20) > 0 || var(58) = 9
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = var(58) = [1,2]
trigger1 = var(20) > 170
trigger1 = stateno = 1431 && animelemtime(10) >= 1 && animelemtime(11) <0
trigger1 = movehit
trigger2 = var(58) = [2,3]
trigger2 = ctrl || (stateno = [18,19])
trigger2 = EnemyNear(var(55)),StateType = A
trigger2 = P2BodyDist Y > -105
trigger2 = var(58) := 3
trigger3 = var(58) = 4 || var(58) = 9
trigger3 = ctrl || (stateno = [18,19])
trigger3 = EnemyNear(var(55)),StateType = A
trigger3 = P2BodyDist Y > -105

;---------------------------------------------------------------------------
;強飛翔日輪斬
[State Hunting Air DC]
type = ChangeState
value = 1250
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 2
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = var(58) = 8
trigger1 = ctrl || (stateno = [18,19]) || stateno = 100
trigger1 = EnemyNear(var(55)),StateType = A
;trigger1 = EnemyNear(var(55)),Vel Y >= 0
trigger1 = P2BodyDist Y > -130

;---------------------------------------------------------------------------
;ダブル烈風拳RB
[State Scramble Dash]
type = ChangeState
value = 1050
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = P2BodyDist X <= 44
triggerall = movehit ||(((stateno = [1401,1402])||(stateno = [1411,1412]))&& var(5) = 1)
trigger1 = (var(58) = [16,17])|| Helper(15000+id),var(51) < 90
trigger1 = var(20) > 0
trigger1 = var(20) > 170 || Power >= 2000
trigger1 = stateno = 450
trigger1 = movehit = 1
trigger1 = var(58) := 17
trigger2 = var(20) > 0
trigger2 = Helper(15000+id),var(51) < 90
trigger2 = var(20) > 170 || Power >= 2000
trigger2 = (stateno = [1401,1402])||(stateno = [1411,1412])
trigger2 = EnemyNear(var(55)),StateNo = [5000,5029]
trigger2 = var(5) = 1
trigger2 = var(58) := 17
trigger3 = var(20) > 0
trigger3 = Helper(15000+id),var(51) < 90
trigger3 = var(20) > 170 || Power >= 2000
trigger3 = stateno = 1431 || stateno = 1441
trigger3 = animelemtime(6) >= 1 && animelemtime(8) <0
trigger3 = var(58) := 17

;---------------------------------------------------------------------------
;ダブル烈風拳RB
[State Scramble Dash]
type = ChangeState
value = 1050
triggerall = statetype != A
triggerall = ctrl ||(stateno = [18,19])|| stateno = 100
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = var(20) < 30
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = EnemyNear(var(55)),Life > 200
triggerall = P2BodyDist X <= 44
trigger1 = var(1) = 3
trigger1 = var(58) = 17
trigger1 = Helper(15000+id),var(35)
trigger1 = Helper(15000+id),var(51) < 96

;---------------------------------------------------------------------------
;邪影拳4・1~3Pどこキャン
[State Scramble Dash]
type = ChangeState
value = 1430
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = movehit ||((stateno = [1401,1402]) && var(5) = 1)||((stateno = [1411,1412]) && var(5) = 1)
triggerall =(var(58) = [1,2])|| var(58) = 21
trigger1 = EnemyNear(var(55)),StateType != A
trigger1 = stateno = 245
trigger1 = (animelemtime(3) >= 1 && animelemtime(4) <0)|| var(20)
trigger2 = EnemyNear(var(55)),StateType != A
trigger2 = stateno = 271 && !(var(1) = 1 && var(20) = 0)
trigger2 = (animelemtime(6) >= 1 && animelemtime(7) <0)|| var(20)
trigger3 = EnemyNear(var(55)),StateType != A
trigger3 = stateno = 261
trigger3 = (animelemtime(5) >= 1 && animelemtime(6) <0)|| var(20)
trigger4 = var(20) > 170
trigger4 = ((stateno = [1401,1402]) && var(5) = 1)||((stateno = [1411,1412]) && var(5) = 1)

;---------------------------------------------------------------------------
;邪影拳2・どこでもキャンセル
[State Hunting Air DC]
type = ChangeState
value = 1410
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = movehit
triggerall = var(20) > 20
trigger1 = var(20) > 155
trigger1 = var(58) = 21
trigger1 = stateno = 1431 || stateno = 1441
trigger1 = animelemtime(6) >= 1 && animelemtime(8) <0
trigger2 = var(58) = [16,17]
trigger2 = stateno = 261
trigger2 = animelemtime(5) >= 1 && animelemtime(6) <0
trigger3 = var(58) = 17
trigger3 = stateno = 271
trigger3 = (animelemtime(6) >= 1 && animelemtime(7) <0)|| var(20)

;---------------------------------------------------------------------------
;サンダーブレイクKOF / MAX2餓狼デッドリーレイブ
[State Twister Drive]
type = ChangeState
value = ifelse(Random <= 333 && Helper(15000+id),var(51) >= 165 && P2BodyDist X <= 25, 4000, 4300)
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = (life <= 300 || var(1) = 3) || var(9) = 2
triggerall = var(1) = 2 || var(1) = 3
triggerall = power >= 4000 || (var(20) > 0 && Power >= 1000)
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = P2BodyDist X <= 100
triggerall =(var(58) = [16,17])|| var(58) = 21
trigger1 = stateno = 1431 || stateno = 1441
trigger1 = animelemtime(6) >= 1 && animelemtime(8) <0
trigger1 = movehit
trigger2 = ((stateno = [1401,1402]) && var(5) = 1)||((stateno = [1411,1412]) && var(5) = 1)

;---------------------------------------------------------------------------
;MAXレイジングストームKOF / 餓狼 / 潜在レイジング / 阿修羅疾風拳
[State Twister Drive]
type = ChangeState
value = ifelse(Random <= 333 ,ifelse(Random <= 500 , 3900, 3510), ifelse(Random <= 500 , 3500,ifelse(Random <= 500, 3800, 3802)))
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = power >= 4000 || (var(20) > 0 && Power >= 1000)
triggerall = var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = P2BodyDist X <= 35
triggerall =(var(58) = [16,17])|| var(58) = 21
trigger1 = stateno = 1431 || stateno = 1441
trigger1 = animelemtime(6) >= 1 && animelemtime(8) <0
trigger1 = movehit
trigger2 = ((stateno = [1401,1402]) && var(5) = 1)||((stateno = [1411,1412]) && var(5) = 1)

;---------------------------------------------------------------------------
;MAXデッドリーレイブ / 阿修羅疾風拳
[State Twister Drive]
type = ChangeState
value = ifelse(Random <= 499 , 3600,ifelse(Random <= 500, 3800, 3802))
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = power >= 4000 || (var(20) > 0 && Power >= 1000)
triggerall = var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = P2BodyDist X <= 100
triggerall =(var(58) = [16,17])|| var(58) = 21
trigger1 = stateno = 1431 || stateno = 1441
trigger1 = animelemtime(6) >= 1 && animelemtime(8) <0
trigger1 = movehit
trigger2 = ((stateno = [1401,1402]) && var(5) = 1)||((stateno = [1411,1412]) && var(5) = 1)

;---------------------------------------------------------------------------
;レイジングストームRB / KOF98UM / KOF96
[State Twister Drive]
type = ChangeState
value = ifelse(Random <= 333 && P2BodyDist X < 20, 3000,ifelse(Random <= 500 && P2BodyDist X < 30, 3010, 3020))
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = power >= 2000 || var(20)
triggerall = var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = P2BodyDist X <= 40
triggerall = Helper(15000+id),var(51) < 100
triggerall =(var(58) = [16,17])|| var(58) = 21
trigger1 = stateno = 1431 || stateno = 1441
trigger1 = animelemtime(6) >= 1 && animelemtime(8) <0
trigger1 = movehit
trigger2 = ((stateno = [1401,1402]) && var(5) = 1)||((stateno = [1411,1412]) && var(5) = 1)

;---------------------------------------------------------------------------
;レイジングストームRBSP / デッドリーレイブKOF / 虚空烈風斬
[State Twister Drive]
type = ChangeState
value = ifelse(Random <= 333 && P2BodyDist X < 30, 3030,ifelse(Random <= 500 && P2BodyDist X < 30, 3400, 3100))
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = power >= 2000 || var(20)
triggerall = var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = P2BodyDist X <= 80
triggerall =(var(58) = [16,17])|| var(58) = 21
trigger1 = stateno = 1431 || stateno = 1441
trigger1 = animelemtime(6) >= 1 && animelemtime(8) <0
trigger1 = movehit
trigger2 = ((stateno = [1401,1402]) && var(5) = 1)||((stateno = [1411,1412]) && var(5) = 1)

;---------------------------------------------------------------------------
;サンダーブレイク餓狼
[State Twister Drive]
type = ChangeState
value = 4001
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = var(1) = 3
triggerall = (life <= 300 || var(1) = 3) || var(9) = 2
triggerall = power >= 3000 ||(Power >= 1000 && var(20) > 0)
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = P2BodyDist X = [-50,65]
triggerall = P2BodyDist Y > -160
trigger1 = var(58) = 23
trigger1 = Helper(15000+id),var(0) >= 5
trigger2 = var(58) = [24,26]
trigger2 = EnemyNear(var(55)),Life < 200
trigger2 = Helper(15000+id),var(51) < 113

;---------------------------------------------------------------------------
;MAXレイジングストーム餓狼 / KOF
[State Twister Drive]
type = ChangeState
value = ifelse(Random <= 499 , 3500, 3510)
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = 3
triggerall = power >= 3000 ||(Power >= 1000 && var(20) > 0)
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = P2BodyDist X = [-39,65]
triggerall = P2BodyDist Y > -160
trigger1 = var(58) = 23
trigger1 = Helper(15000+id),var(0) >= 5
trigger2 = var(58) = [24,26]
trigger2 = EnemyNear(var(55)),Life < 180
trigger2 = Helper(15000+id),var(51) < 113

;---------------------------------------------------------------------------
;レイジングストームKOF96
[State Scramble Dash]
type = ChangeState
value = 3000
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = 3
triggerall = !fvar(34)
triggerall = power >= 2000 || var(20)
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = P2BodyDist X = [-39,45]
triggerall = P2BodyDist Y > -160
triggerall = movehit = 1
trigger1 = var(58) = [24,26]
trigger1 = EnemyNear(var(55)),Life < 200
trigger1 = Helper(15000+id),var(51) < 110
trigger1 = stateno = 1080

;---------------------------------------------------------------------------
;レイジングストームRBSP / KOF98UM
[State Scramble Dash]
type = ChangeState
value = ifelse(Random <= 499 , 3010, 3030)
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = 3
triggerall = power >= 1000 || var(20)
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = P2BodyDist X = [-39,74]
triggerall = P2BodyDist Y > -160
trigger1 = var(58) = 23
trigger1 = Helper(15000+id),var(0) >= 5
trigger2 = var(58) = [24,26]
trigger2 = EnemyNear(var(55)),Life < 120
trigger2 = Helper(15000+id),var(51) < 110

;---------------------------------------------------------------------------
;烈風拳KOF
[State Hunting Air DC]
type = ChangeState
value = 1080
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(1) = 3
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = P2BodyDist X = [-25,80]
triggerall = P2BodyDist Y+Floor(EnemyNear(var(55)),Vel Y * 9) > -125
triggerall = EnemyNear(var(55)),Vel Y >= 0
trigger1 = P2BodyDist Y+Floor(EnemyNear(var(55)),Vel Y * 9) > -100 || EnemyNear(var(55)),Vel Y >= 0
trigger1 = var(58) = 24
trigger2 = P2BodyDist Y+Floor(EnemyNear(var(55)),Vel Y * 9) = [-110,-45]
trigger2 = var(58) = 26 && Helper(15000+id),var(51) < 110
trigger3 = var(58) = 8
trigger3 = EnemyNear(var(55)),StateType = A

;---------------------------------------------------------------------------
;弱飛翔日輪斬
[State Scramble Dash]
type = ChangeState
value = 1200
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(58) = 25
triggerall = var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = P2BodyDist X < 50
triggerall = P2BodyDist X > -9 || Helper(15000+id),var(51) < 60
triggerall = Helper(15000+id),var(0) >= 5 || P2BodyDist Y+Floor(EnemyNear(var(55)),Vel Y * 8) > -80
trigger1 = EnemyNear(var(55)),Vel Y >= 0
trigger1 = P2BodyDist Y+Floor(EnemyNear(var(55)),Vel Y * 8) > -90

;---------------------------------------------------------------------------
;邪影拳2
[State Scramble Dash]
type = ChangeState
value = 1410
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = 3
triggerall = EnemyNear(var(55)),StateType = A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = P2BodyDist X = [-9,170]
triggerall = P2BodyDist Y+Floor(EnemyNear(var(55)),Vel Y * 9) > -106
triggerall = P2BodyDist Y+Floor(EnemyNear(var(55)),Vel Y * 9) > -97 || P2BodyDist X+Floor(EnemyNear(var(55)),Vel X * 9) > 71
triggerall = P2BodyDist Y+Floor(EnemyNear(var(55)),Vel Y * 9) > -88 || P2BodyDist X+Floor(EnemyNear(var(55)),Vel X * 9) > 62
triggerall = P2BodyDist Y+Floor(EnemyNear(var(55)),Vel Y * 9) > -79 || P2BodyDist X+Floor(EnemyNear(var(55)),Vel X * 9) > 53
triggerall = P2BodyDist Y+Floor(EnemyNear(var(55)),Vel Y * 9) > -70 || P2BodyDist X+Floor(EnemyNear(var(55)),Vel X * 9) > 44
trigger1 = Helper(15000+id),var(51) >= 160
trigger1 = EnemyNear(var(55)),Vel Y >= 0 ||(P2BodyDist Y+Floor(EnemyNear(var(55)),Vel Y * 9) > -106 && P2BodyDist X+Floor(EnemyNear(var(55)),Vel X * 9) > 62)
trigger1 = var(58) = 26 || var(58) = 28
trigger2 = Helper(15000+id),var(35) ||(power < 3000 && !var(20))|| Power < 1000
trigger2 = var(58) = 5

[State Scramble Dash]
type = ChangeState
value = 1410
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = 3
triggerall = EnemyNear(var(55)),StateType = A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = P2BodyDist X = [-9,170]
triggerall = P2BodyDist Y+Floor(EnemyNear(var(55)),Vel Y * 9) > -60
triggerall = P2BodyDist Y+Floor(EnemyNear(var(55)),Vel Y * 9) > -45 || P2BodyDist X > 60
trigger1 = Helper(15000+id),var(51) <= 160
trigger1 = EnemyNear(var(55)),Vel Y > 0
trigger1 = var(58) = 26 || var(58) = 28

;---------------------------------------------------------------------------
;邪影拳3
[State Scramble Dash]
type = ChangeState
value = ifelse(P2BodyDist X > 130 && var(58) = 29, 1010, 1420)
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = P2BodyDist X = [-15,170]
trigger1 = P2BodyDist Y > -110
trigger1 = var(1) = 3
trigger1 = var(58) = 23
trigger1 = Helper(15000+id),var(0) >= 5
trigger2 = Helper(15000+id),var(46) >= 5 || P2BodyDist X > 75
trigger2 = var(1) = 3
trigger2 = var(58) = 29
trigger3 = Power < 1000 && !var(20)
trigger3 = Helper(15000+id),var(0) >= 5 || var(1) = 2
trigger3 = var(58) = 7

;---------------------------------------------------------------------------
;邪影拳1
[State Scramble Dash]
type = ChangeState
value = 1400
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = 2 || var(1) = 3
triggerall = var(20) > 20
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = var(58) = 5

;---------------------------------------------------------------------------
;MAX2餓狼デッドリーレイブ
[State Twister Drive]
type =  ChangeState
value = 4300
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = (life <= 300 || var(1) = 3) || var(9) = 2
triggerall = power >= 3000 ||(Power >= 1000 && var(20))
triggerall = var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = var(58) = 5

;---------------------------------------------------------------------------
;阿修羅疾風拳 / レイジングストームRBSP
[State Twister Drive]
type = ChangeState
value = ifelse(power >= 3000 ||(Power >=1000 && var(20)),ifelse(Random < 500, 3802, 3800), 3030)
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = 2 || var(1) = 3
triggerall = power >= 1000 || var(20)
triggerall = power >= 3000 ||(Power >=1000 && var(20))|| P2BodyDist X < 70
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = var(58) = 5

;---------------------------------------------------------------------------
;潜在レイジングストーム / レイジングストームKOF98UM
[State Twister Drive]
type = ChangeState
value = ifelse(power >= 3000 ||(Power >=1000 && var(20)), 3900, 3010)
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = 0
triggerall = power >= 1000 || var(20)
triggerall = power >= 3000 ||(Power >=1000 && var(20))|| P2BodyDist X < 60
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = var(58) = 5

;---------------------------------------------------------------------------
;ダブル烈風拳KOF
[State Scramble Dash]
type = ChangeState
value = 1090
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = var(58) = 5

;---------------------------------------------------------------------------
;邪影拳1 / 邪影拳4
[State Scramble Dash]
type = ChangeState
value = ifelse(var(1) = 2, 1400, 1430)
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = [2,3]
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = var(58) = 21
trigger1 = var(1) = 2
trigger1 = P2BodyDist X > 30
trigger2 = P2BodyDist X > 50

;---------------------------------------------------------------------------
;近距離立ち強キック
[State -3, Standing Strong Kick]
type = ChangeState
value = 245
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = P2dist X <=55
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 =(var(58) = [1,2])|| var(58) = 16 || var(58) = 21
trigger1 = Helper(15000+id),var(48) > 7
trigger1 = P2BodyDist X <= 20 || Helper(15000+id),var(48) > 10
trigger2 = var(58) = 6 || var(58) = 11
trigger2 = (P2dist X <= 40 && var(1) != 3)|| P2BodyDist X < 10
trigger3 = var(58) = 11
trigger3 = Helper(15000+id),var(47) > 3
trigger3 = (P2dist X <= 40 && var(1) != 3)|| Helper(15000+id),var(47) > 7
trigger4 = P2dist X <= 48
trigger4 = var(58) = 14 || var(58) = 20
trigger5 = P2Bodydist X <= 5 || Helper(15000+id),var(45) > 9
trigger5 = var(58) = 22
trigger6 = Helper(15000+id),var(46) < 11
trigger6 = P2Bodydist X <= 5 || Helper(15000+id),var(46) < 7
trigger6 = var(58) = 27

;---------------------------------------------------------------------------
;しゃがみ強パンチ
[State -3, Crouching Strong Punch]
type = ChangeState
value = ifelse(var(1) = 3 && P2Dist X < 55, 245, 410)
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = P2Bodydist X <= 30
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = var(58) = 17

;---------------------------------------------------------------------------
;しゃがみ弱パンチ
[State -3, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = P2Bodydist X <= 47
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = var(58) = 17
trigger2 = Helper(15000+id),var(46) < 6
trigger2 = var(58) = 27

;---------------------------------------------------------------------------
;MAX2餓狼デッドリーレイブ
[State Twister Drive]
type =  ChangeState
value = 4300
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = (life <= 300 || var(1) = 3) || var(9) = 2
triggerall = power >= 3000 ||(Power >= 1000 && var(20))
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = var(58) = 14

;---------------------------------------------------------------------------
;遠距離立ち強キック
[State -3, Standing Strong Kick]
type = ChangeState
value = 240
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = P2dist X >55
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = var(58) = 14
trigger2 = var(58) = 22
trigger2 = Helper(15000+id),var(45) > 10

;---------------------------------------------------------------------------
;ダッシュ
[State -3, Run Fwd]
type = ChangeState
value = ifelse((P2BodyDist X < 20 && var(1) = 3)|| var(58) = 24, 18, 100)
ctrl = 0
triggerall = statetype != A
triggerall = ctrl ||(stateno = [18,19])
triggerall = alive
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = P2BodyDist X >= 3
trigger1 = EnemyNear(var(55)),StateType != A
trigger1 = var(20) || var(58) = 6 || var(58) = 11 || var(58) = 20 || var(58) = 21 || var(58) = 22 || var(58) = 27
trigger2 = P2BodyDist X >= 3
trigger2 = EnemyNear(var(55)),StateType = A
trigger2 = var(58) = 8 || var(58) = 25
trigger3 = P2BodyDist X >= 40
trigger3 = EnemyNear(var(55)),StateType = A
trigger3 = var(58) = 26
trigger4 = P2BodyDist X >= 20
trigger4 = EnemyNear(var(55)),StateType = A
trigger4 = var(58) = 24

;---------------------------------------------------------------------------
;空中ふっ飛ばし攻撃1
[State -3, Jump Strong Kick]
type = ChangeState
value = ifelse(var(1) = 0, 690, 695)
triggerall = statetype = A
triggerall = stateno != 106
triggerall = ctrl || (stateno = [100,101])
triggerall = var(59)
Triggerall = var(57) > 5 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
trigger1 = EnemyNear(var(55)),Movetype = H
trigger1 = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = var(58) = 7

;------------------------------------------------------------------------------
;前小ジャンプ
[State -3,ジャンプ]
Type     = ChangeState
Value    = ifelse(var(1) = 0, 35, 36)
triggerall = var(59)
Triggerall = var(57) > 5 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 2
triggerall = Random <= var(57)*100
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = EnemyNear(var(55)),StateType = A
triggerall = EnemyNear(var(55)),MoveType = H
trigger1 = power < 1000 && !var(20)
trigger1 = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = var(58) = 7

;---------------------------------------------------------------------------
;MAX羅生門
[State Twister Drive]
type = ChangeState
value = ifelse(Random <= 499, 3701, 3700)
triggerall = var(59)
Triggerall = var(57) > 5 && RoundState = 2
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = Random <= var(57)*100
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = power >= 3000 ||(var(20) && power >= 1000)
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),MoveType = H
trigger1 = P2BodyDist X < 23
trigger1 = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = var(58) = 13

;---------------------------------------------------------------------------
;羅生門
[State Twister Drive]
type = ChangeState
value = 3200
triggerall = var(59)
Triggerall = var(57) > 5 && RoundState = 2
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = Random <= var(57)*100
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = power >= 1000 || var(20)
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),MoveType = H
trigger1 = P2BodyDist X < 23
trigger1 = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = var(58) = 13

;------------------------------------------------------------------------------
;後方ジャンプ
[State -3,ジャンプ]
Type     = ChangeState
Value    = 37
triggerall = var(59)
Triggerall = var(57) > 5 && RoundState = 2
triggerall = Random <= var(57)*100
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
trigger1 = EnemyNear(var(55)),StateNo = [120,159]
trigger1 = Helper(15000+id),var(52) > 180
trigger1 = var(58) = 13 || var(58) = 22
trigger1 = var(58) := 51

;---------------------------------------------------------------------------
;真空投げ
[State Scramble Dash]
type = ChangeState
value = 1300
triggerall = var(59)
Triggerall = var(57) > 5 && RoundState = 2
triggerall = Random <= var(57)*100
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
trigger1 = P2BodyDist X < 22
trigger1 = var(58) = 13

;==============================================================================
;目押し(コンビネーション)
;裏雲隠し
[State Scramble Dash]
type = ChangeState
value = 1310
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 10 && RoundState = 2
triggerall = var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = P2BodyDist X < 23
triggerall = Helper(15000+id),var(52) < 250
triggerall = EnemyNear(var(55)),GethitVar(hitcount) <= 4
triggerall = !Helper(15000+id),var(44)
triggerall = movehit = 1
trigger1 = stateno = 245 && animelemtime(3) >= 1 && animelemtime(4) <0
trigger2 = var(20)
trigger2 = stateno = 450

;---------------------------------------------------------------------------
;邪影拳5・1~3P画面端＋ノーゲージ / 12P
[State Scramble Dash]
type = ChangeState
value = 1440
triggerall = statetype != A
triggerall = var(59)
triggerall = !var(58)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = P2bodyDist X = [-7,30]
triggerall = P2bodyDist Y > -40
triggerall =(Power < 2000 && !var(20))|| Helper(15000+id),var(35)
triggerall = movehit = 1
trigger1 = Helper(15000+id),var(51) < 200 || var(1) = 3
trigger1 = stateno = 245 && animelemtime(3) >= 1 && animelemtime(4) <0
trigger2 = var(1) = 3
trigger2 = stateno = 271 || stateno = 706
trigger2 = animelemtime(6) >= 1 && animelemtime(7) <0
trigger3 = var(1) = 3
trigger3 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger4 = var(1) = 3
trigger4 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger5 = var(1) = 3
trigger5 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0

;---------------------------------------------------------------------------
;雷光回し蹴り キャンセル版
[State -3, a]
type = ChangeState
value = ifelse(P2BodyDist X < 30 && var(1) != 0, 450, 271)
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 9 && RoundState = 2
triggerall = var(1) = 0 ||(var(1) = 1 &&(var(20)||(Power >= 2000 && Helper(15000+id),var(51) < 115)))|| var(1) = 2 || var(1) = 3
triggerall =(var(1) = [0,2])||((!Helper(15000+id),var(35) || Helper(15000+id),var(43))&& var(1) = 3)
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2bodyDist X <= 43
triggerall = movehit
triggerall = Helper(15000+id),var(51) < 100
triggerall = !var(20) || var(1) = 1
triggerall = power >= 2000
trigger1 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger2 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0

;---------------------------------------------------------------------------
;不動活殺裏拳 キャンセル版
[State -3, a]
type = ChangeState
value = 261
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 4 && RoundState = 2
triggerall = var(1) = 0 ||((var(1) = 2 || var(1) = 3)&& Helper(15000+id),var(51) < 85)
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2bodyDist X <= 40
triggerall = Helper(15000+id),var(51) < 100 || P2bodyDist X <= 5 || stateno = 245
triggerall = movehit
trigger1 = stateno = 205 && animelemtime(2) >= 1 && animelemtime(3) <0
trigger2 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger3 = stateno = 245 && animelemtime(3) >= 1 && animelemtime(4) <0
trigger4 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0

;---------------------------------------------------------------------------
;不動活殺裏拳 キャンセル版
[State -3, a]
type = ChangeState
value = 261
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 4 && RoundState = 2
triggerall = var(1) = 3
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2bodyDist X <= 40
triggerall = Helper(15000+id),var(51) < 100 || P2bodyDist X <= 36
triggerall = movehit
trigger1 = stateno = 235 && animelemtime(2) >= 1 && animelemtime(3) <0
trigger2 = stateno = 400 && animelemtime(3) >= 1 && animelemtime(4) <0

;---------------------------------------------------------------------------
;飛燕失脚2
[State -3, a]
type = ChangeState
value = 450
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 4 && RoundState = 2
triggerall = var(58) != 27
triggerall = var(20) ||(Power >= 2000 &&(Helper(15000+id),var(51) < 100 || var(1) != 1))
triggerall =(var(1) = [1,2])||((!Helper(15000+id),var(35) || Helper(15000+id),var(43))&& var(1) = 3)
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2bodyDist X = [-7,50]
triggerall = movehit
trigger1 = P2bodyDist X <= 25
trigger1 = !var(20) || var(1) = 1
trigger1 = stateno = 245 && animelemtime(3) >= 1 && animelemtime(4) <0
trigger2 = P2bodyDist X <= 25
trigger2 = !var(20) || var(1) = 1
trigger2 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger3 = P2bodyDist X <= 25
trigger3 = !var(20) || var(1) = 1
trigger3 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0
trigger4 = var(57) > 8
trigger4 = var(20) > 0 || Power >= 2000
trigger4 = var(20) > 160 || var(1) != 1 || !var(20)
trigger4 = stateno = 205 || stateno = 235
trigger4 = animelemtime(2) >= 1 && animelemtime(3) <0
trigger5 = var(57) > 8
trigger5 = var(20) > 0 || Power >= 2000
trigger5 = var(20) > 160 || var(1) != 1 || !var(20)
trigger5 = stateno = 400 && animelemtime(3) >= 1 && animelemtime(4) <0

;---------------------------------------------------------------------------
;雷光回し蹴り キャンセル版
[State -3, a]
type = ChangeState
value = 271
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 4 && RoundState = 2
triggerall = var(1) = 0 ||(var(1) = 1 &&(var(20)||(Power >= 2000 && Helper(15000+id),var(51) < 115)))|| var(1) = 2 || var(1) = 3
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2bodyDist X <= 43
triggerall = movehit
trigger1 = stateno = 245 && animelemtime(3) >= 1 && animelemtime(4) <0
trigger2 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger3 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0

;---------------------------------------------------------------------------
;しゃがみ弱パンチ
[State -3, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2bodyDist X <= 24
triggerall = movecontact
trigger1 = stateno = 200 || stateno = 205 || stateno = 235 || stateno = 430
trigger1 = animelem = 2,>=1
trigger2 = stateno = 400
trigger2 = animelem = 3,>=1

;==============================================================================
;空中目押し(コンビネーション)
;強疾風拳
[State Glider Stomp]
type = ChangeState
value = 1101
triggerall = statetype = A
triggerall = var(59)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = !var(58)
triggerall = !var(7)
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),StateType = A ||(EnemyNear(var(55)),StateNo = [120,159])
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
triggerall = P2BodyDist X < 60
triggerall = P2BodyDist Y > -50
triggerall = Pos Y < -5
triggerall = Pos Y < -30 || Vel Y <= 0
trigger1 = stateno = 600 || stateno = 605 || stateno = 610 || stateno = 612
trigger1 = animelemtime(3) >= 1 && animelemtime(4) <0
trigger1 = moveguarded
trigger2 = stateno = 695 && animelemtime(2) >= 1 && animelemtime(3) <0
trigger2 = movecontact
trigger3 = stateno = 252 && moveguarded = 1

;---------------------------------------------------------------------------
;強ダブル疾風拳KOF
[State Glider Stomp]
type = ChangeState
value = 1161
triggerall = statetype = A
triggerall = var(59)
triggerall = var(57) >= 10 && RoundState = 2
triggerall = var(1) = 2 || var(1) = 3
triggerall = !var(58) || var(58) = [51,59]
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
triggerall = EnemyNear(var(55)),StateType = A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = Vel X >= 0
trigger1 = stateno = 600 || stateno = 605 || stateno = 610 || stateno = 612
trigger1 = animelemtime(3) >= 1 && animelemtime(4) <0
trigger2 = stateno = 690 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger3 = stateno = 695 && animelemtime(2) >= 1 && animelemtime(3) <0

;---------------------------------------------------------------------------
;弱ダブル疾風拳
[State Glider Stomp]
type = ChangeState
value = ifelse(var(1) != 1 && Random < 500 , 1160, 1150)
triggerall = statetype = A
triggerall = var(59)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
triggerall = !(ProjHitTime(3651) != -1 && ProjHitTime(3651) <= 25)
trigger1 = stateno = 252 && movehit = 1
trigger2 = EnemyNear(var(55)),StateType != A
trigger2 = Vel X >= 0
trigger2 = stateno = 600 || stateno = 605 || stateno = 610 || stateno = 612
trigger2 = animelemtime(3) >= 1 && animelemtime(4) <0
trigger2 = movehit

;---------------------------------------------------------------------------
;強ダブル疾風拳
[State Glider Stomp DC]
type = ChangeState
value = 1151
triggerall = statetype = A
triggerall = var(59)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = !var(58) || var(58) = [51,59]
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
trigger1 = var(20) > 0
trigger1 = stateno = 250 && moveguarded = 1
trigger2 = Vel X <= 0
trigger2 = stateno = 1161 && animelemtime(8) >= 5 && var(5) = 0 && var(1) >= 2
trigger2 = EnemyNear(var(55)),StateNo = [120,159]
trigger3 = stateno = 1151 && animelemtime(6) >= 1 && var(5) = 0 && var(1) >= 1
trigger4 = EnemyNear(var(55)),StateType != A
trigger4 = Vel X >= 0
trigger4 = stateno = 600 || stateno = 605 || stateno = 610 || stateno = 612
trigger4 = animelemtime(3) >= 1 && animelemtime(4) <0
trigger4 = moveguarded
trigger5 = stateno = 695 && animelemtime(2) >= 1 && animelemtime(3) <0
trigger5 = moveguarded
trigger6 = var(57) >= 8
trigger6 = var(20)
trigger6 = Helper(15000+id),var(52) >= 200 || var(1) = 3
trigger6 = (stateno = [600,695])
trigger6 = moveguarded

;---------------------------------------------------------------------------
;強疾風拳KOF
[State Glider Stomp]
type = ChangeState
value = 1121
triggerall = statetype = A
triggerall = var(59)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = !var(58)
triggerall = !var(7)
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),StateType = A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
triggerall = P2BodyDist X < 60
triggerall = P2BodyDist Y > -50
triggerall = Pos Y < -35
triggerall = Pos Y < -60 || Vel Y < 0
triggerall = movehit
trigger1 = stateno = 600 || stateno = 605 || stateno = 610 || stateno = 612
trigger1 = animelemtime(3) >= 1 && animelemtime(4) <0
trigger2 = stateno = 690 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger3 = stateno = 695 && animelemtime(2) >= 1 && animelemtime(3) <0
trigger4 = var(20) > 0
trigger4 = (stateno = [600,695])

;---------------------------------------------------------------------------
;弱疾風拳
[State Glider Stomp]
type = ChangeState
value = 1100
triggerall = statetype = A
triggerall = var(59)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = !var(58)
triggerall = !var(7)
triggerall = var(1) = 1 || var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
triggerall = P2BodyDist X < 110
trigger1 = stateno = 252 && movehit = 1

;---------------------------------------------------------------------------
;弱疾風拳KOF
[State Glider Stomp]
type = ChangeState
value = 1120
triggerall = statetype = A
triggerall = var(59)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = !var(58)
triggerall = !var(7)
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
triggerall = Helper(15000+id),var(51) < 90 || P2BodyDist X > 40
triggerall = P2BodyDist X < 110
triggerall = P2BodyDist Y > -50
triggerall = Pos Y < -35
triggerall = Pos Y < -60 || Vel Y < 0
triggerall = movehit
trigger1 = stateno = 600 || stateno = 605 || stateno = 610 || stateno = 612
trigger1 = animelemtime(3) >= 1 && animelemtime(4) <0
trigger2 = stateno = 690 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger3 = stateno = 695 && animelemtime(2) >= 1 && animelemtime(3) <0
trigger4 = var(20) > 0
trigger4 = (stateno = [600,695])
trigger5 = stateno = 252 && movecontact = 1

;==============================================================================
;連続技・SC・どこキャン用
;邪影拳5・どこキャン10~12P
[State Hunting Air DC]
type = ChangeState
value = 1440
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 5 && RoundState = 2
triggerall = !var(58)
triggerall = var(20) > 0
triggerall = var(20) > 160 || power < 3000 ||(Power < 1000 && !var(20))
triggerall = var(1) = 3
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2bodydist X <= 40
triggerall = P2bodydist X <= 32 || EnemyNear(var(55)),BackEdgeBodyDist < 20 || Helper(15000+id),var(51) < 90
triggerall = movehit ||(((stateno = [1401,1402])||(stateno = [1411,1412]))&& var(5) = 1)
trigger1 =(stateno = [210,211])|| stateno = 240
trigger2 = stateno = 260 || stateno = 270 || stateno = 450 || stateno = 751 
trigger2 = movehit = 1
trigger3 = stateno = 245 && animelemtime(4) >= 1
trigger4 = stateno = 1521 || stateno = 1541
trigger5 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger6 = stateno = 245 && animelemtime(3) >= 1 && animelemtime(4) <0
trigger7 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0
trigger8 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger9 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0 && !(var(1) = 1 && var(20) = 0)
trigger10= stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger11 = (stateno = [1401,1402])||(stateno = [1411,1412])
trigger11 = var(5) = 1

;---------------------------------------------------------------------------
;邪影拳4・どこでもキャンセル
[State Hunting Air DC]
type = ChangeState
value = 1430
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 5 && RoundState = 2
triggerall = !var(58)
triggerall = var(20) > 170
triggerall = var(20) > 330 || P2bodydist X > 20 ||(stateno = [200,799])
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2bodydist X <= 45
triggerall = P2bodydist X <= 36 || EnemyNear(var(55)),BackEdgeBodyDist < 20 || Helper(15000+id),var(51) < 90
triggerall = movehit ||(((stateno = [1401,1402])||(stateno = [1411,1412]))&& var(5) = 1)
trigger1 =(stateno = [210,211])|| stateno = 240
trigger2 = stateno = 260 || stateno = 270 || stateno = 450 || stateno = 751 
trigger2 = movehit = 1
trigger3 = stateno = 245 && animelemtime(4) >= 1
trigger4 = var(20) > 330
trigger4 = stateno = 1521 || stateno = 1541
trigger5 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger6 = stateno = 245 && animelemtime(3) >= 1 && animelemtime(4) <0
trigger7 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0
trigger8 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger9 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0 && !(var(1) = 1 && var(20) = 0)
trigger10= stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger11 = (stateno = [1401,1402])||(stateno = [1411,1412])
trigger11 = var(5) = 1

;---------------------------------------------------------------------------
;邪影拳2・どこでもキャンセル
[State Hunting Air DC]
type = ChangeState
value = 1410
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = !var(58)
triggerall = var(20) > 30 ||(var(1) = 3 && (power < 3000 ||(Power < 1000 && !var(20))))
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2bodydist X <= 45
triggerall = P2bodydist X <= 36 || EnemyNear(var(55)),BackEdgeBodyDist < 20 || Helper(15000+id),var(51) < 90
triggerall = movehit
trigger1 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger2 = stateno = 245 && animelemtime(3) >= 1 && animelemtime(4) <0
trigger3 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger4 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0
trigger5 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0
trigger6 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger7 = var(20) > 170 ||(var(1) = 3 && var(20) > 30)
trigger7 =(stateno = [210,211])|| stateno = 240
trigger8 = var(20) > 170 ||(var(1) = 3 && var(20) > 30)
trigger8 = stateno = 260 || stateno = 270 || stateno = 450 || stateno = 751 
trigger8 = movehit = 1
trigger9 = var(20) > 170 ||(var(1) = 3 && var(20) > 30)
trigger9 = stateno = 245 && animelemtime(4) >= 1
trigger10= var(20) > 170 ||(var(1) = 3 && var(20) > 30)
trigger10= stateno = 1431 || stateno = 1441
trigger10= animelemtime(6) >= 1 && animelemtime(8) <0

;---------------------------------------------------------------------------
;邪影拳1・どこでもキャンセル
[State Hunting Air DC]
type = ChangeState
value = 1400
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = !var(58)
triggerall = var(20) > 30
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2bodydist X <= 85
triggerall = P2bodydist X <= 75 || EnemyNear(var(55)),BackEdgeBodyDist < 20 || Helper(15000+id),var(51) < 90
triggerall = movehit
trigger1 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger2 = stateno = 245 && animelemtime(3) >= 1 && animelemtime(4) <0
trigger3 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger4 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0
trigger5 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0
trigger6 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger7 = var(20) > 170
trigger7 =(stateno = [210,211])|| stateno = 240
trigger8 = var(20) > 170 ||(var(1) = 3 && var(20) > 30)
trigger8 = stateno = 260 || stateno = 270 || stateno = 450 || stateno = 751 
trigger8 = movehit = 1
trigger9 = var(20) > 170
trigger9 = stateno = 245 && animelemtime(4) >= 1
trigger10= P2bodydist X <= 16
trigger10= stateno = 205 || stateno = 235
trigger10= animelemtime(2) >= 1 && animelemtime(3) <0
trigger11= P2bodydist X <= 18
trigger11= stateno = 400 && animelemtime(3) >= 1 && animelemtime(4) <0
trigger11= var(20) > 170
trigger11= stateno = 1431 || stateno = 1441
trigger11= animelemtime(6) >= 1 && animelemtime(8) <0

;---------------------------------------------------------------------------
;弱飛翔日輪斬・どこでもキャンセル
[State Hunting Air DC]
type = ChangeState
value = 1200
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 4 && RoundState = 2
triggerall = !var(58)
triggerall = var(20) > 170
triggerall = var(20) > 330 ||(stateno = [200,799])
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A || !var(7)
triggerall = EnemyNear(var(55)),StateType != A ||(EnemyNear(var(55)),StateType = A &&(stateno != [200,799]))
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2bodydist X <= 32
triggerall = P2bodydist X <= 27 || EnemyNear(var(55)),BackEdgeBodyDist < 20 || Helper(15000+id),var(51) < 90
triggerall = P2bodydist Y > -70
triggerall = movehit = 1
trigger1 = stateno = 200 ||(stateno = [210,211])|| stateno = 230 || stateno = 240 || stateno = 260 || stateno = 270 || stateno = 430 || stateno = 751
trigger2 = stateno = 245 && animelemtime(4) >= 1
trigger3 = (stateno = [1200,1205])||(stateno = [1250,1265])
trigger3 = P2bodydist Y > -40
trigger4 = P2bodydist X <= 5
trigger4 = stateno = 1431
trigger4 = ((animelemtime(6) >= 1 && animelemtime(8) <0)&&var(20) < 190)|| animelemtime(10) >= 1
trigger4 = animelemtime(11) <0
trigger5 = P2bodydist X <= 5
trigger5 = stateno = 1441
trigger5 = ((animelemtime(6) >= 1 && animelemtime(8) <0)&&var(20) < 190)|| animelemtime(11) >= 1
trigger5 = animelemtime(12) <0
trigger6 = P2bodydist X <= 15
trigger6 = var(20) > 330
trigger6 = stateno = 1541 && movecontact = 1
trigger7 = stateno = 205 ||  stateno = 235
trigger7 = animelemtime(2) >= 1 && animelemtime(3) <0
trigger8 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger9 = stateno = 245 || stateno = 400
trigger9 = animelemtime(3) >= 1 && animelemtime(4) <0
trigger10= stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0
trigger11= stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger12= stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0 && !(var(1) = 1 && var(20) = 0)
trigger13= stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger14 = EnemyNear(var(55)),StateType = A
trigger14 = stateno = 1401 || stateno = 1411

;---------------------------------------------------------------------------
;烈風拳KOF・どこでもキャンセル
[State Hunting Air DC]
type = ChangeState
value = ifelse(stateno = 261 , 1430, 1080)
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 4 && RoundState = 2
triggerall = !var(58)
triggerall = var(20) > 10
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A || !var(7)
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2bodydist Y > -80
triggerall = P2bodydist X <= 50
triggerall = P2bodydist X <= 56 || EnemyNear(var(55)),BackEdgeBodyDist < 20 || Helper(15000+id),var(51) < 90
triggerall = movehit = 1
trigger1 = stateno = 200 ||(stateno = [210,211])|| stateno = 230 || stateno = 240 || stateno = 260 || stateno = 270 || stateno = 430 || stateno = 751
trigger2 = stateno = 245 && animelemtime(4) >= 1
trigger3 = var(20) > 170
trigger3 = (stateno = [1200,1205])||(stateno = [1250,1265])
trigger3 = P2bodydist Y > -40
trigger4 = var(20) > 170
trigger4 = stateno = 1431
trigger4 = ((animelemtime(6) >= 1 && animelemtime(8) <0)&&var(20) < 190)|| animelemtime(10) >= 1
trigger4 = animelemtime(11) <0
trigger5 = var(20) > 170
trigger5 = stateno = 1441
trigger5 = ((animelemtime(6) >= 1 && animelemtime(8) <0)&&var(20) < 190)|| animelemtime(11) >= 1
trigger5 = animelemtime(12) <0
trigger6 = var(20) > 170
trigger6 = stateno = 1541 && movecontact = 1
trigger7 = var(49)
trigger7 = stateno = 291 || stateno = 299
trigger8 = stateno = 205 ||  stateno = 235
trigger8 = animelemtime(2) >= 1 && animelemtime(3) <0
trigger9 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger10= stateno = 245 || stateno = 400
trigger10= animelemtime(3) >= 1 && animelemtime(4) <0
trigger11= stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0
trigger12= stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger13= stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0 && !(var(1) = 1 && var(20) = 0)
trigger14= stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger15 = EnemyNear(var(55)),StateType = A
trigger15 = stateno = 1401 || stateno = 1411

;---------------------------------------------------------------------------
;弱疾風拳KOF・どこでもキャンセル
[State Glider Stomp DC]
type = ChangeState
value = 1120
triggerall = statetype = A
triggerall = var(59)
triggerall = var(57) >= 4 && RoundState = 2
triggerall = var(58) != 2
triggerall = var(20) > 0
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2bodydist X <= 50
triggerall = movehit
trigger1 = (stateno = [1200,1205])||(stateno = [1250,1265])
trigger1 = time > 18
trigger1 = EnemyNear(var(55)),Vel Y >= 0
trigger1 = Helper(15000+id),var(51) < 120
trigger1 = var(58) := 4

;==============================================================================
;連続技・超必用
;レイジング祭り
[State Twister Drive]
type = ChangeState
value = 4400
triggerall = statetype != A
triggerall = var(59)
triggerall = !var(58)
triggerall = var(57) >= 10 && RoundState = 2
triggerall = life <= 300 || var(9) = 2
triggerall = var(1) = 3
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A || !var(7)
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = power >= 5000||(var(20) > 0 && Power >= 4000)
triggerall = P2bodyDist X = [-40,40]
triggerall = movehit
trigger1 = stateno = 215 && animelemtime(4) >= 1
trigger1 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger2 = stateno = 245 && animelemtime(3) >= 1
trigger2 = animelemtime(4) <0 ||(var(20)&& movehit = 1)
trigger3 = stateno = 410 && animelemtime(3) >= 1
trigger3 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger4 = Helper(15000+id),var(51) > 120 && Helper(15000+id),var(51) < 60
trigger4 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(7) <0
trigger5 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0
trigger5 = var(1) != 1 || var(20) > 0
trigger6 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger6 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 10
trigger7 = stateno = 1080 && movehit = 1
trigger7 = power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger7 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 15
trigger8 = (stateno = [1200,1205]) && movehit = 1
trigger8 = power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger8 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 15
trigger9 = (stateno = [1250,1265]) && movehit = 1
trigger9 = power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger9 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 15
trigger10= stateno = 1401 && movehit = 1
trigger10= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger10= Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 5
trigger11= stateno = 1431 && movehit && animelemtime(10) >= 1 && animelemtime(11) <0
trigger11= P2BodyDist X < 30
trigger11= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger11= Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25
trigger12= stateno = 1441 && movehit && animelemtime(11) >= 1 && animelemtime(12) <0
trigger12= P2BodyDist X < 30
trigger12= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger12= Helper(15000+id),var(51) >= 120 && P2BodyDist X < 5
trigger13= stateno = 1541 && movehit = 1
trigger13= (Power >= 1000 && var(20) > 0)
trigger13= Helper(15000+id),var(51) >= 120 && P2BodyDist X < 5
trigger14= var(20) > 0
trigger14= stateno = 270 || stateno = 450
trigger14= movehit = 1
trigger14= Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 5
trigger15= var(20) > 0
trigger15= stateno = 210 ||(stateno = 211 && time > 10)|| stateno = 240 || stateno = 260 || stateno = 751
trigger15= movehit = 1
trigger15= Helper(15000+id),var(51) < 130 || EnemyNear(var(55)),BackEdgeBodyDist < 25

;---------------------------------------------------------------------------
;MAX2餓狼デッドリーレイブ
[State Twister Drive]
type = ChangeState
value = 4300
triggerall = statetype != A
triggerall = var(59)
triggerall = !var(58)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = (life <= 300 || var(1) = 3) || var(9) = 2
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = power >= 3000 ||(Power >= 1000 && var(20) > 0)
triggerall = P2bodyDist X = [-8,160]
triggerall = movehit ||(((stateno = [1401,1402])||(stateno = [1411,1412]))&& var(5) = 1)
trigger1 = stateno = 205 || stateno = 235
trigger1 =(animelemtime(2) >= 1 && animelemtime(3) <0)||(var(20)&& movehit = 1)
trigger2 = stateno = 215 && animelemtime(4) >= 1
trigger2 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger3 = stateno = 245 || stateno = 400
trigger3 =(animelemtime(3) >= 1 && animelemtime(4) <0)||(var(20)&& movehit = 1)
trigger4 = stateno = 410 && animelemtime(3) >= 1
trigger4 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger5 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger6 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0
trigger6 = (var(1) != 1 || var(20) > 0)
trigger7 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger8 = (stateno = [1401,1402])||(stateno = [1411,1412])
trigger8 = var(5) = 1
trigger8 = power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger9 = stateno = 1431 || stateno = 1441
trigger9 = animelemtime(6) >= 1 && animelemtime(8) <0
trigger9 = power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger10= stateno = 1541 && movehit = 1
trigger10= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger11= var(20) > 0
trigger11= stateno = 210 ||(stateno = 211 && time > 10)|| stateno = 240 || stateno = 260 || stateno = 270 || stateno = 450 || stateno = 751
trigger11= movehit = 1

;---------------------------------------------------------------------------
;サンダーブレイクKOF
[State Twister Drive]
type = ChangeState
value = 4000
triggerall = statetype != A
triggerall = var(59)
triggerall = !var(58)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = (life <= 300 || var(1) = 3) || var(9) = 2
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = var(57) < 9 || var(1) != 3
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A || !var(7)
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = power >= 3000 ||(Power >= 1000 && var(20) > 0)
triggerall = P2bodyDist X = [-40,30]
triggerall = movehit
trigger1 = stateno = 215 && animelemtime(4) >= 1
trigger1 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger2 = stateno = 245 && animelemtime(3) >= 1
trigger2 = animelemtime(4) <0 ||(var(20)&& movehit = 1)
trigger3 = stateno = 410 && animelemtime(3) >= 1
trigger3 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger4 = Helper(15000+id),var(51) > 120 && Helper(15000+id),var(51) < 60
trigger4 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(7) <0
trigger5 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0
trigger5 = var(1) != 1 || var(20) > 0
trigger6 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger6 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 10
trigger7 = stateno = 1080 && movehit = 1
trigger7 = power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger7 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 15
trigger8 = (stateno = [1200,1205]) && movehit = 1
trigger8 = power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger8 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 15
trigger9 = (stateno = [1250,1265]) && movehit = 1
trigger9 = power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger9 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 15
trigger10= stateno = 1401 && movehit = 1
trigger10= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger10= Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 5
trigger11= stateno = 1431 && movehit && animelemtime(10) >= 1 && animelemtime(11) <0
trigger11= P2BodyDist X < 30
trigger11= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger11= Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25
trigger12= stateno = 1441 && movehit && animelemtime(11) >= 1 && animelemtime(12) <0
trigger12= P2BodyDist X < 30
trigger12= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger12= Helper(15000+id),var(51) >= 120 && P2BodyDist X < 5
trigger13= stateno = 1541 && movehit = 1
trigger13= (Power >= 1000 && var(20) > 0)
trigger13= Helper(15000+id),var(51) >= 120 && P2BodyDist X < 5
trigger14= var(20) > 0
trigger14= stateno = 270 || stateno = 450
trigger14= movehit = 1
trigger14= Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 5
trigger15= var(20) > 0
trigger15= stateno = 210 ||(stateno = 211 && time > 10)|| stateno = 240 || stateno = 260 || stateno = 751
trigger15= movehit = 1
trigger15= Helper(15000+id),var(51) < 130 || EnemyNear(var(55)),BackEdgeBodyDist < 25

;---------------------------------------------------------------------------
;4~6P MAX超必殺技〆
[State Twister Drive]
type = ChangeState
value = ifelse(Random < 300 ,ifelse(Random <= 499, 3800, 3802),ifelse(Random < 500, 3510,ifelse(Random <= 499, 3701, 3700)))
triggerall = statetype != A
triggerall = var(59)
triggerall = !var(58)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = var(1) = 1
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = power >= 3000 ||(Power >= 1000 && var(20) > 0)
triggerall = P2bodyDist X = [-8,40]
triggerall = P2bodyDist X < 18 || var(1) = 3
triggerall = movehit ||(((stateno = [1401,1402])||(stateno = [1411,1412]))&& var(5) = 1)
trigger1 = stateno = 205 || stateno = 235
trigger1 =(animelemtime(2) >= 1 && animelemtime(3) <0)||(var(20)&& movehit = 1)
trigger2 = stateno = 215 && animelemtime(4) >= 1
trigger2 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger3 = stateno = 245 || stateno = 400
trigger3 =(animelemtime(3) >= 1 && animelemtime(4) <0)||(var(20)&& movehit = 1)
trigger4 = stateno = 410 && animelemtime(3) >= 1
trigger4 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger5 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger6 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0
trigger6 = (var(1) != 1 || var(20) > 0)
trigger7 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger8 = (stateno = [1401,1402])||(stateno = [1411,1412])
trigger8 = var(5) = 1
trigger8 = power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger9 = stateno = 1431 || stateno = 1441
trigger9 = animelemtime(6) >= 1 && animelemtime(8) <0
trigger9 = power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger10= stateno = 1521 && movehit = 1
trigger10= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger11= var(20) > 0
trigger11= stateno = 450
trigger11= movehit = 1

;---------------------------------------------------------------------------
;MAXレイジングストームKOF
[State Twister Drive]
type = ChangeState
value = 3500
triggerall = statetype != A
triggerall = var(59)
triggerall = !var(58)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = var(57) < 9 || var(1) != 3
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A ||(!var(7) &&(stateno != [200,499]))
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = power >= 3000 ||(Power >= 1000 && var(20) > 0)
triggerall = P2bodyDist X = [-50,38]
triggerall = movehit ||(stateno = 1411 && var(5) = 1)
trigger1 = stateno = 205 || stateno = 235
trigger1 =(animelemtime(2) >= 1 && animelemtime(3) <0)||(var(20)&& movehit = 1)
trigger2 = stateno = 215 && animelemtime(4) >= 1
trigger2 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger3 = stateno = 245 || stateno = 400
trigger3 =(animelemtime(3) >= 1 && animelemtime(4) <0)||(var(20)&& movehit = 1)
trigger4 = stateno = 410 && animelemtime(3) >= 1
trigger4 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger5 = Helper(15000+id),var(51) > 120 && Helper(15000+id),var(51) < 60
trigger5 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger6 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0
trigger6 = (var(1) != 1 || var(20) > 0)
trigger7 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger8 = stateno = 1080 && movehit = 1
trigger8 = power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger8 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 15
trigger9 = (stateno = [1200,1205]) && movehit = 1
trigger9 = power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger9 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 15
trigger10= (stateno = [1250,1265]) && movehit = 1
trigger10= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger10= Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 15
trigger11= stateno = 1401 && movehit = 1
trigger11= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger11= Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 5
trigger12= stateno = 1431 && movehit && animelemtime(10) >= 1 && animelemtime(11) <0
trigger12= P2BodyDist X < 30
trigger12= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger12= Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25
trigger13= stateno = 1441 && movehit && animelemtime(11) >= 1 && animelemtime(12) <0
trigger13= P2BodyDist X < 30
trigger13= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger13= Helper(15000+id),var(51) >= 120 && P2BodyDist X < 5
trigger14= var(1) = 1
trigger14= stateno = 1521 && movehit = 1
trigger14= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger14= Helper(15000+id),var(51) >= 180 && P2BodyDist X < 5
trigger15= var(20) > 0
trigger15= stateno = 270 || stateno = 450
trigger15= movehit = 1
trigger15= Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 15
trigger16= !var(7)
trigger16= var(20) > 0
trigger16= stateno = 210 ||(stateno = 211 && time > 10)|| stateno = 240 || stateno = 260 || stateno = 291 || stateno = 299 || stateno = 751
trigger16= movehit = 1
trigger16= Helper(15000+id),var(51) < 130 || EnemyNear(var(55)),BackEdgeBodyDist < 25

;---------------------------------------------------------------------------
;MAXレイジングストーム餓狼
[State Twister Drive]
type = ChangeState
value = 3510
triggerall = statetype != A
triggerall = var(59)
triggerall = !var(58)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = var(57) < 9 || var(1) != 3
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A ||(!var(7) &&(stateno != [200,499]))
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = power >= 3000 ||(Power >= 1000 && var(20) > 0)
triggerall = P2bodyDist X = [-20,63]
triggerall = movehit ||(stateno = 1411 && var(5) = 1)
trigger1 = stateno = 205 || stateno = 235
trigger1 =(animelemtime(2) >= 1 && animelemtime(3) <0)||(var(20)&& movehit = 1)
trigger2 = stateno = 215 && animelemtime(4) >= 1
trigger2 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger3 = stateno = 245 || stateno = 400
trigger3 =(animelemtime(3) >= 1 && animelemtime(4) <0)||(var(20)&& movehit = 1)
trigger4 = stateno = 410 && animelemtime(3) >= 1
trigger4 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger5 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger6 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0
trigger6 = (var(1) != 1 || var(20) > 0)
trigger7 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger8 = stateno = 1080 && movehit = 1
trigger8 = power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger8 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 30
trigger9 = (stateno = [1200,1205]) && movehit = 1
trigger9 = power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger9 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 30
trigger10= (stateno = [1250,1265]) && movehit = 1
trigger10= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger10= Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 30
trigger11= stateno = 1401 && movehit = 1
trigger11= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger11= Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 20
trigger12= stateno = 1431 && movehit && animelemtime(10) >= 1 && animelemtime(11) <0
trigger12= P2BodyDist X < 45
trigger12= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger12= Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25
trigger13= stateno = 1441 && movehit && animelemtime(11) >= 1 && animelemtime(12) <0
trigger13= P2BodyDist X < 45
trigger13= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger13= Helper(15000+id),var(51) >= 120 && P2BodyDist X < 5
trigger14= var(20) > 0
trigger14= stateno = 270 || stateno = 450
trigger14= movehit = 1
trigger14= Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 30
trigger15= !var(7)
trigger15= var(20) > 0
trigger15= stateno = 210 ||(stateno = 211 && time > 10)|| stateno = 240 || stateno = 260 || stateno = 291 || stateno = 299 || stateno = 751
trigger15= movehit = 1
trigger15= Helper(15000+id),var(51) < 130 || EnemyNear(var(55)),BackEdgeBodyDist < 25
trigger16= stateno = 1411 && var(5) = 1
trigger16= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger16= Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 35

;---------------------------------------------------------------------------
;潜在レイジングストーム
[State Twister Drive]
type = ChangeState
value = 3900
triggerall = statetype != A
triggerall = var(59)
triggerall = !var(58)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = var(57) < 9 || var(1) != 3
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = power >= 3000 ||(Power >= 1000 && var(20) > 0)
triggerall = P2bodyDist X = [-5,74]
triggerall = movehit ||(((stateno = [1401,1402])||(stateno = [1411,1412]))&& var(5) = 1)
trigger1 = stateno = 215 && animelemtime(4) >= 1
trigger1 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger2 = stateno = 245 && animelemtime(3) >= 1
trigger2 = animelemtime(4) <0 ||(var(20)&& movehit = 1)
trigger3 = stateno = 410 && animelemtime(3) >= 1
trigger3 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger4 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(7) <0
trigger5 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0
trigger5 = (var(1) != 1 || var(20) > 0)
trigger6 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger7 = stateno = 205 || stateno = 235
trigger7 = (animelemtime(2) >= 1 && animelemtime(3) <0)||(var(20)&& movehit = 1)
trigger8 = stateno = 400 && animelemtime(3) >= 1
trigger8 = animelemtime(4) <0 ||(var(20)&& movehit = 1)
trigger9 = stateno = 1401 && var(5) = 1
trigger9 = power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger10= stateno = 1431 || stateno = 1441
trigger10= animelemtime(6) >= 1 && animelemtime(8) <0
trigger10= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger10= Helper(15000+id),var(51) >= 200 && EnemyNear(var(55)),Life < 250
trigger11= var(1) = 0
trigger11= stateno = 1521 && movehit = 1
trigger11= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger11= Helper(15000+id),var(51) >= 180 && P2BodyDist X < 25
trigger12= var(20) > 0
trigger12= stateno = 210 ||(stateno = 211 && time > 10)|| stateno = 240 || stateno = 260 || stateno = 270 || stateno = 450 || stateno = 751
trigger12= movehit = 1
trigger13= stateno = 1411 && var(5) = 1
trigger13= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger13= Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 35

;---------------------------------------------------------------------------
;阿修羅疾風拳
[State Twister Drive]
type = ChangeState
value = ifelse(Random <= 499, 3800, 3802)
triggerall = statetype != A
triggerall = var(59)
triggerall = !var(58)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = var(57) < 9 || var(1) != 3 || EnemyNear(var(55)),Life < 200
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A ||(!var(7) &&(stateno != [200,499]))
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = power >= 3000 ||(Power >= 1000 && var(20) > 0)
triggerall = P2bodyDist X = [-5,74]
triggerall = P2bodyDist Y > -45
triggerall = movehit ||(((stateno = [1401,1402])||(stateno = [1411,1412]))&& var(5) = 1)
trigger1 = stateno = 205 || stateno = 235
trigger1 =(animelemtime(2) >= 1 && animelemtime(3) <0)||(var(20)&& movehit = 1)
trigger2 = stateno = 215 && animelemtime(4) >= 1
trigger2 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger3 = stateno = 245 || stateno = 400
trigger3 =(animelemtime(3) >= 1 && animelemtime(4) <0)||(var(20)&& movehit = 1)
trigger4 = stateno = 410 && animelemtime(3) >= 1
trigger4 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger5 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger6 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0
trigger6 = (var(1) != 1 || var(20) > 0)
trigger7 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger8 = stateno = 1080 && movehit = 1
trigger8 = power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger9 = (stateno = [1200,1205]) && movehit = 1
trigger9 = power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger10= (stateno = [1250,1265]) && movehit = 1
trigger10= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger11= stateno = 1401 && movehit = 1
trigger11= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger12= stateno = 1431 && movehit && animelemtime(10) >= 1 && animelemtime(11) <0
trigger12= P2BodyDist X < 45
trigger12= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger13= stateno = 1441 && movehit && animelemtime(11) >= 1 && animelemtime(12) <0
trigger13= P2BodyDist X < 45
trigger13= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger14= stateno = 1541 && movehit = 1
trigger14= (Power >= 1000 && var(20) > 0)
trigger14= Helper(15000+id),var(51) >= 120 && P2BodyDist X < 25
trigger15= var(20) > 0
trigger15= stateno = 270 || stateno = 450
trigger15= movehit = 1
trigger16= !var(7)
trigger16= var(20) > 0
trigger16= stateno = 210 ||(stateno = 211 && time > 10)|| stateno = 240 || stateno = 260 || stateno = 291 || stateno = 299 || stateno = 751
trigger16= movehit = 1
trigger17= stateno = 1411 && var(5) = 1
trigger17= power >= 4000 ||(Power >= 1000 && var(20) > 0)

;---------------------------------------------------------------------------
;MAXデッドリーレイブKOF
[State Twister Drive]
type = ChangeState
value = 3600
triggerall = statetype != A
triggerall = var(59)
triggerall = !var(58)
triggerall = var(57) >= 5 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = var(57) < 9 || var(1) != 3
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A ||(!var(7) &&(stateno != [200,259])&&(stateno != [400,499]))
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = power >= 3000 ||(Power >= 1000 && var(20) > 0)
triggerall = (P2bodyDist X = [-5,60])|| EnemyNear(var(55)),StateType = A
triggerall = P2bodyDist Y > -36 || Helper(15000+id),var(51) < 200
triggerall = movehit ||(((stateno = [1401,1402])||(stateno = [1411,1412]))&& var(5) = 1)
trigger1 = stateno = 215 && animelemtime(4) >= 1
trigger1 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger2 = stateno = 245 && animelemtime(3) >= 1
trigger2 = animelemtime(4) <0 ||(var(20)&& movehit = 1)
trigger3 = stateno = 410 && animelemtime(3) >= 1
trigger3 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger4 = stateno = 261 && animelemtime(5) >= 1
trigger4 = animelemtime(7) <0 ||(var(20)&& movehit = 1)
trigger5 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0
trigger5 = (var(1) != 1 || var(20) > 0)
trigger6 = stateno = 706 && animelemtime(6) >= 0
trigger6 = animelemtime(7) <0 ||(var(20)&& movehit = 1)
trigger7 = stateno = 1080 && movehit = 1
trigger7 = power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger7 = Helper(15000+id),var(51) < 120
trigger8 = (stateno = [1200,1205]) && movehit = 1
trigger8 = power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger8 = Helper(15000+id),var(51) < 120
trigger9 = (stateno = [1250,1265]) && movehit = 1
trigger9 = power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger9 = Helper(15000+id),var(51) < 120
trigger10= ((stateno = [1401,1402])||(stateno = [1411,1412])) && var(5) = 1
trigger10= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger11= stateno = 1431 && animelemtime(10) >= 1 && animelemtime(11) <0
trigger11= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger12= stateno = 1441 && animelemtime(11) >= 1 && animelemtime(12) <0
trigger12= power >= 4000 ||(Power >= 1000 && var(20) > 0)
trigger12= Helper(15000+id),var(51) >= 120 && P2BodyDist X < 5
trigger13= var(20) > 0
trigger13= stateno = 210 ||(stateno = 211 && time > 10)|| stateno = 240 || stateno = 270 || stateno = 450
trigger13= movehit = 1
trigger14= !var(7)
trigger14= var(20) > 0
trigger14= stateno = 260 || stateno = 291 || stateno = 299 || stateno = 751
trigger14= movehit = 1

;---------------------------------------------------------------------------
;羅生門 / 投げレイジング
[State Twister Drive]
type = ChangeState
value = ifelse(Random <= 499 && P2bodyDist X < 10, 3300, 3200)
triggerall = statetype != A
triggerall = var(59)
triggerall = !var(58)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = var(57) < 9 || var(1) != 3
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = power >= 1000 || var(20) > 0
triggerall = Helper(15000+id),var(51) >= 120 || EnemyNear(var(55)),Life < 150
triggerall = P2bodyDist X = [-8,16]
triggerall = movehit
trigger1 = stateno = 205 || stateno = 235
trigger1 =(animelemtime(2) >= 1 && animelemtime(3) <0)||(var(20)&& movehit = 1)
trigger2 = stateno = 215 && animelemtime(4) >= 1
trigger2 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger3 = stateno = 245 || stateno = 400
trigger3 =(animelemtime(3) >= 1 && animelemtime(4) <0)||(var(20)&& movehit = 1)
trigger4 = stateno = 410 && animelemtime(3) >= 1
trigger4 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger5 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0
trigger5 = (var(1) != 1 || var(20) > 0)
trigger6 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger7 = EnemyNear(var(55)),Life < 150
trigger7 = (stateno = [1401,1402])||(stateno = [1411,1412])
trigger7 = var(5) = 1
trigger7 = power >= 2000 || var(20) > 0
trigger8 = stateno = 1431 || stateno = 1441
trigger8 = animelemtime(6) >= 1 && animelemtime(8) <0
trigger8 = power >= 2000 || var(20) > 0
trigger9 = stateno = 1521 && movehit = 1
trigger9 = Helper(15000+id),var(51) >= 180
trigger9 = power >= 2000 || var(20) > 0
trigger10= var(20) > 0
trigger10= stateno = 270 || stateno = 450
trigger10= movehit = 1

;---------------------------------------------------------------------------
;レイジングストームKOF98UM/KOF96
[State Twister Drive]
type = ChangeState
value = ifelse(Helper(15000+id),var(51) < 120 && P2bodyDist X < 25, 3000, 3010)
triggerall = statetype != A
triggerall = var(59)
triggerall = !var(58)
triggerall = var(57) >= 5 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = var(57) < 9 || var(1) != 3 || EnemyNear(var(55)),Life < 100
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A ||(!var(7) &&(stateno != [200,259])&&(stateno != [400,499]))
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = power >= 1000 || var(20) > 0
triggerall = P2bodyDist X = [-7,48]
triggerall = P2bodyDist Y > -140
triggerall = movehit ||(((stateno = [1401,1402])||(stateno = [1411,1412]))&& var(5) = 1)
trigger1 = stateno = 205 || stateno = 235
trigger2 = stateno = 215 && animelemtime(4) >= 1
trigger2 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger2 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 15
trigger3 = stateno = 245 || stateno = 400
trigger3 =(animelemtime(3) >= 1 && animelemtime(4) <0)||(var(20)&& movehit = 1)
trigger3 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 15 || stateno = 400
trigger4 = stateno = 410 && animelemtime(3) >= 1
trigger4 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger4 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 15
trigger5 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0
trigger5 = (var(1) != 1 || var(20) > 0)
trigger5 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 15
trigger6 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger6 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 15
trigger7 = stateno = 1080 && movehit = 1
trigger7 = power >= 2000 || var(20) > 0
trigger7 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 15
trigger8 = (stateno = [1200,1205]) && movehit = 1
trigger8 = power >= 2000 || var(20) > 0
trigger8 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 15
trigger9 = (stateno = [1250,1265]) && movehit = 1
trigger9 = power >= 2000 || var(20) > 0
trigger9 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 15
trigger10= stateno = 1401 && movehit = 1
trigger10= power >= 2000 || var(20) > 0
trigger10= Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 15
trigger11= stateno = 1431 && animelemtime(10) >= 1 && animelemtime(11) <0
trigger11= P2BodyDist X < 30
trigger11= power >= 2000 || var(20) > 0
trigger11= Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25
trigger12= var(20) > 0
trigger12= stateno = 270 || stateno = 450
trigger12= movehit = 1
trigger12= Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 15

;---------------------------------------------------------------------------
;レイジングストームRBSP
[State Twister Drive]
type = ChangeState
value = ifelse(Helper(15000+id),var(51) < 100, 3020, 3030)
triggerall = statetype != A
triggerall = var(59)
triggerall = !var(58)
triggerall = var(57) >= 4 && RoundState = 2
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = var(57) < 9 || var(1) != 3
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A ||(!var(7) &&(stateno != [200,259])&&(stateno != [400,499]))
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = power >= 1000 || var(20) > 0
triggerall = P2bodyDist X = [-7,58]
triggerall = P2bodyDist Y > -140
triggerall = movehit ||(((stateno = [1401,1402])||(stateno = [1411,1412]))&& var(5) = 1)
trigger1 = stateno = 205 || stateno = 235
trigger2 = stateno = 215 && animelemtime(4) >= 1
trigger2 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger2 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 18
trigger3 = stateno = 245 || stateno = 400
trigger3 =(animelemtime(3) >= 1 && animelemtime(4) <0)||(var(20)&& movehit = 1)
trigger3 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 18 || stateno = 400
trigger4 = stateno = 410 && animelemtime(3) >= 1
trigger4 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger4 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 18
trigger5 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0
trigger5 = (var(1) != 1 || var(20) > 0)
trigger5 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 18
trigger6 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger6 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 18
trigger7 = stateno = 1080 && movehit = 1
trigger7 = power >= 2000 || var(20) > 0
trigger7 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 18
trigger8 = (stateno = [1200,1205]) && movehit = 1
trigger8 = power >= 2000 || var(20) > 0
trigger8 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 18
trigger9 = (stateno = [1250,1265]) && movehit = 1
trigger9 = power >= 2000 || var(20) > 0
trigger9 = Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 18
trigger10= stateno = 1401 && movehit = 1
trigger10= power >= 2000 || var(20) > 0
trigger10= Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 18
trigger11= stateno = 1431 && animelemtime(10) >= 1 && animelemtime(11) <0
trigger11= P2BodyDist X < 30
trigger11= power >= 2000 || var(20) > 0
trigger11= Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25
trigger12= var(20) > 0
trigger12= stateno = 270 || stateno = 450
trigger12= movehit = 1
trigger12= Helper(15000+id),var(51) < 120 || EnemyNear(var(55)),BackEdgeBodyDist < 25 || P2BodyDist X < 18
trigger13= ((stateno = [1401,1402])||(stateno = [1411,1412])) && var(5) = 1
trigger13= power >= 2000 || var(20) > 0

;---------------------------------------------------------------------------
;虚空烈風斬1(1ゲージ)通常版
[State Twister Drive]
type = ChangeState
value = 3400
triggerall = statetype != A
triggerall = var(59)
triggerall = !var(58)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = var(57) < 9 || var(1) != 3 || EnemyNear(var(55)),Life < 100
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = power >= 1000 || var(20) > 0
triggerall = P2bodyDist X = [-7,40]
triggerall = movehit ||(((stateno = [1401,1402])||(stateno = [1411,1412]))&& var(5) = 1)
trigger1 = stateno = 205 || stateno = 235
trigger1 =(animelemtime(2) >= 1 && animelemtime(3) <0)||(var(20)&& movehit = 1)
trigger2 = stateno = 215 && animelemtime(4) >= 1
trigger2 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger3 = stateno = 245 || stateno = 400
trigger3 =(animelemtime(3) >= 1 && animelemtime(4) <0)||(var(20)&& movehit = 1)
trigger4 = stateno = 410 && animelemtime(3) >= 1
trigger4 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger5 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger6 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0
trigger6 = (var(1) != 1 || var(20) > 0)
trigger7 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger8 = EnemyNear(var(55)),Life < 150
trigger8 = (stateno = [1401,1402])||(stateno = [1411,1412])
trigger8 = var(5) = 1
trigger8 = power >= 2000 || var(20) > 0
trigger9 = stateno = 1431 || stateno = 1441
trigger9 = animelemtime(6) >= 1 && animelemtime(8) <0
trigger9 = power >= 2000 || var(20) > 0
trigger10= var(20) > 0
trigger10= stateno = 270 || stateno = 450
trigger10= movehit = 1
trigger11= !var(7)
trigger11= var(20) > 0
trigger11= stateno = 210 ||(stateno = 211 && time > 10)|| stateno = 240 || stateno = 260 || stateno = 751
trigger11= movehit = 1

;---------------------------------------------------------------------------
;デッドリーレイブKOF強・MAX発動中とどこでもキャンセル
[State Hunting Air DC]
type = ChangeState
value = 3101
triggerall = statetype != A
triggerall = var(59)
triggerall = !var(58)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 2
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A ||(!var(7) &&(stateno != [200,259])&&(stateno != [400,499]))
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = power >= 2000 || var(20) > 0
triggerall = (P2bodyDist X = [-7,70])|| EnemyNear(var(55)),StateType = A
triggerall = Helper(15000+id),var(51) >= 120 ||(stateno = [1080,1265])
triggerall = movehit = 1
trigger1 = (stateno = [1200,1205])
trigger2 = (stateno = [1250,1265])
trigger3 = stateno = 1080 && movehit = 1
trigger4 = !var(7)
trigger4 = var(20) > 0
trigger4 = stateno = 291 || stateno = 299
trigger4 = movehit = 1

;---------------------------------------------------------------------------
;デッドリーレイブKOF弱
[State Twister Drive]
type = ChangeState
value = 3100
triggerall = statetype != A
triggerall = var(59)
triggerall = !var(58)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = var(57) < 9 || var(1) != 3 || EnemyNear(var(55)),Life < 100
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A ||(!var(7) &&(stateno != [200,259])&&(stateno != [400,499]))
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = power >= 1000 || var(20) > 0
triggerall =(P2bodyDist X = [-7,70])|| EnemyNear(var(55)),StateType = A
triggerall = P2bodyDist Y > -40 || stateno = 1080 || Helper(15000+id),var(51) < 180
triggerall = movehit ||(((stateno = [1401,1402])||(stateno = [1411,1412]))&& var(5) = 1)
trigger1 = stateno = 215 && animelemtime(4) >= 1
trigger1 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger2 = stateno = 245
trigger2 =(animelemtime(3) >= 1 && animelemtime(4) <0)||(var(20)&& movehit = 1)
trigger3 = stateno = 410 && animelemtime(3) >= 1
trigger3 = animelemtime(5) <0 ||(var(20)&& movehit = 1)
trigger4 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger5 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0
trigger5 = (var(1) != 1 || var(20) > 0)
trigger6 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger7 = stateno = 1401 && movehit = 1
trigger7 = power >= 2000 || var(20) > 0
trigger8 = stateno = 1431 && animelemtime(10) >= 1 && animelemtime(11) <0
trigger8 = P2BodyDist X < 30
trigger8 = power >= 2000 || var(20) > 0
trigger9 = stateno = 1441 && animelemtime(11) >= 1 && animelemtime(12) <0
trigger9 = P2BodyDist X < 30
trigger9 = power >= 2000 || var(20) > 0
trigger9 = Helper(15000+id),var(51) >= 120
trigger10= var(20) > 0
trigger10= stateno = 270 || stateno = 450
trigger10= movehit = 1
trigger11= !var(7)
trigger11= var(20) > 0
trigger11= stateno = 210 ||(stateno = 211 && time > 10)|| stateno = 240 || stateno = 260 || stateno = 291 || stateno = 299 || stateno = 751
trigger11= movehit = 1
trigger12= ((stateno = [1401,1402])||(stateno = [1411,1412])) && var(5) = 1
trigger12= power >= 2000 || var(20) > 0

;==============================================================================
;連続技・必殺技用
;邪影拳5
[State Scramble Dash]
type = ChangeState
value = 1440
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = !var(58)
triggerall = !var(20)
triggerall = var(1) = 0 || var(1) = 2
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2bodyDist X = [-7,20]
triggerall = P2bodyDist Y > -40
triggerall = movehit
trigger1 = Helper(15000+id),var(51) < 190
trigger1 = stateno = 245 && animelemtime(3) >= 1 && animelemtime(4) <0

;---------------------------------------------------------------------------
;邪影拳5 10~12P
[State Scramble Dash]
type = ChangeState
value = 1440
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = !var(58)
triggerall = !var(20)
triggerall = var(1) = 3
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2bodyDist X = [-7,30]
triggerall = P2bodyDist Y > -40
triggerall = movehit
trigger1 = stateno = 245 && animelemtime(3) >= 1 && animelemtime(4) <0
trigger2 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger3 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger4 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0
trigger5 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0
trigger6 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0

;---------------------------------------------------------------------------
;真空投げ
[State Scramble Dash]
type = ChangeState
value = 1300
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = !var(58)
triggerall = var(1) != 3
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2bodyDist X = [-7,24]
triggerall = P2bodyDist X <= 15 || stateno = 245
triggerall = movehit
trigger1 = Helper(15000+id),var(51) >= 100
trigger1 = stateno = 245 && animelemtime(3) >= 1 && animelemtime(4) <0
trigger2 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0 && !(var(1) = 1 && var(20) = 0)
trigger3 = var(20) > 0
trigger3 = stateno = 270 && movehit = 1

;---------------------------------------------------------------------------
;邪影拳3
[State Scramble Dash]
type = ChangeState
value = 1420
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = !var(58)
triggerall = !var(20) && Power < 2000
triggerall = var(1) = 1 || var(1) = 2
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A ||(!var(7) &&(stateno = [290,299]))
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = (P2bodyDist X = [-7,17])|| stateno = 245 || stateno = 291
triggerall = P2bodyDist Y > -40
triggerall = movehit
trigger1 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger2 = stateno = 245 && animelemtime(3) >= 1 && animelemtime(4) <0
trigger3 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0
trigger4 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger5 = var(20) > 0
trigger5 = stateno = 291 || stateno = 450
trigger5 = movehit = 1
trigger6 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger7 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0 && !(var(1) = 1 && var(20) = 0)

;---------------------------------------------------------------------------
;邪影拳2
[State Scramble Dash]
type = ChangeState
value = 1410
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 1 && RoundState = 2
triggerall = !var(58)
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2bodydist X <= 45
triggerall = P2bodydist X <= 36 || EnemyNear(var(55)),BackEdgeBodyDist < 20 || Helper(15000+id),var(51) < 90 || stateno = 245 || stateno = 291
triggerall = P2bodyDist Y > -40
triggerall = movehit = 1
trigger1 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger2 = stateno = 245 && animelemtime(3) >= 1 && animelemtime(4) <0
trigger3 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0
trigger4 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger5 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0 && !(var(1) = 1 && var(20) = 0)
trigger6 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger7 = var(20) > 0
trigger7 = stateno = [210,211]
trigger8 = var(20) > 0
trigger8 = stateno = 240 || stateno = 260 || stateno = 270 || stateno = 291 || stateno = 450 || stateno = 751 
trigger9 = var(20) > 0
trigger9 = stateno = 245 && animelemtime(4) >= 1

;---------------------------------------------------------------------------
;邪影拳2 10~12P
[State Scramble Dash]
type = ChangeState
value = 1410
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 1 && RoundState = 2
triggerall = !var(58)
triggerall = var(1) = 3
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2bodydist X <= 35
triggerall = P2bodydist X <= 30 || EnemyNear(var(55)),BackEdgeBodyDist < 20 || Helper(15000+id),var(51) < 90 || stateno = 245 || stateno = 291
triggerall = P2bodyDist Y > -40
triggerall = movehit = 1
trigger1 = stateno = 205 && stateno = 235
trigger1 = animelemtime(2) >= 1 && animelemtime(3) <0
trigger2 = stateno = 400 && animelemtime(3) >= 1 && animelemtime(4) <0
trigger3 = var(20) > 0
trigger3 = stateno = 200 || stateno = 230 || stateno = 430

;---------------------------------------------------------------------------
;ダブル烈風拳KOF
[State Scramble Dash]
type = ChangeState
value = 1090
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = !var(58)
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2bodyDist X = [-7,100]
triggerall = P2bodyDist Y > -40
triggerall = movehit ||(moveguarded && Random <= 100 && Helper(15000+id),var(51) > 100)
trigger1 = var(1) = 0 || var(1) = 3
trigger1 = stateno = 205 && stateno = 235
trigger1 = animelemtime(2) >= 1 && animelemtime(3) <0
trigger2 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger3 = !var(20) && Power < 2000
trigger3 = stateno = 245
trigger3 = animelemtime(3) >= 1 && animelemtime(4) <0
trigger4 = var(1) = 0 || var(1) = 3
trigger4 = stateno = 400
trigger4 = animelemtime(3) >= 1 && animelemtime(4) <0
trigger5 = !var(20) && Power < 2000
trigger5 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0
trigger6 = !var(20) && Power < 2000
trigger6 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger7 = !var(20) && Power < 2000
trigger7 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0 && !(var(1) = 1 && var(20) = 0)
trigger8 = !var(20) && Power < 2000
trigger8 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger9 = var(20)
trigger9 = stateno = 200 || stateno = 210 ||(stateno = 211 && time > 10)|| stateno = 230 || stateno = 240 || stateno = 430
trigger9 = movehit = 1
trigger10= var(20)
trigger10= stateno = 245 && animelemtime(4) >= 1
trigger10= movehit = 1

;---------------------------------------------------------------------------
;邪影拳4
[State Scramble Dash]
type = ChangeState
value = 1430
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = !var(58)
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2bodyDist X = [-7,100]
triggerall = P2bodyDist Y > -40
triggerall = movehit
trigger1 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger2 = !var(20) && Power < 2000
trigger2 = stateno = 245
trigger2 = animelemtime(3) >= 1 && animelemtime(4) <0
trigger3 = !var(20) && Power < 2000
trigger3 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0
trigger4 = !var(20) && Power < 2000
trigger4 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger5 = !var(20) && Power < 2000
trigger5 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0 && !(var(1) = 1 && var(20) = 0)
trigger6 = !var(20) && Power < 2000
trigger6 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger7 = var(20)
trigger7 = stateno = 210 ||(stateno = 211 && time > 10)|| stateno = 240
trigger7 = movehit = 1
trigger8 = var(20)
trigger8 = stateno = 245 && animelemtime(4) >= 1
trigger8 = movehit = 1

;---------------------------------------------------------------------------
;ダブル烈風拳RB
[State Scramble Dash]
type = ChangeState
value = 1050
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 1 && RoundState = 2
triggerall = !var(58)
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
triggerall = (moveguarded && Random <= 75 && Helper(15000+id),var(51) > 100)
trigger1 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger2 = stateno = 245 && animelemtime(3) >= 1 && animelemtime(4) <0
trigger3 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0
trigger4 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger5 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0 && !(var(1) = 1 && var(20) = 0)
trigger6 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0

;---------------------------------------------------------------------------
;飛燕失脚2
[State -3, a]
type = ChangeState
value = 450
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 1 && RoundState = 2
triggerall = !var(58)
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2bodyDist X = [-7,50]
triggerall = P2bodyDist Y > -40
triggerall = movehit
trigger1 = stateno = 205 || stateno = 235
trigger1 = animelemtime(2) >= 1 && animelemtime(3) <0
trigger2 = stateno = 400 && animelemtime(3) >= 1 && animelemtime(4) <0
trigger3 = P2bodyDist X <= 25
trigger3 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger4 = stateno = 245 && animelemtime(3) >= 1 && animelemtime(4) <0
trigger5 = P2bodyDist X <= 25
trigger5 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0

;---------------------------------------------------------------------------
;強烈風拳
[State Slide Touch]
type = ChangeState
value = 1010
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 1 && RoundState = 2
triggerall = !var(58) || var(58) = [51,55]
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1200) = 0
triggerall = NumProjID(3651) = 0
triggerall = P2bodyDist X = [-7,150]
triggerall = P2bodyDist Y > -40
triggerall = movehit ||(moveguarded && Random <= 150 && Helper(15000+id),var(51) > 100)||(moveguarded && var(1) = 3)
trigger1 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger2 = stateno = 245 && animelemtime(3) >= 1 && animelemtime(4) <0
trigger3 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0
trigger4 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger5 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0 && !(var(1) = 1 && var(20) = 0)
trigger6 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0
trigger7 = var(20) > 0
trigger7 = stateno = [210,211]
trigger8 = var(20) > 0
trigger8 = stateno = 240 || stateno = 260 || stateno = 270 || stateno = 291 || stateno = 450 || stateno = 751 
trigger9 = var(20) > 0
trigger9 = stateno = 245 && animelemtime(4) >= 1

;---------------------------------------------------------------------------
;弱烈風拳
[State Slide Touch]
type = ChangeState
value = 1000
triggerall = statetype != A
triggerall = var(59)
triggerall = var(57) >= 1 && RoundState = 2
triggerall = !var(58) || var(58) = [51,55]
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = Helper(15000+id),var(51) >= 150 || EnemyNear(var(55)),StateType != A
triggerall = Random <= var(57)*50 || var(57) > 8
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
triggerall = P2bodyDist X = [-7,150]
triggerall = P2bodyDist Y > -40
triggerall = moveguarded
trigger1 = stateno = 205 || stateno = 235
trigger1 = animelemtime(2) >= 1
trigger1 = Random <= 200 - var(57)*10 || var(1) = 3
trigger2 = stateno = 400 && animelemtime(3) >= 1 && animelemtime(4) <0
trigger2 = Random <= 200 - var(57)*10 || var(1) = 3
trigger3 = stateno = 215 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger4 = stateno = 245 && animelemtime(3) >= 1 && animelemtime(4) <0
trigger5 = stateno = 410 && animelemtime(3) >= 1 && animelemtime(5) <0
trigger6 = stateno = 440 && animelemtime(4) >= 1 && animelemtime(5) <0
trigger7 = stateno = 261 && animelemtime(5) >= 1 && animelemtime(6) <0
trigger8 = stateno = 271 && animelemtime(6) >= 1 && animelemtime(7) <0 && !(var(1) = 1 && var(20) = 0)
trigger9 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0

;==============================================================================
;地上繋ぎ
;後方ジャンプ
[State -3,ジャンプ]
Type     = ChangeState
Value    = 37
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = var(57) < 12 || life > Lifemax * 0.5
triggerall = !var(58) && !var(53)
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19])
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),MoveType = H
triggerall = EnemyNear(var(55)),StateNo = [120,159]
triggerall = !inguarddist
triggerall = Helper(15000+id),var(52) > 150
triggerall = P2bodydist X = [-8,55]
trigger1 = var(1) = [0,2]
trigger1 = Random <= var(57)*8
trigger1 = var(58) := 51
trigger2 = var(1) = 3
trigger2 = (var(57) < 12 && Random <= var(57)*14)||(var(57) >= 12 && Random <= 250)
trigger2 = var(58) := 51

;---------------------------------------------------------------------------
;垂直ジャンプ
[State -3,ジャンプ]
Type     = ChangeState
Value    = 38
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = var(57) < 12 || life > Lifemax * 0.5
triggerall = !var(58) && !var(53)
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19])
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),MoveType = H
triggerall = EnemyNear(var(55)),StateNo = [120,159]
triggerall = !inguarddist
triggerall = Helper(15000+id),var(52) > 150
triggerall = P2bodydist X = [-8,32]
trigger1 = var(1) = [0,2]
trigger1 = Random <= var(57)*8
trigger1 = var(58) := 52
trigger2 = var(1) = 3
trigger2 = (var(57) < 12 && Random <= var(57)*12)||(var(57) >= 12 && Random <= 250)
trigger2 = var(58) := 52

;---------------------------------------------------------------------------
;近距離立ち弱キック
[State -3, Stand Light Kick]
type = ChangeState
value = 235
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = !var(58)
triggerall = P2dist X <=45
triggerall = P2bodydist Y > -45
triggerall = Random <= var(57)*15
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
trigger1 = EnemyNear(var(55)),StateNo = [120,159]
trigger1 = !InGuardDist

;---------------------------------------------------------------------------
;不動活殺裏拳
[State -3, a]
type = ChangeState
value = 260
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 9 && RoundState = 2
triggerall = !var(58)
triggerall = var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),StateNo = [120,159]
triggerall = P2bodydist X = [-8,50+Floor(EnemyNear(var(55)),vel X * 12)]
triggerall = P2bodydist Y > -20
triggerall = !InGuardDist
trigger1 = Random <= 50
trigger2 = var(57) > 9
trigger2 = Power >= 2000
trigger2 = Random <= 150

;---------------------------------------------------------------------------
;しゃがみ弱キック
[State -3, Crouching Light Kick]
type = ChangeState
value = 430
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59) && RoundState = 2
triggerall = !var(58)
triggerall = Random <= var(57)*25
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2bodydist X = [-8,47]
triggerall = P2bodydist Y > -20
trigger1 = !InGuardDist
trigger1 = var(57) < 9 || P2BodyDist X < 25
trigger1 = EnemyNear(var(55)),StateNo = [120,159]

;---------------------------------------------------------------------------
;しゃがみ強パンチ
[State -3, Crouching Strong Punch]
type = ChangeState
value = 410
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 2 && RoundState = 2
triggerall = !var(7) && !var(58)
triggerall = var(1) != 3 || var(57) < 10
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType = A
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2bodydist X = [3,25]
triggerall = P2bodydist Y > -90
trigger1 = !InGuardDist

;---------------------------------------------------------------------------
;近距離立ち強キック
[State -3, Standing Strong Kick]
type = ChangeState
value = 245
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 2 && RoundState = 2
triggerall = !var(58)
triggerall = P2dist X <=55
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A ||(!var(7) && var(1) != 3)
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2bodydist X > -15
triggerall = P2bodydist X > 0 || EnemyNear(var(55)),StateType != A
triggerall = P2bodydist Y > -70
trigger1 = !InGuardDist
trigger1 = EnemyNear(var(55)),gethitvar(hittime) >= 6

;---------------------------------------------------------------------------
;しゃがみ強パンチ
[State -3, Crouching Strong Punch]
type = ChangeState
value = 410
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 2 && RoundState = 2
triggerall = !var(58)
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A ||(!var(7) && var(1) != 3)
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2bodydist X = [5,34+Floor(EnemyNear(var(55)),vel X * 4)]
triggerall = P2bodydist Y > -90
trigger1 = !InGuardDist
trigger1 = EnemyNear(var(55)),gethitvar(hittime) >= 4

;---------------------------------------------------------------------------
;近距離立ち弱キック
[State -3, Stand Light Kick]
type = ChangeState
value = 235
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 2 && RoundState = 2
triggerall = !var(58)
triggerall = !var(7)
triggerall = P2dist X <=45
triggerall = P2bodydist Y > -45
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype = H
trigger1 = EnemyNear(var(55)),gethitvar(hittime) <= 7
trigger1 = !InGuardDist

;---------------------------------------------------------------------------
;しゃがみ弱パンチ
[State -3, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59) && RoundState = 2
triggerall = !var(58)
triggerall = !var(7)
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A ||(!var(7) && var(1) != 3)
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2BodyDist X = [-9,35+Floor(EnemyNear(var(55)),vel X * 5)]
triggerall = P2bodydist Y > -30
trigger1 = !InGuardDist

;---------------------------------------------------------------------------
;邪影拳3
[State Scramble Dash]
type = ChangeState
value = ifelse(P2BodyDist Y > -60, 1010, 1420)
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = !var(58)
triggerall = !var(7)
triggerall = var(1) = 3
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2BodyDist X = [10,140+Floor(EnemyNear(var(55)),vel X * 10)]
triggerall = P2bodydist Y = [-140,-15]
triggerall = EnemyNear(var(55)),Vel Y >= 0 || P2bodydist Y > -90
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = !InGuardDist
trigger1 = EnemyNear(var(55)),StateType = A
trigger2 = EnemyNear(var(55)),StateType != A
trigger2 = (P2BodyDist X < 50 && EnemyNear(var(55)),gethitvar(hittime) >= 10)
trigger3 = EnemyNear(var(55)),StateType != A
trigger3 = EnemyNear(var(55)),gethitvar(hittime) >= 12

;---------------------------------------------------------------------------
;遠距離立ち強パンチ
[State -3, Stand Strong Punch]
type = ChangeState
value = ifelse(var(1) = 1, 211, 210)
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = !var(58)
triggerall = !var(7)
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A ||(!var(7) && var(1) != 3)
triggerall = EnemyNear(var(55)),StateType != C || EnemyNear(var(55)),Const(size.mid.pos.y) < -80
triggerall = EnemyNear(var(55)),StateType = A || EnemyNear(var(55)),Const(size.head.pos.y) < -75
triggerall = EnemyNear(var(55)),Movetype = H
triggerall = P2dist X > 55
triggerall = P2BodyDist X = [20,63+Floor(EnemyNear(var(55)),vel X * 7)]
triggerall = P2bodydist Y > -70
trigger1 = EnemyNear(var(55)),gethitvar(hittime) >= 6
trigger1 = EnemyNear(var(55)),StateNo != [120,159]
trigger1 = !InGuardDist

;==============================================================================
;立ち回り
;挑発
[State -3, Taunt]
type = ChangeState
value = ifelse(Random <= 499, 730, 731)
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = (var(57) = [1,10]) && RoundState = 2
triggerall = !var(58)
triggerall = fvar(38) = [2,3]
triggerall = life > lifemax * 0.5
triggerall = P2BodyDist X > 150
trigger1 = var(57) = [8,9] 
trigger1 = P2BodyDist X > 180
trigger1 = (life > lifemax * 0.9)||(life*0.3 > enemynear(var(55)),life)
trigger1 = Random <= 20
trigger2 = var(57) = [4,7] 
trigger2 = (life > lifemax * 0.7)||(life*0.3 > enemynear(var(55)),life)
trigger2 = Random <= 40
trigger3 = var(57) < 4
trigger3 = Random <= 50
trigger4 = P2BodyDist X > 200
trigger4 = Random <= 200-(var(57)*20)

;---------------------------------------------------------------------------
;ナイトメアレイジングデッドエンド
[State Twister Drive]
type = ChangeState
value = 4500
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = !var(58)
triggerall = !var(28)
triggerall = var(1) = 3
triggerall = life <= 300 || var(9) = 2
triggerall = power >= 3000 ||(Power >= 1000 && var(20) > 0)
triggerall = !(EnemyNear(var(55)),HitDefAttr = SCA, AP)
triggerall = !inguarddist
triggerall = !Enemy,NumProj
trigger1 = EnemyNear(var(55)),StateType = L
trigger1 = P2BodyDist X > 120
trigger1 = Random <= 150
trigger2 = P2BodyDist X > 180
trigger2 = EnemyNear(var(55)),StateType != A
trigger2 = EnemyNear(var(55)),MoveType != A
trigger2 = Random <= 60
trigger3 = P2BodyDist X > 210
trigger3 = Random <= 30

;---------------------------------------------------------------------------
;パワー溜め
[State -3, Jump Strong Kick]
type = ChangeState
value = 710
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = !var(58)
triggerall = var(20) = 0
triggerall = power < Powermax
triggerall = !(EnemyNear(var(55)),StateNo = 710  && EnemyNear(var(55)),AuthorName = "Ambasa")
triggerall = !(EnemyNear(var(55)),StateNo = 2000 && EnemyNear(var(55)),authorName = "hoe2")
triggerall = !(EnemyNear(var(55)),HitDefAttr = SCA, AP)
triggerall = !inguarddist
triggerall = !Enemy,NumProj
trigger1 = power < 2000
trigger1 = EnemyNear(var(55)),StateType = L
trigger1 = P2BodyDist X > 120
trigger1 = Random <= 150
trigger2 = power < 3000
trigger2 = P2BodyDist X > 180
trigger2 = EnemyNear(var(55)),StateType != A
trigger2 = EnemyNear(var(55)),MoveType != A
trigger2 = Random <= 60
trigger3 = P2BodyDist X > 210
trigger3 = Random <= 30

;---------------------------------------------------------------------------
;MAX発動
[State -3, Jump Strong Kick]
type = ChangeState
value = 900
triggerall = var(59)
triggerall = !var(58)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = var(20) = 0
triggerall = power >= 1000
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = Random <= var(57)*100
triggerall = power >= 3600 ||(power >= 3200 && life <= lifemax * 0.6)||(power >= 2650 && life <= lifemax * 0.3)||(power >= 2000 && var(1) = 3 && var(57) > 9)
triggerall = !(EnemyNear(var(55)),HitDefAttr = SCA, AP)
triggerall = !inguarddist
triggerall = !Enemy,NumProj
trigger1 = P2bodydist X > 40
trigger1 = EnemyNear(var(55)),StateType = L
trigger1 = EnemyNear(var(55)),StateNo != [5110,5120]
trigger1 = Random <= 300
trigger2 = P2bodydist X > 100
trigger2 = Random <= 30
trigger3 = power >= 2500
trigger3 = P2bodydist X > 160
trigger3 = Random <= 100

;---------------------------------------------------------------------------
;ダッシュ
[State -3, Dash]
type = ChangeState
value = 100
ctrl = 0
triggerall = var(59) && RoundState = 2
triggerall = Random <= var(57)*100
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19])
triggerall = stateno != [99,101]
triggerall = prevstateno != [99,101]
triggerall = !inguarddist
triggerall = !Enemy,NumProj
triggerall = !var(58)
triggerall = !var(54)||!var(53)
trigger1 = P2BodyDist X > 170
trigger1 = EnemyNear(var(55)),StateType = L
trigger1 = Random <= 150
trigger2 = EnemyNear(var(55)),StateType != L
trigger2 = P2BodyDist X > 120
trigger2 = Random <= 30

;---------------------------------------------------------------------------
;Front Step
;フロントステップ
[State -3, Front Step]
type = ChangeState
value = 103
triggerall = var(59) && RoundState = 2
triggerall = var(57) >= 6
triggerall = !var(58)
triggerall = !fvar(39)
triggerall = Random <= var(57)*100
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = !inguarddist
triggerall = !Enemy,NumProj
trigger1 = EnemyNear(var(55)),StateType = L
trigger1 = P2BodyDist X > 160
trigger1 = Random <= 70

;---------------------------------------------------------------------------
;AI前進
[State -3,前進]
Type = ChangeState
Value = 18
Triggerall = Var(59) && RoundState = 2
Triggerall = !var(54) && !var(58)
triggerall = statetype != A
triggerall = EnemyNear(var(55)),stateno != [5110,5120]
triggerall = EnemyNear(var(55)),StateType != L
triggerall = p2bodydist X > 30
triggerall = Random <= 50
trigger1 = ctrl || (stateno = 19 && time >= 16)
trigger2 = stateno = 100
trigger2 = p2bodydist X < 50
trigger3 = ctrl || (stateno = 19 && time >= 16)
trigger3 = TeamMode = Simul
trigger3 = NumPartner && Partner,Alive
trigger3 = (EnemyNear(var(55)),StateType != L && EnemyNear(var(55)),MoveType = H)
trigger3 = Partner,MoveType != A

;---------------------------------------------------------------------------
;AI後退
[State -3,後退]
Type = ChangeState
Value = 19
Triggerall = Var(59) && RoundState = 2
Triggerall = !var(58)
triggerall = var(57) < 12 || life > Lifemax * 0.35
triggerall = statetype != A
triggerall = ctrl || (stateno = 18 && time >= 20)
triggerall = BackEdgeBodyDist > 20
trigger1 = EnemyNear(var(55)),MoveType != H
trigger1 = p2bodydist X < 40
trigger1 = Random <= 25
trigger2 = EnemyNear(var(55)),StateType != L
trigger2 = EnemyNear(var(55)),StateType != A
trigger2 = EnemyNear(var(55)),MoveType = H
trigger2 = p2bodydist X < 20
trigger2 = Random <= 100

;---------------------------------------------------------------------------
;行動思案中・・・
[State -3, wait]
type = ChangeState
Value = 0
ctrl = 1
Triggerall = !var(58)
triggerall = statetype != A
triggerall = alive
triggerall = stateno = [18,19]
trigger1 = var(59) && Roundstate = 2
trigger1 = p2bodydist X = [0,70]
trigger1 = Random <= 20
trigger2 = Roundstate = 3

;---------------------------------------------------------------------------
;後退ダッシュ
[State -3, Run Back]
type = ChangeState
value = 105
triggerall = var(59) && RoundState = 2
triggerall = !var(58)
triggerall = fvar(39) < 2
triggerall = Random <= var(57)*100
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19])
triggerall = BackEdgeBodyDist > 40
triggerall = !(EnemyNear(var(55)),HitDefAttr = SCA, AP)
triggerall = !Enemy,numproj
trigger1 = var(53) != 5
trigger1 = !var(54)
trigger1 = EnemyNear(var(55)),StateType = L
trigger1 = P2BodyDist X < 45
trigger1 = !inguarddist
trigger1 = Random <= 500
trigger2 = var(57) < 12 || life > Lifemax * 0.35
trigger2 = facing != EnemyNear(var(55)),facing
trigger2 = EnemyNear(var(55)),MoveType = A
trigger2 = P2BodyDist X = [30,90]
trigger2 = Random <= 120
trigger3 = facing != EnemyNear(var(55)),facing
trigger3 = EnemyNear(var(55)),HitDefAttr = SC, AT
trigger3 = P2BodyDist X = [-5,60]
trigger3 = Random <= 150 || (var(57) > 10)

;---------------------------------------------------------------------------
;避け
[State -3, Taunt]
type = ChangeState
value = 705
triggerall = var(59)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = !var(58)
triggerall = !fvar(39)
triggerall = !Helper(15000+id),var(2)
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100 ||(stateno = [120,131])
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),Movetype != H
triggerall = P2BodyDist Y > -60
trigger1 = P2BodyDist X = [5,90]
trigger1 = var(57) <= 9
trigger1 = Random<= 48 - var(57)*4
trigger2 = P2BodyDist X = [5,60]
trigger2 = var(57) > 9
trigger2 = Random <= 10

;------------------------------------------------------------------------------
;ジャンプ(低レベル時)
[State -3,ジャンプ]
Type     = ChangeState
Value    = 39
triggerall = var(59)
Triggerall = (var(57) = [1,3]) && RoundState = 2
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = !var(58)
trigger1 = Random <= 60

;------------------------------------------------------------------------------
;前小中ジャンプ
[State -3,ジャンプ]
Type     = ChangeState
Value    = 35
triggerall = var(59)
Triggerall = var(57) > 3 && RoundState = 2
triggerall = !var(58)
triggerall = !Helper(15000+id),var(2)
triggerall = Random <= var(57)*100
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = EnemyNear(var(55)),alive
triggerall = !inguarddist
trigger1 = !fvar(39)
trigger1 = var(57) < 12 || life > Lifemax * 0.35
trigger1 = (var(57)<10&&Random<=35)||(var(57)>=10&&Random<=20)
trigger1 = P2BodyDist X = [19,110]
trigger2 = fvar(39) = [3,4]
trigger2 = P2BodyDist X <= 120
trigger3 = var(57) > 9
trigger3 = enemynear(var(55)),animtime <= -10
trigger3 = enemy,hitdefattr = C, NA
trigger3 = P2BodyDist X = [30,75]
trigger3 = Random <= 40

;------------------------------------------------------------------------------
;前ノーマルジャンプ
[State -3,ジャンプ]
Type     = ChangeState
Value    = 39
triggerall = var(59)
Triggerall = var(57) > 3 && RoundState = 2
triggerall = !var(58)
triggerall = !Helper(15000+id),var(2)
triggerall = Random <= var(57)*100
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = EnemyNear(var(55)),alive
trigger1 = fvar(39) < 3
trigger1 = var(57) < 12 || life > Lifemax * 0.35
trigger1 = (var(57)<10&&Random<=24)||(var(57)>=10&&Random<=18)
trigger1 = P2BodyDist X = [100,155]
trigger2 = fvar(39) = [3,4]
trigger2 = P2BodyDist X = [120,160]
trigger2 = Random <= var(57)*30 || var(57) > 10
trigger3 = var(1) = 3
trigger3 = P2BodyDist X = [100,165]
trigger3 = var(57) > 8
trigger3 = Random <= 30
trigger3 = var(58) := 54

;------------------------------------------------------------------------------
;前ハイジャンプ
[State -3,ジャンプ]
Type     = ChangeState
Value    = 36
triggerall = var(59)
Triggerall = var(57) > 3 && RoundState = 2
Triggerall = var(57) < 12
triggerall = !var(58)
triggerall = var(54) <= 1
triggerall = fvar(39) < 3
triggerall = !Helper(15000+id),var(2)
triggerall = Random <= var(57)*100
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = EnemyNear(var(55)),alive
triggerall = P2BodyDist X = [127,205]
trigger1 = P2BodyDist X = [150,200]
trigger1 = (var(57)<10&&Random<=25)||(var(57)>=10&&Random<=20)||(fvar(39) = [3,4])
trigger2 = !var(53)
trigger2 = (EnemyNear(var(55)),HitDefAttr = SC, NP, SP)|| Enemy,numproj
trigger2 = Random <= 150
trigger3 = !var(53)
trigger3 = EnemyNear(var(55)),MoveType = A
trigger3 = Random <= 75
trigger4 = var(1) = 3
trigger4 = var(57) > 8
trigger4 = Random <= 50
trigger4 = var(58) := 53

;------------------------------------------------------------------------------
;垂直ジャンプ
[State -3,ジャンプ]
Type = ChangeState
Value = 38
triggerall = var(59)
Triggerall = var(57) > 3 && RoundState = 2
Triggerall = var(57) < 12 || Life > Lifemax * 0.5
triggerall = !var(58) && !var(53)
triggerall = fvar(39) < 3
triggerall = !Helper(15000+id),var(2)
triggerall = Random <= var(57)*100
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = EnemyNear(var(55)),Name!="Kurenai Misuzu" || EnemyNear(var(55)),StateNo != 1210
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = EnemyNear(var(55)),alive
triggerall = P2BodyDist Y > -170
trigger1 = EnemyNear(var(55)),StateType = A || EnemyNear(var(55)),StateNo = [35,44]
trigger1 = EnemyNear(var(55)),Vel X > 0 || EnemyNear(var(55)),StateNo = [35,44]
trigger1 = EnemyNear(var(55)),StateNo != 40
trigger1 = P2BodyDist X = [120,150]
trigger1 = !inguarddist
trigger1 = Random <= 100
trigger2 = EnemyNear(var(55)),StateType != A
trigger2 = var(1) = 0 || var(1) = 2 || var(1) = 3
trigger2 = P2BodyDist X = [0,30]
trigger2 = Random <= 30
trigger2 = var(58) := 52
trigger3 = EnemyNear(var(55)),StateType != A
trigger3 = var(1) = 3
trigger3 = P2BodyDist X = [60,130]
trigger3 = Random <= 30
trigger3 = var(58) := 55

;------------------------------------------------------------------------------
;後方ジャンプ
[State -3,ジャンプ]
Type     = ChangeState
Value    = 37
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = var(57) < 12 || life > Lifemax * 0.6
triggerall = !var(58) && !var(53)
triggerall = fvar(39) < 3
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19])
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = P2BodyDist Y > -170
triggerall = !inguarddist
triggerall = !Helper(15000+id),var(2)
triggerall = Helper(15000+id),var(52) > 120
trigger1 = EnemyNear(var(55)),StateType = A || EnemyNear(var(55)),StateNo = [35,44]
trigger1 = EnemyNear(var(55)),StateNo != 40
trigger1 = EnemyNear(var(55)),Vel X > 0 || EnemyNear(var(55)),StateNo = [35,44]
trigger1 = P2BodyDist X = [30,60]
trigger1 = Random <= 60
trigger3 = var(1) = 0 || var(1) = 2 || var(1) = 3
trigger3 = EnemyNear(var(55)),StateType != A
trigger3 = Helper(15000+id),var(52) > 160
trigger3 = (P2BodyDist X = [5,55])&& Random <= 40
trigger3 = var(58) := 51

;------------------------------------------------------------------------------
;雷光回し蹴り
[State -3, a]
type = ChangeState
value = 270
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19])
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = !inguarddist
triggerall = var(59)
triggerall = var(57) >= 8 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = !Helper(15000+id),var(2)
trigger1 = p2bodydist X = [75,110]
trigger1 = Random <= var(57)*3
trigger1 = var(58) := 12

;==============================================================================
;地上技振り・ぶっぱ
;レイジング祭り
[State Twister Drive]
type = ChangeState
value = 4400
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = life <= 300 || var(9) = 2
triggerall = power >= 5000 ||(var(20) > 0 && power >= 4000)
triggerall = var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = P2BodyDist X = [-50,75]
triggerall = P2BodyDist Y > -125
trigger1 = Random <= 30

;---------------------------------------------------------------------------
;潜在レイジングストーム
[State Twister Drive]
type = ChangeState
value = 3900
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(57) < 9
triggerall = !var(58)
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = power >= 5000 ||(var(20) > 0 && power >= 2000)
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = P2BodyDist X = [80,150]
triggerall = P2BodyDist Y > -25
trigger1 = Random <= 20 - var(57)*2

;---------------------------------------------------------------------------
;デッドリーレイブKOF強・MAX発動中とどこでもキャンセル
[State Hunting Air DC]
type = ChangeState
value = 3101
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(57) < 9
triggerall = !var(58)
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = power >= 2500 || var(20) > 0
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = P2BodyDist X = [80,150]
triggerall = P2BodyDist Y > -65
trigger1 = Random <= 25 - var(57)*2

;---------------------------------------------------------------------------
;邪影拳5
[State Scramble Dash]
type = ChangeState
value = 1440
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 5 && RoundState = 2
triggerall = var(57) < 9
triggerall = !var(58)
triggerall = !var(53)
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = P2BodyDist X = [85,160]
triggerall = !InGuardDist
trigger1 = Random <= 30 - var(57)*3

;---------------------------------------------------------------------------
;弱飛翔日輪斬
[State Scramble Dash]
type = ChangeState
value = 1200
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = !Helper(15000+id),var(2)
triggerall = EnemyNear(var(55)),StateType = A
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = !Enemy,numproj
triggerall = P2bodydist X = [-5,60]
triggerall = var(57) < 10 || P2bodydist X > 10
triggerall = P2bodydist Y = [-105,-40]
trigger1 = EnemyNear(var(55)),Vel X >= 0
trigger1 = EnemyNear(var(55)),Vel Y >= 0
trigger1 = (var(57)<=9&&Random<=var(57)*3)||(var(57)>9&&Random<=50)

;---------------------------------------------------------------------------
;弱飛翔日輪斬(若ギース)
[State Scramble Dash]
type = ChangeState
value = 1270
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(57) < 12
triggerall = !var(58)
triggerall = !var(53) || var(53) = 5
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = !Helper(15000+id),var(2)
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = P2BodyDist X = [30,65]
trigger1 = !InGuardDist
trigger1 = Random <= var(57)*3
trigger2 = var(1) = 3
trigger2 = Random <= 50

;---------------------------------------------------------------------------
;強飛翔日輪斬(若ギース)
[State Scramble Dash]
type = ChangeState
value = 1271
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 5 && RoundState = 2
triggerall = var(57) < 12
triggerall = !var(58)
triggerall = !var(53) || var(53) = 5
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = !Helper(15000+id),var(2)
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = P2BodyDist X = [60,92]
trigger1 = !InGuardDist
trigger1 = Random <= var(57)*3
trigger2 = var(1) = 3
trigger2 = Random <= 25

;---------------------------------------------------------------------------
;ダブル烈風拳KOF
[State Scramble Dash]
type = ChangeState
value = 1090
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59) && RoundState = 2
triggerall = !var(58)
triggerall = var(57) < 12
triggerall = var(54) <= 1
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = !Helper(15000+id),var(2)
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = P2BodyDist X = [60,125]
triggerall = P2BodyDist Y > -50
trigger1 = ((var(57) = [1,8])&& Random <= var(57)*3)||(var(57) > 8 && Random <= 5)
trigger2 = var(54) = 1
trigger2 = Random <= var(57)*6

;---------------------------------------------------------------------------
;烈風拳KOF
[State Scramble Dash]
type = ChangeState
value = 1080
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59) && RoundState = 2
triggerall = !var(58)
triggerall = var(54) <= 1
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = !Helper(15000+id),var(2)
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = P2BodyDist X = [60,95]
triggerall = P2BodyDist Y > -50
trigger1 = ((var(57) = [1,8])&& Random <= var(57)*3)||(var(57) > 8 && Random <= 8)
trigger2 = var(54) = 1
trigger2 = Random <= var(57)*6

;---------------------------------------------------------------------------
;強疾風拳
[State Glider Stomp]
type = ChangeState
value = ifelse(var(1) = 3, 1151 ,ifelse(var(1) = 1 ||(var(1) != 0 && Random <=333), 1101, 1121))
triggerall = statetype = A
triggerall = ctrl ||(stateno = [120,140])|| stateno = 103
triggerall = var(59) && RoundState = 2
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
triggerall = P2BodyDist Y = [-50,75]
triggerall = var(1) = 0 || P2BodyDist Y > -20
triggerall = Helper(15000+id),var(52) > 120
trigger1 = EnemyNear(var(55)),StateType = A || var(1) = 1
trigger1 = EnemyNear(var(55)),pos Y < -40
trigger1 = P2BodyDist X = [70,130]
trigger1 = !var(58)
trigger1 = ((var(57) = [5,8])&& Random <= var(57)*5)||(var(57) > 8 && Random <= 25)

;---------------------------------------------------------------------------
;弱烈風拳
[State Slide Touch]
type = ChangeState
value = 1000
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59) && RoundState = 2
triggerall = !var(58)
triggerall = var(54) <= 1
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = var(1) = 1 || Random <= 333
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = P2BodyDist X > 120
triggerall = P2BodyDist Y > -50
trigger1 = ((var(57) = [1,8])&& Random <= var(57)*3)||(var(57) > 8 && Random <= 15)
trigger2 = var(54) = 1 || var(1) = 3
trigger2 = Random <= var(57)*4

;---------------------------------------------------------------------------
;強烈風拳
[State Slide Touch]
type = ChangeState
value = 1010
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59) && RoundState = 2
triggerall = !var(58)
triggerall = var(54) <= 1
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = var(1) = 1 || Random <= 333
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1200) = 0
triggerall = NumProjID(3651) = 0
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = P2BodyDist X > 180
triggerall = P2BodyDist Y > -50
trigger1 = ((var(57) = [1,8])&& Random <= var(57)*3)||(var(57) > 8 && Random <= 8)
trigger2 = var(54) = 1 || var(1) = 3
trigger2 = var(57) > 8
trigger2 = Random <= var(57)*7

;==============================================================================
;地上技振り・投げ
;MAX羅生門
[State Twister Drive]
type = ChangeState
value = ifelse(Random <= 499 , 3701, 3700)
triggerall = StateType != A
triggerall = ctrl ||(stateno = [18,19])||(stateno = 270 && animelemtime(1) >= 1 && animelemtime(6) <0)
triggerall = stateno != [99,100]
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = !var(58) ||(var(57) < 10 && var(58) = 12)
triggerall = power >= 3000 ||(var(20) > 0 && Power >= 1000)
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),prevstateno != [5000,5999]
triggerall = EnemyNear(var(55)),stateno != [140,159]
triggerall = P2statetype != L
triggerall = P2statetype != A
triggerall = P2movetype != H
triggerall = p2bodydist X = [-9,52]
triggerall = p2bodydist X < 28 || var(1) = 3
trigger1 = var(57) < 10
trigger1 = Random <= var(57)*3
trigger2 = var(57) >= 10
trigger2 = Random <= 50
trigger3 = (EnemyNear(var(55)),facing = facing)||(prevstateno = [700,705])|| prevstateno = 750 ||(prevstateno = [5000,5270])
trigger3 = var(57) >= 9
trigger3 = Random <= 300 || var(57) > 10
trigger4 = var(57) > 9
trigger4 = Random <= 150 ||(prevstateno = [200,450])
trigger4 = EnemyNear(var(55)),stateno = [120,131]
trigger4 = Random <= 500 || var(57) > 10
trigger5 = var(57) >= 8
trigger5 = var(58) = 12
trigger5 = p2bodydist X = [-9,46]
trigger5 = p2bodydist X < 24 || var(1) = 3

;---------------------------------------------------------------------------
;羅生門 / 投げレイジング
[State Twister Drive]
type = ChangeState
value = ifelse(Random <= 499 && P2bodyDist X < 20, 3300, 3200)
triggerall = StateType != A
triggerall = ctrl ||(stateno = [18,19])||(stateno = 270 && animelemtime(1) >= 1 && animelemtime(6) <0)
triggerall = stateno != [99,100]
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = !var(58) || var(58) = 12
triggerall = power >= 1000 || var(20)
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),prevstateno != [5000,5999]
triggerall = EnemyNear(var(55)),stateno != [140,159]
triggerall = P2statetype != L
triggerall = P2statetype != A
triggerall = P2movetype != H
triggerall = p2bodydist X = [-9,48]
triggerall = p2bodydist X < 27 || var(1) = 3
trigger1 = var(57) < 10
trigger1 = Random <= var(57)*3
trigger2 = var(57) >= 10
trigger2 = Random <= 50
trigger3 = (EnemyNear(var(55)),facing = facing)||(prevstateno = [700,705])|| prevstateno = 750 ||(prevstateno = [5000,5270])
trigger3 = var(57) >= 9
trigger3 = Random <= 200 || var(57) > 10
trigger4 = var(57) > 9
trigger4 = Random <= 150 ||(prevstateno = [200,450])
trigger4 = EnemyNear(var(55)),stateno = [120,131]
trigger4 = Random <= 500 || var(57) > 10
trigger5 = var(57) >= 8
trigger5 = var(58) = 12
trigger5 = p2bodydist X = [-9,40]
trigger5 = p2bodydist X < 23 || var(1) = 3

;---------------------------------------------------------------------------
;裏雲隠し・ナイトメア
[State Scramble Dash]
type = ChangeState
value = 1310
triggerall = StateType != A
triggerall = ctrl ||(stateno = [18,19])||(stateno = 270 && animelemtime(1) >= 1 && animelemtime(6) <0)
triggerall = stateno != [99,100]
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = !var(58) || var(58) = 12
triggerall = var(1) = 3
triggerall = EnemyNear(var(55)),prevstateno != [5000,5999]
triggerall = EnemyNear(var(55)),stateno != [140,159]
triggerall = EnemyNear(var(55)),stateno != 40
triggerall = P2statetype != L
triggerall = P2statetype != A
triggerall = P2movetype != H
triggerall = p2bodydist X = [-9,20]
trigger1 = var(57) < 10
trigger1 = Random <= var(57)*5
trigger2 = var(57) >= 10
trigger2 = Random <= 80
trigger3 = (EnemyNear(var(55)),facing = facing)||(prevstateno = [120,159])||(prevstateno = [700,705])|| prevstateno = 750 ||(prevstateno = [5000,5270])
trigger3 = var(57) >= 9
trigger3 = Random <= 240 || var(57) > 10
trigger4 = var(57) > 9
trigger4 = Random <= 150 ||(prevstateno = [200,450])
trigger4 = EnemyNear(var(55)),stateno = [120,131]
trigger4 = Random <= 333 || var(57) > 10
trigger5 = var(57) >= 8
trigger5 = var(58) = 12
trigger5 = p2bodydist X = [-9,20]
trigger5 = Random <= 333

;---------------------------------------------------------------------------
;真空投げ
[State Scramble Dash]
type = ChangeState
value = 1300
triggerall = StateType != A
triggerall = ctrl ||(stateno = [18,19])||(stateno = 270 && animelemtime(1) >= 1 && animelemtime(6) <0)
triggerall = stateno != [99,100]
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = !var(58) || var(58) = 12
triggerall = EnemyNear(var(55)),prevstateno != [5000,5999]
triggerall = EnemyNear(var(55)),stateno != [140,159]
triggerall = EnemyNear(var(55)),stateno != 40
triggerall = P2statetype != L
triggerall = P2statetype != A
triggerall = P2movetype != H
triggerall = p2bodydist X = [-9,38]
triggerall = p2bodydist X < 24 || var(1) = 3
trigger1 = var(57) < 10
trigger1 = Random <= var(57)*5
trigger2 = var(57) >= 10
trigger2 = Random <= 80
trigger3 = (EnemyNear(var(55)),facing = facing)||(prevstateno = [700,705])|| prevstateno = 750 ||(prevstateno = [5000,5270])
trigger3 = var(57) >= 9
trigger3 = Random <= 240 || var(57) > 10
trigger4 = var(57) > 9
trigger4 = Random <= 150 ||(prevstateno = [200,450])
trigger4 = EnemyNear(var(55)),stateno = [120,131]
trigger4 = Random <= 333 || var(57) > 10
trigger5 = var(57) >= 8
trigger5 = var(58) = 12
trigger5 = p2bodydist X = [-9,34]
trigger5 = p2bodydist X < 20 || var(1) = 3

;---------------------------------------------------------------------------
;真空投げ
[State Scramble Dash]
type = ChangeState
value = 1300
triggerall = StateType != A
triggerall = var(59)
triggerall = var(57) >= 10 && RoundState = 2
triggerall = !var(58)
triggerall = var(1) = 0 || var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = Random <= 60 ||(var(57) > 11 && Random <= 333)
triggerall = EnemyNear(var(55)),stateno = [120,131]
triggerall = P2statetype != A
triggerall = P2movetype != H
triggerall = p2bodydist X = [-9,38]
triggerall = p2bodydist X < 24 || var(1) = 3
triggerall = !movecontact
trigger1 = stateno = 205 || stateno = 235
trigger1 = animelemtime(2) >= 1 && animelemtime(3) <0
trigger2 = stateno = 270 && animelemtime(1) >= 1 && animelemtime(6) <0
trigger3 = stateno = 706 && animelemtime(6) >= 0 && animelemtime(7) <0

;---------------------------------------------------------------------------
;通常投げ 4~6P
[State -3, Kung Fu Throw]
type = ChangeState
value = ifelse((Helper(15000+id),var(52) < 50 && !var(53))|| var(53) = 5 ,830 ,810)
triggerall = var(59) && RoundState = 2
triggerall = var(57) < 12
triggerall = !var(23)
triggerall = var(1) = 1
triggerall = StateType != A
triggerall = ctrl || (stateno = [18,19])
triggerall = stateno != [99,100]
triggerall = EnemyNear(var(55)),prevstateno != [5000,5999]
triggerall = EnemyNear(var(55)),stateno != [140,159]
triggerall = EnemyNear(var(55)),stateNo != 40
triggerall = P2statetype != L
triggerall = P2statetype != A
triggerall = P2movetype != H
triggerall = p2bodydist X = [-5,9]
trigger1 = var(57) < 10
trigger1 = Random <= var(57)*6
trigger2 = var(57) >= 10
trigger2 = Random <= 100
trigger3 = (EnemyNear(var(55)),facing = facing)||(prevstateno = [700,705])|| prevstateno = 750 ||(prevstateno = [5000,5270])
trigger3 = var(57) >= 9
trigger3 = Random <= 300 || var(57) > 10
trigger4 = var(57) > 9
trigger4 = Random <= 150 ||(prevstateno = [200,450])
trigger4 = EnemyNear(var(55)),stateno = [120,131]
trigger4 = Random <= 500 || var(57) > 10

;---------------------------------------------------------------------------
;通常投げ 1~3P 7~12P
[State -3, Kung Fu Throw]
type = ChangeState
value = ifelse((Helper(15000+id),var(52) < 50 && !var(53))|| var(53) = 5 ,820 ,800)
triggerall = var(59) && RoundState = 2
triggerall = var(57) < 12
triggerall = !var(23)
triggerall = var(1) != 1
triggerall = StateType != A
triggerall = ctrl || (stateno = [18,19])
triggerall = stateno != [99,100]
triggerall = EnemyNear(var(55)),prevstateno != [5000,5999]
triggerall = EnemyNear(var(55)),stateno != [140,159]
triggerall = EnemyNear(var(55)),stateNo != 40
triggerall = P2statetype != L
triggerall = P2statetype != A
triggerall = P2movetype != H
triggerall = p2bodydist X = [-5,9]
trigger1 = var(57) < 10
trigger1 = Random <= var(57)*6
trigger2 = var(57) >= 10
trigger2 = Random <= 100
trigger3 = (EnemyNear(var(55)),facing = facing)||(prevstateno = [700,705])|| prevstateno = 750 ||(prevstateno = [5000,5270])
trigger3 = var(57) >= 9
trigger3 = Random <= 300 || var(57) > 10
trigger4 = var(57) > 9
trigger4 = Random <= 150 ||(prevstateno = [200,450])
trigger4 = EnemyNear(var(55)),stateno = [120,131]
trigger4 = Random <= 500 || var(57) > 10

;==============================================================================
;地上技振り・対空(上段)
;レイジングストームKOF96
[State Twister Drive]
type = ChangeState
value = 3000
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = EnemyNear(var(55)),StateType = A
triggerall =(EnemyNear(var(55)),StateNo = [120,159])|| EnemyNear(var(55)),MoveType != H
triggerall = EnemyNear(var(55)),Pos Y < -30
triggerall = P2BodyDist Y = [-130-Floor(EnemyNear(var(55)),vel Y * 9),10]
triggerall = power >= 1000 || var(20)
triggerall = power >= 3000 || Life <= Lifemax * 0.3
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
trigger1 = P2BodyDist X = [-10,35]
trigger1 = ((var(57) = [7,9])&& Random <= 40)
trigger2 = (EnemyNear(var(55)),Vel X <= 0 &&(P2BodyDist X = [-70,30]))||(EnemyNear(var(55)),Vel X > 0 &&(P2BodyDist X = [-50,50]))
trigger2 = (var(57) = 10 && Random <= 75)||(var(57) > 10 && Random <= 150)
trigger3 = P2BodyDist X = [-10,50]
trigger3 = var(57) > 9
trigger3 = Helper(15000+id),var(51) < 120
trigger3 = EnemyNear(var(55)),BackEdgeBodyDist < 30
trigger3 = (var(57) = 10 && Random <= 175)||(var(57) > 10 && Random <= 250)

;---------------------------------------------------------------------------
;ふっ飛ばし攻撃2
[State -3, 295]
type = ChangeState
value = 298
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59) && RoundState = 2
triggerall = !var(58)
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = !Helper(15000+id),var(2)
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),MoveType != H ||(EnemyNear(var(55)),StateNo != [120,159])
triggerall = (EnemyNear(var(55)),StateNo != [120,159])|| EnemyNear(var(55)),StateType=A
triggerall = P2BodyDist X = [5,35]
triggerall = P2BodyDist Y >= -100
triggerall = !InGuardDist
trigger1 = var(57) < 9
trigger1 = Random <= 40
trigger2 = var(57) >= 9
trigger2 = P2BodyDist X > 15
trigger2 = var(57) < 12 || life > Lifemax * 0.5
trigger2 = EnemyNear(var(55)),StateType = A
trigger2 = Random <= 75

;---------------------------------------------------------------------------
;近距離立ち弱パンチ
[State -3, Stand Light Punch]
type = ChangeState
value = 205
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59) && RoundState = 2
triggerall = !var(58)
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),MoveType != H ||(EnemyNear(var(55)),StateNo != [120,159])
triggerall = (EnemyNear(var(55)),StateNo != [120,159])|| EnemyNear(var(55)),StateType=A
triggerall = !Helper(15000+id),var(2) || Random <= 150
triggerall = !Helper(30000+id),var(54)
triggerall = P2dist X <=45
triggerall = P2BodyDist X >= -3
triggerall = P2BodyDist Y >= -80
triggerall = !InGuardDist
trigger1 = var(57) <= 9
trigger1 = Random <= 40
trigger2 = var(57) = [9,10]
trigger2 = EnemyNear(var(55)),StateType = A
trigger2 = Random <= 75

;---------------------------------------------------------------------------
;しゃがみ強パンチ
[State -3, Crouching Strong Punch]
type = ChangeState
value = 410
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59) && RoundState = 2
triggerall = !var(58)
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),MoveType != H ||(EnemyNear(var(55)),StateNo != [120,159])
triggerall = (EnemyNear(var(55)),StateNo != [120,159]) || EnemyNear(var(55)),StateType=A
triggerall = P2BodyDist X+Floor(EnemyNear(var(55)),vel X * 5) = [15,38]
triggerall = P2BodyDist Y >= -95
triggerall = !Helper(15000+id),var(2)
triggerall = !Helper(30000+id),var(54)
triggerall = !InGuardDist
trigger1 = var(57) <= 9
trigger1 = Random <= 50
trigger2 = var(57) = [10,11]
trigger2 = EnemyNear(var(55)),StateType = A
trigger2 = Random <= 70

;---------------------------------------------------------------------------
;遠距離立ち弱パンチ
[State -3, Stand Light Punch]
type = ChangeState
value = 200
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59) && RoundState = 2
triggerall = !var(58)
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != C
triggerall = EnemyNear(var(55)),MoveType != H ||(EnemyNear(var(55)),StateNo != [120,159])
triggerall = (EnemyNear(var(55)),StateNo != [120,159])|| EnemyNear(var(55)),StateType=A
triggerall = !Helper(15000+id),var(2)
triggerall = !Helper(30000+id),var(54)
triggerall = P2dist X > 45
triggerall = P2BodyDist X+Floor(EnemyNear(var(55)),vel X * 4) = [30,50]
triggerall = P2BodyDist Y >= -70
triggerall = !InGuardDist
trigger1 = var(57) < 9
trigger1 = Random <= 30
trigger2 = var(57) = [9,11]
trigger2 = EnemyNear(var(55)),StateType = A
trigger2 = Random <= 25

;==============================================================================
;地上技振り・中段
;不動活殺裏拳
[State -3, a]
type = ChangeState
value = 260
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = !var(58)
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = var(57) >= 3 && RoundState = 2
triggerall = var(57) < 12
triggerall = !Helper(15000+id),var(2)
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = (!InGuardDist)||(life >= lifemax * 0.6)
triggerall = P2BodyDist X+Floor(EnemyNear(var(55)),vel X * 10) = [38,70]
triggerall = P2BodyDist Y >= -30
trigger1 = Random <= 15
trigger2 = var(57) = [6,9]
trigger2 = EnemyNear(var(55)),StateType = C
trigger2 = Random <= 80

;---------------------------------------------------------------------------
;飛燕失脚1
[State -3, a]
type = ChangeState
value = 250
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = !var(58)
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = var(57) >= 3 && RoundState = 2
triggerall = var(57) < 12
triggerall = !Helper(15000+id),var(2)
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = (!InGuardDist)||(life >= lifemax * 0.6)
triggerall = P2BodyDist X+Floor(EnemyNear(var(55)),vel X * 10) = [65,112]
triggerall = P2BodyDist Y >= -30
trigger1 = var(57) < 10 || var(20)
trigger1 = Random <= 15
trigger2 = var(57) = [6,9]
trigger2 = EnemyNear(var(55)),StateType = C
trigger2 = Random <= 80

;---------------------------------------------------------------------------
;飛燕失脚1
[State -3, a]
type = ChangeState
value = 250
triggerall = var(59)
triggerall = !var(58)
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = !Helper(15000+id),var(2)
triggerall = statetype != A && RoundState = 2
triggerall = ctrl || (stateno = [18,19]) || stateno = 100 || (StateNo=[120,140])
triggerall = P2BodyDist X+Floor(EnemyNear(var(55)),vel X * 10) = [65,112]
triggerall = enemynear(var(55)),animtime <= -15
triggerall = enemy,hitdefattr = C, NA
trigger1 = var(57) = [7,9]
trigger1 = Random <= var(57)*5
trigger2 = var(57) = 10
trigger2 = Random <= 100
trigger3 = var(57) > 10
trigger3 = Random <= 120

;==============================================================================
;地上技振り・下段
;しゃがみ弱キック
[State -3, Crouching Light Kick]
type = ChangeState
value = 430
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59) && RoundState = 2
triggerall = !var(58)
triggerall = !Helper(15000+id),var(2) || Random <= 250
triggerall = EnemyNear(var(55)),StateType = S
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = (!InGuardDist) || (life >= lifemax * 0.6)
triggerall = P2BodyDist X = [-7,45+Floor(EnemyNear(var(55)),vel X * 5)]
triggerall = P2BodyDist Y >= -25
trigger1 = var(57) < 9
trigger1 = Random <= var(57)*9
trigger2 = var(57) = [9,10]
trigger2 = var(57) = 9 || life > Lifemax * 0.65
trigger2 = Random <= 60

;---------------------------------------------------------------------------
;しゃがみ弱パンチ
[State -3, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59) && RoundState = 2
triggerall = !var(58)
triggerall = EnemyNear(var(55)),StateType = S
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = (!InGuardDist) || (life >= lifemax * 0.6)
triggerall = P2BodyDist X = [-7,36+Floor(EnemyNear(var(55)),vel X * 5)]
triggerall = P2BodyDist Y >= -25
triggerall = !Helper(15000+id),var(2) || Random <= 200
triggerall = !Helper(30000+id),var(54)
trigger1 = var(57) < 10
trigger1 = Random <= var(57)*6
trigger2 = var(57) >= 10
trigger2 = var(57) < 12 || life > Lifemax * 0.5
trigger2 = Random <= 50
trigger3 = Random <= var(57)*20
trigger3 = EnemyNear(var(55)),AnimTime <= -5
trigger3 = EnemyNear(var(55)),MoveType = I
trigger3 = EnemyNear(var(55)),StateNo = [200,649]

;---------------------------------------------------------------------------
;しゃがみ強キック
[State -3, Crouching Strong Kick]
type = ChangeState
value = 440
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59) && RoundState = 2
triggerall = !var(58)
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = P2BodyDist X+Floor(EnemyNear(var(55)),vel X * 9) = [-5,50]
triggerall = P2BodyDist Y >= -30
trigger1 = !InGuardDist
trigger1 = var(57) < 10
trigger1 = Random <= 50 - var(57)*4

;---------------------------------------------------------------------------
;飛燕失脚2
[State -3, a]
type = ChangeState
value = 450
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59) && RoundState = 2
triggerall = !var(58)
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = P2BodyDist X+Floor(EnemyNear(var(55)),vel X * 12) = [50,90]
triggerall = P2BodyDist Y >= -30
trigger1 = !InGuardDist
trigger1 = var(57) < 10
trigger1 = Random <= 45 - var(57)*3

;==============================================================================
;地上技振り・上段
;近距離立ち弱キック
[State -3, Stand Light Kick]
type = ChangeState
value = 235
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = !var(58)
triggerall = !Helper(15000+id),var(2) || Random <= 250
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A || !var(7)
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = (!InGuardDist)||(life >= lifemax * 0.6)
triggerall = P2dist X <=45
triggerall = P2BodyDist Y >= -50
trigger1 = var(57) < 10
trigger1 = Random <= var(57)*7
trigger2 = var(57) >= 10
trigger2 = var(57) < 12 || life > Lifemax * 0.5
trigger2 = Random <= 85

;---------------------------------------------------------------------------
;近距離立ち強キック
[State -3, Standing Strong Kick]
type = ChangeState
value = 245
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59) && RoundState = 2
triggerall = !var(58)
triggerall = !Helper(15000+id),var(2)
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A || !var(7)
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = (!InGuardDist) || (life >= lifemax * 0.6)
triggerall = P2dist X <= 55
triggerall = P2BodyDist Y >= -65
trigger1 = var(57) < 10
trigger1 = Random <= var(57)*9
trigger2 = var(57) >= 10
trigger2 = Random <= 125
trigger3 = var(57) > 7 && Random <= var(57)*33
trigger3 = EnemyNear(var(55)),AnimTime <= -6
trigger3 = EnemyNear(var(55)),MoveType = I
trigger3 = EnemyNear(var(55)),StateNo = [200,649]

;---------------------------------------------------------------------------
;近距離立ち強パンチ
[State -3, Stand Strong Punch]
type = ChangeState
value = 215
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59) && RoundState = 2
triggerall = !var(58)
triggerall = !Helper(15000+id),var(2) || Random <= 100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A || !var(7)
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = (!InGuardDist) || (life >= lifemax * 0.6)
triggerall = P2dist X <= 59
triggerall = P2BodyDist Y >= -20
trigger1 = var(57) < 10
trigger1 = Random <= var(57)*9
trigger2 = var(57) >= 10
trigger2 = var(57) < 12 || life > Lifemax * 0.5
trigger2 = Random <= 95
trigger3 = Random <= var(57)*30
trigger3 = EnemyNear(var(55)),AnimTime <= -5
trigger3 = EnemyNear(var(55)),MoveType = I
trigger3 = EnemyNear(var(55)),StateNo = [200,649]

;---------------------------------------------------------------------------
;遠距離立ち弱キック
[State -3, Stand Light Kick]
type = ChangeState
value = 230
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59) && RoundState = 2
triggerall = !var(58)
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A || !var(7)
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = (!InGuardDist) || (life >= lifemax * 0.6)
triggerall = P2dist X >45
triggerall = P2BodyDist X = [35,76+Floor(EnemyNear(var(55)),vel X * 5)]
triggerall = P2BodyDist Y >= -40
triggerall = !Helper(15000+id),var(2)
triggerall = !Helper(30000+id),var(54)
trigger1 = var(57) < 10
trigger1 = Random <= var(57)*3
trigger2 = var(57) >= 10
trigger2 = var(57) < 12 || life > Lifemax * 0.5
trigger2 = Random <= 25
trigger3 = Random <= var(57)*30
trigger3 = EnemyNear(var(55)),AnimTime <= -5
trigger3 = EnemyNear(var(55)),MoveType = I
trigger3 = EnemyNear(var(55)),StateNo = [200,649]

;---------------------------------------------------------------------------
;遠距離立ち強パンチ KOF
[State -3, Stand Strong Punch]
type = ChangeState
value = 210
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = !var(58)
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != C || var(57) < 8
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = !Helper(15000+id),var(2)
triggerall = !Helper(30000+id),var(54)
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = P2dist X > 59
triggerall = P2BodyDist X+Floor(EnemyNear(var(55)),vel X * 6) = [30,62]
triggerall = P2BodyDist Y >= -75
triggerall = !InGuardDist
trigger1 = var(57) < 9
trigger1 = Random <= 50 - var(57)*3
trigger2 = var(57) = [9,11]
trigger2 = Random <= 25
trigger3 = var(57) > 5 && Random <= 333
trigger3 = EnemyNear(var(55)),AnimTime <= -6
trigger3 = EnemyNear(var(55)),MoveType = I
trigger3 = EnemyNear(var(55)),StateNo = [200,649]

;---------------------------------------------------------------------------
;遠距離立ち強パンチ 餓狼
[State -3, Stand Strong Punch]
type = ChangeState
value = 211
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59)
triggerall = var(57) >= 3 && RoundState = 2
triggerall = !var(58)
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != C || var(57) < 8
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = !Helper(15000+id),var(2)
triggerall = !Helper(30000+id),var(54)
triggerall = var(1) = 1 || var(1) = 2
triggerall = P2dist X > 59
triggerall = P2BodyDist X+Floor(EnemyNear(var(55)),vel X * 7) = [30,65]
triggerall = P2BodyDist Y >= -75
triggerall = !InGuardDist
trigger1 = var(57) < 9
trigger1 = Random <= 50 - var(57)*3
trigger2 = var(57) = [9,10]
trigger2 = Random <= 20
trigger3 = var(57) > 5 && Random <= 333
trigger3 = EnemyNear(var(55)),AnimTime <= -7
trigger3 = EnemyNear(var(55)),MoveType = I
trigger3 = EnemyNear(var(55)),StateNo = [200,649]

;---------------------------------------------------------------------------
;遠距離立ち強キック1
[State -3, Standing Strong Kick]
type = ChangeState
value = 240
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59) && RoundState = 2
triggerall = !var(58)
triggerall = EnemyNear(var(55)),StateType != L
triggerall = EnemyNear(var(55)),StateType != A
triggerall = EnemyNear(var(55)),MoveType != H
triggerall = EnemyNear(var(55)),StateNo != [120,159]
triggerall = P2dist X >55
triggerall = P2BodyDist X+Floor(EnemyNear(var(55)),vel X * 7) = [35,78]
triggerall = P2BodyDist Y >= -50
trigger1 = !InGuardDist
trigger1 = var(57) < 9
trigger1 = Random <= 30 - var(57)*3

;==============================================================================
;空中技振り
;空中弱パンチ
[State -3, Jump Light Punch]
type = ChangeState
value = 605
triggerall = var(59)
triggerall = var(57) >= 1 && RoundState = 2
triggerall = var(16) != 2
triggerall = statetype = A
triggerall = ctrl ||(StateNo = [120,140])
triggerall = Random <= var(57)*50
triggerall = P2BodyDist X = [-10,35+Floor(vel X * 10)]
triggerall = P2BodyDist Y = [-55,65]
trigger1 = EnemyNear(var(55)),StateType = A
trigger1 = EnemyNear(var(55)),MoveType != H

;---------------------------------------------------------------------------
;空中ふっ飛ばし攻撃2
[State -3, Jump Strong Kick]
type = ChangeState
value = 695
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = 1 || var(1) = 2 || var(1) = 3
triggerall = statetype = A
triggerall = ctrl ||(StateNo = [120,140])
triggerall = Random <= var(57)*50
triggerall = P2BodyDist X = [-3,40+Floor(vel X * 10)]
triggerall = P2BodyDist Y = [-50,75]
trigger1 = EnemyNear(var(55)),StateType = A || Random <= 150
trigger1 = EnemyNear(var(55)),MoveType != H
trigger1 = vel X >= 0
trigger1 = vel Y > 0 || EnemyNear(var(55)),StateType = A

;---------------------------------------------------------------------------
;空中ふっ飛ばし攻撃1
[State -3, Jump Strong Kick]
type = ChangeState
value = 690
triggerall = var(59)
triggerall = var(57) >= 6 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = statetype = A
triggerall = ctrl ||(StateNo = [120,140])
triggerall = stateno != 106
triggerall = Random <= var(57)*50
triggerall = P2BodyDist X = [-10,60+Floor(vel X * 10)]
triggerall = P2BodyDist Y = [-85,65]
trigger1 = EnemyNear(var(55)),StateType = A
trigger1 = EnemyNear(var(55)),MoveType != H
trigger1 = vel X >= 0

;---------------------------------------------------------------------------
;空中弱キック
[State -3, Jump Light Kick]
type = ChangeState
value = 635
triggerall = var(59) && RoundState = 2
triggerall = var(16) != 2
triggerall = statetype = A
triggerall = ctrl ||(StateNo = [120,140])
triggerall = Random <= var(57)*100
triggerall = P2BodyDist X = [-10,50]
triggerall = P2BodyDist Y = [-50,76]
trigger1 = EnemyNear(var(55)),StateType = A
trigger1 = EnemyNear(var(55)),MoveType != H
trigger1 = vel X < 0

;---------------------------------------------------------------------------
;垂直空中強パンチ
[State -3, Jump Strong Punch]
type = ChangeState
value = 610
triggerall = var(59)
triggerall = var(57) >= 1 && RoundState = 2
triggerall = var(16) = 2
triggerall = statetype = A
triggerall = ctrl ||(StateNo = [120,140])
triggerall = Random <= var(57)*50
triggerall = EnemyNear(var(55)),StateType != L
triggerall = P2BodyDist X = [-10,45]
triggerall = P2BodyDist Y = [-35,75]
trigger1 = EnemyNear(var(55)),StateType != A
trigger1 = EnemyNear(var(55)),MoveType != H
trigger1 = vel X = 0
trigger1 = vel Y >= 0

;---------------------------------------------------------------------------
;小中ジャンプ強パンチ
[State -3, Jump Strong Punch]
type = ChangeState
value = 612
triggerall = var(59)
triggerall = var(57) >= 1 && RoundState = 2
triggerall = var(16) = 1
triggerall = statetype = A
triggerall = ctrl ||(StateNo = [120,140])
triggerall = Random <= var(57)*50
triggerall = EnemyNear(var(55)),StateType != L
triggerall = P2BodyDist X = [-10,45]
triggerall = P2BodyDist Y = [-35,75]
trigger1 = EnemyNear(var(55)),StateType != A
trigger1 = EnemyNear(var(55)),MoveType != H
trigger1 = vel X = 0
trigger1 = vel Y >= 0

;---------------------------------------------------------------------------
;空中弱キック
[State -3, Jump Light Kick]
type = ChangeState
value = 635
triggerall = var(59) && RoundState = 2
triggerall = var(16) != 2
triggerall = statetype = A
triggerall = ctrl ||(StateNo = [120,140])
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = P2BodyDist X = [-32,20]
triggerall = Pos Y > -47 || P2Dist X < 0
triggerall = P2BodyDist Y = [-50,75+Floor(vel Y * 5)]
trigger1 = vel X > 0
trigger1 = vel Y > 0

;---------------------------------------------------------------------------
;空中強パンチ
[State -3, Jump Strong Punch]
type = ChangeState
value = 615
triggerall = var(59) && RoundState = 2
triggerall = !(var(16) = [1,2])
triggerall = statetype = A
triggerall = ctrl ||(StateNo = [120,140])
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = P2BodyDist X = [-9,32]
triggerall = P2BodyDist Y = [-65,72+Floor(vel Y * 5)]
trigger1 = vel X >= 0
trigger1 = vel Y > 0

;---------------------------------------------------------------------------
;空中強キック
[State -3, Jump Strong Kick]
type = ChangeState
value = 640
triggerall = var(59) && RoundState = 2
triggerall = statetype = A
triggerall = ctrl ||(StateNo = [120,140])
triggerall = Random <= var(57)*100
triggerall = EnemyNear(var(55)),StateType != L
triggerall = P2BodyDist X = [10,72]
triggerall = EnemyNear(var(55)),StateType != A || P2BodyDist X < 55
triggerall = (var(16) = [1,2])||(P2BodyDist X > 30 && P2bodydist Y > 0)
triggerall = P2BodyDist Y = [-40,48+Floor(vel Y * 7)]
trigger1 = vel X >= 0
trigger1 = vel Y > 0

;---------------------------------------------------------------------------
;弱疾風拳KOF
[State Glider Stomp]
type = ChangeState
value = ifelse(var(1) = 3, 1150, 1120)
triggerall = var(59)
triggerall = var(57) >= 9 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = statetype = A
triggerall = ctrl ||(StateNo = [120,140])
triggerall = stateno != 106
triggerall = Random <= var(57)*10
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
triggerall = P2BodyDist X = [80,120]
triggerall = P2BodyDist Y = [-20,110]
trigger1 = EnemyNear(var(55)),StateType != L
trigger1 = EnemyNear(var(55)),StateType != A
trigger1 = EnemyNear(var(55)),MoveType != H
trigger1 = vel X > 0
trigger1 = vel Y >= 0
trigger1 = Pos Y < -60

;---------------------------------------------------------------------------
;強疾風拳KOF
[State Glider Stomp]
type = ChangeState
value = 1121
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = var(1) = 0 || var(1) = 2 || var(1) = 3
triggerall = statetype = A
triggerall = ctrl ||(StateNo = [120,140])
triggerall = Random <= var(57)*10
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
triggerall = P2BodyDist X = [70,140]
triggerall = P2BodyDist Y < -20
trigger1 = EnemyNear(var(55)),StateType != L
trigger1 = EnemyNear(var(55)),MoveType != H
trigger1 = Helper(15000+id),var(52) > 160
trigger1 = vel X <= 0
trigger1 = vel Y <= 0
trigger1 = Pos Y < -60

;---------------------------------------------------------------------------
;強ダブル疾風拳
[State Glider Stomp]
type = ChangeState
value = 1151
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = var(1) = 3
triggerall = statetype = A
triggerall = Random <= var(57)*15
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
trigger1 = ctrl ||(StateNo = [120,140])
trigger1 = EnemyNear(var(55)),StateType != L
trigger1 = EnemyNear(var(55)),MoveType = A ||(EnemyNear(var(55)),MoveType = I && Random < 150)
trigger1 = P2BodyDist X = [70,150]
trigger1 = P2BodyDist Y < -20
trigger1 = Helper(15000+id),var(52) > 160
trigger1 = vel X > 0
trigger1 = vel Y = 0
trigger1 = Pos Y < -60
trigger2 = stateno = 105 && animelemtime(2) >= 1
trigger2 = P2BodyDist X < 65

;---------------------------------------------------------------------------
;強ダブル疾風拳KOF
[State Glider Stomp]
type = ChangeState
value = 1161
triggerall = var(59)
triggerall = var(57) >= 7 && RoundState = 2
triggerall = var(1) = 3
triggerall = statetype = A
triggerall = Random <= var(57)*15
triggerall = NumProjID(1000) = 0
triggerall = NumProjID(1050) = 0
trigger1 = stateno = 105 && animelemtime(3) >= 1
trigger1 = P2BodyDist X < 80

;==============================================================================
;その他
;バックステップ
[State -3, Back Step]
type = ChangeState
value = 105
triggerall = alive
triggerall = var(59) && RoundState = 3
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
trigger1 = FrontEdgeBodyDist < 70

;ダッシュ
[State -3, Dush]
type=changestate
value = 100
ctrl = 0
triggerall = var(59) && RoundState = 3
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19])
triggerall = alive
trigger1 = P2BodyDist X > 20
trigger1 = BackEdgeBodyDist <= 35

;大ジャンプ
[State -3, ジャンプ]
type = ChangeState
value = 36
triggerall = var(59) && RoundState = 3
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19])
triggerall = alive
trigger1 = P2BodyDist X <= 20
trigger1 = BackEdgeBodyDist <= 30

;挑発
[State -3, Taunt]
type = ChangeState
value = ifelse(Random <= 499, 730, 731)
triggerall = alive
triggerall = statetype != A
triggerall = ctrl || (stateno = [18,19]) || stateno = 100
triggerall = var(59) && RoundState = 3
triggerall = fvar(38) = 1 || fvar(38) = 3
trigger1 = Life > Lifemax * 0.5
trigger1 = FrontEdgeBodyDist >= 70 && BackEdgeBodyDist > 70




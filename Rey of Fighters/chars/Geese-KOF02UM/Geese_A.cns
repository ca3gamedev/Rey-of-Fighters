;変数使用表
;　1 = モード
;　2 = 
;　3 = ステート内自由変数３
;　4 = 
;　5 = ステート内自由変数１
;　6 = ステート内自由変数２
;　7 = 空中連続ヒット制限
;　8 = 空中追撃可能猶予時間
;　9 = 相手キャラクター判別
; 10 = プレイヤーの向き設定
; 11 = 暗転用変数
; 12 = KOサウンド
; 13 = 勝利判定
; 14 = 
; 15 = ハイジャンプ
; 16 = 小ジャンプ・垂直ジャンプ
; 17 = 
; 18 = 通常技空中ヒットフラグ
; 19 = 
; 20 = MAX
; 21 = MAX発動中のパワーゲージ
; 22 = 
; 23 = 地上ヒットorガードから復帰した直後の相手を投げれなくする時間
; 24 = 空中通常技が地上の相手にヒットしたときのフラグ
; 25 = 
; 26 = ネバリ補正スイッチ
; 27 = 襖演出スイッチ
; 28 = ナイトメアレイジングデッドエンド発動状態

; 30 = 
; 31 = 
; 32 = 

; 47 = カウンターヒット演出用
; 48 = カウンターヒット判定
; 49 = カウンターヒットフラグ
; 50 = 


; f(0) = 最終的な攻撃力補正値
; f(1) = 
; f(2) = 
; f(3) = ネバリ補正
; f(4) = どこキャン攻撃力補正
; f(5) = MAX発動攻撃補正

; channel = 4	
; channel = 5	イントロ


[Data]
life = 1000
power = 5000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 20
airjuggle = 25
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 255
IntPersistIndex = 0
FloatPersistIndex = 40

[Size]
xscale = 1           ;Horizontal scaling factor.
yscale = 1           ;Vertical scaling factor.
ground.back = 16     ;Player width (back, ground)
ground.front = 15    ;Player width (front, ground)
air.back = 15        ;Player width (back, air)
air.front = 15      ;Player width (front, air)
height = 83          ;Height of player (for opponent to jump over)
attack.dist = 160    ;Default attack distance
proj.attack.dist = 140 ;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too
head.pos = 5, -99   ;Approximate position of head
mid.pos = -4, -72    ;Approximate position of midsection
shadowoffset = 0     ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 2.475      ;Walk forward
walk.back = -2.175     ;Walk backward
run.fwd  = 6.4, 0    ;Run forward (x, y)
run.back = -11.0,-2.0 ;Hop backward (x, y)
jump.neu = 0,-11.0    ;Neutral jumping velocity (x, y)31
jump.back = -3.5    ;Jump back Speed (x, y)
jump.fwd = 3.5       ;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1 ;Running jump speeds (opt)
runjump.fwd = 4,-8.1      ;.
airjump.neu = 0,-8.1      ;.
airjump.back = -2.55      ;Air jump speeds (opt)
airjump.fwd = 2.5         ;.

[Movement]
airjump.num = 0      ;Number of air jumps allowed (opt)
airjump.height = 35  ;Minimum distance from ground before you can air jump (opt)
yaccel = .68         ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 180]
type = S

;---------------------[]
[State 01];対テリー アンディ ギース クラウザー
type = ChangeState
triggerall = var(1) != 3
triggerall = var(9) = 1
triggerall = time = 0
trigger1 = TeamMode = single
trigger1 = matchover
trigger2 = TeamMode = simul
trigger3 = TeamMode = turns
value = 187

[State 01];対アルバ
type = ChangeState
triggerall = var(1) != 3
triggerall = var(9) = 3
triggerall = time = 0
trigger1 = TeamMode = single
trigger1 = matchover
trigger2 = TeamMode = simul
trigger3 = TeamMode = turns
value = 188

;---------------------[ボタンで選択可]
[State 180,0]
type = ChangeState
trigger1 = Command = "おしっぱなしa"
value = 182

[State 180,0]
type = ChangeState
trigger1 = Command = "おしっぱなしb"
value = 183

[State 180,ChangeState]
type = ChangeState
trigger1 = Command = "おしっぱなしc"
value = 184

[State 180,ChangeState]
type = ChangeState
trigger1 = Command = "おしっぱなしx"
value = 185

[State 180,ChangeState]
type = ChangeState
triggerall = var(1) = 3
trigger1 = Command = "おしっぱなしy"
value = 186

[State 01];通常勝利ポーズ
type = ChangeState
triggerall = var(1) != 3
trigger1 = time = 0
value = 182+random%4;+random%6

[State 01];ナイトメア用勝利ポーズ
type = ChangeState
triggerall = var(1) = 3
trigger1 = time = 0
value = 182+random%5;+random%6

;---------------------------------------------------------------------------
;勝利ポーズ
;腕を交差
[Statedef 182]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 180];Die yaboo
type = PlaySnd
trigger1 = animelemtime(9)=0
value = 182,3

[State 1, ScreenBound];カメラ固定
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;--------------------------------
[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,150]
flag = roundnotover

;---------------------------------------------------------------------------
;勝利ポーズ
;高笑い→Die yaboo
[Statedef 183]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 180, PlaySnd];はっはっはっはっは…
type = PlaySnd
trigger1 = animelemtime(3)=0
value = 182,4

[State 180];Die yaboo
type = PlaySnd
trigger1 = animelemtime(27)=0
value = 182,5

[State 1, ScreenBound];カメラ固定
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;--------------------------------リッパーHelper
[State 1000, Helper]
type = helper
triggerall = var(1) != 3
trigger1 = animelem = 7
id = 10182
persistent = 0
pos =-11 - BackEdgeDist , 0
Stateno = 10182
helpertype = normal
keyctrl = 0

;--------------------------------ホッパーHelper
[State 1000, Helper]
type = helper
triggerall = var(1) != 3
trigger1 = animelem = 8
id = 10184
persistent = 0
pos =-41 - BackEdgeDist , 0
Stateno = 10184
helpertype = normal
keyctrl = 0

;--------------------------------
[State 184, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,305]
flag = roundnotover

;---------------------------------------------------------------------------
;(HELPER)リッパー歩き
[Statedef 10182]
type    = S
movetype= I
physics = N
velset = 1.5,0
ctrl = 0
anim = 10182
;sprpriority = 2

[State 10187,]
type = ChangeState
trigger1 = ParentDist X <= -48
value = 10183

;---------------------------------------------------------------------------
;(HELPER)リッパー停止
[Statedef 10183]
type = S
movetype = I
physics = S
anim = 10183
velset = 0, 0

[State 10188,Null]
type = Null
trigger1 = 1

;---------------------------------------------------------------------------
;(HELPER)ホッパー歩き
[Statedef 10184]
type    = S
movetype= I
physics = N
velset = 1.5,0
ctrl = 0
anim = 10184
sprpriority = 3

[State 10187,]
type = ChangeState
trigger1 = ParentDist X <= 48
value = 10185

;---------------------------------------------------------------------------
;(HELPER)ホッパー停止
[Statedef 10185]
type = S
movetype = I
physics = S
anim = 10185
velset = 0, 0

[State 10188,Null]
type = Null
trigger1 = 1

;---------------------------------------------------------------------------
; 通常勝利3(両手を腰にして笑う)
[Statedef 184]
type = S
ctrl = 0
anim = 183
velset = 0,0

;---------------------[効果音]
[State 00];ハッハッハ
type = PlaySnd
trigger1 = animelem = 1
value = 182,0

[State 1, ScreenBound];カメラ固定
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------[演出]
[State 181, 4]
type = AssertSpecial
trigger1 = time = [0,120]
flag = roundnotover

;---------------------------------------------------------------------------
; 通常勝利4(不満そうに腕組)
[Statedef 185]
type = S
ctrl = 0
anim = 184
velset = 0,0

;---------------------[効果音]
[State 00];フンッ！
type = PlaySnd
trigger1 = animelem = 4
value = 182,1

[State 1, ScreenBound];カメラ固定
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------[演出]
[State 181, 4]
type = AssertSpecial
trigger1 = time = [0,90]
flag = roundnotover

;---------------------------------------------------------------------------
; 通常勝利5(ナイトメア不満そうに腕組)
[Statedef 186]
type = S
ctrl = 0
anim = 185
velset = 0,0

;---------------------[効果音]
[State 00];悪夢に怯えるか
type = PlaySnd
trigger1 = animelem = 3
value = 182,8

[State 00];惰弱な
type = PlaySnd
trigger1 = animelem = 15
value = 182,9

[State 1, ScreenBound];カメラ固定
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------[演出]
[State 181, 4]
type = AssertSpecial
trigger1 = time = [0,200]
flag = roundnotover

;---------------------------------------------------------------------------
; 対テリー・アンディ・ギース・クラウザー用勝利
[Statedef 187]
type = S
ctrl = 0
anim = 186
velset = 0,0

[State -2, VarSet];
type = VarSet
trigger1 = 1
var(9) = 0

;---------------------[効果音]
[State 00];私の…勝ちだ
type = PlaySnd
trigger1 = animelemtime(2) = 10
value = 182,2

[State 1, ScreenBound];カメラ固定
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------[演出]
[State 181, 4]
type = AssertSpecial
trigger1 = time = [0,160]
flag = roundnotover

;---------------------------------------------------------------------------
; 対アルバ勝利
[Statedef 188]
type = S
ctrl = 0
anim = 187
velset = 0,0

[State -2, VarSet];
type = VarSet
trigger1 = 1
var(9) = 0

;---------------------[効果音]
[State 00];この程度の男がトップとは…
type = PlaySnd
trigger1 = animelem = 3
value = 182,6

[State 00];サウスタウンもくだらん街になったものだ
type = PlaySnd
trigger1 = animelem = 18
value = 182,7

[State 1, ScreenBound];カメラ固定
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------[演出]
[State 181, 4]
type = AssertSpecial
trigger1 = time = [0,360]
flag = roundnotover

;---------------------------------------------------------------------------
; 登場
[Statedef 190]
type = S
ctrl = 0
anim = 190
velset = 0,0

;---------------------[特殊イントロ]
[State 190,];対テリー アンディ ギース クラウザー
type = ChangeState
triggerall = var(1) != 3
triggerall = time = 0
trigger1 = p2name = "Terry Bogard" || p4name = "Terry Bogard"
trigger2 = p2name = "Terry" || p4name = "Terry"
trigger3 = p2name = "cvsterry" || p4name = "cvsterry"
trigger4 = p2name = "Ultimate Terry" || p4name = "Ultimate Terry"
trigger5 = p2name = "Andy Bogard" || p4name = "Andy Bogard"
trigger6 = p2name = "Andy" || p4name = "Andy"
trigger7 = p2name = "cvsandy" || p4name = "cvsandy"
trigger8 = (p2name = "Geese" || p4name = "Geese") && !(enemy,authorname = "Ambasa")
trigger9 = p2name = "Geese Howard" || p4name = "Geese Howard"
trigger10 = p2name = "NIGHTMARE GEESE" || p4name = "NIGHTMARE GEESE"
trigger11 = p2name = "N-Geese" || p4name = "N-Geese"
trigger12 = p2name = "Master Geese" || p4name = "Master Geese"
trigger13 = p2name = "W.Krauser" || p4name = "W.Krauser"
trigger14 = p2Name = "Krauser" || p4Name = "Krauser"
trigger15 = p2Name = "Wolfgang Krauser" || p4Name = "Wolfgang Krauser"
trigger16 = p2Name = "terry_FF3RB" || p4Name = "terry_FF3RB"
trigger17 = p2Name = "andy_FF3RB" || p4Name = "andy_FF3RB"
trigger18 = p2Name = "geese_FF3RB" || p4Name = "geese_FF3RB"
trigger19 = p2name = "cvsgeese" || p4name = "cvsgeese"
trigger20 = p2name = "cvsgeese_normal" || p4name = "cvsgeese_normal"
trigger21 = p2name = "cvsgeese_ex" || p4name = "cvsgeese_ex"
value = 193

[State 190,];相手が自分のギースだった場合は2P側のみ特殊に
type = ChangeState
triggerall = var(1) != 3
triggerall = time = 0
trigger1 = (p2name = "Geese" || p4name = "Geese") && (enemy,authorname = "Ambasa")
trigger1 = TeamSide = 2
value = 193

[State 190,];対ロック
type = ChangeState
triggerall = var(1) != 3
triggerall = time = 0
trigger1 = p2name = "Rock Howard" || p4name = "Rock Howard"
trigger2 = p2name = "Rock" || p4name = "Rock"
trigger3 = p2name = "NeoRock" || p4name = "NeoRock"
trigger4 = p2name = "cvsrock" || p4name = "cvsrock"
value = 194

[State 190,];対ビリー
type = ChangeState
triggerall = var(1) != 3
triggerall = time = 0
trigger1 = P2Name = "Billy Kane"	 || P4Name = "Billy Kane"
trigger2 = P2Name = "Billy Kane 95"	 || P4Name = "Billy Kane 95"
trigger3 = P2Name = "Billy Herrington"	 || P4Name = "Billy Herrington"
trigger4 = P2Name = "Billy Karn"	 || P4Name = "Billy Karn"
trigger5 = P2Name = "Billy_Kane"	 || P4Name = "Billy_Kane"
trigger6 = P2Name = "Billy Kane 03 "	 || P4Name = "Billy Kane 03 "
trigger7 = P2Name = "ffsp_billy"	 || P4Name = "ffsp_billy"
value = 195

[State 190,];対マリー
type = ChangeState
triggerall = var(1) != 3
triggerall = time = 0
trigger1 = p2name = "Blue Mary" || P4Name = "Blue Mary"
trigger2 = p2name = "Mary" || P4Name = "Mary"
trigger3 = p2name = "mary" || P4Name = "mary"
value = 196

[State 190,];ナイトメア用
type = ChangeState
trigger1 = var(1) = 3
trigger1 = time = 0
value = 197

[State 190,];対キング・京子・リンディス・魔理沙
type = ChangeState
triggerall = var(1) != 3
triggerall = time = 0
trigger1 = EnemyNear(var(55)),Name = "MARISA,K"
trigger1 = EnemyNear(var(55)),AuthorName = "hoe2+seizi"
trigger2 = EnemyNear(var(55)),Name = "King"
trigger2 = EnemyNear(var(55)),AuthorName = "Ambasa"
trigger3 = EnemyNear(var(55)),Name = "kyoko_typeP"
trigger3 = EnemyNear(var(55)),AuthorName = "Ambasa"
trigger4 = EnemyNear(var(55)),Name = "Lyndis"
trigger4 = EnemyNear(var(55)),AuthorName = "Ambasa"
value = 199

[State 190,];対キング・京子・リンディス・魔理沙（タッグ時）
type = ChangeState
triggerall = var(1) != 3
triggerall = time = 0
triggerall = numenemy = 2
trigger1 = EnemyNear(1),Name = "MARISA,K"
trigger1 = EnemyNear(1),AuthorName = "hoe2+seizi"
trigger2 = EnemyNear(1),Name = "King"
trigger2 = EnemyNear(1),AuthorName = "Ambasa"
trigger3 = EnemyNear(1),Name = "kyoko_typeP"
trigger3 = EnemyNear(1),AuthorName = "Ambasa"
trigger4 = EnemyNear(1),Name = "Lyndis"
trigger4 = EnemyNear(1),AuthorName = "Ambasa"
value = 199

;---------------------[演出]
[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

;---------------------
[State 180 ,VarRandom]
type = VarRandom
triggerall = Command != "おしっぱなしa"
triggerall = Command != "おしっぱなしb"
triggerall = Command != "おしっぱなしc"
trigger1 = time = 0
v = 5
range = 0,2

[State 190, 通常イントロ]
type = ChangeState
Triggerall = Time = 1
triggerall = Command != "おしっぱなしb"
triggerall = Command != "おしっぱなしc"
trigger1 = var(5) = 0
trigger2 = Command = "おしっぱなしa"
value = 191

[State 190, 通常イントロ]
type = ChangeState
Triggerall = Time = 1
triggerall = Command != "おしっぱなしa"
triggerall = Command != "おしっぱなしc"
trigger1 = var(5) = 1
trigger2 = Command = "おしっぱなしb"
value = 192

[State 190, 通常イントロ]
type = ChangeState
Triggerall = Time = 1
triggerall = Command != "おしっぱなしa"
triggerall = Command != "おしっぱなしb"
trigger1 = var(5) = 2
trigger2 = Command = "おしっぱなしc"
value = 198

;---------------------[ステート移行]
[State 191, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; 通常イントロ1 指差し→握りこぶし
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

;---------------------[効果音]
[State 00];you
type = PlaySnd
trigger1 = animelem = 6
value = 181,0
channel = 5

[State 00];フッフ
type = PlaySnd
trigger1 = animelem = 12
value = 181,1
channel = 5

[State 00];ガシッ
type = PlaySnd
trigger1 = animelem = 12
value = 420,0

;---------------------[演出]
[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State a]
type = Explod
trigger1 = anim = 190
trigger1 = animelem = 12
anim = 10190
sprpriority = 2
postype = p1
pos = 0,0
bindtime = 1
under = 0
ownpal = 1

;---------------------[ステート移行]
[State 191, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; 通常イントロ2 上着脱ぐ
[Statedef 192]
type = S
ctrl = 0
anim = 191
velset = 0,0

;---------------------
[State 180 ,VarRandom]
type = VarRandom
trigger1 = time = 0
v = 5
range = 0,1

[state 1]
type = varset
trigger1 = AnimElem = 2
var(5) = 0

;---------------------[効果音]
[State 600, 1];you can not
type = PlaySnd
trigger1 = animelemtime(1) = 60
trigger1 = var(5) = 0
value = 181, 6
channel = 5

[State 600, 1];escape from death
type = PlaySnd
trigger1 = animelemtime(1) = 120
trigger1 = var(5) = 0
value = 181, 7
channel = 5

[State 600, 1];I'll stain my hands
type = PlaySnd
trigger1 = animelemtime(1) = 20
trigger1 = var(5) = 1
value = 181, 8
channel = 5

[State 600, 1];with your blood
type = PlaySnd
trigger1 = animelemtime(1) = 140
trigger1 = var(5) = 1
value = 181, 9
channel = 5

[State 600, 1];バサッ
type = PlaySnd
trigger1 = animelemtime(6) = 0
value = 181, 16

;---------------------[演出]
[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

;---------------------[ステート移行]
[State 191, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; 対テリー アンディ ギース クラウザー
[Statedef 193]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 190,];対ギースの場合はキレる
type = varset
triggerall = time = 1
trigger1 = p2name = "Geese" || p4name = "Geese"
trigger2 = p2name = "Geese Howard" || p4name = "Geese Howard"
trigger3 = p2name = "NIGHTMARE GEESE" || p4name = "NIGHTMARE GEESE"
trigger4 = p2name = "N-Geese" || p4name = "N-Geese"
trigger5 = p2name = "Master Geese" || p4name = "Master Geese"
trigger6 = p2name = "N-Geese" || p4name = "N-Geese"
trigger7 = p2name = "geese_FF3RB" || p4name = "geese_FF3RB"
trigger8 = p2name = "cvsgeese" || p4name = "cvsgeese"
trigger9 = p2name = "cvsgeese_normal" || p4name = "cvsgeese_normal"
trigger10 = p2name = "cvsgeese_ex" || p4name = "cvsgeese_ex"
var(5) = 1

[state 1]
type = varset
trigger1 = time = 0
var(5) = 0

[state 1]
type = varset
trigger1 = AnimElem = 10
var(5) = 0

;---------------------[効果音]
; 対テリー アンディ クラウザー
[State 600, 1];待っていたぞ…！
type = PlaySnd
trigger1 = animelemtime(6) = 0
trigger1 = var(5) != 1
value = 181, 2
channel = 5

; 対ギース
[State 600, 1];殺してやる！
type = PlaySnd
trigger1 = animelemtime(6) = 0
trigger1 = var(5) = 1
value = 181, 15
channel = 5

[State 600, 1];
type = PlaySnd
trigger1 = animelemtime(9) = 0
value = 300, 2

;---------------------[演出]
[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 1, ScreenBound];カメラ固定
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1

[State 2000];
type = Explod
trigger1 = AnimElem = 5
anim = 10192
pos = 0,0
sprpriority = 0
ownpal = 1
bindtime = 1

[State 2000];
type = Explod
trigger1 = AnimElem = 9
anim = 10193
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------[ステート移行]
[State 191, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;ロック用イントロ
[Statedef 194]
type = S
ctrl = 0
anim = 194
velset = 0,0

[State 181, PlaySnd];フッ
type = PlaySnd
trigger1 = animelemtime(4) = 0
value = 195, 4
channel = 5

[State 181, PlaySnd];カモーン、ヤングボーイ
type = PlaySnd
trigger1 = animelemtime(10) = 0
value = 181, 3
channel = 5

[State 191, 特殊効果];試合が開始するまではこのコントローラを使おう（※２）
type = AssertSpecial
trigger1 = 1
flag = Intro ;イントロの状態

;--------------------------------
[State 191, ステート変更];アニメーションが終われば「通常立ち」のステートに変更する
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;ビリー用イントロ
[Statedef 195]
type = S
ctrl = 0
anim = 193
velset = 0,0

[State 181, PlaySnd];フッ
type = PlaySnd
trigger1 = animelemtime(3)=0
value = 195, 4
channel = 5

[State 181, PlaySnd];カモーン
type = PlaySnd
trigger1 = animelemtime(5)=0
value = 195, 0
channel = 5

[State 191, 特殊効果];試合が開始するまではこのコントローラを使おう（※２）
type = AssertSpecial
trigger1 = 1
flag = Intro ;イントロの状態

[State 191, ステート変更];アニメーションが終われば「通常立ち」のステートに変更する
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;対マリー
[Statedef 196]
type = S
ctrl = 0
anim = 196
velset = 0,0

[State 181, PlaySnd];あの男の孫娘か…
type = PlaySnd
trigger1 = animelemtime(5)=0
value = 181, 10
channel = 5

[State 181, PlaySnd];フッ
type = PlaySnd
trigger1 = animelemtime(17)=0
value = 195, 4
channel = 5

[State 191, 特殊効果];試合が開始するまではこのコントローラを使おう（※２）
type = AssertSpecial
trigger1 = 1
flag = Intro ;イントロの状態

[State 191, ステート変更];アニメーションが終われば「通常立ち」のステートに変更する
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; ナイトメアイントロ
[Statedef 197]
type = S
ctrl = 0
anim = 197
velset = 0,0

;---------------------
[State 180 ,VarRandom]
type = VarRandom
trigger1 = time = 0
v = 5
range = 0,1

[state 1]
type = varset
trigger1 = AnimElem = 8
var(5) = 0

;---------------------[効果音]
[State 600, 1];My first-felt greetings,slug
type = PlaySnd
trigger1 = animelemtime(1) = 30
trigger1 = var(5) = 0
value = 181, 4
channel = 5

[State 600, 1];I've been waiting for you!
type = PlaySnd
trigger1 = animelemtime(1) = 170
trigger1 = var(5) = 0
value = 181, 5
;channel = 5

[State 600, 1];よかろう
type = PlaySnd
trigger1 = animelemtime(1) = 10
trigger1 = var(5) = 1
value = 181, 11
channel = 5

[State 600, 1];今一度の悪夢
type = PlaySnd
trigger1 = animelemtime(1) = 70
trigger1 = var(5) = 1
value = 181, 12
channel = 5

[State 600, 1];存分に堪能するがいい！
type = PlaySnd
trigger1 = animelemtime(1) = 190
trigger1 = var(5) = 1
value = 181, 13
;channel = 5

[State 600, 1];襖登場演出
type = PlaySnd
trigger1 = var(27) = 1
trigger1 = time = 0
value = 181, 18
channel = 5

[State 600, 1];バサッ
type = PlaySnd
trigger1 = animelemtime(4) = 6
value = 181, 16

;---------------------[演出]
[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 1, ScreenBound];カメラ固定
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1

[State 2000];上着
type = Explod
trigger1 = AnimElem = 1
anim = 10197
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = 1

[state a];襖演出
type = Helper
trigger1 = var(27) = 1
trigger1 = time = 0
id = 13000
name = "nightmare"
sprpriority = 98
pos = 0,0
postype = left
stateno = 13000
helpertype = normal
pausemovetime = 999
keyctrl = 0 
ownpal = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------[ステート移行]
[State 191, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; 対アンバサキャラ用イントロ
[Statedef 199]
type = S
movetype = I
physics = N
ctrl = 0
anim = 199
velset = 0,0

[State 198, 1]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 1965, 2]
type = ChangeAnim
trigger1 = AnimElem = 4
value = 199
elem = 3

[State 1965, 3]
type = ChangeAnim
triggerall = time > 1
triggerall = animelem = 3
trigger1 = p2stateno = 0 || enemy,anim = 0
trigger2 = time > 400
value = 199
elem = 5
persistent = 0

[State 1965, Voice]
type = PlaySnd
Trigger1 = AnimElem = 6
value = 195, 4
channel = 0

[State 1965, Voice]
type = PlaySnd
Trigger1 = AnimElem = 11
value = 195, 1
channel = 0

[State 1965, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;通常イントロ3
[Statedef 198]
type = S
ctrl = 0
anim = 198
velset = 0,0

[State 600, 1];バサッ
type = PlaySnd
trigger1 = animelemtime(4) = 0
value = 181, 16

[State 180];フンッ
type = PlaySnd
trigger1 = animelemtime(5)=0
value = 182,1

[State 1, ScreenBound];カメラ固定
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;--------------------------------上着Helper
[State 1000, Helper]
type = helper
trigger1 = animelemtime(4)=0
id = 10198
;persistent = 0
pos = 0,0
postype = p1
Stateno = 10198
helpertype = normal
keyctrl = 0
ownpal = 1
;--------------------------------
[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;(HELPER)上着
[Statedef 10198]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
ctrl = 0
anim = 10198
sprpriority = 2

[State 182, Vel]
type = VelSet
Trigger1 = AnimElem = 4
x = -2.5
y = -2.8

[State 182, Vel]
type = VelAdd
trigger1 = animelemtime(4)>=0
y = .26

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 182, DestroySelf]
type = DestroySelf
trigger1 = time >= 55
trigger2 = AnimTime = 0
trigger3 = Vel Y > 0 && Pos Y >= 0

;---------------------------------------------------------------------------
; 挑発1
[Statedef 730]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = N
sprpriority = 2

;---------------------[効果音]
[State 00];カモ−ン
type = PlaySnd
trigger1 = animelem = 2
value = 195,0
channel = 0

;---------------------[演出]
[State 195, 1]
type = CtrlSet
trigger1 = Time = 33
value = 1

;---------------------[ステート移行]
[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 挑発2
[Statedef 731]
type = S
ctrl = 0
anim = 731
velset = 0,0
movetype = I
physics = N
sprpriority = 2

;---------------------[効果音]
[State 00];カモーン
type = PlaySnd
trigger1 = animelem = 2
value = 195,1+Random%2
channel = 0

;---------------------[演出]
[State 195, 1]
type = CtrlSet
trigger1 = Time = 33
value = 1

;---------------------[ステート移行]
[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; MAX発動
[Statedef 900]
type = S
ctrl = 0
anim = 720
velset = 0,0
movetype = I
physics = N
sprpriority = 1
poweradd = -1000

;---------------------[効果音]
[State 00];バキーン
type = PlaySnd
trigger1 = anim = 720
trigger1 = animelem = 2
value = 900,0

[State 00];ふっ！
type = PlaySnd
trigger1 = anim = 720
trigger1 = animelem = 2
value = 201,0
channel = 0

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 20
value = 750

;---------------------[演出]
[State a]
type = Explod
trigger1 = anim = 720
trigger1 = animelem = 2
anim = 6001
sprpriority = 2
postype = p1
pos = 14,-74
bindtime = 1
under = 0
ownpal = 1
supermovetime = 999

[State 1020, 4]
type = EnvShake
trigger1 = anim = 720
trigger1 = animelem = 2
time = 10
ampl = -5
freq = 95
phase = 95

;---------------------[ステート移行]
[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; クイックMAX
[Statedef 901]
type = S
ctrl = 0
;anim = 901
velset = 0,0
movetype = I
physics = N
sprpriority = 1
poweradd = -2000

;---------------------[効果音]
[State 00];
type = PlaySnd
trigger1 = time = 0
value = 900,1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 20
value = 750

[State a];減算補正
type = Varadd
trigger1 = time = 0
fvar(4) = -0.4
persistent = 0
ignorehitpause = 1

;---------------------[ステート移行]
[State 195, 2]
type = ChangeState
trigger1 = command = "holdfwd"
value = 100
ctrl = 1

[State 195, 2]
type = ChangeState
trigger1 = Time = 0
value = 0
ctrl = 1

;===========================================================================
; 通常技
;===========================================================================
;---------------------------------------------------------------------------
; 遠距離立ち弱パンチ
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 25
velset = 0,0
ctrl = 0
anim = 200
poweradd = 0
sprpriority = 1

;---------------------[効果音]
[State 00];
type = PlaySnd
trigger1 = animelem = 2
value = 200,random%2
channel = 0

[State 00];
type = PlaySnd
trigger1 = animelem = 2
value = 300,0

;---------------------[攻撃]
[State 200, 1]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 2
attr = S, NA
damage = 25
getpower = ifelse(var(20)>0,0,45),ifelse(var(20)>0,0,45)
animtype = Light
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 9, 8
sparkno = s7000
sparkxy = -10, -91
hitsound = s400, 0
guard.sparkno = s7010
guardsound = s120, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -6
airguard.velocity = -1.9,-2
air.type = high
air.velocity = -4,-7
yaccel = .55
air.hittime = 3
ID = 200
guard.hittime = 8
ground.cornerpush.veloff = -8.5
air.cornerpush.veloff = 0
fall.recovertime = 17
air.fall = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 3
Movetype = I

;---------------------[ステート移行]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 近距離立ち弱パンチ
[Statedef 205]
type    = S
movetype= A
physics = S
juggle  = 25
velset = 0,0
ctrl = 0
anim = 205
poweradd = 0
sprpriority = 1

;---------------------[効果音]
[State 00];
type = PlaySnd
trigger1 = animelem = 2
value = 200,random%2
channel = 0

[State 00];
type = PlaySnd
trigger1 = animelem = 2
value = 300,0

;---------------------[攻撃]
[State 200, 1]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 2
attr = S, NA
damage = 25
getpower = ifelse(var(20)>0,0,45),ifelse(var(20)>0,0,45)
animtype = Light
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 9, 8
sparkno = s7000
sparkxy = -31, -89
hitsound = s400, 0
guard.sparkno = s7010
guardsound = s120, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -4.8
airguard.velocity = -1.9,-2
air.type = high
air.velocity = -4,-7
yaccel = .55
air.hittime = 3
ID = 205
guard.hittime = 10
ground.cornerpush.veloff = -8.5
air.cornerpush.veloff = 0
fall.recovertime = 17
air.fall = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 3
Movetype = I

;---------------------[ステート移行]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 遠距離立ち強パンチ KOF
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 25
velset = 0,0
ctrl = 0
anim = 210
poweradd = 0
sprpriority = 1

;---------------------[効果音]
[State 00];
type = PlaySnd
trigger1 = animelem = 3
value = 210,random%2
channel = 0

[State 00];
type = PlaySnd
trigger1 = animelem = 3
value = 300,0

;---------------------[攻撃]
[State 210, 2]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 4
attr = S, NA
animtype  = hard
damage    = 91
priority = 4, Hit
getpower = ifelse(var(20)>0,0,91),ifelse(var(20)>0,0,91)
guardflag = M
pausetime = 11,10
sparkno = s7001
sparkxy = -12,-69
hitsound   = s400,1
guardsound = s120,1
guard.sparkno = s7011
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.velocity = -4,-7
yaccel = .55
ID = 210
guard.hittime = 17
air.hittime = 3
ground.cornerpush.veloff = -17.2
air.cornerpush.veloff = 0
fall.recovertime = 25
air.fall = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 5
Movetype = I

;---------------------[ステート移行]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 遠距離立ち強パンチ 餓狼
[Statedef 211]
type    = S
movetype= A
physics = S
juggle  = 25
velset = 0,0
ctrl = 0
anim = 211
poweradd = 0
sprpriority = 1

;---------------------[効果音]
[State 00];
type = PlaySnd
trigger1 = animelem = 3
value = 210,random%2
channel = 0

[State 00];
type = PlaySnd
trigger1 = animelem = 3
value = 300,0

;---------------------[攻撃]
[State 210, 2]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 4 || animelem = 5
attr = S, NA
animtype  = hard
damage    = 31
priority = 4, Hit
getpower = ifelse(var(20)>0,0,31),ifelse(var(20)>0,0,31)
guardflag = M
pausetime = 11,10
sparkno = s7001
sparkxy = -12,-64
hitsound   = s400,1
guardsound = s120,1
guard.sparkno = s7011
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -6
air.velocity = -4,-7
yaccel = .55
ID = 210
guard.hittime = 17
air.hittime = 3
ground.cornerpush.veloff = -8.5
air.cornerpush.veloff = 0
fall.recovertime = 25
air.fall = 1

[State 210, 2]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 6
attr = S, NA
animtype  = hard
damage    = 31
priority = 4, Hit
getpower = ifelse(var(20)>0,0,31),ifelse(var(20)>0,0,31)
guardflag = M
pausetime = 11,10
sparkno = s7001
sparkxy = -12,-64
hitsound   = s400,1
guardsound = s120,1
guard.sparkno = s7011
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -6
air.velocity = -4,-7
yaccel = .55
ID = 210
guard.hittime = 17
air.hittime = 3
ground.cornerpush.veloff = -8.5
air.cornerpush.veloff = 0
fall.recovertime = 25
air.fall = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 7
Movetype = I

;---------------------[ステート移行]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 近距離立ち強パンチ
[Statedef 215]
type    = S
movetype= A
physics = S
juggle  = 25
velset = 0,0
ctrl = 0
anim = 215
poweradd = 0
sprpriority = 1

;---------------------[効果音]
[State 00];
type = PlaySnd
trigger1 = animelem = 3
value = 210,random%2
channel = 0

[State 00];
type = PlaySnd
trigger1 = animelem = 3
value = 300,0

;---------------------[移動]
[state a]
type = posadd
trigger1 = animelem = 3
x = 8

;---------------------[攻撃]
[State 210, 2]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 4
attr = S, NA
animtype  = hard
damage    = 91
priority = 4, Hit
getpower = ifelse(var(20)>0,0,91),ifelse(var(20)>0,0,91)
guardflag = M
pausetime = 11,10
sparkno = s7001
sparkxy = -24,-62
hitsound   = s400,1
guardsound = s120,1
guard.sparkno = s7011
ground.type = low
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.velocity = -4,-7
yaccel = .55
ID = 215
guard.hittime = 17
air.hittime = 3
ground.cornerpush.veloff = -17.2
air.cornerpush.veloff = 0
fall.recovertime = 25
air.fall = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 5
Movetype = I

;---------------------[ステート移行]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 遠距離立ち弱キック
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 25
velset = 0,0
ctrl = 0
anim = 230
poweradd = 0
sprpriority = 1

;---------------------[効果音]
[State 00];
type = PlaySnd
trigger1 = animelem = 2
value = 201,random%2
channel = 0

[State 00];
type = PlaySnd
trigger1 = animelem = 2
value = 300,1

;---------------------[攻撃]
[State 230, 2]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 3
attr = S, NA
animtype  = light
damage    = 50
priority = 4, Hit
getpower = ifelse(var(20)>0,0,45),ifelse(var(20)>0,0,45)
guardflag = M
pausetime = 9,8
sparkno = s7000
sparkxy = -21,-38
hitsound   = s400,2
guard.sparkno = s7010
guardsound = s120,0
ground.type = low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -6
air.velocity = -4,-7
yaccel = .55
ID = 230
guard.hittime = 8
air.hittime = 3
ground.cornerpush.veloff = -8.5
air.cornerpush.veloff = 0
fall.recovertime = 17
air.fall = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 4
Movetype = I

;---------------------[ステート移行]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 近距離立ち弱キック
[Statedef 235]
type    = S
movetype= A
physics = S
juggle  = 25
velset = 0,0
ctrl = 0
anim = 235
poweradd = 0
sprpriority = 1

;---------------------[効果音]
[State 00];
type = PlaySnd
trigger1 = animelem = 2
value = 201,random%2
channel = 0

[State 00];
type = PlaySnd
trigger1 = animelem = 1
value = 300,1

;---------------------[攻撃]
[State 230, 2]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 2
attr = S, NA
animtype  = light
damage    = 33
priority = 4, Hit
getpower = ifelse(var(20)>0,0,45),ifelse(var(20)>0,0,45)
guardflag = L
pausetime = 9,8
sparkno = s7000
sparkxy = -16,-66
hitsound   = s400,2
guard.sparkno = s7010
guardsound = s120,0
ground.type = low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -6
air.velocity = -4,-7
yaccel = .55
ID = 235
guard.hittime = 9
air.hittime = 3
ground.cornerpush.veloff = -8.5
air.cornerpush.veloff = 0
fall.recovertime = 17
air.fall = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 3
Movetype = I

;---------------------[ステート移行]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 遠距離立ち強キック
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 25
velset = 0,0
ctrl = 0
anim = 240
poweradd = 0
sprpriority = 1

;---------------------[効果音]
[State 00];
type = PlaySnd
trigger1 = animelem = 2
value = 220,random%2
channel = 0

[State 00];
type = PlaySnd
trigger1 = animelem = 2
value = 300,1

;---------------------[攻撃]
[State 240, 2]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 3
attr = S, NA
animtype  = hard
damage    = 110
priority = 4, Hit
getpower = ifelse(var(20)>0,0,91),ifelse(var(20)>0,0,91)
guardflag = M
pausetime = 11,10
sparkno = s7001
sparkxy = -24,-51
hitsound   = s400,3
guard.sparkno = s7011
guardsound = s120,1
ground.type = low
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.velocity = -4,-7
yaccel = .55
ID = 240
guard.hittime = 17
air.hittime = 3
ground.cornerpush.veloff = -17.2
air.cornerpush.veloff = 0
fall.recovertime = 25
air.fall = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 4
Movetype = I

;---------------------[ステート移行]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 近距離立ち強キック
[Statedef 245]
type    = S
movetype= A
physics = S
juggle  = 25
velset = 0,0
ctrl = 0
anim = 245
poweradd = 0
sprpriority = 1

;---------------------[一段目以降どこキャンフラグ]
[State 1000, ]
type = Varset
trigger1 = time = 0
var(6) = 0

[State 1000, ]
type = Varset
triggerall = var(20) > 0
trigger1 = animelemtime(4) >= 1
var(6) = 1
ignorehitpause = 1

[State 1000, ]
type = Varset
trigger1 = animtime = 0
var(6) = 0

;---------------------[効果音]
[State 00];
type = PlaySnd
trigger1 = animelem = 3
value = 220,random%2
channel = 0

[State 00];
type = PlaySnd
trigger1 = animelem = 2
value = 300,1

;---------------------[攻撃]
[State 210, 2]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 3
attr = S, NA
animtype  = hard
damage    = 70
priority = 4, Hit
getpower = ifelse(var(20)>0,0,61),ifelse(var(20)>0,0,61)
guardflag = M
pausetime = 11,10
sparkno = s7001
sparkxy = -12,-79
hitsound   = s400,3
guardsound = s120,1
guard.sparkno = s7011
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = 0
air.velocity = -4,-7
yaccel = .55
ID = 245
guard.hittime = 17
air.hittime = 3
air.cornerpush.veloff = 0
fall.recovertime = 25
air.fall = 1

[State 210, 2]
type = HitDef
triggerall = !var(7)
trigger1 = movecontact = 0
trigger1 = animelem = 5
attr = S, NA
animtype  = hard
damage    = 70
priority = 4, Hit
getpower = ifelse(var(20)>0,0,61),ifelse(var(20)>0,0,61)
guardflag = M
pausetime = 11,10
sparkno = s7001
sparkxy = -12,-60
hitsound   = s400,3
guardsound = s120,1
guard.sparkno = s7011
ground.type = low
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.velocity = -4,-7
yaccel = .55
ID = 245
guard.hittime = 17
air.hittime = 3
ground.cornerpush.veloff = -17.2
air.cornerpush.veloff = 0
fall.recovertime = 25
air.fall = 1

[State 210, 2]
type = HitDef
triggerall = !var(7)
trigger1 = movecontact
trigger1 = P2StateType != A
trigger1 = animelem = 5
attr = S, NA
animtype  = hard
damage    = 30
priority = 4, Hit
getpower = ifelse(var(20)>0,0,61),ifelse(var(20)>0,0,61)
guardflag = M
pausetime = 11,10
sparkno = s7001
sparkxy = -12,-60
hitsound   = s400,3
guardsound = s120,1
guard.sparkno = s7011
ground.type = low
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.velocity = -4,-7
yaccel = .55
ID = 245
guard.hittime = 17
air.hittime = 3
ground.cornerpush.veloff = -17.2
air.cornerpush.veloff = 0
fall.recovertime = 25
air.fall = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 6
Movetype = I

;---------------------[ステート移行]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 飛燕失脚1
[Statedef 250]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 1
;Commonly-used controllers:
velset = 0,0                     ;このステートが始まった時に移動するか（0,0で動かない）
ctrl = 0                         ;このステート中に他のコマンドを受け付けるか(1で受け付ける)
anim = ifelse(var(1)=3,253,250)
poweradd = 0                     ;このステートを使った時のパワー増加量(0で変化無し)
sprpriority = 2                  ;表示した絵の重なり具合(2一番前　0通常　-1奥)

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = 40, 0

[State 250, Vel]
type = PosAdd
trigger1 = animelem = 3
x = 15

[State 250, Vel]
type = VelSet
trigger1 = animelem = 3
x = 5.5
y = -5.5

[State 250, Vel]
type = VelSet
trigger1 = animelem = 5
x = 2

[State 250, Vel]
type = VelAdd
trigger1 = animelemtime(3) > 0
y = .5

[State 250, StateTypeSet];状態：空中に
type = StateTypeSet
trigger1 = animelem = 3
StateType = A
Physics = N

;---------------------[攻撃]
[State 210, 2]
type = HitDef
triggerall = !var(7)
triggerall = P2StateType != A
trigger1 = animelem = 6
attr = S, NA
animtype  = hard
damage    = 80
priority = 4, Hit
getpower = ifelse(var(20)>0,0,61),ifelse(var(20)>0,0,61)
hitflag = MAF
guardflag = HA
pausetime = 11,10
sparkno = s7002
sparkxy = -20,-35
hitsound   = s400,3
guardsound = s120,1
guard.sparkno = s7011
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4,-7
air.velocity = -4,-7
yaccel = .55
fall = 1
fall.recover = 0
air.fall = 1
ID = 250
guard.hittime = 17
fall.recovertime = 99999
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 210, 2]
type = HitDef
triggerall = !var(7)
triggerall = P2StateType = A
trigger1 = animelem = 6
attr = S, NA
animtype  = hard
damage    = 80
priority = 4, Hit
getpower = ifelse(var(20)>0,0,61),ifelse(var(20)>0,0,61)
hitflag = MAF
guardflag = HA
pausetime = 11,10
sparkno = s7002
sparkxy = -20,-35
hitsound   = s400,3
guardsound = s120,1
guard.sparkno = s7011
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4,-7
air.velocity = -4,-7
yaccel = .55
fall = 1
fall.recover = 0
air.fall = 1
ID = 251
guard.hittime = 17
fall.recovertime = 99999
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 7
Movetype = I

[State 1000, 軸位置移動]
type = VelAdd
trigger1 = 1;AnimElemtime(4) >= 1 && AnimElemtime(5) <= 4
x = -.1

[State 20] ;ヒット時の相手動作
type = targetState
trigger1 = movehit && NumTarget(250)
value = 280
ctrl = 0
IgnoreHitPause = 1
Persistent     = 0

[State 20] ;ヒット時の相手動作
type = targetState
trigger1 = movehit && NumTarget(251)
value = 285
ctrl = 0
IgnoreHitPause = 1
Persistent     = 0

;叩きつけエフェクト
[State 1000, ヘルパーを出す]
type = Helper
trigger1 = movehit
name = "hit"
stateno = 4920
ID = 4920
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

;---------------------[エフェクト]
[State 1300, エフェクト表示]
type = Explod
trigger1 = animelem = 6
anim = 251
pos = 0, -25
postype = p1
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1

;---------------------[ステート移行]
[State 250, ChangeState];着地
type = ChangeState
trigger1 = var(1)!=3
trigger1 = animelemtime(6) > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 255

[State 250, ChangeState];着地
type = ChangeState
trigger1 = var(1)=3
trigger1 = animelemtime(6) > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
; 飛燕失脚1 キャンセル版
[Statedef 252]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 1
;Commonly-used controllers:
velset = 0,0                     ;このステートが始まった時に移動するか（0,0で動かない）
ctrl = 0                         ;このステート中に他のコマンドを受け付けるか(1で受け付ける)
anim = ifelse(var(1)=3,253,252)
poweradd = 0                     ;このステートを使った時のパワー増加量(0で変化無し)
sprpriority = 2                  ;表示した絵の重なり具合(2一番前　0通常　-1奥)

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = 40, 0

[State 250, Vel]
type = PosAdd
trigger1 = animelem = 3
x = 15

[State 250, Vel]
type = VelSet
trigger1 = animelem = 3
x = 5.5
y = -5.5

[State 250, Vel]
type = VelSet
trigger1 = animelem = 5
x = 2

[State 250, Vel]
type = VelAdd
trigger1 = animelemtime(3) > 0
y = .5

[State 250, StateTypeSet];状態：空中に
type = StateTypeSet
trigger1 = animelem = 3
StateType = A
Physics = N

;---------------------[攻撃]
[State 210, 2]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 6
attr = S, NA
animtype  = hard
damage    = 60
priority = 4, Hit
getpower = ifelse(var(20)>0,0,61),ifelse(var(20)>0,0,61)
hitflag = MAF
guardflag = MA
pausetime = 11,10
sparkno = s7002
sparkxy = -20,-35
hitsound   = s400,3
guardsound = s120,1
guard.sparkno = s7011
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.velocity = -4,-7
yaccel = .55
fall = 0
fall.recover = 0
air.fall = 1
ID = 252
guard.hittime = 17
fall.recovertime = 99999
ground.cornerpush.veloff = -17.2
air.cornerpush.veloff = 0

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 7
Movetype = I

[State 1000, 軸位置移動]
type = VelAdd
trigger1 = 1;AnimElemtime(4) >= 1 && AnimElemtime(5) <= 4
x = -.1

;---------------------[エフェクト]
[State 1300, エフェクト表示]
type = Explod
trigger1 = animelem = 6
anim = 251
pos = 0, -25
postype = p1
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1

;---------------------[ステート移行]
[State 250, ChangeState];着地
type = ChangeState
trigger1 = var(1)!=3
trigger1 = animelemtime(6) > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 255

[State 250, ChangeState];着地
type = ChangeState
trigger1 = var(1)=3
trigger1 = animelemtime(6) > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
;飛燕失脚1（着地）
[Statedef 255]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 255
ctrl     = 0
sprpriority = 2

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 41, 0

[State 1311, Posset]
type = Posset
trigger1 = time = 0
y = 0

[State 1311, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;相手 地上叩きつけやられ1
[Statedef 280]
type    = A
movetype= H
physics = N
;velset = -3,10.5
velset = 0,0
sprpriority = 1

[state a]
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 280

[State 820, 1]
type = PosFreeze
trigger1 = Time >= 0
trigger1 = Time < 10
value = 1

[state a]
type = velset
trigger1 = time = 10
x = 0
y = 0

[State 2100, 移動]
type = Veladd
Trigger1 = time != 0
y = .4

[State 820, 1]
type = Changestate
trigger1 = Time >= 11
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 281

;---------------------------------------------------------------------------
;相手 地上叩きつけやられ2
[Statedef 281]
type    = L
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 281

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = velset
trigger1 = AnimElem = 2
x = 0
y = -4

[state a]
type = envshake
trigger1 = prevstateno != 1510
trigger1 = Time = 0
time = 10
freq = 60
ampl = -4

[State 2100, 移動]
type = Veladd
trigger1 = AnimElemtime(2) >= 0
y = .33

;---------------------[エフェクト]
[State 1300, エフェクト表示]
type = Explod
trigger1 = animelem = 1
anim = F61
pos = 10, -10
postype = p1
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
supermovetime = 12

[State 820, 1]
type = Changestate
trigger1 = AnimElemtime(3) >= 0
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 282

;---------------------------------------------------------------------------
;地上叩きつけやられダウン
[Statedef 282]
type    = L
movetype= H
physics = S
velset = 0,0
sprpriority = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 282

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 820, 1]
type = SelfState
trigger1 = Animtime = 0
trigger1 = Alive
value = 5120

;---------------------[エフェクト]
[State 1300, エフェクト表示]
type = Explod
trigger1 = animelem = 1
anim = F61
pos = 0, 0
postype = p1
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
supermovetime = 12

[State 820, 1]
type = SelfState
trigger1 = Animtime = 0
trigger1 = !Alive
value = 5150

;---------------------------------------------------------------------------
;相手 空中叩きつけやられ1
[Statedef 285]
type    = A
movetype= H
physics = N
;velset = -3,10.5
velset = 0,0
sprpriority = 1

[state a]
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 280

[State 820, 1]
type = PosFreeze
trigger1 = Time >= 0
trigger1 = Time < 10
value = 1

[state a]
type = posset
trigger1 = (Pos Y >= 0)
y = 0

[state a]
type = velset
triggerall = !(Pos Y >= 0)
trigger1 = time = 10
x = -6.8
y = 8.5

[State 2100, 移動]
type = Veladd
Trigger1 = time != 0
y = .4

[State 820, 1]
type = Changestate
trigger1 = Time >= 11
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 286

;---------------------------------------------------------------------------
;相手 空中叩きつけやられ2
[Statedef 286]
type    = L
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 281

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = velset
trigger1 = AnimElem = 2
x = -2.1
y = -4.0

[state a]
type = velset
triggerall = AnimElem = 2
trigger1 = prevstateno = 1305
trigger2 = prevstateno = 4221
x = 2.1
y = -4.0

[state a]
type = envshake
trigger1 = Time = 0
time = 10
freq = 60
ampl = -4

;---------------------[弧月用]
[state a]
type = velset
trigger1 = prevstateno = 1511
trigger1 = AnimElem = 2
x = -1.9
y = -5.9

[State 1020, 4]
type = EnvShake
trigger1 = prevstateno = 1511
trigger1 = Time = 0
time = 20
ampl = -8
freq = 145
phase = 95

[State 2100, 移動]
type = Veladd
trigger1 = AnimElemtime(2) >= 0
y = .33

;---------------------[エフェクト]
[State 1300, エフェクト表示]
type = Explod
trigger1 = animelem = 1
anim = F61
pos = 10, -10
postype = p1
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
supermovetime = 12

[State 820, 1]
type = Changestate
trigger1 = AnimElemtime(3) >= 0
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 287

;---------------------------------------------------------------------------
;空中叩きつけやられダウン
[Statedef 287]
type    = L
movetype= H
physics = S
velset = 0,0
sprpriority = 1

[State 700, 2];羅生門・投げレイジング食らった相手は無敵
type = NotHitBy
trigger1 = prevstateno = 3312 || prevstateno = 3225
trigger1 = 1
value = SCA

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 282

[State 820, 1]
type = ChangeAnim2
Triggerall = Time = 0
Trigger1 = prevstateno = 1512
Trigger2 = prevstateno = 3061
value = 1513

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 820, 1]
type = SelfState
trigger1 = Animtime = 0
trigger1 = Alive
value = 5120

;---------------------[エフェクト]
[State 1300, エフェクト表示]
type = Explod
trigger1 = animelem = 1
anim = F61
pos = 0, 0
postype = p1
sprpriority = -3
bindtime = 1
ownpal = 1
removeongethit = 1
supermovetime = 12

[State 820, 1]
type = SelfState
trigger1 = Animtime = 0
trigger1 = !Alive
value = 5150

;---------------------------------------------------------------------------
; 不動活殺裏拳
[Statedef 260]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
anim = ifelse(var(1)=3,262,260)
sprpriority = 2

;---------------------[効果音]
[State 240, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 300, 1

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 3
value = 210, 1
channel = 0

;---------------------[攻撃]
[State 210, 2]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 5
attr = S, NA
animtype  = hard
damage    = 95
priority = 4, Hit
getpower = ifelse(var(20)>0,0,86),ifelse(var(20)>0,0,86)
hitflag = MAF
guardflag = HA
pausetime = 11,10
sparkno = s7002
sparkxy = -15,-57
hitsound   = s400,1
guardsound = s120,1
guard.sparkno = s7011
ground.type = low
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.velocity = -4,-7
yaccel = .55
fall = 0
air.fall = 1
fall.recover = 0
ID = 270
fall.recovertime = 99999
guard.hittime = 17
ground.cornerpush.veloff = -17.2
air.cornerpush.veloff = 0

[State 210,PosAdd]
type = PosAdd
trigger1 = animelem = 3 || animelem = 4
x = 10

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 6
Movetype = I

;---------------------[ステート移行]
[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 不動活殺裏拳 キャンセル版
[Statedef 261]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
anim = ifelse(var(1)=3,263,261)
sprpriority = 2

;---------------------[効果音]
[State 240, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 300, 1

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 3
value = 210, 1
channel = 0

;---------------------[攻撃]
[State 210, 2]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 5
attr = S, NA
animtype  = hard
damage    = 75
priority = 4, Hit
getpower = ifelse(var(20)>0,0,86),ifelse(var(20)>0,0,86)
hitflag = MAF
guardflag = MA
pausetime = 11,10
sparkno = s7002
sparkxy = -15,-57
hitsound   = s400,1
guardsound = s120,1
guard.sparkno = s7011
ground.type = low
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.velocity = -4,-7
yaccel = .55
fall = 0
air.fall = 1
fall.recover = 0
ID = 261
fall.recovertime = 99999
guard.hittime = 17
ground.cornerpush.veloff = -17.2
air.cornerpush.veloff = 0

[State 210,PosAdd]
type = PosAdd
trigger1 = animelem = 3 || animelem = 4
x = 10

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 6
Movetype = I

;---------------------[ステート移行]
[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 雷光回し蹴り
[Statedef 270]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 1                      
;Commonly-used controllers:
velset = 0,0                     ;このステートが始まった時に移動するか（0,0で動かない）
ctrl = 0                         ;このステート中に他のコマンドを受け付けるか(1で受け付ける)
anim = ifelse(var(1)=3,271,270)
poweradd = 0                     ;このステートを使った時のパワー増加量(0で変化無し)
sprpriority = 2                  ;表示した絵の重なり具合(2一番前　0通常　-1奥)

;---------------------[一段目以降どこキャンフラグ]
[State 1000, ]
type = Varset
trigger1 = time = 0
var(6) = 0

[State 1000, ]
type = Varset
triggerall = var(20) > 0
trigger1 = animelemtime(6) = 1
var(6) = 1
ignorehitpause = 1

[State 1000, ]
type = Varset
trigger1 = animtime = 0
var(6) = 0

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = 300, 1

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElemtime(1) = 2
value = 420, 1
channel = 0

[State 250, Vel]
type = PosAdd
trigger1 = animelem = 3
x = 15

[State 250, Vel]
type = VelSet
trigger1 = animelem = 2
x = 7.0

[State 700,Veladd]
type = Veladd
trigger1 = AnimElemtime(2) >= 0 && AnimElemtime(8) < 0 
x = -0.24

[State 250, Vel]
type = VelSet
trigger1 = animelem = 8
x = 0

[State 250, StateTypeSet];状態
type = StateTypeSet
trigger1 = animelem = 2
Physics = N

[State 250, StateTypeSet];状態
type = StateTypeSet
trigger1 = animelem = 8
Physics = S

;---------------------[攻撃]
[State 210, 2]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 6
attr = S, NA
animtype  = hard
damage    = 62
priority = 4, Hit
getpower = ifelse(var(20)>0,0,86),ifelse(var(20)>0,0,86)
hitflag = MAF
guardflag = MA
pausetime = 11,10
sparkno = s7002
sparkxy = -20,-72
hitsound   = s400,3
guardsound = s120,1
guard.sparkno = s7011
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.velocity = -4,-7
yaccel = .55
fall = 0
air.fall = 1
fall.recover = 0
ID = 270
fall.recovertime = 99999
guard.hittime = 17
ground.cornerpush.veloff = -17.2
air.cornerpush.veloff = 0

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 7
Movetype = I

;---------------------[ステート移行]
[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 雷光回し蹴り キャンセル版
[Statedef 271]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 1                      
;Commonly-used controllers:
velset = 0,0                     ;このステートが始まった時に移動するか（0,0で動かない）
ctrl = 0                         ;このステート中に他のコマンドを受け付けるか(1で受け付ける)
anim = ifelse(var(1)=3,271,270)
poweradd = 0                     ;このステートを使った時のパワー増加量(0で変化無し)
sprpriority = 2                  ;表示した絵の重なり具合(2一番前　0通常　-1奥)

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = 300, 1

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElemtime(1) = 2
value = 420, 1
channel = 0

[State 250, Vel]
type = PosAdd
trigger1 = animelem = 3
x = 15

[State 250, Vel]
type = VelSet
trigger1 = animelem = 2
x = 7.0

[State 700,Veladd]
type = Veladd
trigger1 = AnimElemtime(2) >= 0 && AnimElemtime(8) < 0 
x = -0.24

[State 250, Vel]
type = VelSet
trigger1 = animelem = 8
x = 0

[State 250, StateTypeSet];状態
type = StateTypeSet
trigger1 = animelem = 2
Physics = N

[State 250, StateTypeSet];状態
type = StateTypeSet
trigger1 = animelem = 8
Physics = S

;---------------------[攻撃]
[State 210, 2]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 6
attr = S, NA
animtype  = hard
damage    = 32
priority = 4, Hit
getpower = ifelse(var(20)>0,0,86),ifelse(var(20)>0,0,86)
hitflag = MAF
guardflag = MA
pausetime = 11,10
sparkno = s7002
sparkxy = -20,-72
hitsound   = s400,3
guardsound = s120,1
guard.sparkno = s7011
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.velocity = -4,-7
yaccel = .55
fall = 0
air.fall = 1
fall.recover = 0
ID = 270
fall.recovertime = 99999
guard.hittime = 17
ground.cornerpush.veloff = -17.2
air.cornerpush.veloff = 0

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 7
Movetype = I

;---------------------[ステート移行]
[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ふっ飛ばし攻撃1
[Statedef 290]
type    = S
movetype= A
physics = S
juggle  = 25
poweradd= 0
ctrl = 0
velset = 0,0
anim = 290
sprpriority = 2

;---------------------[効果音]
[State 240, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 300, 1

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 3
value = 250, 0
channel = 0

[State 240, 1]
type = PlaySnd
trigger1 = animelem = 5
value = 45, 1

;---------------------[攻撃]
[State 240, 2]
type = HitDef
triggerall = !var(7)
triggerall = P2MoveType != A
trigger1 = animelem = 5
attr = S, NA
animtype  = high
damage    = 120
priority = 4, Hit
getpower = ifelse(var(20)>0,0,122),ifelse(var(20)>0,0,122)
guardflag = M
pausetime = 11,10
sparkno = s7002
sparkxy = -15,-57
hitsound   = s400,4
guard.sparkno = s7011
guardsound = s120,1
ground.type = high
ground.slidetime = 21
ground.hittime  = 21
ground.velocity = -4,-7
air.velocity = -4,-7
yaccel = .55
guard.velocity = -11.2
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
ID = 290
guard.hittime = 21
fall.recovertime = 99999

[State 240, 2]
type = HitDef
triggerall = !var(7)
triggerall = P2MoveType = A
trigger1 = animelem = 5
attr = S, NA
animtype  = high
damage    = 120
priority = 4, Hit
getpower = ifelse(var(20)>0,0,122),ifelse(var(20)>0,0,122)
guardflag = M
pausetime = 11,10
sparkno = s7002
sparkxy = -15,-57
hitsound   = s400,4
guard.sparkno = s7011
guardsound = s120,1
ground.type = high
ground.slidetime = 21
ground.hittime  = 21
ground.velocity = -4,-7
air.velocity = -4,-7
yaccel = .55
guard.velocity = -11.2
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
ID = 292
guard.hittime = 21
fall.recovertime = 99999

[State 210,PosAdd]
type = PosAdd
trigger1 = animelem = 3 || animelem = 4
x = 6

[state 1900, TargetState];通常ヒットはすべりダウン
type = TargetState
triggerall = var(5) != 1
trigger1 = NumTarget(290)
trigger1 = MoveHit = 1
value = 293
persistent = 0
ignorehitpause = 1

[state 1900, TargetState];カウンター時はワイヤー
type = TargetState
triggerall = var(5) != 1
trigger1 = NumTarget(292)
trigger1 = MoveHit = 1
value = 295
persistent = 0
ignorehitpause = 1

;すべりダウンエフェクト
[State 1000, ヘルパーを出す]
type = Helper
trigger1 = NumTarget(290)
trigger1 = MoveHit
name = "hit"
stateno = 4925
ID = 4925
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

;---------------------[エフェクト]
[State 1300, エフェクト表示]
type = Explod
trigger1 = animelem = 5
anim = 7090
pos = 53, 0
postype = p1
sprpriority = 2
bindtime = 1
ownpal = 1

[State 1020, 4]
type = EnvShake
trigger1 = animelem = 5
time = 10
ampl = -5
freq = 95
phase = 95

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 6
Movetype = I

;---------------------[ステート移行]
[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ふっ飛ばし攻撃2
[Statedef 298]
type    = S
movetype= A
physics = S
juggle  = 25
poweradd= 0
ctrl = 0
velset = 0,0
anim = 298
sprpriority = 2

;---------------------[効果音]
[State 240, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 300, 1

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 2
value = 250, 0
channel = 0

[State 240, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 45, 1

;---------------------[攻撃]
[State 240, 2]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 3
attr = S, NA
animtype  = high
damage    = 120
priority = 4, Hit
getpower = ifelse(var(20)>0,0,122),ifelse(var(20)>0,0,122)
guardflag = M
pausetime = 11,10
sparkno = s7002
sparkxy = -15,-77
hitsound   = s400,4
guard.sparkno = s7011
guardsound = s120,1
ground.type = high
ground.slidetime = 21
ground.hittime  = 21
ground.velocity = -4,-7
air.velocity = -4,-7
yaccel = .55
guard.velocity = -11.2
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
ID = 290
guard.hittime = 21
fall.recovertime = 99999

[State 210,PosAdd]
type = PosAdd
trigger1 = animelem = 3
x = 10

;---------------------[エフェクト]
[State 1300, エフェクト表示]
type = Explod
trigger1 = animelem = 3
anim = 7090
pos = 27, 0
postype = p1
sprpriority = 2
bindtime = 1
ownpal = 1

[State 1020, 4]
type = EnvShake
trigger1 = animelem = 3
time = 10
ampl = -5
freq = 95
phase = 95

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 4
Movetype = I

;---------------------[ステート移行]
[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ガードキャンセルふっ飛ばし攻撃1
[Statedef 291]
type    = S
movetype= A
physics = S
juggle  = 25
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 291
sprpriority = 1

;---------------------MAX時のゲージ消費
[state a]
type = varadd
trigger1 = var(20) > 0
v = 21
value = -1000
persistent = 0

[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = animelemtime(5) <= 2
value = SCA

;---------------------[効果音]
[State 240, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 300, 1

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 3
value = 250, 0
channel = 0

;---------------------[エフェクト]
[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 2
value = 255,255,255
under = 2

;---------------------[攻撃]
[State 240, 2]
type = HitDef
triggerall = !var(7)
trigger1 = Time = 0
attr = S, NA
animtype  = high
damage    = 17
priority = 4, Hit
getpower = 0,0
guardflag = M
pausetime = 11,10
sparkno = s7002
sparkxy = -15,-69
hitsound   = s400,4
guard.sparkno = s7011
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -4,-7
air.velocity = -4,-7
yaccel = .55
guard.velocity = -11.2
fall = 1
fall.recover = 0
ID = 291
kill = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -17.2
air.cornerpush.veloff = 0
guard.hittime = 21
fall.recovertime = 99999

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 6
Movetype = I

;---------------------[ステート移行]
[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ガードキャンセルふっ飛ばし攻撃2
[Statedef 299]
type    = S
movetype= A
physics = S
juggle  = 25
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 299
sprpriority = 1

;---------------------MAX時のゲージ消費
[state a]
type = varadd
trigger1 = var(20) > 0
v = 21
value = -1000
persistent = 0

[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = animelemtime(3) <= 2
value = SCA

;---------------------[効果音]
[State 240, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 300, 1

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 2
value = 250, 0
channel = 0

;---------------------[エフェクト]
[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 2
value = 255,255,255
under = 2

;---------------------[攻撃]
[State 240, 2]
type = HitDef
triggerall = !var(7)
trigger1 = Time = 0
attr = S, NA
animtype  = high
damage    = 17
priority = 4, Hit
getpower = 0,0
guardflag = M
pausetime = 11,10
sparkno = s7002
sparkxy = -15,-69
hitsound   = s400,4
guard.sparkno = s7011
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -4,-7
air.velocity = -4,-7
yaccel = .55
guard.velocity = -11.2
fall = 1
fall.recover = 0
ID = 291
kill = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -17.2
air.cornerpush.veloff = 0
guard.hittime = 21
fall.recovertime = 99999

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 4
Movetype = I

;---------------------[ステート移行]
[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; すべりダウン
;相手やられ(通常ヒット1)
[Statedef 293]
type    = A
movetype= H
physics = N
velset = 0,0

[state a]
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0
;--------------------------------
[State 3000, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------------------------------
[state 1050, SelfState];Helperは返却
type = SelfState
trigger1 = ishelper
value = PrevStateNo
;---------------------------------------------

[State 820, 1]
type = PosFreeze
trigger1 = Time >= 0
trigger1 = Time < 10
value = 1

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 293

[State 810, 1]
type = ChangeAnim2
Trigger1 = prevstateno = 1555
Trigger1 = Time = 0
value = 1556

[State 810, 1]
type = PlayerPush
trigger1 = 1
value = 1

[State 810, vel]
type = VelSet
trigger1 = animelemtime(1) = 10
x = -7.3
y = -3.7

[State 810, vel]
type = VelAdd
trigger1 = animelemtime(1) >= 10
y = .45

[State 810, 1]
type = ChangeState
Trigger1 = animelemtime(1) >= 11
Trigger1 = Pos Y >= 0 && Vel Y > 0
value = 294

;---------------------------------------------------------------------------
; すべりダウン
;相手やられ(通常ヒット2)
[Statedef 294]
type    = L
movetype= H
physics = N
velset = 0,0

;---------------------------------------------
[state 1050, SelfState];Helperは返却
type = SelfState
trigger1 = ishelper
value = PrevStateNo
;---------------------------------------------

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 294

[State 810, 1]
type = PlayerPush
trigger1 = 1
value = 1

[State 1000, Vel]
type = VelSet
trigger1 = animelem = 1
x = -3.5

[State 1000, Vel]
type = VelSet
trigger1 = animelem = 2
x = 0

[State 810, vel]
type = VelSet
trigger1 = anim = 3321
y = 0

[State 810, vel]
type = VelAdd
trigger1 = animelemtime(1)>=0
trigger1 = animelemtime(2)<0
x = 0.15

[State 810, vel]
type = PosSet
Trigger1 = Pos Y >= 0
y = 0

[State 865, 5]
type = SelfState
trigger1 = AnimTime = 0
value = 5120 + (!alive)*30

;---------------------------------------------------------------------------
; カウンターワイヤー
;相手やられ(カウンターワイヤー)
[Statedef 295]
type    = A
movetype= H
physics = N
velset = 0,0

[state a]
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0

;---------------------------------------------
[state 1050, SelfState];Helperは返却
type = SelfState
trigger1 = ishelper
value = PrevStateNo
;---------------------------------------------

[State 820, 1]
type = PosFreeze
trigger1 = Time >= 0
trigger1 = Time < 10
value = 1

[State 1905, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 295

[State 1000, NotHitBy];無敵
type = NotHitBy
trigger1 = 1
value = SCA

[State 1905, VelSet]
type = VelSet
trigger1 = animelemtime(1) = 10
x = -16
y = -2

[State 1905, ScreenBound];画面固定
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1905, ChangeState]
type = ChangeState
triggerall = animelemtime(1)>=11
trigger1 = backEdgebodydist <= 5
trigger2 = time >=100
value = 296

;---------------------------------------------------------------------------
; カウンターワイヤー
;相手やられ(CW壁バウンド)
[Statedef 296]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1906, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 296

[State 1906, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = F7,2

[State 1905, ScreenBound];画面固定
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 801, Explod]
type = Explod
trigger1 = Time = 0
anim = f72
ID = 3326
pos = -30, -35
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1000, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 3
ampl = -8
freq = 95
phase = 95

[State 1905, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 297

;---------------------------------------------------------------------------
; カウンターワイヤー
;相手やられ(CW跳ね返り)
[Statedef 297]
type    = A
movetype= H
physics = N
velset = 2.2,-11.5

[State 1907, ChangeAnim]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050

[State 1905, ScreenBound];画面固定
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1905, VelAdd]
type = VelAdd
Trigger1 = 1
y = .55

[State 1905, SelfState] 
type = SelfState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 5100 

;---------------------------------------------------------------------------
;屈み弱パンチ
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 400
sprpriority = 1

;---------------------[効果音]
[State 400, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 300, 0

[State 400, 2];
type = PlaySnd
trigger1 = animelem = 2
value = 200, random%2
channel = 0

;---------------------[攻撃]
[State 400, 3]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 3
attr = C, NA
damage = 17
getpower = ifelse(var(20)>0,0,45),ifelse(var(20)>0,0,45)
animtype = Light
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 9, 8
sparkno = s7000
sparkxy = -10,-58
hitsound = s400, 0
guard.sparkno = s7010
guardsound = s120, 0
ground.type = low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -6
airguard.velocity = -1.9,-2
air.type = high
air.velocity = -4,-7
yaccel = .55
air.hittime = 3
ID = 400
guard.hittime = 8
ground.cornerpush.veloff = -8.5
air.cornerpush.veloff = 0
fall.recovertime = 17
air.fall = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 4
Movetype = I

;---------------------[ステート移行]
[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;屈み強パンチ
[Statedef 410]
type    = C
movetype= A
physics = N
juggle  = 25
poweradd= 0
ctrl = 0
velset = 0,0
anim = 410
sprpriority = 1

;---------------------[効果音]
[State 240, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 300, 0

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 2
value = 210, random%2
channel = 0

;---------------------[攻撃]
[State 210, 2]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 3
attr = C, NA
animtype  = hard
damage    = 75
priority = 4, Hit
getpower = ifelse(var(20)>0,0,91),ifelse(var(20)>0,0,91)
guardflag = M
pausetime = 11,10
sparkno = s7001
sparkxy = -15,-87
hitsound   = s400,1
guardsound = s120,1
guard.sparkno = s7011
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.velocity = -4,-7
yaccel = .55
ID = 410
guard.hittime = 17
air.hittime = 3
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
fall.recovertime = 25
air.fall = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 5
Movetype = I

;---------------------[ステート移行]
[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;屈み弱キック
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 25
poweradd= 0
ctrl = 0
velset = 0,0
anim = 430
sprpriority = 1

;---------------------[効果音]
[State 240, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 300, 1

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 2
value = 201, random%2
channel = 0

;---------------------[攻撃]
[State 400, 3]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 2
attr = C, NA
damage = 27
getpower = ifelse(var(20)>0,0,45),ifelse(var(20)>0,0,45)
animtype = Light
guardflag = L
hitflag = M
priority = 4, Hit
pausetime = 9, 8
sparkno = s7000
sparkxy = -10,-7
hitsound = s400, 2
guard.sparkno = s7010
guardsound = s120, 0
ground.type = low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -6
airguard.velocity = -1.9,-2
air.type = high
air.velocity = -4,-7
yaccel = .55
air.hittime = 12
ID = 430
guard.hittime = 8
air.hittime = 3
ground.cornerpush.veloff = -8.5
air.cornerpush.veloff = 0
fall.recovertime = 17
air.fall = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 3
Movetype = I

;---------------------[ステート移行]
[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;屈み強キック
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 25
poweradd= 0
ctrl = 0
velset = 0,0
anim = 440
sprpriority = 1

;---------------------[効果音]
[State 240, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 300, 1

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 2
value = 220, random%2
channel = 0

;---------------------[攻撃]
[State 440, 3]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 4
attr = C, NA
damage    = 118
priority = 4, Hit
hitflag = MA
guardflag = L
pausetime = 11,10
sparkno = s7001
getpower = ifelse(var(20)>0,0,91),ifelse(var(20)>0,0,91)
sparkxy = -17,-20
hitsound   = s400,3
guardsound = s120,1
guard.sparkno = s7011
animtype = back
ground.type = low
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2,-7.5
air.velocity = -2,-7.5
yaccel = .55
guard.velocity = -11.2
fall = 1
fall.recover = 0
ID = 440
guard.hittime = 17
air.hittime = 10
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 5
Movetype = I

;---------------------[ステート移行]
[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;飛燕失脚2
[Statedef 450]
type    = C
movetype= A
physics = N
juggle  = 15
poweradd= 0
ctrl = 0
velset = 0,0
anim = ifelse(var(1)=3,454,450)
sprpriority = 1

;---------------------[効果音]
[State 240, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 300, 0

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 2
value = 201, 0

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 2
value = 301, 0

;---------------------[移動]
[state a]
type = velset
trigger1 = animelem = 2
x = 8.4

[state a]
type = velmul
trigger1 = 1
x = 0.9

[state a]
type = velset
trigger1 = animelem = 6
x = 0

;---------------------[攻撃]
[State 410, 2]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 4
attr = C, NA
damage    = 20
priority = 4, Hit
animtype  = hard
hitflag = MAF
guardflag = MA
pausetime = 11,10
getpower = ifelse(var(20)>0,0,105),ifelse(var(20)>0,0,105)
sparkno = s7001
sparkxy = -12,-32
hitsound   = s400,1
guard.sparkno = s7011
guardsound = s120,1
ground.type = low
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = 0
air.velocity = -4,-7
yaccel = .55
fall = 0
fall.recover = 0
ID = 450
guard.hittime = 17
air.hittime = 10
air.fall = 1
fall.recovertime = 99999
guard.cornerpush.veloff =  0
air.cornerpush.veloff = 0

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 5
Movetype = I

;---------------------[エフェクト]
[State 1300, エフェクト表示]
type = Explod
trigger1 = animelem = 4
anim = 452
pos = 0, 0
postype = p1
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1

;---------------------[追加攻撃]
[State 1000,]
type = ChangeState
triggerall = AnimElemtime(4) >= 0 && AnimElemtime(5) < 4
triggerall = movecontact
triggerall = !var(59)
trigger1 = command = "x"
value = 451

;---------------------[ステート移行]
[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 飛燕失脚2追加攻撃
[Statedef 451]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 1
;Commonly-used controllers:
velset = 0,0                     ;このステートが始まった時に移動するか（0,0で動かない）
ctrl = 0                         ;このステート中に他のコマンドを受け付けるか(1で受け付ける)
anim = 451                       ;このステートで表示するスプライトステート番号(0で変化無し)
poweradd = 0                     ;このステートを使った時のパワー増加量(0で変化無し)
sprpriority = 2                  ;表示した絵の重なり具合(2一番前　0通常　-1奥)

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = 40, 0

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 220, 0

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = 300, 2

[State 250, Vel]
type = PosAdd
trigger1 = animelem = 3
x = 15

[State 250, Vel]
type = VelSet
trigger1 = animelem = 3
x = 2.8
y = -4.5

[State 250, Vel]
type = VelAdd
trigger1 = animelemtime(2) > 0
y = .5

[State 250, StateTypeSet];状態：空中に
type = StateTypeSet
trigger1 = animelem = 2
StateType = A
Physics = N

;---------------------[攻撃]
[State 210, 2]
type = HitDef
triggerall = !var(7)
triggerall = P2StateType != A
trigger1 = animelem = 5
attr = S, N
animtype  = hard
damage    = 40
priority = 4, Hit
getpower = ifelse(var(20)>0,0,45),ifelse(var(20)>0,0,45)
hitflag = MAF
guardflag = HA
pausetime = 11,10
sparkno = s7002
sparkxy = -20,-35
hitsound   = s400,1
guardsound = s120,1
guard.sparkno = s7011
ground.type = low
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4,-7
air.velocity = -4,-7
yaccel = .55
fall = 1
fall.recover = 0
air.fall = 1
ID = 450
guard.hittime = 17
fall.recovertime = 99999
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 210, 2]
type = HitDef
triggerall = !var(7)
triggerall = P2StateType = A
trigger1 = animelem = 5
attr = S, N
animtype  = hard
damage    = 35
priority = 4, Hit
getpower = ifelse(var(20)>0,0,45),ifelse(var(20)>0,0,45)
hitflag = MAF
guardflag = HA
pausetime = 11,10
sparkno = s7002
sparkxy = -20,-35
hitsound   = s400,3
guardsound = s120,1
guard.sparkno = s7011
ground.type = low
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = 0
air.velocity = -4,-7
yaccel = .55
fall = 0
fall.recover = 0
air.fall = 1
ID = 451
guard.hittime = 17
fall.recovertime = 99999
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 6
Movetype = I

[State 1000, 軸位置移動]
type = VelAdd
trigger1 = 1;AnimElemtime(4) >= 1 && AnimElemtime(5) <= 4
x = -.1

[State 20] ;ヒット時の相手動作
type = targetState
trigger1 = movehit && NumTarget(450)
value = 280
ctrl = 0
IgnoreHitPause = 1
Persistent     = 0

[State 20] ;ヒット時の相手動作
type = targetState
trigger1 = movehit && NumTarget(451)
value = 285
ctrl = 0
IgnoreHitPause = 1
Persistent     = 0

;叩きつけエフェクト
[State 1000, ヘルパーを出す]
type = Helper
trigger1 = movehit
name = "hit"
stateno = 4920
ID = 4920
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

;---------------------[エフェクト]
[State 1300, エフェクト表示]
type = Explod
trigger1 = animelem = 5
anim = 453
pos = 0, 0
postype = p1
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1

;---------------------[ステート移行]
[State 250, ChangeState];着地
type = ChangeState
trigger1 = var(1)!=3
trigger1 = animelemtime(6) > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 255

[State 250, ChangeState];着地
type = ChangeState
trigger1 = var(1)=3
trigger1 = animelemtime(6) > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
;垂直空中弱パンチ
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 25
poweradd= 0
ctrl = 0
anim = 600
sprpriority = 2

;---------------------[効果音]
[State 240, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 300, 0

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 2
value = 200, random%2
channel = 0

;---------------------[攻撃]
[State 600, 2]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 3
attr = A, NA
damage    = 59
priority = 4, Hit
getpower = ifelse(var(20)>0,0,45),ifelse(var(20)>0,0,45)
guardflag = HA
pausetime = 11,10
sparkno = s7000
sparkxy = -15,-45
hitsound   = s400,0
guard.sparkno = s7010
guardsound = s120,0
ground.type = low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5.3
air.velocity = -4,-7
yaccel = .55
ID = 600
guard.hittime = 9
air.hittime = 3
ground.cornerpush.veloff = -8
air.cornerpush.veloff = 0
fall.recovertime = 17
air.fall = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 4
Movetype = I

;---------------------------------------------------------------------------
;空中弱パンチ
[Statedef 605]
type    = A
movetype= A
physics = A
juggle  = 25
poweradd= 0
ctrl = 0
anim = 605
sprpriority = 2

;---------------------[効果音]
[State 240, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 300, 0

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 2
value = 200, random%2
channel = 0

;---------------------[攻撃]
[State 600, 2]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 3
attr = A, NA
damage    = 59
priority = 4, Hit
getpower = ifelse(var(20)>0,0,45),ifelse(var(20)>0,0,45)
guardflag = HA
pausetime = 11,10
sparkno = s7000
sparkxy = -10,-45
hitsound   = s400,0
guard.sparkno = s7010
guardsound = s120,0
ground.type = low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5.3
air.velocity = -4,-7
yaccel = .55
ID = 600
guard.hittime = 9
air.hittime = 3
ground.cornerpush.veloff = -8
air.cornerpush.veloff = 0
fall.recovertime = 17
air.fall = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 4
Movetype = I

;---------------------------------------------------------------------------
;垂直空中強パンチ
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 25
poweradd= 0
ctrl = 0
anim = 610
sprpriority = 2

;---------------------[効果音]
[State 240, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 300, 0

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 1
value = 210, random%2
channel = 0

;---------------------[攻撃]
[State 610, 3]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 2
attr = A, NA
damage = 99
priority = 4, Hit
guardflag = HA
getpower = ifelse(var(20)>0,0,91),ifelse(var(20)>0,0,91)
pausetime = 11,10
sparkno = s7001
sparkxy = -18,-30
hitsound   = s400,1
guard.sparkno = s7011
guardsound = s120,1
animtype = hard
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5.3
air.velocity = -4,-7
yaccel = .55
ID = 610
guard.hittime = 17
air.hittime = 3
ground.cornerpush.veloff = -8
air.cornerpush.veloff = 0
fall.recovertime = 25
air.fall = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 4
Movetype = I

;---------------------------------------------------------------------------
;小中ジャンプ強パンチ
[Statedef 612]
type    = A
movetype= A
physics = A
juggle  = 25
poweradd= 0
ctrl = 0
anim = 612
sprpriority = 2

;---------------------[効果音]
[State 240, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 300, 0

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 1
value = 210, random%2
channel = 0

;---------------------[攻撃]
[State 610, 3]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 3
attr = A, NA
damage = 75
priority = 4, Hit
guardflag = HA
getpower = ifelse(var(20)>0,0,91),ifelse(var(20)>0,0,91)
pausetime = 11,10
sparkno = s7001
sparkxy = -18,-30
hitsound   = s400,1
guard.sparkno = s7011
guardsound = s120,1
animtype = hard
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5.3
air.velocity = -4,-7
yaccel = .55
ID = 610
guard.hittime = 17
air.hittime = 3
ground.cornerpush.veloff = -8
air.cornerpush.veloff = 0
fall.recovertime = 25
air.fall = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 4
Movetype = I

;---------------------------------------------------------------------------
;空中強パンチ
[Statedef 615]
type    = A
movetype= A
physics = A
juggle  = 25
poweradd= 0
ctrl = 0
anim = 615
sprpriority = 2

;---------------------[効果音]
[State 240, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 300, 0

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 2
value = 210, random%2

;---------------------[攻撃]
[State 610, 3]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 3 || animelem = 5
attr = A, NA
damage = ifelse(movehit,30,99)
priority = 4, Hit
guardflag = HA
getpower = ifelse(var(20)>0,0,91),ifelse(var(20)>0,0,91)
pausetime = 11,10
sparkno = s7001
sparkxy = -12,-56
hitsound   = s400,1
guard.sparkno = s7011
guardsound = s120,1
animtype = hard
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5.3
air.velocity = -4,-7
yaccel = .55
ID = 610
guard.hittime = 17
air.hittime = 3
ground.cornerpush.veloff = -8
air.cornerpush.veloff = 0
fall.recovertime = 25
air.fall = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 6
Movetype = I

;---------------------------------------------------------------------------
;垂直空中弱キック
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 25
poweradd= 0
ctrl = 0
anim = 630
sprpriority = 1

;---------------------[効果音]
[State 240, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 300, 1

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 2
value = 201, random%2

;---------------------[攻撃]
[State 630, 2]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 2
attr = A, NA
damage = 50
priority = 4, Hit
getpower = ifelse(var(20)>0,0,45),ifelse(var(20)>0,0,45)
guardflag = HA
pausetime = 11,10
sparkno = s7000
sparkxy = -11,-25
hitsound   = s400,2
guard.sparkno = s7010
guardsound = s120,0
ground.type = low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-7
yaccel = .55
ID = 630
guard.hittime = 9
air.hittime = 3
ground.cornerpush.veloff = -8
air.cornerpush.veloff = 0
fall.recovertime = 17
air.fall = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 3
Movetype = I

;---------------------------------------------------------------------------
;垂直空中弱キック
[Statedef 635]
type    = A
movetype= A
physics = A
juggle  = 25
poweradd= 0
ctrl = 0
anim = 635
sprpriority = 1

;---------------------[効果音]
[State 240, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 300, 1

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 2
value = 201, random%2

;---------------------[攻撃]
[State 630, 2]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 2
attr = A, NA
damage = 50
priority = 4, Hit
getpower = ifelse(var(20)>0,0,45),ifelse(var(20)>0,0,45)
guardflag = HA
pausetime = 11,10
sparkno = s7000
sparkxy = -11,-25
hitsound   = s400,2
guard.sparkno = s7010
guardsound = s120,0
ground.type = low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-7
yaccel = .55
ID = 630
guard.hittime = 9
air.hittime = 3
ground.cornerpush.veloff = -8
air.cornerpush.veloff = 0
fall.recovertime = 17
air.fall = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 3
Movetype = I

;---------------------------------------------------------------------------
;空中強キック
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 25
poweradd= 0
ctrl = 0
anim = 640
sprpriority = 1

;---------------------[効果音]
[State 240, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 300, 1

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 2
value = 220, random%2

;---------------------[攻撃]
[State 640, 3]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 3
attr = A, NA
damage    = 85
priority = 4, Hit
guardflag = HA
getpower = ifelse(var(20)>0,0,91),ifelse(var(20)>0,0,91)
pausetime = 11,10
sparkno = s7001
sparkxy = -12,-56
hitsound   = s400,3
guard.sparkno = s7011
guardsound = s120,1
animtype = hard
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5
air.velocity = -4,-7
yaccel = .55
ID = 640
guard.hittime = 17
air.hittime = 3
ground.cornerpush.veloff = -8
air.cornerpush.veloff = 0
fall.recovertime = 25
air.fall = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 4
Movetype = I

;---------------------------------------------------------------------------
;空中ふっ飛ばし攻撃1
[Statedef 690]
type    = A
movetype= A
physics = A
juggle  = 25
poweradd= 0
ctrl = 0
anim = 690
sprpriority = 2

;---------------------[効果音]
[State 240, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 300, 1

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 2
value = 250, 0

;---------------------[攻撃]
[State 240, 2]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 5
attr = A, NA
animtype  = hard
damage    = 91
priority = 4, Hit
getpower = ifelse(var(20)>0,0,122),ifelse(var(20)>0,0,122)
guardflag = MA
pausetime = 11,11
sparkno = s7002
sparkxy = -15,-65
hitsound   = s400,4
guard.sparkno = s7011
guardsound = s120,1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4.5,-7
air.velocity = -4,-7
yaccel = .55
fall = 1
fall.recover = 0
ID = 690
guard.hittime = 21
fall.recovertime = 99999
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8.5
air.cornerpush.veloff = 0

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 7
Movetype = I

;---------------------------------------------------------------------------
;空中ふっ飛ばし攻撃2
[Statedef 695]
type    = A
movetype= A
physics = A
juggle  = 25
poweradd= 0
ctrl = 0
anim = 695
sprpriority = 2

;---------------------[効果音]
[State 240, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 300, 1

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 1
value = 250, 0

;---------------------[攻撃]
[State 240, 2]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 2
attr = A, NA
animtype  = hard
damage    = 91
priority = 4, Hit
getpower = ifelse(var(20)>0,0,122),ifelse(var(20)>0,0,122)
guardflag = MA
pausetime = 11,11
sparkno = s7002
sparkxy = -11,-15
hitsound   = s400,4
guard.sparkno = s7011
guardsound = s120,1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4.5,-7
air.velocity = -4,-7
yaccel = .55
fall = 1
fall.recover = 0
ID = 690
guard.hittime = 21
fall.recovertime = 99999
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8.5
air.cornerpush.veloff = 0

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 3
Movetype = I

;---------------------------------------------------------------------------
;緊急回避前
[Statedef 700]
type = S
movetype = I
physics = N
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 1

[State 290, 1]
type = changeanim
triggerall = !(prevstateno = [150,153])
triggerall = !(prevstateno = [200,499])
trigger1 = time = 0
value = 700

[State 290, 1]
type = changeanim
trigger1 = time = 0
trigger1 = (prevstateno = [150,153])
value = 703

[State 290, 1]
type = changeanim
trigger1 = time = 0
trigger1 = (prevstateno = [200,499])
value = 707

;---------------------[演出]
[State 290, 1]
type = poweradd
triggerall = var(20) = 0
triggerall = time = 0
trigger1 = prevstateno = 150
trigger2 = prevstateno = 151
trigger3 = prevstateno = 152
trigger4 = prevstateno = 153
trigger5 = prevstateno = [200,499]
value = -1000

;---------------------MAX時のゲージ消費
[state a]
type = varadd
triggerall = var(20) > 0
trigger1 = prevstateno = 150
trigger2 = prevstateno = 151
trigger3 = prevstateno = 152
trigger4 = prevstateno = 153
trigger5 = prevstateno = [200,499]
v = 21
value = -1000
persistent = 0

[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 8

[State 700, 2];無敵の状態を作る
type = NotHitBy
triggerall = 1
trigger1 = (prevstateno = [150,153])
value = SCA

[State 1];打撃無敵の状態を作る
type = hitby
triggerall = time = 8
trigger1 = !(prevstateno = [150,153])
value = SCA,AT
time = 15

;---------------------[キャンセル時]
[State 290, 1]
type = poweradd
triggerall = time = 0
trigger1 = prevstateno = [200,499]
value = -1000

[State a]
type = EnvColor
triggerall = time = 1
trigger1 = prevstateno = [200,499]
persistent = 0
ignorehitpause = 1
time = 3
value = 255,255,255
under = 2

[State 2000, 2]
type = Pause
trigger1 = time = 1
trigger1 = prevstateno = [200,499]
time = 8
movetime = 8
anim = -1
darken = 0

[state a]
type = playerpush
trigger1 = 1
value = 0

[State 50, 4]
type = AfterImage
trigger1 = time = 0
time = 12
trans = add1
timegap = 2
framegap = 2
length = 6
palbright = 12,12,12
palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[エフェクト]
[State a]
type = EnvColor
triggerall = time = 0
trigger1 = prevstateno = 150
trigger2 = prevstateno = 151
trigger3 = prevstateno = 152
trigger4 = prevstateno = 153
persistent = 0
ignorehitpause = 1
time = 3
value = 255,255,255
under = 2

;---------------------
[State 180 ,VarRandom]
type = VarRandom
trigger1 = time = 0
v = 5
range = 0,2

;---------------------[効果音]
[State 600, 1];ふんっ
type = PlaySnd
trigger1 = Time = 1
trigger1 = var(5) = 0
value = 182, 1

[State 600, 1];ふんっ CVS
type = PlaySnd
trigger1 = Time = 1
trigger1 = var(5) = 1
value = 210, 1

[State 600, 1];ハッ CVS
type = PlaySnd
trigger1 = Time = 1
trigger1 = var(5) = 2
value = 700, 0

;---------------------[移動]
[state a]
type = posset
trigger1 = time = 0
y = 0

[State 600, 1]
type = velset
trigger1 = Time = 0
x = 0

[State 600, 1]
type = velset
trigger1 = prevstateno != 100
trigger1 = prevstateno != 101
trigger1 = animelem = 3
x = 4.9

[State 600, 1]
type = velset
triggerall = animelem = 3
trigger1 = prevstateno = 100
trigger2 = prevstateno = 101
x = 6.8

[State 600, 1]
type = velset
trigger1 = prevstateno = [200,499]
trigger1 = animelem = 3
x = 5.1

[State 600, 1]
type = velset
trigger1 = (prevstateno = [150,153])
trigger1 = animelem = 3
x = 5.1

[State 600, 1]
type = velset
trigger1 = animelem = 7
x = 0

;---------------------[ステート移行]
[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;緊急回避後
[Statedef 701]
type = S
movetype = I
physics = N
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 1

[State 290, 1]
type = changeanim
triggerall = !(prevstateno = [150,153])
triggerall = !(prevstateno = [200,499])
trigger1 = time = 0
value = 701

[State 290, 1]
type = changeanim
trigger1 = time = 0
trigger1 = (prevstateno = [150,153])
value = 704

;---------------------[演出]
[State 290, 1]
type = poweradd
triggerall = var(20) = 0
triggerall = time = 0
trigger1 = prevstateno = 150
trigger2 = prevstateno = 151
trigger3 = prevstateno = 152
trigger4 = prevstateno = 153
trigger5 = prevstateno = [200,499]
value = -1000

;---------------------MAX時のゲージ消費
[state a]
type = varadd
triggerall = var(20) > 0
trigger1 = prevstateno = 150
trigger2 = prevstateno = 151
trigger3 = prevstateno = 152
trigger4 = prevstateno = 153
trigger5 = prevstateno = [200,499]
v = 21
value = -1000
persistent = 0

[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 8

[State 700, 2];無敵の状態を作る
type = NotHitBy
triggerall = 1
trigger1 = (prevstateno = [150,153])
value = SCA

[State 1];打撃無敵の状態を作る
type = hitby
triggerall = time = 8
trigger1 = !(prevstateno = [150,153])
value = SCA,AT
time = 15

[state a]
type = playerpush
trigger1 = 1
value = 0

[State 50, 4]
type = AfterImage
trigger1 = time = 0
time = 12
trans = add1
timegap = 2
framegap = 2
length = 6
palbright = 12,12,12
palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[エフェクト]
[State a]
type = EnvColor
triggerall = time = 0
trigger1 = prevstateno = 150
trigger2 = prevstateno = 151
trigger3 = prevstateno = 152
trigger4 = prevstateno = 153
persistent = 0
ignorehitpause = 1
time = 3
value = 255,255,255
under = 2

;---------------------
[State 180 ,VarRandom]
type = VarRandom
trigger1 = time = 0
v = 5
range = 0,2

;---------------------[効果音]
[State 600, 1];ふんっ
type = PlaySnd
trigger1 = Time = 1
trigger1 = var(5) = 0
value = 182, 1

[State 600, 1];ふんっ CVS
type = PlaySnd
trigger1 = Time = 1
trigger1 = var(5) = 1
value = 210, 1

[State 600, 1];ハッ CVS
type = PlaySnd
trigger1 = Time = 1
trigger1 = var(5) = 2
value = 700, 0

;---------------------[移動]
[state a]
type = posset
trigger1 = time = 0
y = 0

[State 600, 1]
type = velset
trigger1 = Time = 0
x = 0

[State 600, 1]
type = velset
trigger1 = animelem = 3
x = -4.9

[State 600, 1]
type = velset
trigger1 = (prevstateno = [150,153])
trigger1 = animelem = 3
x = -5.1

[State 600, 1]
type = velset
trigger1 = animelem = 7
x = 0

;---------------------[ステート移行]
[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ダウン回避
[Statedef 702]
type = S
movetype = I
physics = N
poweradd= 0
ctrl = 0
anim = 702
velset = 0,0
sprpriority = 1

[State 1000, ]
type = Varset
trigger1 = time = 0
var(5) = 0

;---------------------[演出]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

[state a]
type = playerpush
trigger1 = 1
value = 0

;---------------------[振り向き]
[state a];背面やられ時は振り向く
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0

;---------------------[効果音]
[State 600, 1];フンッ
type = PlaySnd
trigger1 = Time = 1
value = 210, 1

;---------------------[移動]
[state a]
type = posset
trigger1 = time = 0
y = 0

[State 600, 1]
type = velset
trigger1 = Time = 0
x = -12

[State 600, 1]
type = velset
trigger1 = animelem = 5
x = 0

[State 600, 1]
type = velmul
trigger1 = 1
x = 0.85

;---------------------[ステート移行]
[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;避け
[Statedef 705]
type = S
movetype = I
physics = S
poweradd= 0
ctrl = 0
anim = 705
velset = 0,0
sprpriority = -2

;---------------------[演出]
[State 290, 1]
type = poweradd
triggerall = var(20) = 0
triggerall = time = 0
trigger1 = prevstateno = [200,499]
value = -1000

;---------------------MAX時のゲージ消費
[state a]
type = varadd
triggerall = var(20) > 0
trigger1 = prevstateno = [200,499]
v = 21
value = -1000
persistent = 0

[State 1];打撃無敵の状態を作る
type = hitby
trigger1 = 1
value = SCA,AT

[state a]
type = playerpush
trigger1 = 1
value = 0

[State 50, 4]
type = AfterImage
trigger1 = time = 0
time = 12
trans = add1
timegap = 2
framegap = 2
length = 6
palbright = 12,12,12
palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[キャンセル時]
[State a]
type = EnvColor
triggerall = time = 1
trigger1 = prevstateno = [200,499]
persistent = 0
ignorehitpause = 1
time = 3
value = 255,255,255
under = 2

[State 2000, 2]
type = Pause
trigger1 = time = 1
trigger1 = prevstateno = [200,499]
time = 8
movetime = 8
anim = -1
darken = 0

;---------------------
[State 180 ,VarRandom]
type = VarRandom
trigger1 = time = 0
v = 5
range = 0,1

;---------------------[効果音]
[State 600, 1];ふんっ
type = PlaySnd
trigger1 = Time = 1
trigger1 = var(5) = 0
value = 182, 1

[State 600, 1];ふんっ CVS
type = PlaySnd
trigger1 = Time = 1
trigger1 = var(5) = 1
value = 200, 0

;---------------------[移動]
[state a]
type = posset
trigger1 = time = 0
y = 0

;---------------------[ステート移行]
[State 200, 7]
type = ChangeState
triggerall = animelemtime(3) >= 0 && animelemtime(4) < 0
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "x"
trigger4 = command = "y"
trigger5 = command = "c"
trigger6 = command = "z"
value = 706
ctrl = 0

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 避け攻撃
[Statedef 706]
type    = S
movetype= A
physics = S
juggle  = 25
poweradd= 0
ctrl = 0
velset = 0,0
anim = ifelse(var(1)=3,708,706)
sprpriority = 2

;---------------------[攻撃]
[State 240, 2]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 6
attr = S, NA
animtype  = hard
damage    = 24
priority = 4, Hit
getpower = ifelse(var(20)>0,0,86),ifelse(var(20)>0,0,86)
guardflag = M
pausetime = 11,10
sparkno = s7002
sparkxy = -15,-57
hitsound   = s400,1
guard.sparkno = s7011
guardsound = s120,1
ground.type = low
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.velocity = -4,-7
yaccel = .55
guard.velocity = -11.2
air.fall = 1
fall.recover = 0
guard.hittime = 219
ID = 706
fall.recovertime = 99999
guard.hittime = 17
ground.cornerpush.veloff = -17.2
air.cornerpush.veloff = 0

[State 210,PosAdd]
type = PosAdd
trigger1 = animelem = 2 || animelem = 10
x = 6

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 7
Movetype = I

;---------------------[ステート移行]
[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;パワー溜め
[Statedef 710]
type = S
movetype = I
physics = S
poweradd= 0
ctrl = 0
anim = 710
velset = 0,0
sprpriority = 1

[State 290, 1]
type = poweradd
trigger1 = var(1) != 3
trigger1 = 1
value = 5

[State 290, 1]
type = poweradd
trigger1 = var(1) = 3
trigger1 = 1
value = 15

;---------------------[効果音]
[State 600, 1];はあああぁぁぁっ！
type = PlaySnd
trigger1 = Time = 1
value = 750,0
channel = 10

[State 600, 1];しゅいーん！
type = PlaySnd
trigger1 = Time = 1
value = 750,1
channel = 11

;---------------------[移動]
[state a]
type = posset
trigger1 = time = 0
y = 0

;---------------------
[State 1000, 5]
type = Explod
trigger1 = animelemtime(3) = 0
anim = 715
ID = 715
sprpriority = 2
postype = p1
pos = -2,0
bindtime = -1
under = 0
ownpal = 1
persistent = 0
removetime = -1

;---------------------[ステート移行]
[State 200, 7]
type = ChangeState
trigger1 = Command != "おしっぱなしz" || Command != "おしっぱなしc"
trigger2 = power >= 5000
value = 711
ctrl = 1

;---------------------------------------------------------------------------
;パワー溜め終了
[Statedef 711]
type = S
movetype = I
physics = S
poweradd= 0
ctrl = 1
anim = ifelse(var(5)=1,713,711)
velset = 0,0
sprpriority = 1

[State 200, 7]
type = RemoveExplod
trigger1 = time = 0
ID = 715

[State 200, 7]
type = StopSnd
trigger1 = time = 0
channel = 10

[State 200, 7]
type = StopSnd
trigger1 = time = 0
channel = 11

[State 600, 1];カモン！
type = PlaySnd
trigger1 = Time = 1
trigger1 = power = 5000
value = 2400,1

;---------------------[ステート移行]
[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;かわし移動前
[Statedef 750]
type = S
movetype = I
physics = N
poweradd= 0
ctrl = 0
anim = 750
velset = 0,0
sprpriority = 1

;---------------------[演出]
[State 290, 1]
type = poweradd
triggerall = var(20) = 0
triggerall = time = 0
trigger1 = prevstateno = 150
trigger2 = prevstateno = 151
trigger3 = prevstateno = 152
trigger4 = prevstateno = 153
trigger5 = prevstateno = [200,499]
value = -1000

;---------------------MAX時のゲージ消費
[state a]
type = varadd
triggerall = var(20) > 0
trigger1 = prevstateno = 150
trigger2 = prevstateno = 151
trigger3 = prevstateno = 152
trigger4 = prevstateno = 153
trigger5 = prevstateno = [200,499]
v = 21
value = -1000
persistent = 0

[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 8

[State 700, 2];無敵の状態を作る
type = NotHitBy
triggerall = 1
trigger1 = (prevstateno = [150,153])
value = SCA

[State 1];打撃無敵の状態を作る
type = hitby
triggerall = time = [8,23]
trigger1 = !(prevstateno = [150,153])
value = SCA,AT
time = 1

[state a]
type = playerpush
trigger1 = 1
value = 0

[State 50, 4]
type = AfterImage
trigger1 = time = 0
time = 12
trans = add1
timegap = 2
framegap = 2
length = 6
palbright = 12,12,12
palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[エフェクト]
[State a]
type = EnvColor
triggerall = time = 0
trigger1 = prevstateno = 150
trigger2 = prevstateno = 151
trigger3 = prevstateno = 152
trigger4 = prevstateno = 153
persistent = 0
ignorehitpause = 1
time = 3
value = 255,255,255
under = 2

;---------------------[効果音]
[State 180 ,VarRandom]
type = VarRandom
trigger1 = time = 0
v = 5
range = 0,1

;---------------------[効果音]
[State 600, 1];ふんっ
type = PlaySnd
trigger1 = Time = 1
trigger1 = var(5) = 0
value = 182, 1

[State 600, 1];ハッ CVS
type = PlaySnd
trigger1 = Time = 1
trigger1 = var(5) = 1
value = 700, 0

;---------------------[移動]
[state a]
type = posset
trigger1 = time = 0
y = 0

[State 600, 1]
type = velset
trigger1 = Time = 0
x = 0

[State 600, 1]
type = velset
trigger1 = prevstateno != 100
trigger1 = prevstateno != 101
trigger1 = animelem = 2
x = 4

[State 600, 1]
type = velset
triggerall = animelem = 2
trigger1 = prevstateno = 100
trigger2 = prevstateno = 101
x = 5.6

[State 600, 1]
type = velset
trigger1 = animelem = 4
x = 0

;---------------------[ステート移行]
[State 200, 7]
type = ChangeState
triggerall = animelemtime(3) >= 0 && animelemtime(4) < 0
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "x"
trigger4 = command = "y"
trigger5 = command = "c"
trigger6 = command = "z"
value = 751
ctrl = 0

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; かわし移動攻撃
[Statedef 751]
type    = S
movetype= A
physics = S
juggle  = 25
poweradd= 0
ctrl = 0
velset = 0,0
anim = 751
sprpriority = 2

;---------------------[攻撃]
[State 240, 2]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 3
attr = S, NA
animtype  = hard
damage    = 24
priority = 4, Hit
getpower = ifelse(var(20)>0,0,86),ifelse(var(20)>0,0,86)
guardflag = M
pausetime = 11,10
sparkno = s7002
sparkxy = -15,-57
hitsound   = s400,1
guard.sparkno = s7011
guardsound = s120,1
ground.type = low
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.velocity = -4,-7
yaccel = .55
guard.velocity = -11.2
air.fall = 1
fall.recover = 0
ID = 706
fall.recovertime = 99999
guard.hittime = 17
ground.cornerpush.veloff = -17.2
air.cornerpush.veloff = 0

[State 210,PosAdd]
type = PosAdd
trigger1 = animelem = 1 || animelem = 2
x = 11

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 7
Movetype = I

;---------------------[ステート移行]
[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;かわし移動・後
[Statedef 752]
type = S
movetype = I
physics = N
poweradd= 0
ctrl = 0
anim = 752
velset = 0,0
sprpriority = 1

[state a]
type = statetypeset
trigger1 = animelem = 2
value = A

[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------[演出]
[State 50, 4]
type = AfterImage
trigger1 = time = 0
time = 17
trans = add1
timegap = 2
framegap = 2
length = 6
palbright = 12,12,12
palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[効果音]
[State 180 ,VarRandom]
type = VarRandom
trigger1 = time = 0
v = 5
range = 0,1

;---------------------[効果音]
[State 600, 1];ふんっ CVS
type = PlaySnd
trigger1 = Time = 1
trigger1 = var(5) = 0
value = 182, 1

[State 600, 1];ハッ CVS
type = PlaySnd
trigger1 = Time = 1
trigger1 = var(5) = 1
value = 700, 0

;---------------------[移動]
[state a]
type = posset
trigger1 = time = 0
y = 0

[State 600, 1]
type = velset
trigger1 = Time = 0
x = 0

[State 600, 1]
type = velset
trigger1 = animelem = 2
x = -8
y = -1

[State 600, 1];8F
type = velset
trigger1 = animelem = 2,>0
y = 0.15

;---------------------[ステート移行]
[State 200, 7]
type = ChangeState
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 753

;---------------------------------------------------------------------------
;かわし移動・後・着地して前へ
[Statedef 753]
type = S
movetype = I
physics = N
poweradd= 0
ctrl = 0
anim = 753
velset = 0,0
sprpriority = 1

;---------------------[演出]
[State 50, 4]
type = AfterImagetime
trigger1 = time = 0

;---------------------[効果音]
[State 240, 1];
type = PlaySnd
trigger1 = animelem = 1
value = 41, 0

;---------------------[移動]
[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = statetypeset
trigger1 = animelem = 4
value = A

;---------------------[移動]
[State 600, 1]
type = velset
trigger1 = animelem = 4
x = 10
y = -2.3

[State 600, 1];8F
type = veladd
trigger1 = animelemtime(4) >= 0
y = 0.6

;---------------------[ステート移行]
[State 200, 7]
type = ChangeState
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 754

;---------------------------------------------------------------------------
;かわし移動・後・終了
[Statedef 754]
type = S
movetype = I
physics = S
poweradd= 0
ctrl = 0
anim = 754
velset = 0,0
sprpriority = 1

;---------------------[演出]
[State 50, 4]
type = AfterImagetime
trigger1 = time = 0

;---------------------[効果音]
[State 240, 1];
type = PlaySnd
trigger1 = animelem = 1
value = 41, 0

;---------------------[移動]
[state a]
type = posset
trigger1 = time = 0
y = 0

;---------------------[ステート移行]
[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;===========================================================================
; 投げ技
;===========================================================================
;---------------------------------------------------------------------------
;投げ
;虎殺
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 15
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 800, ヒット定義（投げ用）]
type = HitDef
triggerall = !(p2stateNo = [150,155]) && p2stateNo != 40
triggerall = P2MoveType != A
triggerall = p2movetype != H
triggerall = !var(23)
trigger1 = Time = 0
attr = S, NT
hitflag = M-
priority = 1, Miss
sparkno = -1          ;-をつければスパークエフェクトは無い
sparkxy = -15,-80
p1sprpriority = 2
p2sprpriority = 1     ;攻撃が当たった時に相手の画像表示優先度を0にします
p1facing = 1
p2facing = 1
p1Stateno = 801
p2Stateno = 802
guard.dist = 0 ;相手のガード態勢に入る距離を０にしてるので、ガード不可
fall = 1
id = 800

[State 800, ヒット定義（投げ用）]
type = HitDef
triggerall = !(p2stateNo = [150,155]) && p2stateNo != 40
triggerall = P2MoveType = A
triggerall = p2movetype != H
triggerall = !var(23)
trigger1 = Time = 0
attr = S, NT
hitflag = M-
priority = 1, Miss
sparkno = -1          ;-をつければスパークエフェクトは無い
sparkxy = -15,-80
p1sprpriority = 2
p2sprpriority = 1     ;攻撃が当たった時に相手の画像表示優先度を0にします
p1facing = 1
p2facing = 1
p1Stateno = 801
p2Stateno = 803
guard.dist = 0 ;相手のガード態勢に入る距離を０にしてるので、ガード不可
fall = 1
id = 800

[State 800, ステート変更]
type = ChangeState
Triggerall = command = "holdfwd"
Trigger1 = AnimTime = 0
value = 260

[State 800, ステート変更]
type = ChangeState
Triggerall = command = "holdback"
Trigger1 = AnimTime = 0
value = 215

;---------------------------------------------------------------------------
;虎殺（成功）
[Statedef 801]
type    = S
movetype= A
physics = N
anim = 801
juggle  = 0
sprpriority = 3

;===============================================================
; カウンターメッセージ用ヘルパーの呼び出し
;===============================================================
[State -2, Helper]
type = Helper
triggerall = p2stateno = 803
trigger1 = time = 0
name = "Counter"
StateNo = 7200
id = 7200
pos = -9999, 9999
postype = p1
ignorehitpause = 1
ownpal = 1
supermovetime = 99999999999999
pausemovetime = 99999999999999
keyctrl = 0
persistent = 0

[State 700, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 182, 1
channel = 0

[State 801, 音を鳴らす];掴み用
type = PlaySnd
trigger1 = AnimElem = 1
value = 420, 0

[State 801, 音を鳴らす];
type = PlaySnd
trigger1 = AnimElem = 5
value = 420, 3

;投げ抜け
[State 800, ChangeState]
type = ChangeState
trigger1 = numtarget
trigger1 = target,stateno = 5940
value = 5945

;------------------------------------
[State 801, Explod];掴みスパーク
type = Explod
trigger1 = animelem = 2
anim = 7081
ID = 7081
postype = p1
pos = 52, -76
facing = 1
sprpriority = 2       ; 表示優先度
;bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

;------------------------------------
[State 170, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = time = 0
edge = 60,0 ;画面端を押す幅を変える（オレンジの線）

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(3) < 0
pos = 43, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(3) >= 0 && AnimElemtime(4) < 0
pos = 36, -115

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(4) >= 0 && AnimElemtime(5) < 0
pos = 15, -136

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(5) >= 0 && AnimElemtime(6) < 0
pos = 20, -123

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(6) >= 0 && AnimElemtime(7) < 0
pos = 32, -75

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(7) >= 0 && AnimElemtime(7) < 3
pos = 40, -5

[State 801, ダメージ]
type = TargetLifeAdd
trigger1 = AnimElem = 7
value = Ceil(-((65*Const(data.attack)/100)*fvar(0)))

;叩きつけエフェクト
[State 1000, ヘルパーを出す]
type = Helper
trigger1 = AnimElemtime(6) = 0
name = "hit"
stateno = 4920
ID = 4920
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 801, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;虎殺相手投げられ 通常ヒット
[Statedef 802]
type    = A
movetype= H
physics = N
velset = 0,0

;投げ抜け
[State 800, ChangeState]
type = ChangeState
trigger1 = time < 13
trigger1 = command = "holdfwd" || command = "holdback"
trigger1 = command = "y"
value = 5940

;---------------------------------------------
[State 1050, SelfState];Helperは返却
type = SelfState
trigger1 = ishelper
value = PrevStateNo
;---------------------------------------------

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 802

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 2100, ]
type = SprPriority
trigger1 = animelemtime(4) = 0
value = 4

[State 820, 1]
type = EnvShake
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
time = 10

[State 821,Turn]
type = Turn
trigger1 = Animelem = 6
value = 5100

[State 820, 1]
type = Changestate
trigger1 = AnimTime = 0
value = 804

;---------------------------------------------------------------------------
;虎殺相手投げられ カウンターヒット時は投げ抜け不可
[Statedef 803]
type    = A
movetype= H
physics = N
velset = 0,0

;---------------------------------------------
[State 1050, SelfState];Helperは返却
type = SelfState
trigger1 = ishelper
value = PrevStateNo
;---------------------------------------------

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 802

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 2100, 移動終了]
type = SprPriority
trigger1 = animelemtime(4) = 0
value = 4

[State 820, 1]
type = EnvShake
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
time = 10

[State 821,Turn]
type = Turn
trigger1 = Animelem = 6
value = 5100

[State 820, 1]
type = Changestate
trigger1 = AnimTime = 0
value = 804

;---------------------------------------------------------------------------
;虎殺相手 地上叩きつけやられ
[Statedef 804]
type    = L
movetype= H
physics = N
velset = 0,0
sprpriority = 4

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 281

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = velset
trigger1 = AnimElem = 2
x = 0
y = -4

[state a]
type = envshake
trigger1 = Time = 0
time = 10
freq = 60
ampl = -4

[State 2100, 移動]
type = Veladd
trigger1 = AnimElemtime(2) >= 0
y = .33

;---------------------[エフェクト]
[State 1300, エフェクト表示]
type = Explod
trigger1 = animelem = 1
anim = F61
pos = 10, -10
postype = p1
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
supermovetime = 12

[State 820, 1]
type = Changestate
trigger1 = AnimElemtime(3) >= 0
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 282

;---------------------------------------------------------------------------
;虎殺掌
[Statedef 810]
type    = S
movetype= A
physics = S
juggle  = 15
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 800, ヒット定義（投げ用）]
type = HitDef
triggerall = !(p2stateNo = [150,155]) && p2stateNo != 40
triggerall = P2MoveType != A
triggerall = p2movetype != H
triggerall = !var(23)
trigger1 = Time = 0
attr = S, NT
hitflag = M-
priority = 1, Miss
sparkno = -1          ;-をつければスパークエフェクトは無い
sparkxy = -15,-80
p1sprpriority = 2
p2sprpriority = 1     ;攻撃が当たった時に相手の画像表示優先度を0にします
p1facing = 1
p2facing = 1
p1Stateno = 811
p2Stateno = 812
guard.dist = 0 ;相手のガード態勢に入る距離を０にしてるので、ガード不可
fall = 1
id = 800
numhits = 0

[State 800, ヒット定義（投げ用）]
type = HitDef
triggerall = !(p2stateNo = [150,155]) && p2stateNo != 40
triggerall = P2MoveType = A
triggerall = p2movetype != H
triggerall = !var(23)
trigger1 = Time = 0
attr = S, NT
hitflag = M-
priority = 1, Miss
sparkno = -1          ;-をつければスパークエフェクトは無い
sparkxy = -15,-80
p1sprpriority = 2
p2sprpriority = 1     ;攻撃が当たった時に相手の画像表示優先度を0にします
p1facing = 1
p2facing = 1
p1Stateno = 811
p2Stateno = 813
guard.dist = 0 ;相手のガード態勢に入る距離を０にしてるので、ガード不可
fall = 1
id = 800
numhits = 0

[State 800, ステート変更]
type = ChangeState
Triggerall = command = "holdfwd"
Trigger1 = AnimTime = 0
value = 260

[State 800, ステート変更]
type = ChangeState
Triggerall = command = "holdback"
Trigger1 = AnimTime = 0
value = 215

;---------------------------------------------------------------------------
;虎殺掌（成功）
[Statedef 811]
type    = S
movetype= A
physics = N
anim = 811
juggle  = 0
sprpriority = 3

;===============================================================
; カウンターメッセージ用ヘルパーの呼び出し
;===============================================================
[State -2, Helper]
type = Helper
triggerall = p2stateno = 803
trigger1 = time = 0
name = "Counter"
StateNo = 7200
id = 7200
pos = -9999, 9999
postype = p1
ignorehitpause = 1
ownpal = 1
supermovetime = 99999999999999
pausemovetime = 99999999999999
keyctrl = 0
persistent = 0

[State 700, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 420, 10
channel = 0

[State 801, 音を鳴らす];掴み用
type = PlaySnd
trigger1 = AnimElem = 1
value = 420, 0

[State 801, 音を鳴らす];
type = PlaySnd
trigger1 = AnimElem = 5 || AnimElem = 7 || AnimElem = 9 || AnimElem = 11
value = 405, 0

[State 700, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 21
value = 420, 8
channel = 0

;投げ抜け
[State 800, ChangeState]
type = ChangeState
trigger1 = numtarget
trigger1 = target,stateno = 5940
value = 5945

;------------------------------------
[State 1402, HitAdd]
type = HitAdd
trigger1 = AnimElem = 5 || AnimElem = 7 || AnimElem = 9 || AnimElem = 11
value = 1

;------------------------------------
[State 801, Explod];掴みスパーク
type = Explod
trigger1 = animelem = 2
anim = 7080
ID = 7080
postype = p1
pos = 52, -76
facing = 1
sprpriority = 2       ; 表示優先度
;bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

;------------------------------------
[State 170, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 801, 物理的なキャラの幅]
type = Width
trigger1 = time = 0
edge = 60,0 ;画面端を押す幅を変える（オレンジの線）

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(3) < 0
pos = 43, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(3) >= 0 && AnimElemtime(4) < 0
pos = 36, -115

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(4) >= 0 && AnimElemtime(14) < 0
pos = 33, -129

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(14) >= 0 && AnimElemtime(14) < 2
pos = 37, -81

[State 801, ダメージ]
type = TargetLifeAdd
trigger1 = AnimElem = 5 || AnimElem = 7 || AnimElem = 9 || AnimElem = 11
value = Ceil(-((11*Const(data.attack)/100)*fvar(0)))
kill = 0

[State 801, ダメージ]
type = null;TargetLifeAdd
trigger1 = AnimElem = 14
value = Ceil(-((40*Const(data.attack)/100)*fvar(0)))

;---------------------[攻撃]
[State 240, 2]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 14
attr = S, NA
animtype  = high
damage    = 40
priority = 4, Hit
getpower = ifelse(var(20)>0,0,122),ifelse(var(20)>0,0,122)
guardflag = M
pausetime = 11,10
sparkno = s7002
sparkxy = -22,-117
hitsound   = s405,7
guard.sparkno = s7011
guardsound = s120,1
ground.type = high
ground.slidetime = 21
ground.hittime  = 21
ground.velocity = -4,-7
air.velocity = -4,-7
yaccel = .55
guard.velocity = -11.2
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
ID = 290
guard.hittime = 21
fall.recovertime = 99999

;------------------------------------
[State 801, Explod];絞めスパーク
type = Explod
trigger1 = AnimElem = 4 || AnimElem = 6 || AnimElem = 8 || AnimElem = 10
anim = 813
ID = 813
postype = p1
pos = 28, -130
facing = 1
sprpriority = 4       ; 表示優先度
;bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 801, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;虎殺掌相手投げられ 通常ヒット
[Statedef 812]
type    = A
movetype= H
physics = N
velset = 0,0

;投げ抜け
[State 800, ChangeState]
type = ChangeState
trigger1 = time < 13
trigger1 = command = "holdfwd" || command = "holdback"
trigger1 = command = "y"
value = 5940

;---------------------------------------------
[State 1050, SelfState];Helperは返却
type = SelfState
trigger1 = ishelper
value = PrevStateNo
;---------------------------------------------

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 812

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 250, Vel]
type = VelSet
trigger1 = animelemtime(14) = 1
x = -4
y = -7

[State 250, Vel]
type = VelAdd
trigger1 = animelemtime(14) >= 1
y = .5

[State 820, 1]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100

;---------------------------------------------------------------------------
;虎殺掌相手投げられ カウンターヒット時は投げ抜け不可
[Statedef 813]
type    = A
movetype= H
physics = N
velset = 0,0

;---------------------------------------------
[State 1050, SelfState];Helperは返却
type = SelfState
trigger1 = ishelper
value = PrevStateNo
;---------------------------------------------

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 812

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 250, Vel]
type = VelSet
trigger1 = animelemtime(14) = 1
x = -4
y = -7

[State 250, Vel]
type = VelAdd
trigger1 = animelemtime(14) >= 1
y = .5

[State 820, 1]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100

;---------------------------------------------------------------------------
;絶命必中締め(K投げ)
[Statedef 820]
type    = S
movetype= A
physics = S
juggle  = 15
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 1

;---------------------[攻撃]
[State 800, 1]
type = HitDef
triggerall = !(p2stateNo = [150,155]) && p2stateNo != 40
triggerall = P2MoveType != A
triggerall = p2movetype != H
triggerall = !var(23)
Trigger1 = Time = 0
attr = S, NT
hitflag = M-
priority = 1, Miss 
sparkno = -1
sprpriority = 1
p1facing = 1
p2facing = 1
p1stateno = 821
p2stateno = 822
fall = 1
nochainID = 600,9999
numhits = 0

[State 800, 1]
type = HitDef
triggerall = !(p2stateNo = [150,155]) && p2stateNo != 40
triggerall = P2MoveType = A
triggerall = p2movetype != H
triggerall = !var(23)
Trigger1 = Time = 0
attr = S, NT
hitflag = M-
priority = 1, Miss 
sparkno = -1
sprpriority = 1
p1facing = 1
p2facing = 1
p1stateno = 821
p2stateno = 823
fall = 1
nochainID = 600,9999
numhits = 0

;---------------------[ステート移行]
[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 245

;---------------------------------------------------------------------------
;絶命必中締め・投げ成功
[Statedef 821]
type    = S
movetype= A
physics = N
anim = 821
juggle  = 15
sprpriority = 3

[State 2100, ]
type = SprPriority
trigger1 = animelemtime(3) = 0
value = 1

[State 2100, ]
type = SprPriority
trigger1 = animelemtime(8) = 0
value = 3

;===============================================================
; カウンターメッセージ用ヘルパーの呼び出し
;===============================================================
[State -2, Helper]
type = Helper
triggerall = p2stateno = 823
trigger1 = time = 0
name = "Counter"
StateNo = 7200
id = 7200
pos = -9999, 9999
postype = p1
ignorehitpause = 1
ownpal = 1
supermovetime = 99999999999999
pausemovetime = 99999999999999
keyctrl = 0
persistent = 0

[State 821,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

;投げ抜け
[State 800, ChangeState]
type = ChangeState
trigger1 = numtarget
trigger1 = target,stateno = 5940
value = 5945

;---------------------[エフェクト]
[State explod];掴み
type = Explod
trigger1 = animelem = 2
anim = 7080
id = 3000
sprpriority = 3
postype = p1
pos = 52, -76
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

;---------------------[サウンド]
[State 810, Grab Sound];掴み
type = PlaySnd
trigger1 = animelem = 1
value = 420, 0

[State 810, Grab Sound];だぁ！
type = PlaySnd
trigger1 = animelem = 6
value = 420,9

[State 810, Grab Sound];ぶぉん
type = PlaySnd
trigger1 = animelem = 7
value = 420, 6

[State 810, Grab Sound];ふんっ
type = PlaySnd
trigger1 = animelem = 10 || animelem = 13 || animelem = 16 || animelem = 19
value = 210, 1

[State 810, Grab Sound];ぎしぎし
type = PlaySnd
trigger1 = animelem = 11 || animelem = 14 || animelem = 17 || animelem = 20
value = 405, 3

[State 810, Grab Sound];ぐぎり
type = PlaySnd
trigger1 = animelem = 24
value = 405, 2

[State 810, Grab Sound];あぁーはぁっ！
type = PlaySnd
trigger1 = animelem = 24
value = 420, 1

;---------------------[向き]
[State 821,Turn]
type = Turn
trigger1 = AnimElem = 6

;---------------------[移動]
[State 210,PosAdd]
type = PosAdd
trigger1 = animelem = 8
x = 30

;------------------------------------
[State 1402, HitAdd]
type = HitAdd
trigger1 = animelem = 11 || animelem = 14 || animelem = 17 || animelem = 20 || animelem = 24
value = 1

;---------------------[相手制御]
[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(3) < 0
pos = 43, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(3) >= 0 && AnimElemtime(4) < 0
pos = 30, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(4) >= 0 && AnimElemtime(5) < 0
pos = 27, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(5) >= 0 && AnimElemtime(6) < 0
pos = 17, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(6) >= 0 && AnimElemtime(7) < 0
pos = 7, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(7) = 0
pos = 23, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(7) = 2
pos = 39, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(7) = 4
pos = 54, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(7) = 8
pos = 60, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(7) = 12
pos = 62, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(8) >= 0 && AnimElemtime(9) < 0
pos = 5, -65

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(9) >= 0 && AnimElemtime(25) < 0
pos = 12, -38

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(25) = 0
pos = 32, 7

[State 801, 2]
type = Targetlifeadd
trigger1 = animelem = 11 || animelem = 14 || animelem = 17 || animelem = 20
value = Ceil(-((11*Const(data.attack)/100)*fvar(0)))
kill = 0

[State 801, 2]
type = Targetlifeadd
trigger1 = animelem = 24
value = Ceil(-((40*Const(data.attack)/100)*fvar(0)))

;------------------------------------
[State 801, Explod];絞めスパーク
type = Explod
trigger1 = animelem = 9 || animelem = 12 || animelem = 15 || animelem = 18
anim = 813
ID = 813
postype = p1
pos = 13, -35
facing = 1
sprpriority = 4       ; 表示優先度
;bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 801, Explod];絞めスパーク
type = Explod
trigger1 = animelem = 24
anim = 813
ID = 813
postype = p1
pos = 18, -35
facing = 1
sprpriority = 4       ; 表示優先度
;bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 5
edge = 0,80

;---------------------[ステート移行]
[State 821, 3] 
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)絶命必中締め・掴まれ 通常ヒット
[Statedef 822]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 2

;投げ抜け
[State 800, ChangeState]
type = ChangeState
trigger1 = time < 13
trigger1 = command = "holdfwd" || command = "holdback"
trigger1 = command = "b"
value = 5940

;---------------------[演出]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 822

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------[移動]
[State 250, Vel]
type = VelSet
trigger1 = animtime = 0
x = 4

;---------------------[ステート移行]
[State 821, 3] 
type = SelfState
;trigger1 = Vel Y > 0
;trigger1 = Pos Y >= 0
trigger1 = animtime = 0
value = 5100

;---------------------------------------------------------------------------
;(ENEMY)絶命必中締め・掴まれ カウンターヒット時は投げ抜け不可
[Statedef 823]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 2

;---------------------[演出]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 822

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------[移動]
[State 250, Vel]
type = VelSet
trigger1 = animtime = 0
x = 4

;---------------------[ステート移行]
[State 821, 3] 
type = SelfState
;trigger1 = Vel Y > 0
;trigger1 = Pos Y >= 0
trigger1 = animtime = 0
value = 5100

;---------------------------------------------------------------------------
;絶命人中打ち(K投げ)
[Statedef 830]
type    = S
movetype= A
physics = S
juggle  = 15
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 1

;---------------------[攻撃]
[State 800, 1]
type = HitDef
triggerall = !(p2stateNo = [150,155]) && p2stateNo != 40
triggerall = P2MoveType != A
triggerall = p2movetype != H
triggerall = !var(23)
Trigger1 = Time = 0
attr = S, NT
hitflag = M-
priority = 1, Miss 
sparkno = -1
sprpriority = 1
p1facing = 1
p2facing = 1
p1stateno = 831
p2stateno = 832
fall = 1
nochainID = 600,9999
numhits = 0

[State 800, 1]
type = HitDef
triggerall = !(p2stateNo = [150,155]) && p2stateNo != 40
triggerall = P2MoveType = A
triggerall = p2movetype != H
triggerall = !var(23)
Trigger1 = Time = 0
attr = S, NT
hitflag = M-
priority = 1, Miss 
sparkno = -1
sprpriority = 1
p1facing = 1
p2facing = 1
p1stateno = 831
p2stateno = 833
fall = 1
nochainID = 600,9999
numhits = 0

;---------------------[ステート移行]
[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 245

;---------------------------------------------------------------------------
;絶命人中打ち・投げ成功
[Statedef 831]
type    = S
movetype= A
physics = N
anim = 831
juggle  = 15
sprpriority = 3

[State 2100, ]
type = SprPriority
trigger1 = animelemtime(7) = 0
value = 1

[State 2100, ]
type = SprPriority
trigger1 = animelemtime(8) = 0
value = 3

;===============================================================
; カウンターメッセージ用ヘルパーの呼び出し
;===============================================================
[State -2, Helper]
type = Helper
triggerall = p2stateno = 833
trigger1 = time = 0
name = "Counter"
StateNo = 7200
id = 7200
pos = -9999, 9999
postype = p1
ignorehitpause = 1
ownpal = 1
supermovetime = 99999999999999
pausemovetime = 99999999999999
keyctrl = 0
persistent = 0

[State 821,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

;投げ抜け
[State 800, ChangeState]
type = ChangeState
trigger1 = numtarget
trigger1 = target,stateno = 5940
value = 5945

;---------------------[エフェクト]
[State explod];掴み
type = Explod
trigger1 = animelem = 2
anim = 7080
id = 3000
sprpriority = 3
postype = p1
pos = 45, -61
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

;---------------------[サウンド]
[State 810, Grab Sound];掴み
type = PlaySnd
trigger1 = animelem = 1
value = 420, 0

[State 810, Grab Sound];だぁ！
type = PlaySnd
trigger1 = animelem = 7
value = 420,9

[State 810, Grab Sound];ぶぉん
type = PlaySnd
trigger1 = animelem = 5
value = 420, 6

[State 810, Grab Sound];どかっ
type = PlaySnd
trigger1 = animelem = 10 || animelem = 14 || animelem = 18 || animelem = 22
value = 405, 5

[State 810, Grab Sound];ばがん
type = PlaySnd
trigger1 = animelem = 26
value = 405, 7

[State 810, Grab Sound];あぁーはぁっ！
type = PlaySnd
trigger1 = animelem = 26
value = 420, 1

[State 240, 1];ズンッ
type = PlaySnd
trigger1 = animelem = 7
value = 45, 1

;---------------------[向き]
[State 821,Turn]
type = Turn
trigger1 = AnimElem = 8

;---------------------[移動]
[State 210,PosAdd]
type = PosAdd
trigger1 = animelem = 8
x = 7

;------------------------------------
[State 1402, HitAdd]
type = HitAdd
trigger1 = animelem = 7 || animelem = 10 || animelem = 14
trigger2 = animelem = 18 || animelem = 22 || animelem = 26
value = 1

;---------------------[相手制御]
[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(3) < 0
pos = 43, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(3) >= 0 && AnimElemtime(4) < 0
pos = 36, -93

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(4) >= 0 && AnimElemtime(5) < 0
pos = 27, -120

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(5) >= 0 && AnimElemtime(6) < 0
pos = 2, -133

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(6) >= 0 && AnimElemtime(7) < 0
pos = -48, -101

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(7) = 0
pos = -50, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(7) = 5
pos = -75, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(8) >= 0 && AnimElemtime(27) < 0
pos = 43, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(27) = 0
pos = 82, 22

[State 801, 2]
type = Targetlifeadd
trigger1 = animelem = 7
value = Ceil(-((20*Const(data.attack)/100)*fvar(0)))
kill = 0

[State 801, 2]
type = Targetlifeadd
trigger1 = animelem = 10 || animelem = 14 || animelem = 18 || animelem = 22
value = Ceil(-((11*Const(data.attack)/100)*fvar(0)))
kill = 0

[State 801, 2]
type = Targetlifeadd
trigger1 = animelem = 26
value = Ceil(-((20*Const(data.attack)/100)*fvar(0)))

;---------------------[エフェクト]
[State 1300, エフェクト表示]
type = Explod
trigger1 = animelem = 7
anim = 7090
pos = -67, 3
postype = p1
sprpriority = 2
bindtime = 1
ownpal = 1

[State 1020, 4]
type = EnvShake
trigger1 = animelem = 7
time = 10
ampl = -5
freq = 95
phase = 95

[State 801, Explod];ヒットエフェクト
type = Explod
trigger1 = animelem = 9 || animelem = 13 || animelem = 17 || animelem = 21
anim = 7000
ID = 7000
postype = p1
pos = 43, -7
facing = 1
sprpriority = 4       ; 表示優先度
;bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 801, Explod];ヒットエフェクト
type = Explod
trigger1 = animelem = 25
anim = 7001
ID = 7001
postype = p1
pos = 43, -7
facing = 1
sprpriority = 4       ; 表示優先度
;bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 5
edge = 0,94

;---------------------[ステート移行]
[State 821, 3] 
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)絶命人中打ち・掴まれ 通常ヒット
[Statedef 832]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 2

;投げ抜け
[State 800, ChangeState]
type = ChangeState
trigger1 = time < 13
trigger1 = command = "holdfwd" || command = "holdback"
trigger1 = command = "b"
value = 5940

;---------------------[演出]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 832

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------[移動]
[State 250, Vel]
type = VelSet
trigger1 = animtime = 0
x = 4

;---------------------[ステート移行]
[State 821, 3] 
type = SelfState
;trigger1 = Vel Y > 0
;trigger1 = Pos Y >= 0
trigger1 = animtime = 0
value = 5100

;---------------------------------------------------------------------------
;(ENEMY)絶命人中打ち・掴まれ カウンターヒット時は投げ抜け不可
[Statedef 833]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 2

;---------------------[演出]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 832

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------[移動]
[State 250, Vel]
type = VelSet
trigger1 = animtime = 0
x = 4

;---------------------[ステート移行]
[State 821, 3] 
type = SelfState
;trigger1 = Vel Y > 0
;trigger1 = Pos Y >= 0
trigger1 = animtime = 0
value = 5100

;---------------------------------------------------------------------------
;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;===========================================================================
; 必殺技
;===========================================================================
;---------------------------------------------------------------------------
;弱烈風拳
[Statedef 1000]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
velset = 0,0
anim = ifelse(var(1)=3,1001,1000)
ctrl = 0
sprpriority = 2

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

[State 700, 音を鳴らす];烈風拳！
type = PlaySnd
trigger1 = animelem = 3
value = 1000, 1

[State 700, 音を鳴らす];烈風発射音
type = PlaySnd
trigger1 = animelem = 5
value = 1005, 1
channel = 0

[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(5)=0
projID = 1000					; ProjID
projanim = 1011					; Projectileのアニメ
projhitanim = 1013				; 消滅アニメ
projscale = 1, 1
projremove = 1
projhits = 1
projpriority = 1
projsprpriority = 4
projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
;projremovetime = 25
offset = 20,0					;出現位置
velocity = 4					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = A, SP
damage = 70, 8
getpower = ifelse(var(20)>0,0,120),ifelse(var(20)>0,0,120)
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7002
guard.sparkno = s7011
sparkxy = 12, -35
hitsound = s400, 1
guardsound = s120, 1
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.type = High
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
;nochainID = 290
guard.hittime = 17
fall.recovertime = 99999

[State 801, Explod];
type = Explod
trigger1 = animelem = 5
anim = 1003
ID = 1003
postype = p1
pos = 20, 0
facing = 1
sprpriority = 4       ; 表示優先度
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999
removeongethit = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 6
Movetype = I

;---------------------[ステート移行]
[State 821, 3] 
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;強烈風拳
[Statedef 1010]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
velset = 0,0
anim = ifelse(var(1)=3,1012,1010)
ctrl = 0
sprpriority = 2

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

[State 700, 音を鳴らす];烈風拳！
type = PlaySnd
trigger1 = animelem = 4
value = 1000, 2

[State 700, 音を鳴らす];烈風発射音
type = PlaySnd
trigger1 = animelem = 6
value = 1005, 1
channel = 0

[State 1000, Proj]
type = Projectile
triggerall = var(1) != 3
trigger1 = animelemtime(6)=0
projID = 1000					; ProjID
projanim = 1011					; Projectileのアニメ
projhitanim = 1013				; 消滅アニメ
projscale = 1, 1
projremove = 1
projhits = 1
projpriority = 1
projsprpriority = 4
air.juggle = 1
projedgebound = 150				;画面外消滅距離(省略時40)
;projremovetime = 25
offset = 20,0					;出現位置
velocity = 9					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = A, SP
damage = 80, 8
getpower = ifelse(var(20)>0,0,120),ifelse(var(20)>0,0,120)
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7002
guard.sparkno = s7011
sparkxy = 12, -35
hitsound = s400, 1
guardsound = s120, 1
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.type = High
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
;nochainID = 290
guard.hittime = 17
fall.recovertime = 99999

[State 1000, Proj]
type = Projectile
triggerall = var(1) = 3
trigger1 = animelemtime(6)=0
projID = 1000					; ProjID
projanim = 1011					; Projectileのアニメ
projhitanim = 1013				; 消滅アニメ
projscale = 1, 1
projremove = 1
projhits = 1
projpriority = 1
projsprpriority = 4
air.juggle = 1
projedgebound = 150				;画面外消滅距離(省略時40)
;projremovetime = 25
offset = 20,0					;出現位置
velocity = 14					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = A, SP
damage = 80, 8
getpower = ifelse(var(20)>0,0,120),ifelse(var(20)>0,0,120)
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7002
guard.sparkno = s7011
sparkxy = 12, -35
hitsound = s400, 1
guardsound = s120, 1
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.type = High
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
;nochainID = 290
guard.hittime = 17
fall.recovertime = 99999

[State 801, Explod];
type = Explod
trigger1 = animelem = 2
anim = 1014
ID = 1014
postype = p1
pos = 0, 0
facing = 1
sprpriority = 4       ; 表示優先度
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 7
Movetype = I

;---------------------[ステート移行]
[State 821, 3] 
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;ダブル烈風拳RB
[Statedef 1050]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
velset = 0,0
anim = ifelse(var(1)=3,1052,1050)
ctrl = 0
sprpriority = 2

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
trigger7 = (prevstateno = 245 && var(1) != 3)
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
trigger7 = (prevstateno = 245 && var(1) != 3)
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
trigger7 = (prevstateno = 245 && var(1) != 3)
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

[State 700, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 1100, 0

[State 700, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 12
value = 1100, 1

[State 700, 音を鳴らす];
type = PlaySnd
trigger1 = animelem = 5 || animelem = 12
value = 1005, 1

[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(5)=0
projID = 1050					; ProjID
projanim = 1069					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 24
projhits = 1
projpriority = 1
projsprpriority = 4
projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 50,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, SP
damage = ifelse(var(20)>0,10,20), 8
getpower = ifelse(var(20)>0,0,77),ifelse(var(20)>0,0,77)
animtype = hard
guardflag = LA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7002
guard.sparkno = s7011
sparkxy = 12, -35
hitsound = s400, 1
guardsound = s120, 1
ground.type = low
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.type = low
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
;nochainID = 290
guard.hittime = 17
fall.recovertime = 99999

[State 1000, Proj]
type = Projectile
triggerall = var(1) != 3
trigger1 = animelemtime(12)=0
projID = 1050					; ProjID
projanim = 1055					; Projectileのアニメ
projhitanim = 1056				; 消滅アニメ
projscale = 1, 1
projremove = 1
projhits = 1
projpriority = 1
projsprpriority = 6
air.juggle = 1
projedgebound = 150				;画面外消滅距離(省略時40)
;projremovetime = 25
offset = 45,0					;出現位置
velocity = 5.5					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = A, SP
damage = ifelse(var(20)>0,55,80), 8
getpower = ifelse(var(20)>0,0,120),ifelse(var(20)>0,0,120)
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7002
guard.sparkno = s7011
sparkxy = 12, -35
hitsound = s400, 1
guardsound = s120, 1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -11.2
air.type = High
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
;nochainID = 290
guard.hittime = 17
fall.recovertime = 99999

[State 1000, Proj]
type = Projectile
triggerall = var(1) = 3
trigger1 = animelemtime(12)=0
projID = 1050					; ProjID
projanim = 1055					; Projectileのアニメ
projhitanim = 1056				; 消滅アニメ
projscale = 1, 1
projremove = 1
projhits = 1
projpriority = 1
projsprpriority = 6
air.juggle = 1
projedgebound = 150				;画面外消滅距離(省略時40)
;projremovetime = 25
offset = 45,0					;出現位置
velocity = 3.5					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = A, SP
damage = ifelse(var(20)>0,55,80), 8
getpower = ifelse(var(20)>0,0,120),ifelse(var(20)>0,0,120)
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7002
guard.sparkno = s7011
sparkxy = 12, -35
hitsound = s400, 1
guardsound = s120, 1
ground.type = High
ground.slidetime = 21
ground.hittime  = 21
ground.velocity = -11.2
air.type = High
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
;nochainID = 290
guard.hittime = 17
fall.recovertime = 99999

[State 801, Explod];初段エフェクト
type = Explod
trigger1 = animelem = 5
anim = 1067
ID = 1067
postype = p1
pos = 50, 0
facing = 1
sprpriority = 4       ; 表示優先度
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 801, Explod];
type = Explod
trigger1 = animelem = 8
anim = 1065
ID = 1065
postype = p1
pos = 0, 0
facing = 1
sprpriority = 4       ; 表示優先度
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 801, Explod];
type = Explod
trigger1 = animelemtime(12) = 0
anim = 1051
ID = 1051
postype = p1
pos = 0, 0
facing = 1
sprpriority = 5       ; 表示優先度
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 13
Movetype = I

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ダブル烈風拳RBSP
[Statedef 1060]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
velset = 0,0
anim = ifelse(var(1)=3,1062,1060)
ctrl = 0
sprpriority = 2

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

[State 700, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 1100, 2+random%2
channel = 0

[State 700, 音を鳴らす];
type = PlaySnd
trigger1 = animelem = 6 || animelem = 12
value = 1005, 1

[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(6)=0
projID = 1050					; ProjID
projanim = 1069					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 19
projhits = 1
projpriority = 1
projsprpriority = 4
projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 50,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, SP
damage = 30, 8
getpower = ifelse(var(20)>0,0,77),ifelse(var(20)>0,0,77)
animtype = hard
guardflag = LA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7002
guard.sparkno = s7011
sparkxy = 12, -35
hitsound = s400, 1
guardsound = s120, 1
ground.type = low
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.type = low
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
;nochainID = 290
guard.hittime = 17
fall.recovertime = 99999

[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(12)=0
triggerall = var(1) != 3
projID = 1050					; ProjID
projanim = 1061					; Projectileのアニメ
projhitanim = 1056				; 消滅アニメ
projscale = 1, 1
projremove = 1
projhits = 1
projpriority = 1
projsprpriority = 6
air.juggle = 1
projedgebound = 150				;画面外消滅距離(省略時40)
;projremovetime = 25
offset = 45,0					;出現位置
velocity = 8.2					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = A, SP
damage = 100, 8
getpower = ifelse(var(20)>0,0,120),ifelse(var(20)>0,0,120)
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7002
guard.sparkno = s7011
sparkxy = 12, -55
hitsound = s400, 1
guardsound = s120, 1
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.type = High
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
;nochainID = 290
guard.hittime = 17
fall.recovertime = 99999

[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(12)=0
triggerall = var(1) = 3
projID = 1050					; ProjID
projanim = 1061					; Projectileのアニメ
projhitanim = 1056				; 消滅アニメ
projscale = 1, 1
projremove = 1
projhits = 1
projpriority = 1
projsprpriority = 6
air.juggle = 1
projedgebound = 150				;画面外消滅距離(省略時40)
;projremovetime = 25
offset = 45,0					;出現位置
velocity = 10.2					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = A, SP
damage = 100, 8
getpower = ifelse(var(20)>0,0,120),ifelse(var(20)>0,0,120)
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7002
guard.sparkno = s7011
sparkxy = 12, -55
hitsound = s400, 1
guardsound = s120, 1
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.type = High
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
;nochainID = 290
guard.hittime = 17
fall.recovertime = 99999

[State 801, Explod];初段エフェクト
type = Explod
trigger1 = animelem = 6
anim = 1068
ID = 1068
postype = p1
pos = 50, 0
facing = 1
sprpriority = 4       ; 表示優先度
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 801, Explod];
type = Explod
trigger1 = animelem = 2
anim = 1065
ID = 1065
postype = p1
pos = 0, 0
facing = 1
sprpriority = 4       ; 表示優先度
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 801, Explod];
type = Explod
trigger1 = animelemtime(9) = 0
anim = 1066
ID = 1066
postype = p1
pos = 0, 0
facing = 1
sprpriority = 5       ; 表示優先度
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 801, Explod];
type = Explod
trigger1 = animelem = 6
anim = 1071
ID = 1071
postype = p1
pos = 0, 0
facing = 1
sprpriority = 4       ; 表示優先度
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 801, Explod];
type = Explod
trigger1 = animelemtime(12) = 0
anim = 1072
ID = 1072
postype = p1
pos = 0, 0
facing = 1
sprpriority = 5       ; 表示優先度
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 13
Movetype = I

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;===========================================================================
;---------------------------------------------------------------------------
;烈風拳KOF
[Statedef 1080]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = ifelse(var(20)>0,0,91)
velset = 0,0
anim = ifelse(var(1)=3,1083,1080)
ctrl = 0
sprpriority = 2

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

[State 700, 音を鳴らす];烈風拳！
type = PlaySnd
trigger1 = animelem = 3
value = 1000, 0

[State 700, 音を鳴らす];烈風発射音
type = PlaySnd
trigger1 = animelem = 5
value = 1005, 0

[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(5)=4
projID = 1080					; ProjID
projanim = 1082					; Projectileのアニメ
;projhitanim = 1013				; 消滅アニメ
projscale = 1, 1
projremove = 1
projhits = 1
projpriority = 1
projsprpriority = 4
projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 0
projremovetime = 8
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = A, SP
damage = 99, 8
getpower = ifelse(var(20)>0,0,60),ifelse(var(20)>0,0,60)
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7002
guard.sparkno = s7011
sparkxy = 65, -55
hitsound = s400, 1
guardsound = s120, 1
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4,-7
air.type = High
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999

;---------------------[攻撃]
[State 240, 2]
type = HitDef
triggerall = !var(7)
triggerall = var(1) != 3
trigger1 = animelemtime(5)=4
attr = S, SP
animtype  = high
damage = ifelse(var(20)>0,80,90), 8
priority = 6, Hit
getpower = ifelse(var(20)>0,0,60),ifelse(var(20)>0,0,60)
guardflag = MA
hitflag = MAF
pausetime = 11,10
sparkno = s7002
sparkxy = 2, -55
hitsound   = s400,1
guard.sparkno = s7011
guardsound = s120,1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4,-8
air.velocity = -4,-8
yaccel = .55
guard.velocity = -11.2
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
ID = 1080
guard.hittime = 19
fall.recovertime = 99999

[State 240, 2]
type = HitDef
triggerall = !var(7)
triggerall = var(1) = 3
trigger1 = animelemtime(5)=4
attr = S, SP
animtype  = high
damage = ifelse(var(20)>0,80,90), 8
priority = 6, Hit
getpower = ifelse(var(20)>0,0,60),ifelse(var(20)>0,0,60)
guardflag = MA
hitflag = MAF
pausetime = 11,10
sparkno = s7002
sparkxy = 2, -55
hitsound   = s400,1
guard.sparkno = s7011
guardsound = s120,1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.velocity = -2.2,-11.8
yaccel = .55
guard.velocity = -11.2
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
ID = 1080
guard.hittime = 19
fall.recovertime = 99999
nochainID = 1080

[State 801, Explod];
type = Explod
trigger1 = animelem = 5
anim = 1081
ID = 1081
postype = p1
pos = 0, 0
facing = 1
sprpriority = 2       ; 表示優先度
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999
removeongethit = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 7
Movetype = I

;---------------------[ステート移行]
[State 821, 3] 
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ダブル烈風拳KOF
[Statedef 1090]
type    = S
movetype= A
physics = S
juggle  = ifelse(var(1)=3,0,25)
poweradd = ifelse(var(20)>0,0,91)
velset = 0,0
anim = ifelse(var(1)=3,1093,1090)
ctrl = 0
sprpriority = 2

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

[State 700, 音を鳴らす];ダブル！
type = PlaySnd
trigger1 = animelem = 3
value = 1100, 0

[State 700, 音を鳴らす];烈風拳！
type = PlaySnd
trigger1 = animelem = 13
value = 1100, 1

[State 700, 音を鳴らす];烈風発射音
type = PlaySnd
trigger1 = animelem = 5 ||animelem =13
value = 1005, 0

;---------------------[移動]
[State 210,PosAdd]
type = PosAdd
trigger1 = animelem = 1 || animelem = 2 || animelem = 3 || animelem = 4
x = 12

[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(5)=4
projID = 1090					; ProjID
projanim = 1082					; Projectileのアニメ
;projhitanim = 1013				; 消滅アニメ
projscale = 1, 1
projremove = 1
projhits = 1
projpriority = 1
projsprpriority = 4
projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
projremovetime = 8
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = A, SP
damage = 99, 8
getpower = ifelse(var(20)>0,0,60),ifelse(var(20)>0,0,60)
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7002
guard.sparkno = s7011
sparkxy = 65, -55
hitsound = s400, 1
guardsound = s120, 1
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4,-7
air.type = High
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999

[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(14)=0
projID = 1090					; ProjID
projanim = 1092					; Projectileのアニメ
;projhitanim = 1013				; 消滅アニメ
projscale = 1, 1
projremove = 1
projhits = 1
projpriority = 1
projsprpriority = 4
projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
projremovetime = 10
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = A, SP
damage = 99, 8
getpower = ifelse(var(20)>0,0,60),ifelse(var(20)>0,0,60)
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7002
guard.sparkno = s7011
sparkxy = 65, -55
hitsound = s400, 1
guardsound = s120, 1
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4,-7
air.type = High
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999

;---------------------[攻撃]
[State 240, 2]
type = HitDef
triggerall = !var(7)
triggerall = var(1) != 3
trigger1 = animelemtime(5)=2
attr = S, SP
animtype  = high
damage    = 70,8
priority = 4, Hit
getpower = ifelse(var(20)>0,0,60),ifelse(var(20)>0,0,60)
guardflag = MA
hitflag = MA
pausetime = 1,10
sparkno = s7002
sparkxy = 2, -55
hitsound   = s400,1
guard.sparkno = s7011
guardsound = s120,1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4,-8
air.velocity = -4,-8
yaccel = .55
guard.velocity = -11.2
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ID = 1090
guard.hittime = 19
fall.recovertime = 99999

[State 240, 2]
type = HitDef
triggerall = !var(7)
triggerall = var(1) != 3
trigger1 = animelemtime(14)=0
attr = S, SP
animtype  = high
damage    = 50,8
priority = 4, Hit
getpower = ifelse(var(20)>0,0,60),ifelse(var(20)>0,0,60)
guardflag = MA
hitflag = MAF
pausetime = 3,10
sparkno = s7002
sparkxy = 2, -75
hitsound   = s400,1
guard.sparkno = s7011
guardsound = s120,1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4,-8
air.velocity = -4,-8
yaccel = .55
guard.velocity = -11.2
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ID = 1091
guard.hittime = 19
fall.recovertime = 99999

[State 240, 2]
type = HitDef
triggerall = !var(7)
triggerall = var(1) = 3
trigger1 = animelemtime(5)=2
attr = S, SP
animtype  = high
damage    = 70,8
priority = 4, Hit
getpower = ifelse(var(20)>0,0,60),ifelse(var(20)>0,0,60)
guardflag = MA
hitflag = MAF
pausetime = 1,10
sparkno = s7002
sparkxy = 2, -55
hitsound   = s400,1
guard.sparkno = s7011
guardsound = s120,1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4,-8
air.velocity = -4,-8
yaccel = .55
guard.velocity = -11.2
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ID = 1090
guard.hittime = 19
fall.recovertime = 99999

[State 240, 2]
type = HitDef
triggerall = !var(7)
triggerall = var(1) = 3
trigger1 = animelemtime(14)=0
attr = S, SP
animtype  = high
damage    = 50,8
priority = 4, Hit
getpower = ifelse(var(20)>0,0,60),ifelse(var(20)>0,0,60)
guardflag = MA
hitflag = MAF
pausetime = 3,10
sparkno = s7002
sparkxy = 2, -75
hitsound   = s400,1
guard.sparkno = s7011
guardsound = s120,1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4,-8
air.velocity = -4,-8
yaccel = .55
guard.velocity = -11.2
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ID = 1091
guard.hittime = 19
fall.recovertime = 99999

[State 801, Explod];
type = Explod
trigger1 = animelem = 5
anim = 1081
ID = 1081
postype = p1
pos = 0, 0
facing = 1
sprpriority = 2       ; 表示優先度
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999
removeongethit = 1

[State 801, Explod];
type = Explod
trigger1 = animelem = 13
anim = 1091
ID = 1091
postype = p1
pos = 0, 0
facing = 1
sprpriority = 4       ; 表示優先度
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999
removeongethit = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 16
Movetype = I

;---------------------[ステート移行]
[State 821, 3] 
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;弱疾風拳
[Statedef 1100]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
anim = 1100
ctrl = 0
sprpriority = 2

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 615 || prevstateno = 630 || prevstateno = 635 || prevstateno = 640
trigger2 = prevstateno = 250 || prevstateno = 451 || prevstateno = 1200 || prevstateno = 1205
trigger3 = prevstateno = 1250 || prevstateno = 1265 || prevstateno = 1270 || prevstateno = 1271
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 615 || prevstateno = 630 || prevstateno = 635 || prevstateno = 640
trigger2 = prevstateno = 250 || prevstateno = 451 || prevstateno = 1200 || prevstateno = 1205
trigger3 = prevstateno = 1250 || prevstateno = 1265 || prevstateno = 1270 || prevstateno = 1271
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 615 || prevstateno = 630 || prevstateno = 635 || prevstateno = 640
trigger2 = prevstateno = 250 || prevstateno = 451 || prevstateno = 1200 || prevstateno = 1205
trigger3 = prevstateno = 1250 || prevstateno = 1265 || prevstateno = 1270 || prevstateno = 1271
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

[State 700, 音を鳴らす];疾風拳
type = PlaySnd
trigger1 = animelem = 3
value = 1200, 0

[State 700, 音を鳴らす];発射音
type = PlaySnd
trigger1 = animelemtime(4)=4
value = 1210, 0

[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(4)=4
projID = 1100					; ProjID
projanim = 1106					; Projectileのアニメ
projhitanim = 1107				; 消滅アニメ
projscale = 1, 1
projremove = 1
projhits = 1
projpriority = 1
projsprpriority = 4
projedgebound = 50				;画面外消滅距離(省略時40)
air.juggle = 0
;projremovetime = 25
offset = 47,-48					;出現位置
velocity = 6,5.5					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, SP
damage = 50, 8
getpower = ifelse(var(20)>0,0,100),ifelse(var(20)>0,0,100)
animtype = hard
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 11, 10
sparkno = s7002
guard.sparkno = s7011
sparkxy = 12, 0
hitsound = s400, 1
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.type = high
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
;nochainID = 290
guard.hittime = 17
fall.recovertime = 99999

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 5
Movetype = I

[State 801, Explod];
type = Explod
trigger1 = animelem = 4
anim = 1105
ID = 1105
postype = p1
pos = 0, 0
facing = 1
sprpriority = 3       ; 表示優先度
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999
removeongethit = 1

[State a];
type = Gravity
trigger1 = animelemtime(1) >= 0

[State 1000, ステート変更];着地
type = ChangeState
trigger1 = var(1)!=3
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1110

[State 250, ChangeState];着地
type = ChangeState
trigger1 = var(1)=3
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
;弱疾風拳着地
[Statedef 1110]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 1110
ctrl     = 0
sprpriority = 2

[State 1311, Pos]
type = Posset
trigger1 = time = 0
y = 0

[State 700, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 41,0

[State 1311, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;強疾風拳
[Statedef 1101]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset  = 0,0
anim = 1120
ctrl = 0
sprpriority = 2

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 615 || prevstateno = 630 || prevstateno = 635 || prevstateno = 640
trigger2 = prevstateno = 250 || prevstateno = 451 || prevstateno = 1200 || prevstateno = 1205
trigger3 = prevstateno = 1250 || prevstateno = 1265 || prevstateno = 1270 || prevstateno = 1271
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 615 || prevstateno = 630 || prevstateno = 635 || prevstateno = 640
trigger2 = prevstateno = 250 || prevstateno = 451 || prevstateno = 1200 || prevstateno = 1205
trigger3 = prevstateno = 1250 || prevstateno = 1265 || prevstateno = 1270 || prevstateno = 1271
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 615 || prevstateno = 630 || prevstateno = 635 || prevstateno = 640
trigger2 = prevstateno = 250 || prevstateno = 451 || prevstateno = 1200 || prevstateno = 1205
trigger3 = prevstateno = 1250 || prevstateno = 1265 || prevstateno = 1270 || prevstateno = 1271
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

[State 700, 音を鳴らす];疾風拳
type = PlaySnd
trigger1 = animelem = 3
value = 1200, 1

[State 700, 音を鳴らす];発射音
type = PlaySnd
trigger1 = animelem = 4
value = 1210, 0

[State 1000, Vel]
type = VelSet
trigger1 = animelem = 4
x = -3.0
y = -7

[State a];
type = veladd
trigger1 = animelemtime(4) >= 0
y = .45

[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(4)=0
projID = 1100					; ProjID
projanim = 1106					; Projectileのアニメ
projhitanim = 1107				; 消滅アニメ
projscale = 1, 1
projremove = 1
projhits = 1
projpriority = 1
projsprpriority = 4
projedgebound = 50				;画面外消滅距離(省略時40)
air.juggle = 0
;projremovetime = 25
offset = 47,-48					;出現位置
velocity = 6.5,6.5					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, SP
damage = 50, 8
getpower = ifelse(var(20)>0,0,100),ifelse(var(20)>0,0,100)
animtype = hard
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 11, 10
sparkno = s7002
guard.sparkno = s7011
sparkxy = 12, 0
hitsound = s400, 1
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.type = high
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
;nochainID = 290
guard.hittime = 17
fall.recovertime = 99999

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 5
Movetype = I

[State 1000, ステート変更];着地
type = ChangeState
trigger1 = var(1)!=3
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1111

[State 250, ChangeState];着地
type = ChangeState
trigger1 = var(1)=3
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
;強疾風拳着地
[Statedef 1111]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 1111
ctrl     = 0
sprpriority = 2

[State 1311, Pos]
type = Posset
trigger1 = time = 0
y = 0

[State 700, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 41,0

[State 1311, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;弱疾風拳KOF
[Statedef 1120]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd = ifelse(var(20)>0,0,91)
anim = 1120
ctrl = 0
sprpriority = 2

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 615 || prevstateno = 630 || prevstateno = 635 || prevstateno = 640
trigger2 = prevstateno = 250 || prevstateno = 451 || prevstateno = 1200 || prevstateno = 1205
trigger3 = prevstateno = 1250 || prevstateno = 1265 || prevstateno = 1270 || prevstateno = 1271
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 615 || prevstateno = 630 || prevstateno = 635 || prevstateno = 640
trigger2 = prevstateno = 250 || prevstateno = 451 || prevstateno = 1200 || prevstateno = 1205
trigger3 = prevstateno = 1250 || prevstateno = 1265 || prevstateno = 1270 || prevstateno = 1271
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 615 || prevstateno = 630 || prevstateno = 635 || prevstateno = 640
trigger2 = prevstateno = 250 || prevstateno = 451 || prevstateno = 1200 || prevstateno = 1205
trigger3 = prevstateno = 1250 || prevstateno = 1265 || prevstateno = 1270 || prevstateno = 1271
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

[State 700, 音を鳴らす];疾風拳
type = PlaySnd
trigger1 = animelem = 3
value = 1200, 0

[State 700, 音を鳴らす];発射音
type = PlaySnd
trigger1 = animelemtime(4)=0
value = 1210, 0

;---------------------[飛び道具判定]
[State 1000, ヘルパーを出す]
type = helper
trigger1 = AnimElem = 4
stateno = 1125
id = 1125
name = "shippuuken"
pos = 34,-82
postype = P1
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 5
Movetype = I

[State a];
type = Gravity
trigger1 = animelemtime(1) >= 0

[State 1000, ステート変更];着地
type = ChangeState
trigger1 = var(1)!=3
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1130

[State 250, ChangeState];着地
type = ChangeState
trigger1 = var(1)=3
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
;強疾風拳KOF
[Statedef 1121]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd = ifelse(var(20)>0,0,91)
velset  = 0,0
anim = 1120
ctrl = 0
sprpriority = 2

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 615 || prevstateno = 630 || prevstateno = 635 || prevstateno = 640
trigger2 = prevstateno = 250 || prevstateno = 451 || prevstateno = 1200 || prevstateno = 1205
trigger3 = prevstateno = 1250 || prevstateno = 1265 || prevstateno = 1270 || prevstateno = 1271
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 615 || prevstateno = 630 || prevstateno = 635 || prevstateno = 640
trigger2 = prevstateno = 250 || prevstateno = 451 || prevstateno = 1200 || prevstateno = 1205
trigger3 = prevstateno = 1250 || prevstateno = 1265 || prevstateno = 1270 || prevstateno = 1271
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 615 || prevstateno = 630 || prevstateno = 635 || prevstateno = 640
trigger2 = prevstateno = 250 || prevstateno = 451 || prevstateno = 1200 || prevstateno = 1205
trigger3 = prevstateno = 1250 || prevstateno = 1265 || prevstateno = 1270 || prevstateno = 1271
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

[State 700, 音を鳴らす];疾風拳
type = PlaySnd
trigger1 = animelem = 3
value = 1200, 0

[State 700, 音を鳴らす];発射音
type = PlaySnd
trigger1 = animelem = 4
value = 1210, 0

[State 1000, Vel]
type = VelSet
trigger1 = animelem = 4
x = -3.0
y = -7

[State a];
type = veladd
trigger1 = animelemtime(4) >= 0
y = .45

;---------------------[飛び道具判定]
[State 1000, ヘルパーを出す]
type = helper
trigger1 = AnimElem = 4
stateno = 1125
id = 1126
name = "shippuuken"
pos = 34,-82
postype = P1
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 5
Movetype = I

[State 1000, ステート変更];着地
type = ChangeState
trigger1 = var(1)!=3
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1130

[State 250, ChangeState];着地
type = ChangeState
trigger1 = var(1)=3
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
;疾風拳KOF着地
[Statedef 1130]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = ifelse(prevstateno=1120,1130,1111)
ctrl     = 0
sprpriority = 2

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 1
time = 1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 1311, Pos]
type = Posset
trigger1 = time = 0
y = 0

[State 700, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 41,0

[State 1311, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(HELPER)疾風拳KOF・ヘルパー
[Statedef 1125]
type     = A
movetype = A
physics  = N
ctrl     = 0
anim     = 1125
sprpriority = 5

[State 1000, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1000, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;影を消す

;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

;---------------------[補正]
[state a]
type = attackmulset
trigger1 = 1
value = root,fvar(0)

[state 1000, VelSet]
type = VelSet
trigger1 = time = 0
x = 19
y = 8

[state 1000, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 0
y = 0

[State 1000, ヒット定義]
type = HitDef
triggerall = !root,var(7)
trigger1 = Numhelper(1125)
trigger1 = ishelper(1125)
trigger1 = animelem = 1
attr = A, SP
damage    = ifelse(p2movetype=A,(70*125/100),70),8
getpower = ifelse(root,var(20)>0,0,60),ifelse(root,var(20)>0,0,60)
givepower = 10,10
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 2,10
sparkno = s7002
guard.sparkno = s7012
sparkxy = 0,0
hitsound = s400,1
guardsound = s120,1
ground.type = Low
ground.hittime = 19
ground.slidetime = 19
ground.velocity = -11.2
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
guard.hittime = 17
ID = 1125

[State 1000, ヒット定義]
type = HitDef
triggerall = !root,var(7)
trigger1 = Numhelper(1126)
trigger1 = ishelper(1126)
trigger1 = animelem = 1
attr = A, SP
damage    = ifelse(p2movetype=A,(90*125/100),90),8
getpower = ifelse(root,var(20)>0,0,60),ifelse(root,var(20)>0,0,60)
givepower = 10,10
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 2,10
sparkno = s7002
guard.sparkno = s7012
sparkxy = 0,0
hitsound = s400,1
guardsound = s120,1
ground.type = Low
ground.hittime = 19
ground.slidetime = 19
ground.velocity = -4,-7
air.velocity = -4,-7
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
ID = 1125

[State 1000, ヒット定義]
type = HitDef
triggerall = !root,var(7)
trigger1 = Numhelper(1160)
trigger1 = ishelper(1160)
trigger1 = animelem = 1
attr = A, SP
damage    = ifelse(p2movetype=A,(55*125/100),55),8
getpower = ifelse(root,var(20)>0,0,60),ifelse(root,var(20)>0,0,60)
givepower = 10,10
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 2,10
sparkno = s7002
guard.sparkno = s7012
sparkxy = 0,0
hitsound = s400,1
guardsound = s120,1
ground.type = Low
ground.hittime = 19
ground.slidetime = 19
ground.velocity = -11.2
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
guard.hittime = 17
ID = 1125

[State 1000, ヒット定義]
type = HitDef
triggerall = !root,var(7)
trigger1 = Numhelper(1161)
trigger1 = ishelper(1161)
trigger1 = animelem = 1
attr = A, SP
damage    = ifelse(p2movetype=A,(55*125/100),65),8
getpower = ifelse(root,var(20)>0,0,60),ifelse(root,var(20)>0,0,60)
givepower = 10,10
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 2,10
sparkno = s7002
guard.sparkno = s7012
sparkxy = 0,0
hitsound = s400,1
guardsound = s120,1
ground.type = Low
ground.hittime = 19
ground.slidetime = 19
ground.velocity = -11.2
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
guard.hittime = 17
ID = 1125

[State 1000, このヘルパーを消す]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;弱ダブル疾風拳
[Statedef 1150]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
anim = 1150
ctrl = 0
sprpriority = 2

[State 180 ,Varset]
type = Varset
trigger1 = time = 0
var(5) = 0

[State 180 ,Varset]
type = Varset
triggerall = var(1) != 3
triggerall = time = 1
trigger1 = prevstateno = [1150,1151]
trigger2 = prevstateno = [1160,1161]
var(5) = 1

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 615 || prevstateno = 630 || prevstateno = 635 || prevstateno = 640
trigger2 = prevstateno = 250 || prevstateno = 451 || prevstateno = 1200 || prevstateno = 1205
trigger3 = prevstateno = 1250 || prevstateno = 1265 || prevstateno = 1270 || prevstateno = 1271
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 615 || prevstateno = 630 || prevstateno = 635 || prevstateno = 640
trigger2 = prevstateno = 250 || prevstateno = 451 || prevstateno = 1200 || prevstateno = 1205
trigger3 = prevstateno = 1250 || prevstateno = 1265 || prevstateno = 1270 || prevstateno = 1271
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 615 || prevstateno = 630 || prevstateno = 635 || prevstateno = 640
trigger2 = prevstateno = 250 || prevstateno = 451 || prevstateno = 1200 || prevstateno = 1205
trigger3 = prevstateno = 1250 || prevstateno = 1265 || prevstateno = 1270 || prevstateno = 1271
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

[State 700, 音を鳴らす];疾風拳
type = PlaySnd
trigger1 = animelem = 3
value = 1205, 0

[State 700, 音を鳴らす];発射音
type = PlaySnd
trigger1 = animelemtime(4)=4 || animelemtime(7)=4
value = 1210, 0

[State a];
type = veladd
trigger1 = animelemtime(1) >= 0
y = .43

[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(4)=4 || animelemtime(7)=4
projID = 1100					; ProjID
projanim = 1106					; Projectileのアニメ
projhitanim = 1107				; 消滅アニメ
projscale = 1, 1
projremove = 1
projhits = 1
projpriority = 1
projsprpriority = 4
projedgebound = 50				;画面外消滅距離(省略時40)
air.juggle = 0
;projremovetime = 25
offset = 47,-48					;出現位置
velocity = 6,5.5					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, SP
damage = 35, 8
getpower = ifelse(var(20)>0,0,77),ifelse(var(20)>0,0,77)
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7002
guard.sparkno = s7011
sparkxy = 12, 0
hitsound = s400, 1
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.type = high
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
;nochainID = 290
guard.hittime = 17
fall.recovertime = 99999

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 8
Movetype = I

[State 801, Explod];
type = Explod
trigger1 = animelem = 4 || animelem = 7
anim = 1105
ID = 1105
postype = p1
pos = 0, 0
facing = 1
sprpriority = 3       ; 表示優先度
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999
removeongethit = 1

[State 1000, ステート変更];着地
type = ChangeState
trigger1 = var(1)!=3
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1155

[State 250, ChangeState];着地
type = ChangeState
trigger1 = var(1)=3
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
;強ダブル疾風拳
[Statedef 1151]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
anim = 1151
ctrl = 0
sprpriority = 2

[State 180 ,Varset]
type = Varset
trigger1 = time = 0
var(5) = 0

[State 180 ,Varset]
type = Varset
triggerall = var(1) != 3
triggerall = time = 1
trigger1 = prevstateno = [1150,1151]
trigger2 = prevstateno = [1160,1161]
var(5) = 1

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 615 || prevstateno = 630 || prevstateno = 635 || prevstateno = 640
trigger2 = prevstateno = 250 || prevstateno = 451 || prevstateno = 1200 || prevstateno = 1205
trigger3 = prevstateno = 1250 || prevstateno = 1265 || prevstateno = 1270 || prevstateno = 1271
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 615 || prevstateno = 630 || prevstateno = 635 || prevstateno = 640
trigger2 = prevstateno = 250 || prevstateno = 451 || prevstateno = 1200 || prevstateno = 1205
trigger3 = prevstateno = 1250 || prevstateno = 1265 || prevstateno = 1270 || prevstateno = 1271
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 615 || prevstateno = 630 || prevstateno = 635 || prevstateno = 640
trigger2 = prevstateno = 250 || prevstateno = 451 || prevstateno = 1200 || prevstateno = 1205
trigger3 = prevstateno = 1250 || prevstateno = 1265 || prevstateno = 1270 || prevstateno = 1271
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

[State 700, 音を鳴らす];ダブル疾風拳
type = PlaySnd
trigger1 = animelemtime(1) = 1
value = 1205, 0

[State 700, 音を鳴らす];発射音
type = PlaySnd
trigger1 = animelemtime(3)=0 || animelemtime(5)=0
value = 1210, 1

[State 1000, Vel]
type = VelSet
trigger1 = prevstateno != 1151
trigger1 = animelem = 1
x = 0
y = 0

[State 1000, Vel]
type = VelSet
trigger1 = prevstateno != 1151
trigger1 = animelem = 3
x = -3.0
y = -7

[State a];
type = veladd
trigger1 = prevstateno != 1151
trigger1 = animelemtime(3) >= 0
trigger2 = prevstateno = 1151
trigger2 = animelemtime(1) >= 0
y = .43

[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(3)=0 || animelemtime(5)=0
projID = 1150					; ProjID
projanim = 1175					; Projectileのアニメ
projhitanim = 1177				; 消滅アニメ
projscale = 1, 1
projremove = 1
projhits = 1
projpriority = 1
projsprpriority = 4
projedgebound = 50				;画面外消滅距離(省略時40)
air.juggle = 0
;projremovetime = 25
offset = 47,-48					;出現位置
velocity = 5.4,6.6					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, SP
damage = 40, 8
getpower = ifelse(var(20)>0,0,77),ifelse(var(20)>0,0,77)
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7002
guard.sparkno = s7011
sparkxy = 12, 0
hitsound = s400, 1
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.type = high
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
;nochainID = 290
guard.hittime = 17
fall.recovertime = 99999

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 7
Movetype = I

[State 801, Explod];
type = Explod
trigger1 = animelem = 3
anim = 1170
ID = 1170
postype = p1
pos = 0, 0
facing = 1
sprpriority = 3       ; 表示優先度
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999
removeongethit = 1

[State 801, Explod];
type = Explod
trigger1 = animelem = 5
anim = 1171
ID = 1171
postype = p1
pos = 0, 0
facing = 1
sprpriority = 3       ; 表示優先度
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999
removeongethit = 1

[State 1000, ステート変更];着地
type = ChangeState
trigger1 = var(1)!=3
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1155

[State 250, ChangeState];着地
type = ChangeState
trigger1 = var(1)=3
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
;ダブル疾風拳着地
[Statedef 1155]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 1155
ctrl     = 0
sprpriority = 2

[State 180 ,Varset]
type = Varset
trigger1 = time = 0
var(5) = 0

[State 1311, Pos]
type = Posset
trigger1 = time = 0
y = 0

[State 700, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 41,0

[State 1311, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;弱ダブル疾風拳KOF
[Statedef 1160]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
anim = 1160
ctrl = 0
sprpriority = 2

[State 180 ,Varset]
type = Varset
trigger1 = time = 0
var(5) = 0

[State 180 ,Varset]
type = Varset
triggerall = var(1) != 3
triggerall = time = 1
trigger1 = prevstateno = [1150,1151]
trigger2 = prevstateno = [1160,1161]
var(5) = 1

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 615 || prevstateno = 630 || prevstateno = 635 || prevstateno = 640
trigger2 = prevstateno = 250 || prevstateno = 451 || prevstateno = 1200 || prevstateno = 1205
trigger3 = prevstateno = 1250 || prevstateno = 1265 || prevstateno = 1270 || prevstateno = 1271
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 615 || prevstateno = 630 || prevstateno = 635 || prevstateno = 640
trigger2 = prevstateno = 250 || prevstateno = 451 || prevstateno = 1200 || prevstateno = 1205
trigger3 = prevstateno = 1250 || prevstateno = 1265 || prevstateno = 1270 || prevstateno = 1271
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 615 || prevstateno = 630 || prevstateno = 635 || prevstateno = 640
trigger2 = prevstateno = 250 || prevstateno = 451 || prevstateno = 1200 || prevstateno = 1205
trigger3 = prevstateno = 1250 || prevstateno = 1265 || prevstateno = 1270 || prevstateno = 1271
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

[State 700, 音を鳴らす];ダブル疾風拳
type = PlaySnd
trigger1 = animelem = 2
value = 1205, 0

[State 700, 音を鳴らす];発射音
type = PlaySnd
trigger1 = animelemtime(3)=0 || animelemtime(8)=0
value = 1210, 0

[State a];
type = veladd
trigger1 = animelemtime(1) >= 0
y = .43

;---------------------[飛び道具判定]
[State 1000, ヘルパーを出す]
type = helper
trigger1 = AnimElem = 3
stateno = 1125
id = 1160
name = "shippuuken"
pos = 54,-64
postype = P1
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1000, ヘルパーを出す]
type = helper
trigger1 = AnimElem = 8
stateno = 1125
id = 1160
name = "shippuuken"
pos = 34,-82
postype = P1
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 9
Movetype = I

[State 1000, ステート変更];着地
type = ChangeState
trigger1 = var(1)!=3
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1155

[State 250, ChangeState];着地
type = ChangeState
trigger1 = var(1)=3
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
;強ダブル疾風拳KOF
[Statedef 1161]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
anim = 1160
ctrl = 0
sprpriority = 2

[State 180 ,Varset]
type = Varset
trigger1 = time = 0
var(5) = 0

[State 180 ,Varset]
type = Varset
triggerall = var(1) != 3
triggerall = time = 1
trigger1 = prevstateno = [1150,1151]
trigger2 = prevstateno = [1160,1161]
var(5) = 1

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 615 || prevstateno = 630 || prevstateno = 635 || prevstateno = 640
trigger2 = prevstateno = 250 || prevstateno = 451 || prevstateno = 1200 || prevstateno = 1205
trigger3 = prevstateno = 1250 || prevstateno = 1265 || prevstateno = 1270 || prevstateno = 1271
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 615 || prevstateno = 630 || prevstateno = 635 || prevstateno = 640
trigger2 = prevstateno = 250 || prevstateno = 451 || prevstateno = 1200 || prevstateno = 1205
trigger3 = prevstateno = 1250 || prevstateno = 1265 || prevstateno = 1270 || prevstateno = 1271
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 615 || prevstateno = 630 || prevstateno = 635 || prevstateno = 640
trigger2 = prevstateno = 250 || prevstateno = 451 || prevstateno = 1200 || prevstateno = 1205
trigger3 = prevstateno = 1250 || prevstateno = 1265 || prevstateno = 1270 || prevstateno = 1271
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

[State 700, 音を鳴らす];ダブル疾風拳
type = PlaySnd
trigger1 = animelem = 2
value = 1205, 0

[State 700, 音を鳴らす];発射音
type = PlaySnd
trigger1 = animelemtime(3)=0 || animelemtime(8)=0
value = 1210, 0

[State a];
type = velset
trigger1 = prevstateno != 1161
trigger1 = animelemtime(3) = 0
y = -4.5

[State a];
type = veladd
trigger1 = animelemtime(1) >= 0
y = .43

;---------------------[飛び道具判定]
[State 1000, ヘルパーを出す]
type = helper
trigger1 = AnimElem = 3
stateno = 1125
id = 1160
name = "shippuuken"
pos = 54,-64
postype = P1
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1000, ヘルパーを出す]
type = helper
trigger1 = AnimElem = 8
stateno = 1125
id = 1161
name = "shippuuken"
pos = 34,-82
postype = P1
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 9
Movetype = I

[State 1000, ステート変更];着地
type = ChangeState
trigger1 = var(1)!=3
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1155

[State 250, ChangeState];着地
type = ChangeState
trigger1 = var(1)=3
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; 弱飛翔日輪斬1
[Statedef 1200]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = ifelse(var(20)>0,0,91)
velset   = 0,0
anim     = 1200
ctrl     = 0
sprpriority = 3
facep2 = 1

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (3) <= 0
edge = 30,0

;---------------------[ガーポ判定]
[State 210, 2]
type = HitOverride
trigger1 = animelem = 4
attr = SCA,AA,AP
slot = 1
stateno = 1205
time = 2
forceair = 0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 2 || AnimElem = 3
x = 15

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 6
value = 40,1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 8
value = 210,1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 9
value = 1700,0

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (6) <= 0
edge = 30,0

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 6
x = 2.5
y = -8.2

[State 1000, 軸位置移動]
type = PosAdd
trigger1 = AnimElemtime(6) = 0
x = 10

[State 1000, 軸位置移動]
type = VelAdd
trigger1 = AnimElemtime(6) > 0
y = .45

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 6
statetype = A
physics = N

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 8
persistent = 0
anim = 1265
postype = P1
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = AnimElem = 5
attr = S, SA
damage    = 40,8
getpower = ifelse(var(20)>0,0,30),ifelse(var(20)>0,0,30)
givepower = 10,10
animtype = high
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 11,10
sparkno = s7002
guard.sparkno = s7012
sparkxy = -12, -55
hitsound = s400,1
guardsound = s120,1
ground.type = High
ground.hittime = 19
ground.slidetime = 19
ground.velocity = -4,-9
air.velocity = -4,-9
yaccel = .55
air.type = High
guard.velocity = -11.2
fall = 1
fall.recover = 0
fall.recovertime = 99999
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
ID = 1200
guard.hittime = 17
nochainID = 1201

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = AnimElem = 9
attr = S, SA
damage    = 75,8
getpower = ifelse(var(20)>0,0,30),ifelse(var(20)>0,0,30)
givepower = 10,10
animtype = high
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 11,10
sparkno = s8500
guard.sparkno = s7012
sparkxy = -12, -25
hitsound = s400,1
guardsound = s120,1
ground.type = High
ground.hittime = 19
ground.slidetime = 19
ground.velocity = -4,-8
air.velocity = -4,-8
yaccel = .55
air.type = High
guard.velocity = -11.2
fall = 1
fall.recover = 0
fall.recovertime = 99999
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 1201
guard.hittime = 17

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 10
Movetype = I

[State 1000, ステート変更]
type = ChangeState
trigger1 = var(1)!=3
trigger1 = animelemtime(7) >= 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1210

[State 250, ChangeState];着地
type = ChangeState
trigger1 = var(1)=3
trigger1 = animelemtime(7) > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
; 弱飛翔日輪斬2 ガーポ後
[Statedef 1205]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 1205
ctrl     = 0
sprpriority = 5

;---------------------[ポーズ]
[State 1001,2];
type = Pause
trigger1 = time = 0
time = 10
movetime = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 120,1
;------------------------------------
[State 801, Explod];ガードスパーク
type = Explod
trigger1 = animelem = 1
anim = 7012
ID = 7012
postype = p1
pos = 27, -51
facing = 1
sprpriority = 99       ; 表示優先度
;bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
pausemovetime = 9999

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = 40,1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 210,1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1700,0

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (2) <= 0
edge = 30,0

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 2
x = 2.5
y = -8.2

[State 1000, 軸位置移動]
type = PosAdd
trigger1 = AnimElemtime(2) = 0
x = 10

[State 1000, 軸位置移動]
type = VelAdd
trigger1 = AnimElemtime(2) > 0
y = .45

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 2
statetype = A
physics = N

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 4
persistent = 0
anim = 1265
postype = P1
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = AnimElemtime(1) = 1
attr = S, SA
damage    = 40,8
getpower = ifelse(var(20)>0,0,30),ifelse(var(20)>0,0,30)
givepower = 10,10
animtype = high
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 11,10
sparkno = s7002
guard.sparkno = s7012
sparkxy = -12, -55
hitsound = s400,1
guardsound = s120,1
ground.type = High
ground.hittime = 19
ground.slidetime = 19
ground.velocity = -4,-9
air.velocity = -4,-9
yaccel = .55
air.type = High
guard.velocity = -11.2
fall = 1
fall.recover = 0
fall.recovertime = 99999
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
ID = 1200
guard.hittime = 17
nochainID = 1201

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = AnimElem = 5
attr = S, SA
damage    = 75,8
getpower = ifelse(var(20)>0,0,30),ifelse(var(20)>0,0,30)
givepower = 10,10
animtype = high
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 11,10
sparkno = s8500
guard.sparkno = s7012
sparkxy = -12, -25
hitsound = s400,1
guardsound = s120,1
ground.type = High
ground.hittime = 19
ground.slidetime = 19
ground.velocity = -4,-8
air.velocity = -4,-8
yaccel = .55
air.type = High
guard.velocity = -11.2
fall = 1
fall.recover = 0
fall.recovertime = 99999
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 1201
guard.hittime = 17

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 6
Movetype = I

[State 1000, ステート変更]
type = ChangeState
trigger1 = var(1)!=3
trigger1 = animelemtime(7) >= 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1210

[State 250, ChangeState];着地
type = ChangeState
trigger1 = var(1)=3
trigger1 = animelemtime(7) > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
; 強飛翔日輪斬1
[Statedef 1250]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = ifelse(var(20)>0,0,91)
velset   = 0,0
anim = ifelse(var(1)=3,1251,1250)
ctrl     = 0
sprpriority = 3
facep2 = 1

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (3) <= 0
edge = 30,0

;---------------------[ガーポ判定]
[State 210, 2]
type = HitOverride
trigger1 = animelem = 8
attr = SCA,AA,AP
slot = 1
stateno = 1205
time = 3
forceair = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 10
value = 40,1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 12
value = 210,1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 13
value = 1700,0

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (10) <= 0
edge = 30,0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 6 || AnimElem = 7 || AnimElem = 9
x = 10

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 6
x = 5.5

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 9
x = 0

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 10
x = 3.2
y = -9.4

[State 1000, 軸位置移動]
type = PosAdd
trigger1 = AnimElemtime(10) = 0
x = 10

[State 1000, 軸位置移動]
type = VelAdd
trigger1 = AnimElemtime(10) > 0
y = .45

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 10
statetype = A
physics = N

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 12
persistent = 0
anim = 1265
postype = P1
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = AnimElem = 9
attr = S, SA
damage    = 45,8
getpower = ifelse(var(20)>0,0,30),ifelse(var(20)>0,0,30)
givepower = 10,10
animtype = high
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 11,10
sparkno = s7002
guard.sparkno = s7012
sparkxy = -12, -55
hitsound = s400,1
guardsound = s120,1
ground.type = High
ground.hittime = 19
ground.slidetime = 19
ground.velocity = -2.2,-11.8
air.velocity = -2.2,-11.8
yaccel = .55
air.type = High
guard.velocity = -11.2
fall = 1
fall.recover = 0
fall.recovertime = 99999
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
ID = 1202
guard.hittime = 17
nochainID = 1203

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = AnimElem = 13
attr = S, SA
damage    = 85,8
getpower = ifelse(var(20)>0,0,30),ifelse(var(20)>0,0,30)
givepower = 10,10
animtype = high
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 11,10
sparkno = s8500
guard.sparkno = s7012
sparkxy = -12, -25
hitsound = s400,1
guardsound = s120,1
ground.type = High
ground.hittime = 19
ground.slidetime = 19
ground.velocity = -4,-7
air.velocity = -4,-7
yaccel = .55
air.type = High
guard.velocity = -11.2
fall = 1
fall.recover = 0
fall.recovertime = 99999
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 1203
guard.hittime = 17

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 14
Movetype = I

[State 1000, ステート変更]
type = ChangeState
trigger1 = var(1)!=3
trigger1 = animelemtime(7) >= 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1210

[State 250, ChangeState];着地
type = ChangeState
trigger1 = var(1)=3
trigger1 = animelemtime(7) > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
; 強飛翔日輪斬2 ガーポ後
[Statedef 1265]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 1265
ctrl     = 0
sprpriority = 5

;---------------------[ポーズ]
[State 1001,2];
type = Pause
trigger1 = time = 0
time = 10
movetime = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 120,1
;------------------------------------
[State 801, Explod];ガードスパーク
type = Explod
trigger1 = animelem = 1
anim = 7012
ID = 7012
postype = p1
pos = 27, -51
facing = 1
sprpriority = 99       ; 表示優先度
;bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
pausemovetime = 9999

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = 40,1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 210,1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1700,0

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (2) <= 0
edge = 30,0

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 2
x = 3.2
y = -9.4

[State 1000, 軸位置移動]
type = PosAdd
trigger1 = AnimElemtime(1) = 0 || AnimElemtime(2) = 0
x = 10

[State 1000, 軸位置移動]
type = VelAdd
trigger1 = AnimElemtime(2) > 0
y = .45

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 2
statetype = A
physics = N

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 4
persistent = 0
anim = 1265
postype = P1
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = AnimElemtime(1) = 1
attr = S, SA
damage    = 45,8
getpower = ifelse(var(20)>0,0,30),ifelse(var(20)>0,0,30)
givepower = 10,10
animtype = high
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 11,10
sparkno = s7002
guard.sparkno = s7012
sparkxy = -12, -55
hitsound = s400,1
guardsound = s120,1
ground.type = High
ground.hittime = 19
ground.slidetime = 19
ground.velocity = -2.2,-11.8
air.velocity = -2.2,-11.8
yaccel = .55
air.type = High
guard.velocity = -11.2
fall = 1
fall.recover = 0
fall.recovertime = 99999
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
ID = 1202
guard.hittime = 17
nochainID = 1203

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = AnimElem = 5
attr = S, SA
damage    = 85,8
getpower = ifelse(var(20)>0,0,30),ifelse(var(20)>0,0,30)
givepower = 10,10
animtype = high
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 11,10
sparkno = s8500
guard.sparkno = s7012
sparkxy = -12, -25
hitsound = s400,1
guardsound = s120,1
ground.type = High
ground.hittime = 19
ground.slidetime = 19
ground.velocity = -4,-7
air.velocity = -4,-7
yaccel = .55
air.type = High
guard.velocity = -11.2
fall = 1
fall.recover = 0
fall.recovertime = 99999
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ID = 1203
guard.hittime = 17

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 6
Movetype = I

[State 1000, ステート変更]
type = ChangeState
trigger1 = var(1)!=3
trigger1 = animelemtime(7) >= 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1210

[State 250, ChangeState];着地
type = ChangeState
trigger1 = var(1)=3
trigger1 = animelemtime(7) > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
; 飛翔日輪斬着地
[Statedef 1210]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = ifelse(prevstateno = 1200,1210,1260)
ctrl     = 0
sprpriority = 2

[State 300,]
type = AfterImage
trigger1 = time = 0
time = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 1
value = 41,0

[State 1000,]
type = Posset
trigger1 = time = 0
y = 0

[State 1000, 軸位置移動]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 弱飛翔日輪斬(若ギース)
[Statedef 1270]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = ifelse(var(20)>0,0,91)
velset   = 0,0
anim     = 1270
ctrl     = 0
sprpriority = 3
facep2 = 1

[State 3000, 無敵];ナイトメアは無敵あり
type = NotHitBy
trigger1 = var(1) = 3
trigger1 = time = 0
value = SCA
time = 30

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (3) <= 0
edge = 30,0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 2
x = 15

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = 40,1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 7
value = 210,1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 8
value = 1700,0

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 5
x = 2.5
y = -8.2

[State 1000, 軸位置移動]
type = PosAdd
trigger1 = AnimElemtime(5) = 0
x = 10

[State 1000, 軸位置移動]
type = VelAdd
trigger1 = AnimElemtime(5) > 0
y = .45

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 5
statetype = A
physics = N

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 7
persistent = 0
anim = 1265
postype = P1
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = AnimElemtime(8) = 0 || AnimElemtime(8) = 2 || AnimElemtime(8) = 4
attr = S, SA
damage    = 25,8
getpower = ifelse(var(20)>0,0,20),ifelse(var(20)>0,0,20)
givepower = 10,10
animtype = high
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 2,10
sparkno = s8500
guard.sparkno = s7012
sparkxy = -12, -25
hitsound = s400,3
guardsound = s120,1
ground.type = High
ground.hittime = 19
ground.slidetime = 19
ground.velocity = -11.2
air.velocity = -4,-7
yaccel = .55
air.type = High
guard.velocity = -11.2
air.fall = 1
fall.recover = 0
fall.recovertime = 99999
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  0
air.cornerpush.veloff = 0
ID = 1270
guard.hittime = 17

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 9
Movetype = I

[State 1000, ステート変更]
type = ChangeState
trigger1 = var(1)!=3
trigger1 = animelemtime(7) >= 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1275

[State 250, ChangeState];着地
type = ChangeState
trigger1 = var(1)=3
trigger1 = animelemtime(7) >= 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
; 強飛翔日輪斬(若ギース)
[Statedef 1271]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = ifelse(var(20)>0,0,91)
velset   = 0,0
anim     = 1271
ctrl     = 0
sprpriority = 3
facep2 = 1

[State 3000, 無敵];ナイトメアは無敵あり
type = NotHitBy
trigger1 = var(1) = 3
trigger1 = time = 0
value = SCA
time = 50

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (3) <= 0
edge = 30,0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 2
x = 15

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = 40,1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 7
value = 210,1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 8
value = 1700,0

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 5
x = 3.
y = -9.4

[State 1000, 軸位置移動]
type = PosAdd
trigger1 = AnimElemtime(5) = 0
x = 10

[State 1000, 軸位置移動]
type = VelAdd
trigger1 = AnimElemtime(5) > 0
y = .45

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 5
statetype = A
physics = N

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 7
persistent = 0
anim = 1265
postype = P1
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = AnimElemtime(8) = 0 || AnimElemtime(8) = 2 || AnimElemtime(8) = 4
attr = S, SA
damage    = 20,8
getpower = ifelse(var(20)>0,0,20),ifelse(var(20)>0,0,20)
givepower = 10,10
animtype = high
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 2,10
sparkno = s8500
guard.sparkno = s7012
sparkxy = -12, -25
hitsound = s400,3
guardsound = s120,1
ground.type = High
ground.hittime = 19
ground.slidetime = 19
ground.velocity = -11.2
air.velocity = -4,-7
yaccel = .55
air.type = High
guard.velocity = -11.2
air.fall = 1
fall.recover = 0
fall.recovertime = 99999
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  0
air.cornerpush.veloff = 0
ID = 1270
guard.hittime = 17

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 9
Movetype = I

[State 1000, ステート変更]
type = ChangeState
trigger1 = var(1)!=3
trigger1 = animelemtime(7) >= 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1275

[State 250, ChangeState];着地
type = ChangeState
trigger1 = var(1)=3
trigger1 = animelemtime(7) >= 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
; 飛翔日輪斬(若ギース)着地
[Statedef 1275]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = ifelse(prevstateno = 1270,1275,1276)
ctrl     = 0
sprpriority = 2

[State 300,]
type = AfterImage
trigger1 = time = 0
time = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 1
value = 41,0

[State 1000,]
type = Posset
trigger1 = time = 0
y = 0

[State 1000, 軸位置移動]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; 真空投げ
[Statedef 1300]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = ifelse(var(20)>0,0,65)
velset = 0,0
anim = ifelse(var(1)=3,1302,1300)
sprpriority = 1
ctrl = 0

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 291 || prevstateno = 299 || (prevstateno = 270 && var(6) = 1)
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 291 || prevstateno = 299 || (prevstateno = 270 && var(6) = 1)
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 291 || prevstateno = 299 || (prevstateno = 270 && var(6) = 1)
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

;---------------------[無敵]
[state a]
type = nothitby
trigger1 = animelemtime(2) < 0
value = SCA

;---------------------[サウンド]
[State a];チッ
type = PlaySnd
trigger1 = animelem = 5
value = 1400, 2

;---------------------[攻撃]
[State 800, ヒット定義（投げ用）]
type = HitDef
triggerall = !(p2stateNo = [150,155]) && p2stateNo != 40
triggerall = !var(23)
trigger1 = var(24) != 1
trigger1 = animelem = 1
attr = S, ST
hitflag = M
priority = 1, Miss
sparkno = -1
p1sprpriority = 1
p2sprpriority = 0
p1facing = 1
p2facing = 1
p1stateno = 1301
p2stateno = 1305
guard.dist = 0
fall = 1
numhits = 0

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 4
Movetype = I

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;真空投げ・成功
[Statedef 1301]
type    = S
movetype= A
physics = N
anim = 1301
juggle  = 15
sprpriority = 3
poweradd = ifelse(var(20)>0,0,80)

[State 821,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

;---------------------[エフェクト]
[State explod];掴み
type = Explod
trigger1 = animelem = 1
anim = 7081
id = 7081
sprpriority = 2
postype = p1
pos = 90, -59
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

;---------------------[サウンド]
[State 810, Grab Sound];掴み
type = PlaySnd
trigger1 = animelem = 1
value = 1405, 0

[State 810, Grab Sound];はっ！
type = PlaySnd
trigger1 = animelem = 1
value = 1400,0

[State 810, Grab Sound];だあっ！
type = PlaySnd
trigger1 = animelem = 3
value = 1400,1

[State 810, Grab Sound];ぶぉん
type = PlaySnd
trigger1 = animelem = 4
value = 420, 3

[State 810, Grab Sound];フンっ！
type = PlaySnd
trigger1 = animelem = 14
value = 182, 1

;---------------------[向き]
[State 821,Turn]
type = Turn
trigger1 = AnimElem = 16

;---------------------[相手制御]
[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(2) < 0
pos = 73, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(2) >= 0 && AnimElemtime(3) < 0
pos = 65, -4

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(3) >= 0 && AnimElemtime(4) < 0
pos = 66, -97

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(4) = 0
pos = -17, -95

;---------------------[ダメージ]
[State 801, 2]
type = Targetlifeadd
trigger1 = var(1)!=3
trigger1 = animelem = 4
value = Ceil(-((145*Const(data.attack)/100)*fvar(0)))

[State 801, 2]
type = Targetlifeadd
trigger1 = var(1)=3
trigger1 = animelem = 4
value = Ceil(-((185*Const(data.attack)/100)*fvar(0)))

;---------------------[エフェクト]
;叩きつけエフェクト
[State 1000, ヘルパーを出す]
type = Helper
trigger1 = AnimElemtime(6) = 0
name = "hit"
stateno = 4920
ID = 4920
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 1
edge = 70,40

[State 210, Width];画面端の押し戻し判定
type = null;Width
trigger1 = animelem = 3
edge = 0,60

;---------------------[ステート移行]
[State 821, 3] 
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)真空投げ・掴まれ
[Statedef 1305]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

;---------------------[演出]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1305

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------[移動]
[State 250, Vel]
type = VelSet
trigger1 = animelemtime(4) = 1
x = 4.5
y = -7.2

[State 1000, 軸位置移動]
type = VelAdd
trigger1 = AnimElemtime(4) >= 1
y = .45

;---------------------[ステート移行]
[State 820, 1]
type = Changestate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
;trigger1 = AnimTime = 0
value = 286

[State 821, 3] 
type = null;SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
;trigger1 = animtime = 0
value = 5100

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; 裏雲隠し
[Statedef 1310]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = ifelse(var(20)>0,0,65)
velset = 0,0
anim = ifelse(var(1)=3,1312,1310)
sprpriority = 1
ctrl = 0

[State 3000, 無敵];ナイトメアは無敵あり
type = NotHitBy
trigger1 = var(1) = 3
trigger1 = time = 0
value = SCA
time = 5

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 291 || prevstateno = 299 || (prevstateno = 270 && var(6) = 1)
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
trigger7 = (prevstateno = 245 && var(1) != 3)
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 291 || prevstateno = 299 || (prevstateno = 270 && var(6) = 1)
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
trigger7 = (prevstateno = 245 && var(1) != 3)
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 291 || prevstateno = 299 || (prevstateno = 270 && var(6) = 1)
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
trigger7 = (prevstateno = 245 && var(1) != 3)
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

;---------------------[サウンド]
[State a];チッ
type = PlaySnd
trigger1 = animelem = 5
value = 1400, 2

;---------------------[攻撃]
[State 800, ヒット定義（投げ用）]
type = HitDef
triggerall = !(p2stateNo = [150,155]) && p2stateNo != 40
triggerall = !var(23)
trigger1 = var(24) != 1
trigger1 = animelem = 1
attr = S, ST
hitflag = M
priority = 1, Miss
sparkno = -1
p1sprpriority = 1
p2sprpriority = 0
p1facing = 1
p2facing = 1
p1stateno = 1311
p2stateno = 1315
guard.dist = 0
;fall = 1
;numhits = 0

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 5
Movetype = I

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;裏雲隠し・成功
[Statedef 1311]
type    = S
movetype= A
physics = N
anim = 1311
juggle  = 0
sprpriority = 3

[State 821,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 2100, ]
type = SprPriority
trigger1 = animelemtime(3) = 0
value = 0

[State 2100, ]
type = SprPriority
trigger1 = animelemtime(8) = 0
value = 3

;---------------------[エフェクト]
[State explod];掴み
type = Explod
trigger1 = animelem = 2
anim = 7081
id = 7081
sprpriority = 2
postype = p1
pos = 52, -76
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

;---------------------[サウンド]
[State 810, Grab Sound];掴み
type = PlaySnd
trigger1 = animelem = 2
value = 1405, 0

[State 810, Grab Sound];だぁ！
type = PlaySnd
trigger1 = animelem = 6
value = 420,9

[State 810, Grab Sound];ぶぉん
type = PlaySnd
trigger1 = animelem = 7
value = 420, 6

;---------------------[向き]
[State 821,Turn]
type = Turn
trigger1 = AnimElem = 6

;---------------------[相手制御]
[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(3) < 0
pos = 43, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(3) >= 0 && AnimElemtime(4) < 0
pos = 30, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(4) >= 0 && AnimElemtime(5) < 0
pos = 27, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(5) >= 0 && AnimElemtime(6) < 0
pos = 7, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(6) >= 0 && AnimElemtime(7) < 0
pos = 7, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(7) = 0
pos = 33, 0

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 5
edge = 0,40

;---------------------[ステート移行]
[State 821, 3] 
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)裏雲隠し・掴まれ
[Statedef 1315]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 1

;---------------------[演出]
[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1315

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------[移動]
[State 250, Vel]
type = VelSet
trigger1 = animelemtime(5) = 1
x = -6.2

[state a]
type = velmul
trigger1 = 1;AnimElemtime(5) >= 1
x = 0.9

;---------------------[向き]
[State 821,Turn]
type = Turn
trigger1 = AnimElem = 4

;---------------------[状態]
[State 250, ]
type = StateTypeSet
trigger1 = animelemtime(5) >= 1
statetype = S
physics = N

;---------------------[ステート移行]
[State 821, 3] 
type = SelfState
trigger1 = animtime = 0
value = 0
ctrl = 1

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; 邪影拳1 突進→両手掌底
[Statedef 1400]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd = ifelse(var(20)>0,0,60)
velset = 0,0
anim = 1400
sprpriority = 1
ctrl = 0

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

;---------------------[サウンド]
[State a];邪影拳
type = PlaySnd
trigger1 = animelem = 2
value = 1300, 0

[State a];
type = PlaySnd
trigger1 = animelem = 5
value = 1210, 1

[State a];すざー
type = PlaySnd
trigger1 = animelem = 12
value = 301, 0

;---------------------[移動]
[state a];
type = velset
trigger1 = var(1) != 3
trigger1 = animelemtime(5) = 0
x = 10

[state a];
type = velset
trigger1 = var(1) = 3
trigger1 = animelemtime(5) = 0
x = 13

[state a]
type = velset
trigger1 = animelem = 15
x = 0

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 5
attr = S, SA
damage    = 20,8
getpower = ifelse(var(20)>0,0,50),ifelse(var(20)>0,0,50)
givepower = 10,10
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 11,10
sparkno = s7002
guard.sparkno = s7012
sparkxy = -20, -50
hitsound = s400,1
guardsound = s120,1
ground.type = Low
ground.slidetime = 19
ground.hittime   = 19
ground.velocity  = -11.2
air.type = High
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
ID = 1400
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
guard.hittime = 17
nochainID = 1401

[State 1000, ];キャンセルフラグ
type = Varset
trigger1 = time = 0
var(5) = 0

[State 1000, ];キャンセルフラグ
type = Varset
trigger1 = Movecontact
var(5) = 1

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 3
persistent = 0
anim = 1403
postype = P1
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1100, エフェクト表示]
type = Explod
;trigger1 = !movecontact
trigger1 = AnimElem = 5
persistent = 0
anim = 1404
ID = 1404
postype = P1
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -1       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1100, エフェクト表示]
type = Explod
trigger1 = !movecontact
trigger1 = time = 9 || time = 15 || time = 21
anim = 1406
postype = P1
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 0    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 12
Movetype = I
physics = S

;---------------------[エフェクト消去]
[state a]
type = removeexplod
trigger1 = animelem = 12
id = 1404

;---------------------[ヒット]
[State 210, ステート変更]
type = ChangeState
trigger1 = Movehit
value = 1401

;---------------------[ガード]
[state a]
type = changestate
trigger1 = MoveGuarded
value = 1402

;---------------------[立ちステート]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 邪影拳1 追加攻撃
[Statedef 1401]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
ctrl     = 0
velset   = 9,0
anim     = ifelse(var(1)=3,1407,1401)
sprpriority = 5

[State 1000, ];キャンセルフラグ消去
type = Varset
trigger1 = time = 2
var(5) = 0

;---------------------[エフェクト消去]
[state a]
type = removeexplod
trigger1 = time = 0
id = 1404

[State 1000, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemtime(1) > 0 && AnimElemtime(4) < 0
edge = 20,0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 2
x = 15

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 5
x = 15

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = AnimElem = 2
attr = S, SA
damage    = 75,8
getpower = ifelse(var(20)>0,0,50),ifelse(var(20)>0,0,50)
givepower = 10,10
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 11,10
sparkno = s7002
guard.sparkno = s7012
sparkxy = -25, -70
hitsound = s400,4
guardsound = s120,1
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4,-7
guard.velocity = -11.2
air.velocity = -4,-7
air.type = High
air.velocity = 0,0
yaccel = .55
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
guard.hittime = 17
envshake.time = 10
envshake.ampl = 4
envshake.freq = 60
ID = 1401

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 1
persistent = 0
anim = 1405
ID = 1405
postype = P1
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1000, MoveType]
type = StateTypeSet
trigger1 = AnimElem = 3
MoveType = I

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;邪影拳1ガード派生
[Statedef 1402]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 9,0
anim = ifelse(var(1)=3,1408,1402)
ctrl     = 0
sprpriority = 2

[State 1000, ];キャンセルフラグ消去
type = Varset
trigger1 = time = 2
var(5) = 0

;---------------------[エフェクト消去]
[state a]
type = removeexplod
trigger1 = time = 0
id = 1404

[State a];すざー
type = PlaySnd
trigger1 = animelem = 1
value = 301, 0

[state a]
type = velset
trigger1 = animelem = 4
x = 0

[State 1311, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 邪影拳2 突進→掌底→爆破
[Statedef 1410]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd = ifelse(var(20)>0,0,60)
velset = 0,0
anim = ifelse(var(1)=3,1418,1410)
sprpriority = 3
ctrl = 0

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

;---------------------[サウンド]
[State a];邪影拳
type = PlaySnd
trigger1 = animelem = 2
value = 1300, 2

[State a];
type = PlaySnd
trigger1 = animelem = 5
value = 1305, 0

[State a];
type = PlaySnd
trigger1 = animelem = 6
value = 1210, 1

[State a];すざー
type = PlaySnd
trigger1 = animelem = 14
value = 301, 0

;---------------------[移動]
[state a];
type = velset
trigger1 = var(1) != 3
trigger1 = animelemtime(6) = 0; && animelemtime(10) < 0
x = 11

[state a];
type = velset
trigger1 = var(1) = 3
trigger1 = animelemtime(6) = 0; && animelemtime(10) < 0
x = 15

[state a]
type = velset
trigger1 = animelem = 17
x = 0

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 6
attr = S, SA
damage    = 40,8
getpower = ifelse(var(20)>0,0,60),ifelse(var(20)>0,0,60)
givepower = 10,10
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 11,10
sparkno = s7002
guard.sparkno = s7012
sparkxy = -20, -65
hitsound = s400,1
guardsound = s120,1
ground.type = Low
ground.slidetime = 19
ground.hittime   = 19
ground.velocity  = -11.2
air.type = High
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
ID = 1400
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
guard.hittime = 17
palfx.time = 25
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1

[State 1000, ];キャンセルフラグ
type = Varset
trigger1 = time = 0
var(5) = 0

[State 1000, ];キャンセルフラグ
type = Varset
trigger1 = Movecontact
var(5) = 1

[State 1100, エフェクト表示]
type = Explod
trigger1 = var(1) != 3
trigger1 = AnimElem = 2
persistent = 0
anim = 1413
postype = P1
pos = 0,0
sprpriority = 4
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1100, エフェクト表示]
type = Explod
trigger1 = var(1) != 3
trigger1 = AnimElem = 4
persistent = 0
anim = 1414
ID = 1414
postype = P1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -1       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1100, エフェクト表示]
type = Explod
trigger1 = var(1) = 3
trigger1 = AnimElem = 2
persistent = 0
anim = 1450
postype = P1
pos = 0,0
sprpriority = 4
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1100, エフェクト表示]
type = Explod
trigger1 = var(1) = 3
trigger1 = AnimElem = 4
persistent = 0
anim = 1451
ID = 1414
postype = P1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -1       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1100, エフェクト表示]
type = Explod
trigger1 = var(1) != 3
trigger1 = !movecontact
trigger1 = time = 13 || time = 19 || time = 25 || time = 31
anim = 1406
postype = P1
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 0    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1100, エフェクト表示]
type = Explod
trigger1 = var(1) = 3
trigger1 = !movecontact
trigger1 = time = 8 || time = 13 || time = 19 || time = 25
anim = 1406
postype = P1
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 0    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 14
persistent = 0
anim = 1417
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

;燃え小エフェクト 紫
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = movehit = 1
name = "hit"
stateno = 4910
ID = 4910
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 14
Movetype = I
physics = S

[state a]
type = removeexplod
trigger1 = animelem = 14
trigger2 = movecontact
id = 1414

;---------------------[ヒット]
[State 210, ステート変更]
type = ChangeState
trigger1 = Movehit
value = 1411

;---------------------[ガード]
[state a]
type = changestate
trigger1 = MoveGuarded
value = 1412

;---------------------[立ちステート]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 邪影拳2 追加攻撃
[Statedef 1411]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
ctrl     = 0
velset   = 9,0
anim     = 1411
sprpriority = 5

[State 1000, ];キャンセルフラグ消去
type = Varset
trigger1 = time = 2
var(5) = 0

[state a]
type = removeexplod
trigger1 = time = 0
id = 1414

[State 1000, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemtime(1) > 0 && AnimElemtime(4) < 0
edge = 20,0

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
triggerall = P2MoveType != A
triggerall = var(1) != 3
trigger1 = AnimElem = 3
attr = S, SA
damage    = 70,8
getpower = ifelse(var(20)>0,0,60),ifelse(var(20)>0,0,60)
givepower = 10,10
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 11,10
sparkno = s7002
guard.sparkno = s7012
sparkxy = -25, -70
hitsound = s405,10
guardsound = s120,1
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4,-7
air.velocity = -4,-7
air.type = High
air.velocity = 0,0
yaccel = .55
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
guard.hittime = 17
envshake.time = 25
envshake.freq = 90
envshake.ampl = -3
envshake.phase = -2
palfx.time = 45
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1
ID = 1411

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
triggerall = P2MoveType = A || var(1) = 3
trigger1 = AnimElem = 3
attr = S, SA
damage    = 70,8
getpower = ifelse(var(20)>0,0,60),ifelse(var(20)>0,0,60)
givepower = 10,10
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 11,10
sparkno = s7002
guard.sparkno = s7012
sparkxy = -25, -70
hitsound = s405,10
guardsound = s120,1
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4,-7
air.velocity = -4,-7
air.type = High
air.velocity = 0,0
yaccel = .55
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
guard.hittime = 17
envshake.time = 25
envshake.freq = 90
envshake.ampl = -3
envshake.phase = -2
palfx.time = 75
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1
ID = 1412

[state 1900, TargetState];通常ヒットはすべりダウン
type = TargetState
triggerall = var(5) != 1
trigger1 = NumTarget(1411)
trigger1 = MoveHit = 1
value = 293
persistent = 0
ignorehitpause = 1

[state 1900, TargetState];カウンター時はワイヤー
type = TargetState
triggerall = var(5) != 1
trigger1 = NumTarget(1412)
trigger1 = MoveHit = 1
value = 295
persistent = 0
ignorehitpause = 1

;すべりダウンエフェクト
[State 1000, ヘルパーを出す]
type = Helper
trigger1 = MoveHit
name = "hit"
stateno = 4925
ID = 4925
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = MoveHit = 5
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

;燃え小エフェクト 紫
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = movehit = 1
name = "hit"
stateno = 4910
ID = 4910
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 1
persistent = 0
anim = 1415
ID = 1415
postype = P1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 3
persistent = 0
anim = 1416
postype = P1
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = 3         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 0    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1000, MoveType]
type = StateTypeSet
trigger1 = AnimElem = 4
MoveType = I

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 邪影拳3 突進→投げ
[Statedef 1420]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd = ifelse(var(20)>0,0,60)
velset = 0,0
anim = ifelse(var(1)=3,1429,1420)
sprpriority = 3
ctrl = 0

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

;---------------------[サウンド]
[State a];邪影拳
type = PlaySnd
trigger1 = animelem = 2
value = 1300, 2

[State a];
type = PlaySnd
trigger1 = animelem = 5
value = 1305, 0

[State a];
type = PlaySnd
trigger1 = animelem = 6
value = 1210, 1

[State a];すざー
type = PlaySnd
trigger1 = animelem = 18
value = 301, 0

;---------------------[移動]
[state a];
type = velset
trigger1 = var(1) != 3
trigger1 = animelemtime(6) = 0
x = 12

[state a];
type = velset
trigger1 = var(1) = 3
trigger1 = animelemtime(6) = 0
x = 16

[state a]
type = velset
trigger1 = animelem = 21
x = 0

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 6
attr = S, SA
damage    = 40,8
getpower = ifelse(var(20)>0,0,70),ifelse(var(20)>0,0,70)
givepower = 10,10
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 11,10
sparkno = s7002
guard.sparkno = s7012
sparkxy = -20, -65
hitsound = s405,10
guardsound = s120,1
ground.type = Low
ground.slidetime = 19
ground.hittime   = 19
ground.velocity  = -11.2
air.type = High
air.velocity = -4,-7
yaccel = .55
fall = 1
fall.recover = 0
ID = 1420
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
guard.hittime = 17
envshake.time = 25
envshake.freq = 90
envshake.ampl = -3
envshake.phase = -2
p1facing = 1          ;以前は上の記述を使っていました
p2facing = 1          ;攻撃が当たった時の相手の向き
palfx.time = 55
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1

[State 20] ;ヒット時の相手動作
type = targetState
trigger1 = movehit && NumTarget(1420)
value = 1425
ctrl = 0
IgnoreHitPause = 1
Persistent     = 0

[State ,ChangeState] ;ヒット時の自分の動作
type = ChangeState
trigger1 = movehit && numtarget(1420)
value = 1421
ignorehitpause = 1
Persistent     = 0

[State 1100, エフェクト表示]
type = Explod
trigger1 = var(1) != 3
trigger1 = AnimElem = 2
persistent = 0
anim = 1423
postype = P1
pos = 0,0
sprpriority = 4
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1100, エフェクト表示]
type = Explod
trigger1 = var(1) != 3
trigger1 = AnimElem = 4
persistent = 0
anim = 1424
ID = 1414
postype = P1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -1       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1100, エフェクト表示]
type = Explod
trigger1 = var(1) = 3
trigger1 = AnimElem = 2
persistent = 0
anim = 1452
postype = P1
pos = 0,0
sprpriority = 4
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1100, エフェクト表示]
type = Explod
trigger1 = var(1) = 3
trigger1 = AnimElem = 4
persistent = 0
anim = 1453
ID = 1414
postype = P1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -1       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1100, エフェクト表示]
type = Explod
trigger1 = var(1) != 3
trigger1 = !movecontact
trigger1 = time = 17 || time = 23 || time = 29 || time = 35 || time = 41
anim = 1406
postype = P1
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 0    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1100, エフェクト表示]
type = Explod
trigger1 = var(1) = 3
trigger1 = !movecontact
trigger1 = time = 10 || time = 16 || time = 22 || time = 28 || time = 34
anim = 1406
postype = P1
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 0    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 18
persistent = 0
anim = 1417
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 18
Movetype = I
physics = S

[state a]
type = removeexplod
trigger1 = animelem = 18
trigger2 = movecontact
id = 1414

[State 1000, ];キャンセルフラグ
type = Varset
trigger1 = time = 0
var(5) = 0

[State 1000, ];キャンセルフラグ
type = Varset
trigger1 = Movecontact
var(5) = 1

;---------------------[ヒット]
[State 210, ステート変更]
type = ChangeState
trigger1 = Movehit
value = 1421

;---------------------[ガード]
[state a]
type = changestate
trigger1 = MoveGuarded
value = 1412

;---------------------[立ちステート]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 邪影拳3 追加攻撃
[Statedef 1421]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = ifelse(var(20)>0,0,70)
ctrl     = 0
velset   = 23,0
anim     = 1421
sprpriority = 3

[State 1000, ];キャンセルフラグ
type = Varset
trigger1 = time = 0
var(5) = 0

;燃え小エフェクト 紫
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = time = 0
name = "hit"
stateno = 4910
ID = 4910
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1

[State 821,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[state a]
type = removeexplod
trigger1 = time = 0
id = 1414

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 1
persistent = 0
anim = 1428
postype = P1
pos = -30,0
sprpriority = 10
ownpal = 1
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 0    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1000, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemtime(1) =0;> 0 && AnimElemtime(3) < 0
edge = 50,0

[State 1000, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemtime(1) > 1 && AnimElemtime(3) < 0
edge = 50,0

[State 810, ];ぶぉん
type = PlaySnd
trigger1 = animelem = 5
value = 420, 3

[State 810, ];ズンッ
type = PlaySnd
trigger1 = animelem = 7
value = 45, 1

[State 801, 2]
type = Targetlifeadd
trigger1 = animelem = 7
value = Ceil(-((85*Const(data.attack)/100)*fvar(0)))

;---------------------[向き]
[State 821,Turn]
type = Turn
trigger1 = AnimElem = 8

;---------------------[相手制御]
[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(2) < 0
pos = 38, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(2) >= 0 && AnimElemtime(3) < 0
pos = 47, -102

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(3) >= 0 && AnimElemtime(4) < 0
pos = 39, -113

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(4) >= 0 && AnimElemtime(5) < 0
pos = 40, -115

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(5) >= 0 && AnimElemtime(6) < 0
pos = -10, -124

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(6) >= 0 && AnimElemtime(7) < 0
pos = -48, -84

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(7) = 0
pos = -45, 0

;------------------------------------叩きつけエフェクト
[state 4910, ]
type = Explod
triggerall = p2movetype = H
trigger1 = p2stateno = 1425
Trigger1 = AnimElemtime(7) = 0
anim = 7087
id = 7087
sprpriority = -1
postype = p2
pos = 0,0
bindtime = 1
under = 0
persistent=0
ownpal = 1

[state 4910, ]
type = Explod
triggerall = p2movetype = H
trigger1 = p2stateno = 1425
Trigger1 = AnimElemtime(7) = 0
anim = 7088
id = 7088
sprpriority = -2
postype = p2
pos = 0,0
bindtime = 1
under = 0
persistent=0
ownpal = 1

[state 4910, ]
type = Explod
triggerall = p2movetype = H
trigger1 = p2stateno = 1425
Trigger1 = AnimElemtime(7) = 0
anim = 7089
id = 7089
sprpriority = 4
postype = p2
pos = 0,0
bindtime = 1
under = 0
persistent=0
ownpal = 1

[State 1020, 4]
type = EnvShake
trigger1 = animelem = 7
time = 10
ampl = -5
freq = 95
phase = 95

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;邪影拳2ガード派生
[Statedef 1412]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 9,0
anim     = ifelse(prevstateno = 1410,1412,1422)
ctrl     = 0
sprpriority = 2

[State 1000, ]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = var(1) = 3
value = 1419

[State 1000, ];キャンセルフラグ消去
type = Varset
trigger1 = time = 2
var(5) = 0

;---------------------[エフェクト消去]
[state a]
type = removeexplod
trigger1 = time = 0
id = 1414

[State a];すざー
type = PlaySnd
trigger1 = animelem = 1
value = 301, 0

[state a]
type = velset
trigger1 = animelem = 4
x = 0

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 1
persistent = 0
anim = 1417
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1311, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)邪影拳3・掴まれ 通常ヒット
[Statedef 1425]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 2

[State 2100, ]
type = null;SprPriority
trigger1 = animelemtime(7) = 0
value = 6

;---------------------[演出]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1425

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------[移動]
[State 250, Vel]
type = VelSet
trigger1 = animtime = 0
x = 4

;---------------------[ステート移行]
[State 821, 3] 
type = Changestate
;trigger1 = Vel Y > 0
;trigger1 = Pos Y >= 0
trigger1 = animtime = 0
value = 1426

;---------------------------------------------------------------------------
;相手 邪影拳3叩きつけやられ
[Statedef 1426]
type    = L
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 281

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = velset
trigger1 = AnimElem = 2
x = 3.1
y = -4.0

[State 2100, 移動]
type = Veladd
trigger1 = AnimElemtime(2) >= 0
y = .33

;---------------------[エフェクト]
[State 1300, エフェクト表示]
type = Explod
trigger1 = animelem = 1
anim = F61
pos = 10, -10
postype = p1
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
supermovetime = 12

[State 820, 1]
type = Changestate
trigger1 = AnimElemtime(3) >= 0
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 1427

;---------------------------------------------------------------------------
;空中叩きつけやられダウン
[Statedef 1427]
type    = L
movetype= H
physics = S
velset = 0,0
sprpriority = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 282

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 820, 1]
type = SelfState
trigger1 = Animtime = 0
trigger1 = Alive
value = 5120

;---------------------[エフェクト]
[State 1300, エフェクト表示]
type = Explod
trigger1 = animelem = 1
anim = F61
pos = 0, 0
postype = p1
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
supermovetime = 12

[State 820, 1]
type = SelfState
trigger1 = Animtime = 0
trigger1 = !Alive
value = 5150

;---------------------------------------------------------------------------
; 邪影拳4 KOFの三段邪影拳
[Statedef 1430]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd = ifelse(var(20)>0,0,60)
velset = 0,0
anim = ifelse(var(1)=3,1434,1430)
sprpriority = 1
ctrl = 0

[State 3000, 無敵];ナイトメアは無敵あり
type = NotHitBy
trigger1 = var(1) = 3
trigger1 = time = 0
value = SCA
time = 10

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

;---------------------[サウンド]
[State a];邪影拳
type = PlaySnd
trigger1 = animelem = 2
value = 1300, random%2

[State a];
type = PlaySnd
trigger1 = animelem = 4
value = 1305, 1

[State a];すざー
type = PlaySnd
trigger1 = animelem = 12
value = 301, 0

;---------------------[移動]
[state a];
type = velset
trigger1 = var(1) != 3
trigger1 = animelemtime(5) = 0
x = 10

[state a];
type = velset
trigger1 = var(1) = 3
trigger1 = animelemtime(5) = 0
x = 15

[state a]
type = velset
trigger1 = animelem = 15
x = 0

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 9
physics = S

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 4
time = 16
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 5
attr = S, SA
damage = ifelse(var(20)>0,30,40), 8
getpower = ifelse(var(20)>0,0,50),ifelse(var(20)>0,0,50)
givepower = 10,10
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 11,10
sparkno = s7002
guard.sparkno = s7012
sparkxy = -20, -50
hitsound = s400,1
guardsound = s120,1
ground.type = Low
ground.slidetime = 19
ground.hittime   = 19
ground.velocity = -6
air.type = High
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
ID = 1400
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
guard.hittime = 17
nochainID = 1432

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 12
Movetype = I

[State 1000, ]
type = Varset
trigger1 = time = 0
var(5) = 0

[State 1000, ];キャンセルフラグ
type = Varset
trigger1 = Movecontact
var(5) = 1

;---------------------[ヒット]
[State 210, ステート変更]
type = ChangeState
trigger1 = Movecontact
value = 1431

;---------------------[立ちステート]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 邪影拳4 追加攻撃
[Statedef 1431]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
ctrl     = 0
velset   = 10,0
anim = ifelse(var(1)=3,1435,1431)
sprpriority = 5

[State 1000, ];キャンセルフラグ消去
type = Varset
trigger1 = time = 2
var(5) = 0

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 1
time = 1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 1000, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemtime(1) > 0 && AnimElemtime(14) < 0
edge = 20,0

[state a];
type = velset
trigger1 = animelemtime(9) = 0
x = 10

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 14
x = 15

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 6
attr = S, SA
damage    = 20,8
getpower = ifelse(var(20)>0,0,50),ifelse(var(20)>0,0,50)
givepower = 10,10
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 11,10
sparkno = s7002
guard.sparkno = s7012
sparkxy = -25, -45
hitsound = s400,1
guardsound = s120,1
ground.type = Low
ground.slidetime = 19
ground.hittime   = 19
ground.velocity  = -11.2
air.type = High
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
ID = 1400
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
guard.hittime = 17

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = AnimElem = 10
attr = S, SA
damage = ifelse(var(20)>0,45,50), 8
getpower = ifelse(var(20)>0,0,50),ifelse(var(20)>0,0,50)
givepower = 10,10
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 11,10
sparkno = s7002
guard.sparkno = s7012
sparkxy = -25, -70
hitsound = s400,4
guardsound = s120,1
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4,-7
air.velocity = -4,-7
air.type = High
air.velocity = 0,0
yaccel = .55
fall = 1
fall.recover = 0
ID = 1432
guard.velocity = -11.2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
guard.hittime = 17
envshake.time = 10
envshake.ampl = 4
envshake.freq = 60

[State 1000, MoveType]
type = StateTypeSet
trigger1 = AnimElem = 11
MoveType = I

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 邪影拳5 RBの三段邪影拳
[Statedef 1440]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd = ifelse(var(20)>0,0,60)
velset = 0,0
anim = ifelse(var(1)=3,1445,1440)
sprpriority = 1
ctrl = 0

[State 3000, 無敵];ナイトメアは無敵あり
type = NotHitBy
trigger1 = var(1) = 3
trigger1 = time = 0
value = SCA
time = 20

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

;---------------------[サウンド]
[State a];邪影拳
type = PlaySnd
trigger1 = animelem = 2
value = 1300, random%2

[State a];
type = PlaySnd
trigger1 = animelem = 6
value = 1305, 1

[State a];すざー
type = PlaySnd
trigger1 = animelem = 16
value = 301, 0

;---------------------[移動]
[state a];
type = velset
trigger1 = var(1) != 3
trigger1 = animelemtime(6) = 0
x = 10

[state a];
type = velset
trigger1 = var(1) = 3
trigger1 = animelemtime(6) = 0
x = 15

[state a]
type = velset
trigger1 = animelem = 19
x = 0

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 13
physics = S

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 6
time = 23
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 6
attr = S, SA
damage    = 45,8
getpower = ifelse(var(20)>0,0,50),ifelse(var(20)>0,0,50)
givepower = 10,10
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 11,10
sparkno = s7002
guard.sparkno = s7012
sparkxy = -20, -50
hitsound = s400,1
guardsound = s120,1
ground.type = Low
ground.slidetime = 19
ground.hittime   = 19
ground.velocity = -6
air.type = High
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
ID = 1440
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
guard.hittime = 17

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 16
Movetype = I

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 4
persistent = 0
anim = 1442
postype = P1
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1100, エフェクト表示]
type = Explod
trigger1 = !movecontact
trigger1 = AnimElem = 6
persistent = 0
anim = 1404
ID = 1404
postype = P1
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -1       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

;---------------------[エフェクト消去]
[state a]
type = removeexplod
trigger1 = animelem = 16
id = 1404

[State 1000, ]
type = Varset
trigger1 = time = 0
var(5) = 0

[State 1000, ];キャンセルフラグ
type = Varset
trigger1 = Movecontact
var(5) = 1

;---------------------[ヒット]
[State 210, ステート変更]
type = ChangeState
trigger1 = Movecontact
value = 1441

;---------------------[立ちステート]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 邪影拳5 追加攻撃
[Statedef 1441]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
ctrl     = 0
velset   = 10,0
anim = ifelse(var(1)=3,1446,1441)
sprpriority = 5

[State 1000, ];キャンセルフラグ消去
type = Varset
trigger1 = time = 2
var(5) = 0

;---------------------[エフェクト消去]
[state a]
type = removeexplod
trigger1 = time = 0
id = 1404

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 1
time = 1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 1000, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemtime(1) > 0 && AnimElemtime(15) < 0
edge = 20,0

[state a];
type = velset
trigger1 = animelemtime(9) = 0
x = 10

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 15
x = 15

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 6
attr = S, SA
damage    = 20,8
getpower = ifelse(var(20)>0,0,50),ifelse(var(20)>0,0,50)
givepower = 10,10
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 11,10
sparkno = s7002
guard.sparkno = s7012
sparkxy = -25, -45
hitsound = s400,1
guardsound = s120,1
ground.type = Low
ground.slidetime = 19
ground.hittime   = 19
ground.velocity  = -11.2
air.type = High
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
ID = 1441
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
guard.hittime = 17

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = AnimElem = 10
attr = S, SA
damage    = 70,8
getpower = ifelse(var(20)>0,0,50),ifelse(var(20)>0,0,50)
givepower = 10,10
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 11,10
sparkno = s7002
guard.sparkno = s7012
sparkxy = -25, -70
hitsound = s400,4
guardsound = s120,1
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4,-8.1
air.velocity = -4,-8.1
air.type = High
air.velocity = 0,0
yaccel = .55
fall = 1
fall.recover = 0
ID = 1442
guard.velocity = -11.2
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
guard.hittime = 17
envshake.time = 10
envshake.ampl = 4
envshake.freq = 60

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 6
persistent = 0
anim = 1443
ID = 1443
postype = P1
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 11
persistent = 0
anim = 1444
ID = 1444
postype = P1
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1000, MoveType]
type = StateTypeSet
trigger1 = AnimElem = 12
MoveType = I

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; 上段当て身投げ
[Statedef 1500]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = ifelse(var(20)>0,0,34)
velset   = 0,0
anim     = ifelse(var(1)=3,1502,1500)
ctrl     = 0
sprpriority = 2
facep2 = 1

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

[State 180 ,VarRandom]
type = VarRandom
trigger1 = 1
v = 5
range = 0,1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = var(5) = 0
trigger1 = AnimElem = 1
value = 200,0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = var(5) = 1
trigger1 = AnimElem = 1
value = 210,1

[State 1200, Reversal]
type = reversaldef
trigger1 = animelem = 1
attr = S,ST
reversal.attr = SCA,SA,HA
pausetime = 15,15
sparkxy = 10,5
sparkno = s7011
hitsound = s1405,0
p1stateno = 1501
p2stateno = 1510
p2facing = 1
fall = 1
numhits = 0

[State 1200, Reversal]
type = reversaldef
trigger1 = animelem = 1 && p2statetype=A
attr = S,ST
reversal.attr= A,NA,SA,HA
pausetime = 15,15
sparkxy = 10,5
sparkno = s7011
hitsound = s1405,0
p1stateno = 1501
p2stateno = 1510
p2facing = 1
fall = 1
numhits = 0

[State 1000, MoveType]
type = StateTypeSet
trigger1 = AnimElem = 2
MoveType = I

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 上段当て身投げ成功
[Statedef 1501]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = ifelse(var(20)>0,0,100)
ctrl     = 0
velset   = 0,0
anim     = 1501
sprpriority = 5

[State 821,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1500,random%5

[State 1000, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemtime(1) > 0 && AnimElemtime(3) < 0
edge = 60,0

[State 810, ];ぶぉん
type = PlaySnd
trigger1 = animelem = 3
value = 420, 3

[State 810, ];ズンッ
type = PlaySnd
trigger1 = animelem = 5
value = 45, 1

[State 801, 2]
type = Targetlifeadd
trigger1 = var(1) != 3
trigger1 = animelem = 5
value = Ceil(-((110*Const(data.attack)/100)*fvar(0)))

[State 801, 2]
type = Targetlifeadd
trigger1 = var(1) = 3
trigger1 = animelem = 5
value = Ceil(-((110*Const(data.attack)/100)*fvar(0)))

;---------------------[向き]
[State 821,Turn]
type = Turn
trigger1 = AnimElem = 6

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 3
edge = 0,50

;---------------------[相手制御]
[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(2) < 0
pos = 32, -102

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(2) >= 0 && AnimElemtime(3) < 0
pos = 23, -126

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(3) >= 0 && AnimElemtime(4) < 0
pos = -6, -125

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(4) >= 0 && AnimElemtime(5) < 0
pos = -46, -94

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(5) >= 0 && AnimElemtime(6) < 0
pos = -55, 0

;------------------------------------叩きつけエフェクト
[state 4910, ]
type = Explod
triggerall = p2movetype = H
trigger1 = p2stateno = 1510
Trigger1 = AnimElemtime(5) = 0
anim = 7087
id = 7087
sprpriority = -1
postype = p2
pos = 0,0
bindtime = 1
under = 0
persistent=0
ownpal = 1

[state 4910, ]
type = Explod
triggerall = p2movetype = H
trigger1 = p2stateno = 1510
Trigger1 = AnimElemtime(5) = 0
anim = 7088
id = 7088
sprpriority = -2
postype = p2
pos = 0,0
bindtime = 1
under = 0
persistent=0
ownpal = 1

[state 4910, ]
type = Explod
triggerall = p2movetype = H
trigger1 = p2stateno = 1510
Trigger1 = AnimElemtime(5) = 0
anim = 7089
id = 7089
sprpriority = 4
postype = p2
pos = 0,0
bindtime = 1
under = 0
persistent=0
ownpal = 1

[State 1020, 4]
type = EnvShake
trigger1 = animelem = 5
time = 10
ampl = -5
freq = 95
phase = 95

;---------------------[ステート移行]
[State 821, 3] 
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)上段当て身投げ・掴まれ
[Statedef 1510]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 2

[State 2100, ]
type = null;SprPriority
trigger1 = animelemtime(7) = 0
value = 6

;---------------------[演出]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1510

;---------------------[向き]
[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------[ステート移行]
[State 821, 3] 
type = Changestate
;trigger1 = Vel Y > 0
;trigger1 = Pos Y >= 0
trigger1 = animtime = 0
value = 281

;---------------------------------------------------------------------------
; WA上段当て身投げ
[Statedef 1505]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = ifelse(var(20)>0,0,34)
velset   = 0,0
ctrl     = 0
anim     = ifelse(var(1)=3,1502,1500)
sprpriority = 2
facep2 = 1

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

[State 180 ,VarRandom]
type = VarRandom
trigger1 = 1
v = 5
range = 0,1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = var(5) = 0
trigger1 = AnimElem = 1
value = 200,0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = var(5) = 1
trigger1 = AnimElem = 1
value = 210,1

[State 1200, Reversal]
type = reversaldef
trigger1 = animelem = 1
attr = S,ST
reversal.attr = SCA,SA,HA
pausetime = 11,11
sparkxy = 10,5
sparkno = s7011
hitsound = s1405,0
p1stateno = 1506
p2stateno = 1511
p2facing = 1
fall = 1
numhits = 0

[State 1200, Reversal]
type = reversaldef
trigger1 = animelem = 1 && p2statetype=A
attr = S,ST
reversal.attr= A,NA,SA,HA
pausetime = 11,11
sparkxy = 10,5
sparkno = s7011
hitsound = s1405,0
p1stateno = 1506
p2stateno = 1511
p2facing = 1
fall = 1
numhits = 0

[State 1000, MoveType]
type = null;StateTypeSet
trigger1 = AnimElem = 2
MoveType = I

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; WA上段当て身投げ成功
[Statedef 1506]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = ifelse(var(20)>0,0,100)
ctrl     = 0
velset   = 0,0
anim     = 1506
sprpriority = 5

[State 821,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 180 ,VarRandom]
type = VarRandom
trigger1 = 1
v = 5
range = 0,1

[State 180 ,Varset]
type = Varset
trigger1 = AnimElem = 8
var(5) = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = var(5) = 0
trigger1 = AnimElem = 7
value = 182,11

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = var(5) = 1
trigger1 = AnimElem = 7
value = 1500,6

[State 1000, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemtime(1) > 0 && AnimElemtime(3) < 0
edge = 60,0

[State 810, ];ぶぉん
type = PlaySnd
trigger1 = animelem = 8
;value = 300, 2
value = 420, 3

[State 801, 2]
type = Targetlifeadd
trigger1 = var(1) != 3
trigger1 = AnimElemtime(11) >= 0
trigger1 = p2movetype = H
trigger1 = p2stateno = 1512
value = Ceil(-((125*Const(data.attack)/100)*fvar(0)))
persistant = 0

[State 801, 2]
type = Targetlifeadd
trigger1 = var(1) = 3
trigger1 = AnimElemtime(11) >= 0
trigger1 = p2movetype = H
trigger1 = p2stateno = 1512
value = Ceil(-((200*Const(data.attack)/100)*fvar(0)))
persistant = 0

;---------------------[相手制御]
[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(3) < 0
pos = 27, -102

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(3) >= 0 && AnimElemtime(4) < 0
pos = 27, -97

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(4) >= 0 && AnimElemtime(5) < 0
pos = 27, -92

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(5) >= 0 && AnimElemtime(6) < 0
pos = 27, -89

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(6) >= 0 && AnimElemtime(7) < 0
pos = 27, -84

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(7) >= 0 && AnimElemtime(8) < 0
pos = 17, -84

;---------------------[エフェクト]
;叩きつけエフェクト
[State 1000, ヘルパーを出す]
type = Helper
trigger1 = AnimElemtime(7) = 0
name = "hit"
stateno = 4920
ID = 4920
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

;---------------------[ステート移行]
[State 821, 3] 
type = changeState
trigger1 = time >= 65
trigger2 = animelemtime(13) >= 0
trigger2 = p2movetype = H
trigger2 = p2stateno = 1512
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)WA上段当て身投げ・掴まれ2
[Statedef 1511]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 0

[state a]
type = null;turn
trigger1 = p2dist x < 0
trigger1 = time = 0
[State 821,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 2100, ]
type = SprPriority
trigger1 = animelemtime(1) >= 0 && animelemtime(5) <0
value = 0

[State 2100, ]
type = SprPriority
trigger1 = animelemtime(5) = 0
value = 6

[State 2100, ]
type = SprPriority
trigger1 = animelemtime(8) = 4
value = 1

;---------------------[演出]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1511

;---------------------[演出]
[State 1040, Pos]
type = null;AngleDraw
trigger1 = animelemtime(3) >= 0 && animelemtime(4) <0
scale = 1.0,0.8

[State 1040, Pos]
type = null;AngleDraw
trigger1 = animelemtime(4) >= 0 && animelemtime(5) <0
scale = 1.0,0.7

[State 1040, Pos]
type = null;AngleDraw
trigger1 = animelemtime(5) >= 0 && animelemtime(6) <0
scale = 1.0,0.7

[State 1040, Pos]
type = null;AngleDraw
trigger1 = animelemtime(6) >= 0 && animelemtime(7) <0
scale = 1.0,0.8

[State 1040, Pos]
type = Angleadd
trigger1 = Pos Y <= -45
trigger1 = animelemtime(8) >= 0
value = 35
[State 1040, Pos]
type = AngleDraw
trigger1 = Pos Y <= -45
trigger1 = animelemtime(8) >= 0

;---------------------[移動]
[State 1033, 2]
type = VelSet
trigger1 = animelemtime(8) = 0
x = -6.0
y = -12
[State 1033, 2]
type = VelAdd
trigger1 = animelemtime(8) >= 0
y = .75

;---------------------[向き]
[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------[ステート移行]
[State 821, 3] 
type = Changestate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -40
trigger1 = animelemtime(7) >= 0
value = 1512

;---------------------------------------------------------------------------
;相手 空中叩きつけやられ2
[Statedef 1512]
type    = L
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1512

[state a]
type = posset
trigger1 = time = 0
y = 0

;---------------------[弧月用]
[state a]
type = velset
trigger1 = prevstateno = 1511
trigger1 = AnimElem = 2
x = -1.9
y = -5.4

[State 1020, 4]
type = EnvShake
trigger1 = prevstateno = 1511
trigger1 = Time = 0
time = 20
ampl = -8
freq = 145
phase = 95

[State 2100, 移動]
type = Veladd
trigger1 = AnimElemtime(2) >= 0
y = .33

;---------------------[エフェクト]
[State 1300, エフェクト表示]
type = Explod
trigger1 = animelem = 1
anim = F61
pos = 10, -10
postype = p1
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
supermovetime = 12

[State 820, 1]
type = Changestate
trigger1 = AnimElemtime(3) >= 0
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 287

;---------------------------------------------------------------------------
; 中段当て身打ち
[Statedef 1520]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = ifelse(var(20)>0,0,34)
velset   = 0,0
anim     = ifelse(var(1)=3,1522,1520)
ctrl     = 0
sprpriority = 2
facep2 = 1

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

[State 180 ,VarRandom]
type = VarRandom
trigger1 = 1
v = 5
range = 0,1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = var(5) = 0
trigger1 = AnimElem = 1
value = 200,0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = var(5) = 1
trigger1 = AnimElem = 1
value = 210,1

[State 1200, Reversal]
type = reversaldef
trigger1 = animelem = 1
attr = S,ST
reversal.attr = SC,NA
pausetime = 11,10
sparkxy = 19,-30
sparkno = s7011
hitsound = s1405,0
p1stateno = 1521
numhits = 0

[State 1000, MoveType]
type = StateTypeSet
trigger1 = AnimElem = 2
MoveType = I

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 中段当て身打ち 成功
[Statedef 1521]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = ifelse(var(20)>0,0,50)
velset   = 12,0
anim     = 1521
ctrl     = 0
sprpriority = 5

[State 1005, 無敵]
type = NotHitBy
trigger1 = animelemtime(10) <= 2
value = SCA

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = 201,1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = 300,1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 9
value = 220,0

[State 700, 音を鳴らす];
type = PlaySnd
trigger1 = animelem = 10
value = 1005, 1

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (5) <= 0
edge = 30,0

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 2
persistent = 0
anim = 1525
ID = 1525
postype = P1
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = AnimElem = 4
attr = S, SA
damage    = 40,10
getpower = ifelse(var(20)>0,0,30),ifelse(var(20)>0,0,30)
givepower = 10,10
animtype = high
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 11,10
sparkno = s7002
guard.sparkno = s7012
sparkxy = -35, -40
hitsound = s400,1
guardsound = s120,1
ground.type = high
ground.hittime = 19
ground.slidetime = 19
ground.velocity = 0
air.velocity = -5.5,-7
yaccel = .55
ID = 1521
air.type = High
air.fall = 1
fall.recover = 0
fall.recovertime = 99999
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
guard.hittime = 17

[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(10)=0
projID = 1050					; ProjID
projanim = 1055					; Projectileのアニメ
projhitanim = 1056				; 消滅アニメ
projscale = 1, 1
projremove = 1
projhits = 1
projpriority = 1
projsprpriority = 4
air.juggle = 1
projedgebound = 150				;画面外消滅距離(省略時40)
;projremovetime = 25
offset = 45,0					;出現位置
velocity = 10					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = A, SP
damage = 40;ifelse((ProjHitTime(1050) < 25),30,40), 8
getpower = ifelse(var(20)>0,0,30),ifelse(var(20)>0,0,30)
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7002
guard.sparkno = s7011
sparkxy = 12, -35
hitsound = s400, 1
guardsound = s120, 1
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.type = High
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
;nochainID = 290
guard.hittime = 17
fall.recovertime = 99999

;===============================================================
; カウンターメッセージ用ヘルパーの呼び出し
;===============================================================
[State -2, Helper]
type = Helper
triggerall = var(48)
;triggerall = P2MoveType = A
trigger1 = MoveHit && NumTarget(1521)
trigger1 = animelemtime(4) >=0 
name = "Counter"
StateNo = 7200
id = 7200
pos = -9999, 9999
postype = p1
ignorehitpause = 1
ownpal = 1
supermovetime = 99999999999999
pausemovetime = 99999999999999
keyctrl = 0
persistent = 0

[State 1000, MoveType]
type = StateTypeSet
trigger1 = AnimElem = 11
MoveType = I

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 中段当身 裏雲隠し
[Statedef 1530]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = ifelse(var(20)>0,0,34)
velset = 0,0
anim     = ifelse(var(1)=3,1522,1520)
sprpriority = 1
ctrl = 0

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

[State 180 ,VarRandom]
type = VarRandom
trigger1 = 1
v = 5
range = 0,1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = var(5) = 0
trigger1 = AnimElem = 1
value = 200,0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = var(5) = 1
trigger1 = AnimElem = 1
value = 210,1

;---------------------[攻撃]
[State 1200, Reversal]
type = reversaldef
trigger1 = animelem = 1
attr = S,ST
reversal.attr = SC,NA
pausetime = 11,11
sparkxy = 19,-30
sparkno = s7011
hitsound = s1405,0
p1stateno = 1531
p2stateno = 1532
p2facing = 1
numhits = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 2
Movetype = I

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;中段当身 裏雲隠し・成功
[Statedef 1531]
type    = S
movetype= A
physics = N
anim = 1531
juggle  = 0
poweradd = ifelse(var(20)>0,0,100)
sprpriority = 3

[State 821,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 2100, ]
type = SprPriority
trigger1 = animelemtime(3) = 0
value = 0

[State 2100, ]
type = SprPriority
trigger1 = animelemtime(8) = 0
value = 3

;---------------------[サウンド]
[State 810, Grab Sound];だぁ！
type = PlaySnd
trigger1 = animelem = 3
value = 1600,3

[State 810, Grab Sound];ぶぉん
type = PlaySnd
trigger1 = animelem = 7
value = 420, 6

;---------------------[向き]
[State 821,Turn]
type = Turn
trigger1 = AnimElem = 6

;---------------------[相手制御]
[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(3) < 0
pos = 43, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(3) >= 0 && AnimElemtime(4) < 0
pos = 30, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(4) >= 0 && AnimElemtime(5) < 0
pos = 27, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(5) >= 0 && AnimElemtime(6) < 0
pos = 7, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(6) >= 0 && AnimElemtime(7) < 0
pos = 7, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(7) = 0
pos = 33, 0

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 5
edge = 0,40

;---------------------[ステート移行]
[State 821, 3] 
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)裏雲隠し・掴まれ
[Statedef 1532]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 1

;---------------------[演出]
[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1532

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------[移動]
[State 250, Vel]
type = VelSet
trigger1 = animelemtime(5) = 1
x = -2.6

[state a]
type = velmul
trigger1 = 1;AnimElemtime(5) >= 1
x = 0.9

;---------------------[向き]
[State 821,Turn]
type = Turn
trigger1 = AnimElem = 4

;---------------------[状態]
[State 250, ]
type = StateTypeSet
trigger1 = animelemtime(5) >= 1
statetype = S
physics = N

;---------------------[ステート移行]
[State 821, 3] 
type = SelfState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 下段当て身打ち
[Statedef 1540]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = ifelse(var(20)>0,0,34)
velset   = 0,0
anim     = ifelse(var(1)=3,1542,1540)
ctrl     = 0
sprpriority = 2
facep2 = 1

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

[State 180 ,VarRandom]
type = VarRandom
trigger1 = 1
v = 5
range = 0,1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = var(5) = 0
trigger1 = AnimElem = 1
value = 200,0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = var(5) = 1
trigger1 = AnimElem = 1
value = 210,1

[State 1200, Reversal]
type = reversaldef
trigger1 = animelem = 1
attr = S,ST
reversal.attr = SC,NA
pausetime = 11,10
sparkxy = 15,-5
sparkno = s7011
hitsound = s1405,0
p1stateno = 1541
numhits = 0

[State 1000, MoveType]
type = StateTypeSet
trigger1 = AnimElem = 2
MoveType = I

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 下段当て身打ち 成功
[Statedef 1541]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = ifelse(var(20)>0,0,50)
velset   = 0,0
anim     = 1541
ctrl     = 0
sprpriority = 5

[State 1005, 無敵]
type = NotHitBy
trigger1 = animelemtime(7) >= 2
value = SCA

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1500,5

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1 || AnimElem = 7
value = 300,1

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (5) <= 0
edge = 30,0

[State 210,PosAdd]
type = PosAdd
trigger1 = animelem = 1 || animelem = 2 || animelem = 3 || animelem = 4
x = 10

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = AnimElem = 1
attr = S, SA
damage    = 30,10
getpower = ifelse(var(20)>0,0,30),ifelse(var(20)>0,0,30)
givepower = 10,10
animtype = high
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 5,4
sparkno = s7002
guard.sparkno = s7012
sparkxy = -15, -40
hitsound = s400,1
guardsound = s120,1
ground.type = high
ground.hittime = 19
ground.slidetime = 19
ground.velocity = 0
air.velocity = -5.5,-7
yaccel = .55
ID = 1541
air.type = High
air.fall = 1
fall.recover = 0
fall.recovertime = 99999
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
guard.hittime = 17

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = AnimElem = 7
attr = S, SA
damage    = 50,8
getpower = ifelse(var(20)>0,0,20),ifelse(var(20)>0,0,20)
givepower = 10,10
animtype = high
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 11,10
sparkno = s7002
guard.sparkno = s7012
sparkxy = -32, -65
hitsound = s400,1
guardsound = s120,1
ground.type = High
ground.hittime = 19
ground.slidetime = 19
ground.velocity = -2.2,-11.8
air.velocity = -2.2,-11.8
yaccel = .55
air.type = High
guard.velocity = -11.2
fall = 1
fall.recover = 0
fall.recovertime = 99999
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
ID = 1542
guard.hittime = 17

;===============================================================
; カウンターメッセージ用ヘルパーの呼び出し
;===============================================================
[State -2, Helper]
type = Helper
triggerall = var(48)
triggerall = animelemtime(1) >=0 
trigger1 = MoveHit && NumTarget(1541)
trigger2 = MoveHit && NumTarget(1542)
name = "Counter"
StateNo = 7200
id = 7200
pos = -9999, 9999
postype = p1
ignorehitpause = 1
ownpal = 1
supermovetime = 99999999999999
pausemovetime = 99999999999999
keyctrl = 0
persistent = 0

[State 1000, MoveType]
type = StateTypeSet
trigger1 = AnimElem = 8
MoveType = I

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; CVS下段当て身打ち
[Statedef 1550]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = ifelse(var(20)>0,0,34)
velset   = 0,0
anim     = ifelse(var(1)=3,1542,1540)
ctrl     = 0
sprpriority = 2
facep2 = 1

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

[State 180 ,VarRandom]
type = VarRandom
trigger1 = 1
v = 5
range = 0,1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = var(5) = 0
trigger1 = AnimElem = 1
value = 200,0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = var(5) = 1
trigger1 = AnimElem = 1
value = 210,1

[State 1200, Reversal]
type = reversaldef
trigger1 = animelem = 1
attr = S,ST
reversal.attr = SC,NA
pausetime = 11,11
sparkxy = 15,-5
sparkno = s7011
hitsound = s1405,0
p1stateno = 1551
p2stateno = 1555
p2facing = 1
fall = 1
numhits = 0

[State 1000, MoveType]
type = StateTypeSet
trigger1 = AnimElem = 2
MoveType = I

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; CVS下段当て身打ち成功
[Statedef 1551]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = ifelse(var(20)>0,0,100)
ctrl     = 0
velset   = 0,0
anim     = 1551
sprpriority = 5

[State 821,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1500,2+random%3

[State 1000, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemtime(1) > 0 && AnimElemtime(9) < 0
edge = 40,0

[State 810, ];ぶぉん
type = PlaySnd
trigger1 = animelem = 8
value = 420, 3

[State 810, ];
type = PlaySnd
trigger1 = animelem = 8
value = 1500, 8

[State 210,PosAdd]
type = hitAdd
trigger1 = animelem = 8
value = 1

[State 801, 2]
type = Targetlifeadd
trigger1 = var(1) != 3
trigger1 = animelem = 8
value = Ceil(-((170*Const(data.attack)/100)*fvar(0)))

[State 801, 2]
type = Targetlifeadd
trigger1 = var(1) = 3
trigger1 = animelem = 8
value = Ceil(-((220*Const(data.attack)/100)*fvar(0)))

;---------------------[相手制御]
[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(3) < 0
pos = 42, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(3) = 0
pos = 52, -66

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(8) = 0
pos = 52, -20

;------------------------------------エフェクト
[state 4910, ]
type = Explod
trigger1 = animelem = 8
anim = 7003
id = 7003
sprpriority = 10
postype = p1
pos = 41,-59
bindtime = 1
under = 0
persistent=0
ownpal = 1

[State 1020, 4]
type = EnvShake
trigger1 = animelem = 8
time = 15
ampl = -5
freq = 95
phase = 95

;すべりダウンエフェクト
[State 1000, ヘルパーを出す]
type = Helper
Trigger1 = AnimElemtime(8) = 0
name = "hit"
stateno = 4925
ID = 4925
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

;---------------------[ステート移行]
[State 821, 3] 
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)CVS下段当て身打ち・掴まれ
[Statedef 1555]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 2

[State 2100, ]
type = null;SprPriority
trigger1 = animelemtime(7) = 0
value = 6

;---------------------[演出]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1555

;---------------------[移動]
[State 1033, 2]
type = VelSet
trigger1 = animelemtime(2) = 1
y = -8

[State 1033, 2]
type = VelAdd
trigger1 = animelemtime(2) >= 1 && AnimElemtime(13) < 0
y = .65

;---------------------[向き]
[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------[ステート移行]
[State 821, 3] 
type = Changestate
;trigger1 = Vel Y > 0
;trigger1 = Pos Y >= 0
trigger1 = animtime = 0
value = 293

[State 865, 5]
type = SelfState
trigger1 = animelemtime(13) >= 10
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5110

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;雷鳴豪破投げ1 RB
[Statedef 1600]
type     = C
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
ctrl     = 0
anim     = 1600
sprpriority = 2

;---------------------[サウンド]
[State 810, Grab Sound];チッ
type = PlaySnd
trigger1 = animelem = 5
value = 1400, 2

[State 800, ヒット定義（投げ用）]
type = HitDef
trigger1 = animelem = 2
attr = C, ST
hitflag = FD
priority = 1;, Miss    ;投げなので優先度を低く、かつmissかdodgeの属性でなければなりません
sparkno = -1       ;-1にすればヒットスパークが表示しなくなります
p1sprpriority = 0     ;攻撃が当たった時に自分の画像表示優先度を1にします
p2sprpriority = 1     ;攻撃が当たった時に相手の画像表示優先度を0にします
p1facing = 1          ;以前は上の記述を使っていました
p2facing = 1          ;攻撃が当たった時の相手の向き
p1stateno = 1601       ;自分のステート変更
p2stateno = 1605       ;相手を制御するステートに行かせる
guard.dist = 0        ;相手がガード状態に移行出来る距離（現在は0なのでガード不可）
fall = 1              ;1にすれば相手がダウン状態になる

[State 1000, MoveType]
type = StateTypeSet
trigger1 = AnimElem = 3
MoveType = I

[State 1000, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 雷鳴豪破投げ1 RB 成功
[Statedef 1601]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = ifelse(var(20)>0,0,91)
ctrl     = 0
velset   = 0,0
anim     = 1601
sprpriority = 2

[State 821,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 1000, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemtime(9) = 0
edge = 0,50

;---------------------[エフェクト]
[State explod];掴み
type = Explod
trigger1 = animelem(1) = 1
anim = 7081
id = 7081
sprpriority = 5
postype = p1
pos = 60, -10
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];稲妻1
type = Explod
trigger1 = animelem = 11
anim = 1625
id = 1625
sprpriority = 5
postype = p2
pos = 0, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];稲妻2
type = Explod
trigger1 = animelemtime(11) = 7
anim = 1624
id = 1624
sprpriority = 6
postype = p2
pos = 0, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

;---------------------[サウンド]
[State 810, Grab Sound];掴み
type = PlaySnd
trigger1 = animelem = 1
value = 1405, 0

[State 810, Grab Sound];だーい
type = PlaySnd
trigger1 = animelem = 4
value = 1600, 0

[State 810, Grab Sound];forever
type = PlaySnd
trigger1 = animelem = 17
value = 1600, 1

[State 810, Grab Sound];ぶぉん
type = PlaySnd
trigger1 = animelem = 9
value = 420, 3

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 11
value = 1605, 0

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelemtime(11) = 7
value = 1605, 1

[State 810, ];ズンッ
type = PlaySnd
trigger1 = animelem = 11
value = 45, 1

[State 1000, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemtime(1) > 0 && AnimElemtime(3) < 0
edge = 60,0

[State 801, 2]
type = Targetlifeadd
trigger1 = var(1) != 3
trigger1 = animelem = 11
value = Ceil(-((65*Const(data.attack)/100)*fvar(0)))

[State 801, 2]
type = Targetlifeadd
trigger1 = var(1) = 3
trigger1 = animelem = 11
value = Ceil(-((110*Const(data.attack)/100)*fvar(0)))

;---------------------[向き]
[State 821,Turn]
type = Turn
trigger1 = AnimElem = 12

;--------------------------------
[State a];フラッシュ
type = EnvColor
trigger1 = animelemtime(11) = 3
persistent = 0
ignorehitpause = 1
time = 3
value = 255,255,255
under = 2

;---------------------[相手制御]
[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(3) < 0
pos = 52, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(3) >= 0 && AnimElemtime(4) < 0
pos = 49, -78

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(4) >= 0 && AnimElemtime(5) < 0
pos = 48, -125

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(5) >= 0 && AnimElemtime(6) < 0
pos = 41, -120

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(6) >= 0 && AnimElemtime(7) < 0
pos = 47, -99

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(7) >= 0 && AnimElemtime(8) < 0
pos = 50, -115

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(8) >= 0 && AnimElemtime(9) < 0
pos = 33, -119

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(9) >= 0 && AnimElemtime(10) < 0
pos = -6, -128

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(10) >= 0 && AnimElemtime(11) < 0
pos = -48, -84

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(11) = 0
pos = -55, 0

;---------------------[ヘルパー]
[state a];電撃エフェクト
type = Helper
triggerall = p2movetype = H
trigger1 = p2stateno = 1605
Trigger1 = AnimElemtime(11) = 0
id = 8501
name = "hit"
pos = 0,0
postype = p2
stateno = 8501
helpertype = normal
pausemovetime = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;------------------------------------叩きつけエフェクト
[state 4910, ]
type = Explod
triggerall = p2movetype = H
trigger1 = p2stateno = 1605
Trigger1 = AnimElemtime(11) = 0
anim = 7087
id = 7087
sprpriority = -1
postype = p2
pos = 0,0
bindtime = 1
under = 0
persistent=0
ownpal = 1

[state 4910, ]
type = Explod
triggerall = p2movetype = H
trigger1 = p2stateno = 1605
Trigger1 = AnimElemtime(11) = 0
anim = 7088
id = 7088
sprpriority = -2
postype = p2
pos = 0,0
bindtime = 1
under = 0
persistent=0
ownpal = 1

[state 4910, ]
type = Explod
triggerall = p2movetype = H
trigger1 = p2stateno = 1605
Trigger1 = AnimElemtime(11) = 0
anim = 7089
id = 7089
sprpriority = 4
postype = p2
pos = 0,0
bindtime = 1
under = 0
persistent=0
ownpal = 1

[State 1020, 4]
type = EnvShake
trigger1 = animelem = 11
time = 30
ampl = -8
freq = 150
phase = 85

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
Trigger1 = AnimElemtime(11) = 0
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)雷鳴豪破投げ1 RB・掴まれ
[Statedef 1605]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 2

[State 2100, ]
type = null;SprPriority
trigger1 = animelemtime(7) = 0
value = 6

;---------------------[演出]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1605

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 1320, Shock]
type = PalFX
trigger1 = time > 69 && Time % 2
time = 1
add = 0,10,50
mul = 240,240,240
sinadd = 100,100,100,5
invertall = 1
color = 0

;---------------------[ステート移行]
[State 821, 3] 
type = Changestate
;trigger1 = Vel Y > 0
;trigger1 = Pos Y >= 0
trigger1 = animtime = 0
value = 1606

;---------------------------------------------------------------------------
;相手 雷鳴豪破投げ1 RB やられ2
[Statedef 1606]
type    = L
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 200, 1];電撃やられ
type = palfx
triggerall = (time%4) = 0
trigger1 = time > 0
time = 4
sinadd = 180,120,120,3
add = 0,0,0
color = 0
invertall = 1
[State 200, 1]
type = palfx
trigger1 = (time%4) = 2
trigger1 = time > 0
time = 1
add = 127,127,127

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1512

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = velset
trigger1 = AnimElem = 2
x = 2.2
y = -5.4

[State 2100, 移動]
type = Veladd
trigger1 = AnimElemtime(2) >= 0
y = .33

;---------------------[エフェクト]
[State 1300, エフェクト表示]
type = Explod
trigger1 = animelem = 1
anim = F61
pos = 10, -10
postype = p1
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
supermovetime = 12

[State 820, 1]
type = Changestate
trigger1 = AnimElemtime(3) >= 0
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 287

;---------------------------------------------------------------------------
;雷鳴豪破投げ2 RB2
[Statedef 1610]
type     = C
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
ctrl     = 0
anim     = 1600
sprpriority = 2

;---------------------[サウンド]
[State 810, Grab Sound];チッ
type = PlaySnd
trigger1 = animelem = 5
value = 1400, 2

[State 800, ヒット定義（投げ用）]
type = HitDef
trigger1 = animelem = 2
attr = C, ST
hitflag = FD
priority = 1;, Miss    ;投げなので優先度を低く、かつmissかdodgeの属性でなければなりません
sparkno = -1       ;-1にすればヒットスパークが表示しなくなります
p1sprpriority = 0     ;攻撃が当たった時に自分の画像表示優先度を1にします
p2sprpriority = 1     ;攻撃が当たった時に相手の画像表示優先度を0にします
p1facing = 1          ;以前は上の記述を使っていました
p2facing = 1          ;攻撃が当たった時の相手の向き
p1stateno = 1611       ;自分のステート変更
p2stateno = 1615       ;相手を制御するステートに行かせる
guard.dist = 0        ;相手がガード状態に移行出来る距離（現在は0なのでガード不可）
fall = 1              ;1にすれば相手がダウン状態になる
ID = 1610
nochainID = 1610

[State 1000, MoveType]
type = StateTypeSet
trigger1 = AnimElem = 3
MoveType = I

[State 1000, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 雷鳴豪破投げ2 RB2 成功
[Statedef 1611]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = ifelse(var(20)>0,0,91)
ctrl     = 0
velset   = 0,0
anim     = 1611
sprpriority = 4

[State 821,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 1000, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemtime(9) = 0
edge = 0,50

;---------------------[エフェクト]
[State explod];掴み
type = Explod
trigger1 = animelemtime(1) = 1
anim = 7081
id = 7081
sprpriority = 5
postype = p1
pos = 60, -10
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];雷光
type = Explod
trigger1 = animelemtime(6) = 0
anim = 1620
id = 1620
sprpriority = 5
postype = p1
pos = 47, -70
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];雷光
type = Explod
trigger1 = animelemtime(7) = 0
anim = 1620
id = 1620
sprpriority = 5
postype = p1
pos = 59, -91
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];雷光
type = Explod
trigger1 = animelemtime(8) = 0
anim = 1620
id = 1620
sprpriority = 5
postype = p1
pos = 52, -102
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];雷光
type = Explod
trigger1 = animelemtime(9) = 0
anim = 1620
id = 1620
sprpriority = 5
postype = p1
pos = 18, -127
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];雷光
type = Explod
trigger1 = animelemtime(10) = 0
anim = 1620
id = 1620
sprpriority = 5
postype = p1
pos = -44, -103
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];稲妻1
type = Explod
trigger1 = animelemtime(11) = 1
anim = 1625
id = 1625
sprpriority = 5
postype = p2
pos = 0, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
facing = -1
ownpal = 1

[State explod];稲妻1
type = Explod
trigger1 = animelemtime(11) = 1
anim = 1621
id = 1621
sprpriority = 2
postype = p2
pos = 0, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];稲妻2
type = Explod
trigger1 = animelemtime(11) = 3
anim = 1623
id = 1623
sprpriority = 7
postype = p2
pos = -30, 7
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];稲妻2
type = Explod
trigger1 = animelemtime(11) = 4
anim = 1623
id = 1623
sprpriority = -1
postype = p2
pos = 30, -7
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
facing = -1
ownpal = 1

[State explod];稲妻2
type = Explod
trigger1 = animelemtime(11) = 5
anim = 1623
id = 1623
sprpriority = -1
postype = p2
pos = -30, -7
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];稲妻2
type = Explod
trigger1 = animelemtime(11) = 6
anim = 1623
id = 1623
sprpriority = 7
postype = p2
pos = 30, 7
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
facing = -1
ownpal = 1

[State explod];稲妻3
type = Explod
trigger1 = animelemtime(11) = 6
anim = 1621
id = 1621
sprpriority = 6
postype = p2
pos = -65, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];稲妻3
type = Explod
trigger1 = animelemtime(11) = 6
anim = 1622
id = 1622
sprpriority = 6
postype = p2
pos = 65, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

;---------------------[サウンド]
[State 810, Grab Sound];掴み
type = PlaySnd
trigger1 = animelem = 1
value = 1405, 0

[State 810, Grab Sound];立て
type = PlaySnd
trigger1 = animelem = 4
value = 1600, 2

[State 810, Grab Sound];電撃音
type = PlaySnd
trigger1 = animelem = 6
value = 1605, 2
channel = 6

[State 810, Grab Sound];出直せ
type = PlaySnd
trigger1 = animelem = 8
value = 1500, 6

[State 810, Grab Sound];フンッ
type = PlaySnd
trigger1 = animelem = 18
value = 210, 1

[State 810, Grab Sound];ぶぉん
type = PlaySnd
trigger1 = animelem = 9
value = 420, 3

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelemtime(11) = 1 || animelemtime(11) = 3 || animelemtime(11) = 6
value = 1605, 0

[State 810, ];ズンッ
type = PlaySnd
trigger1 = animelem = 11
value = 45, 1

[State 810, ];電撃音消去
type = stopSnd
trigger1 = animelemtime(11) = 3
channel = 6

[State 1000, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemtime(1) > 0 && AnimElemtime(3) < 0
edge = 60,0

[State 801, 2]
type = Targetlifeadd
trigger1 = var(1) != 3
trigger1 = animelem = 11
value = Ceil(-((65*Const(data.attack)/100)*fvar(0)))

[State 801, 2]
type = Targetlifeadd
trigger1 = var(1) = 3
trigger1 = animelem = 11
value = Ceil(-((80*Const(data.attack)/100)*fvar(0)))

;---------------------[向き]
[State 821,Turn]
type = Turn
trigger1 = AnimElem = 12

;---------------------[相手制御]
[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(3) < 0
pos = 52, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(3) >= 0 && AnimElemtime(4) < 0
pos = 49, -78

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(4) >= 0 && AnimElemtime(5) < 0
pos = 48, -125

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(5) >= 0 && AnimElemtime(6) < 0
pos = 41, -120

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(6) >= 0 && AnimElemtime(7) < 0
pos = 47, -99

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(7) >= 0 && AnimElemtime(8) < 0
pos = 50, -115

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(8) >= 0 && AnimElemtime(9) < 0
pos = 33, -119

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(9) >= 0 && AnimElemtime(10) < 0
pos = -6, -128

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(10) >= 0 && AnimElemtime(11) < 0
pos = -48, -84

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(11) = 0
pos = -55, 0

;--------------------------------
[State a];フラッシュ
type = EnvColor
trigger1 = animelemtime(11) = 3
persistent = 0
ignorehitpause = 1
time = 3
value = 255,255,255
under = 2

;---------------------[ヘルパー]
[state a];電撃エフェクト
type = Helper
triggerall = p2movetype = H
trigger1 = p2stateno = 1615
Trigger1 = AnimElemtime(11) = 0
id = 8501
name = "hit"
pos = 0,0
postype = p2
stateno = 8501
helpertype = normal
pausemovetime = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;------------------------------------叩きつけエフェクト
[state 4910, ]
type = Explod
triggerall = p2movetype = H
trigger1 = p2stateno = 1615
Trigger1 = AnimElemtime(11) = 0
anim = 7087
id = 7087
sprpriority = -1
postype = p2
pos = 0,0
bindtime = 1
under = 0
persistent=0
ownpal = 1

[state 4910, ]
type = Explod
triggerall = p2movetype = H
trigger1 = p2stateno = 1615
Trigger1 = AnimElemtime(11) = 0
anim = 7088
id = 7088
sprpriority = -2
postype = p2
pos = 0,0
bindtime = 1
under = 0
persistent=0
ownpal = 1

[state 4910, ]
type = Explod
triggerall = p2movetype = H
trigger1 = p2stateno = 1615
Trigger1 = AnimElemtime(11) = 0
anim = 7089
id = 7089
sprpriority = 4
postype = p2
pos = 0,0
bindtime = 1
under = 0
persistent=0
ownpal = 1

[State 1020, 4]
type = EnvShake
trigger1 = animelem = 11
time = 30
ampl = -8
freq = 150
phase = 85

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
Trigger1 = AnimElemtime(11) = 0
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 210, ]
type = CtrlSet
trigger1 = var(1) = 3
trigger1 = AnimElemtime(15) = 0
value = 1

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)雷鳴豪破投げ2 RB2・掴まれ
[Statedef 1615]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 2100, ]
type = null;SprPriority
trigger1 = animelemtime(7) = 0
value = 6

[State 1320, Shock]
type = PalFX
trigger1 = time > 57 && Time % 2
time = 1
add = 0,10,50
mul = 240,240,240
sinadd = 100,100,100,5
invertall = 1
color = 0

[State 200, 1];電撃やられ
type = palfx
triggerall = (time%4) = 0
trigger1 = time > 57
time = 4
sinadd = 180,120,120,3
add = 0,0,0
color = 0
invertall = 1
[State 200, 1]
type = palfx
trigger1 = (time%4) = 2
trigger1 = time > 57
time = 1
add = 127,127,127

;---------------------[演出]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1615

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------[向き]
[State 821,Turn]
type = null;Turn
trigger1 = AnimElem = 11

[State 821,velset]
type = null;velset
;triggerall = !(Pos Y >= 0)
trigger1 = animelemtime(11) = 1
x = 3.8
y = -7.5

[State 2100, 移動]
type = null;Veladd
trigger1 = animelemtime(11) >= 1
y = .6

;---------------------[ステート移行]
[State 821, 3] 
type = Changestate
;trigger1 = Vel Y > 0
;trigger1 = Pos Y >= 0
;trigger1 = animelemtime(12) >= 0
trigger1 = animtime = 0
value = 1606




;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;超必殺技・ギース
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; レイジングストームKOF96 発動〜溜め
[Statedef 3000]
type    = S
movetype= A
physics = S
velset = 0,0
juggle = 0
poweradd= 0
anim = 3000
ctrl = 0
sprpriority = 2

[State a];ゲージ
type = poweradd
triggerall = var(20) = 0
trigger1 = time = 0
value = -1000

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = !var(20) > 0
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = !var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
value = -1000

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[state a]
type = varset
trigger1 = time = 5
v = 20
value = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6000
sprpriority = -9999
postype = p1
pos = 10,-81
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6001
sprpriority = 8
postype = p1
pos = 10,-81
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999
sprpriority = 5

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3000,0

;--------------------------------
[State 3000, 無敵]
type = NotHitBy
trigger1 = var(1) != 3
trigger1 = time = 0
value = SCA
time = 37
[State 3000, 無敵]
type = NotHitBy
trigger1 = var(1) = 3
trigger1 = time <= 50
value = SCA
time = 16
[State 3000, 無敵]
type = NotHitBy
trigger1 = var(1) = 3
trigger1 = time > 50
value = SCA

[State 3000, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 10,0

[State 3000, 残像]
type = AfterImage
trigger1 = time = 0
time = 1

;--------------------------------[音声用]
[State 180 ,VarRandom]
type = VarRandom
trigger1 = time = 0
v = 3
range = 0,1

[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = var(3) = 0
trigger1 = AnimElem = 2
value = s2000,2

[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = var(3) = 1
trigger1 = AnimElem = 2
value = s2000,4

;--------------------------------[溜めレベル]
;LV1条件
[state 1]
type = varset
trigger1 = time=[0,65]
var(5) = 0

;LV2条件
[state 1]
type = varset
trigger1 = time=[66,91]
var(5) = 1

;LV3条件
[state 1]
type = varset
trigger1 = time=[92,119]
var(5) = 2

;LV4条件
[state 1]
type = varset
trigger1 = animtime = 0
var(5) = 3

;--------------------------------[ボタン判別]
[state 1]
type = varset
trigger1 = time = 0
var(6) = 0

[state 1]
type = varset
trigger1 = AnimElemtime(2) >= 22
trigger1 = command = "おしっぱなしx"
var(6) = 1

[state 1]
type = varset
trigger1 = AnimElemtime(2) >= 22
trigger1 = command = "おしっぱなしa"
var(6) = 2

[State 2200, 18]
type = ChangeState
triggerall = AnimElemtime(2) >= 23
triggerall = !var(59)
triggerall = Anim = 3000
trigger1 = var(6) = 1
trigger1 = (command != "おしっぱなしx")
trigger2 = var(6) = 2
trigger2 = (command != "おしっぱなしa")
trigger3 = var(6) = 0
trigger4 = animtime = 0
value = 3001

;---------------------------------------------------------------------------
; レイジングストームKOF96 攻撃
[Statedef 3001]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = ifelse(var(1)=3,3003,3001)
ctrl     = 0
sprpriority = 2

[state 1]
type = varset
trigger1 = time = 0
var(6) = 0

[state 1]
type = varset
trigger1 = AnimElem = 6
var(3) = 0

[State 52, 1]
type = Width
trigger1 = 1
edge = 10,0

[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = var(3) = 0
trigger1 = AnimElem = 5
value = s2000,3

[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = var(3) = 1
trigger1 = AnimElem = 5
value = s2000,5

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 5
value = s2005,0

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 4
anim = 3002
persistent = 0
postype = P1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 5
anim = 3005
persistent = 0
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 5
anim = 3006
persistent = 0
postype = P1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

;--------------------------------
[State 2000, 振動]
type = EnvShake
trigger1 = animelem = 5
time = 42
ampl = -5
freq = 99
phase = 99

[State 2000, フラッシュ]
type = EnvColor
trigger1 = animelem = 6
trigger2 = animelem = 15
time = 2
value = 255,255,255
under = 1
ignorehitpause = 1

[State a]
type = EnvColor
trigger1 = (ProjHitTime(3007)=1)
trigger1 = anim = 3001
;persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;---------------------[溜めレベル1(タメ無し)]
[State 1000, Proj]
type = Projectile
triggerall = var(5) = [0,2]
trigger1 = animelemtime(5)=0
projID = 3007					; ProjID
projanim = 3007					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 35
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 210, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 4
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 1000, Proj]
type = Projectile
triggerall = var(5) = 3
trigger1 = animelemtime(5)=0
projID = 3007					; ProjID
projanim = 3007					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 35
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 210, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = none
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 4
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

;---------------------[溜めレベル2(ちょいタメ)]
[State 1000, Proj]
type = Projectile
triggerall = var(5) = [1,2]
trigger1 = animelemtime(5)=2
projID = 3007					; ProjID
projanim = 3007					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 33
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 100, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 4
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 1000, Proj]
type = Projectile
triggerall = var(5) = 3
trigger1 = animelemtime(5)=2
projID = 3007					; ProjID
projanim = 3007					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 33
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 100, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = none
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 4
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

;---------------------[溜めレベル2(ちょいタメ)]
[State 1000, Proj]
type = Projectile
triggerall = var(5) = [1,2]
trigger1 = animelemtime(5)=4
projID = 3007					; ProjID
projanim = 3007					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 31
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 50, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 4
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 1000, Proj]
type = Projectile
triggerall = var(5) = 3
trigger1 = animelemtime(5)=2
projID = 3007					; ProjID
projanim = 3007					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 33
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 50, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = none
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 4
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

;---------------------[溜めレベル3(だいぶタメ)]
[State 1000, Proj]
type = Projectile
triggerall = var(5) = 2
trigger1 = animelemtime(6)=0
projID = 3007					; ProjID
projanim = 3007					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 29
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 25, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 4
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 1000, Proj]
type = Projectile
triggerall = var(5) = 3
trigger1 = animelemtime(6)=0
projID = 3007					; ProjID
projanim = 3007					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 29
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 25, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = none
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 4
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

;---------------------[溜めレベル3(だいぶタメ)]
[State 1000, Proj]
type = Projectile
triggerall = var(5) = 2
trigger1 = animelemtime(6)=2
projID = 3007					; ProjID
projanim = 3007					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 27
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 13, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 4
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 1000, Proj]
type = Projectile
triggerall = var(5) = 3
trigger1 = animelemtime(6)=0
projID = 3007					; ProjID
projanim = 3007					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 29
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 13, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = none
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 4
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

;---------------------[溜めレベル4(タメMAX)]
[State 1000, Proj]
type = Projectile
triggerall = var(5) >= 3
trigger1 = animelemtime(7)=0
projID = 3007					; ProjID
projanim = 3007					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 25
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 7, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 4
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 20] ;地上ヒット時の相手動作
type = targetState
trigger1 = (ProjHitTime(3007)=1)
trigger1 = anim = 3001 || anim = 3003
value = 3060
ctrl = 0
IgnoreHitPause = 1
;Persistent     = 0

;叩きつけエフェクト
[State 1000, ヘルパーを出す]
type = Helper
trigger1 = (ProjHitTime(3007)=1)
trigger1 = anim = 3001 || anim = 3003
name = "hit"
stateno = 4920
ID = 4920
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = (ProjHitTime(3007)=1)
trigger1 = anim = 3001 || anim = 3003
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1000, ]
type = Varset
trigger1 = animelem = 20
var(5) = 0

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 20
Movetype = I

[State 1640, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; レイジングストームKOF98UM
[Statedef 3010]
type    = S
movetype= A
physics = S
velset = 0,0
juggle = 0
poweradd= 0
anim = ifelse(var(1)=3,3015,3010)
ctrl = 0
sprpriority = 2

[State a];ゲージ
type = poweradd
triggerall = var(20) = 0
trigger1 = time = 0
value = -1000

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = !var(20) > 0
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = !var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
value = -1000

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[state a]
type = varset
trigger1 = time = 5
v = 20
value = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6000
sprpriority = -9999
postype = p1
pos = -10,-129
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6001
sprpriority = 8
postype = p1
pos = -10,-129
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999
sprpriority = 5

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3000,0

;--------------------------------
[State 3000, 無敵]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 38;29

[State 3000, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 10,0

[State 3000, 残像]
type = AfterImage
trigger1 = time = 0
time = 1

;--------------------------------[音声用]
[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 2
value = s2000,0

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 9
value = s2005,0

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 7
anim = 3011
persistent = 0
postype = P1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
pausemovetime = 2

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 9
anim = 3012
persistent = 0
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 9
anim = 3013
persistent = 0
postype = P1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

;--------------------------------
[State 2000, 振動]
type = EnvShake
trigger1 = animelem = 9
time = 42
ampl = -5
freq = 99
phase = 99

[State 2000, フラッシュ]
type = EnvColor
trigger1 = animelem = 12
trigger2 = animelem = 24
time = 2
value = 255,255,255
under = 1
ignorehitpause = 1

[State a]
type = EnvColor
trigger1 = (ProjHitTime(3007)=1)
;persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;---------------------[攻撃]
[State 1000, Proj]
type = Projectile
trigger1 = var(1) != 3
trigger1 = animelemtime(10)=2
projID = 3007					; ProjID
projanim = 3014					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 33
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 215, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 1000, Proj]
type = Projectile
trigger1 = var(1) = 3
trigger1 = animelemtime(10)=2
projID = 3007					; ProjID
projanim = 3014					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 33
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 215, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAFLD
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 20] ;地上ヒット時の相手動作
type = targetState
trigger1 = (ProjHitTime(3007)=1)
value = 3060
ctrl = 0
IgnoreHitPause = 1
;Persistent     = 0

;叩きつけエフェクト
[State 1000, ヘルパーを出す]
type = Helper
trigger1 = (ProjHitTime(3007)=1)
name = "hit"
stateno = 4920
ID = 4920
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = (ProjHitTime(3007)=1)
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 31
Movetype = I

[State 1640, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; レイジングストームRB
[Statedef 3020]
type    = S
movetype= A
physics = S
velset = 0,0
juggle = 0
poweradd= 0
anim = ifelse(var(1)=3,3024,3020)
ctrl = 0
sprpriority = 2

[State a];ゲージ
type = poweradd
triggerall = var(20) = 0
trigger1 = time = 0
value = -1000

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = !var(20) > 0
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = !var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
value = -1000

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[state a]
type = varset
trigger1 = time = 5
v = 20
value = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6000
sprpriority = -9999
postype = p1
pos = -10,-129
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6001
sprpriority = 8
postype = p1
pos = -10,-129
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999
sprpriority = 5

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3000,0

;--------------------------------
[State 3000, 無敵]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 38;29

[State 3000, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 10,0

[State 3000, 残像]
type = AfterImage
trigger1 = time = 0
time = 1

;--------------------------------[音声用]
[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 2
value = s2000,0

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 9
value = s2005,0

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 7
anim = 3011
persistent = 0
postype = P1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
pausemovetime = 3

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 9
anim = 3021
persistent = 0
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 9
anim = 3022
persistent = 0
postype = P1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

;--------------------------------
[State 2000, 振動]
type = EnvShake
trigger1 = animelem = 9
time = 42
ampl = -5
freq = 99
phase = 99

[State 2000, フラッシュ]
type = EnvColor
trigger1 = animelem = 12
trigger2 = animelem = 24
time = 2
value = 255,255,255
under = 1
ignorehitpause = 1

[State a]
type = EnvColor
trigger1 = (ProjHitTime(3007)=1)
;persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;---------------------[攻撃]
[State 1000, Proj]
type = Projectile
trigger1 = var(1) != 3
trigger1 = animelemtime(10)=2
projID = 3007					; ProjID
projanim = 3023					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 35
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 230, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s405, 10
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 1000, Proj]
type = Projectile
trigger1 = var(1) = 3
trigger1 = animelemtime(10)=2
projID = 3007					; ProjID
projanim = 3023					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 35
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 230, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAFLD
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s405, 10
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 20] ;地上ヒット時の相手動作
type = targetState
trigger1 = (ProjHitTime(3007)=1)
value = 3060
ctrl = 0
IgnoreHitPause = 1
;Persistent     = 0

;叩きつけエフェクト
[State 1000, ヘルパーを出す]
type = Helper
trigger1 = (ProjHitTime(3007)=1)
name = "hit"
stateno = 4920
ID = 4920
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = (ProjHitTime(3007)=1)
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 31
Movetype = I

[State 1640, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; レイジングストームRBSP
[Statedef 3030]
type    = S
movetype= A
physics = S
velset = 0,0
juggle = 0
poweradd= 0
anim = ifelse(var(1)=3,3034,3030)
ctrl = 0
sprpriority = 2

[State a];ゲージ
type = poweradd
triggerall = var(20) = 0
trigger1 = time = 0
value = -1000

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = !var(20) > 0
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = !var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
value = -1000

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[state a]
type = varset
trigger1 = time = 5
v = 20
value = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6000
sprpriority = -9999
postype = p1
pos = -10,-129
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6001
sprpriority = 8
postype = p1
pos = -10,-129
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999
sprpriority = 5

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3000,0

;--------------------------------
[State 3000, 無敵]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 38;29

[State 3000, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 10,0

[State 3000, 残像]
type = AfterImage
trigger1 = time = 0
time = 1

;--------------------------------[音声用]
[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 2
value = s2000,1

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 11
value = s2005,1

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 7
anim = 3031
persistent = 0
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
pausemovetime = 6

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 13
anim = 3032
persistent = 0
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

;--------------------------------
[State 2000, 振動]
type = EnvShake
trigger1 = animelem = 11
time = 62
ampl = -5
freq = 99
phase = 99

[State 2000, フラッシュ]
type = EnvColor
trigger1 = animelem = 15
trigger2 = animelem = 32
time = 2
value = 255,255,255
under = 1
ignorehitpause = 1

[State a]
type = EnvColor
trigger1 = (ProjHitTime(3007)=1)
;persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;---------------------[攻撃]
[State 1000, Proj]
type = Projectile
trigger1 = var(1) != 3
trigger1 = animelemtime(13)=0
projID = 3007					; ProjID
projanim = 3033					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 55
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 235, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 72, -95
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 1000, Proj]
type = Projectile
trigger1 = var(1) = 3
trigger1 = animelemtime(13)=0
projID = 3007					; ProjID
projanim = 3033					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 55
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 235, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAFLD
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 72, -95
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(17)=0 || animelemtime(21)=0 || animelemtime(25)=0 || animelemtime(29)=0
trigger2 = animelemtime(33)=0 || animelemtime(37)=0
projID = 3007					; ProjID
projanim = 3033					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 8
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = ifelse(var(1)=3,235,30), 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MA
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 72, -95
hitsound = s400, 4
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 20] ;地上ヒット時の相手動作
type = targetState
trigger1 = (ProjHitTime(3007)=1)
value = 3060
ctrl = 0
IgnoreHitPause = 1
;Persistent     = 0

;叩きつけエフェクト
[State 1000, ヘルパーを出す]
type = Helper
trigger1 = (ProjHitTime(3007)=1)
name = "hit"
stateno = 4920
ID = 4920
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = (ProjHitTime(3007)=1)
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 43
Movetype = I

[State 1640, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;相手 レイジングやられ1
[Statedef 3060]
type    = A
movetype= H
physics = N
;velset = -3,10.5
velset = 0,0
sprpriority = 1

[state a]
type = null;turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3060

[State 820, 1]
type = PosFreeze
trigger1 = Time >= 0
trigger1 = Time < 10
value = 1

[state a]
type = velset
trigger1 = time = 10
x = -2.9
y = -13.3

[State 2100, 移動]
type = Veladd
Trigger1 = time != 0
y = .55

[State 1];何故かバグるので空中通常技と奈落だけ当たらない状態を作る。原因不明…
type = null;nothitby
trigger1 = enemynear,statetype = A
trigger1 = animElemTime(5) >= 0
trigger1 = pos Y >= -18
value = ,NA

[State 1091, ground state]
type = null;stateTypeSet
trigger1 = animElemTime(5) >= 0
trigger1 = pos Y >= -17
stateType = S
persistent = 0

[State 1091, ground state]
type = null;hitFallSet
trigger1 = animElemTime(5) >= 0
trigger1 = pos Y >= -17
value = 0
persistent = 0

[State 820, 1]
type = Changestate
trigger1 = Pos Y >= -1
trigger1 = Vel Y > 0
trigger1 = animelemtime(3) >= 0
value = 3061

;---------------------------------------------------------------------------
;相手 レイジングやられ2
[Statedef 3061]
type    = L
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 281

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = velset
trigger1 = AnimElem = 2
x = -2.1
y = -4.0

[state a]
type = velset
trigger1 = prevstateno = 1305
trigger1 = AnimElem = 2
x = 2.1
y = -4.0

[state a]
type = envshake
trigger1 = Time = 0
time = 10
freq = 60
ampl = -4

[State 2100, 移動]
type = Veladd
trigger1 = AnimElemtime(2) >= 0
y = .33

;---------------------[エフェクト]
[State 1300, エフェクト表示]
type = Explod
trigger1 = animelem = 1
anim = F61
pos = 10, -10
postype = p1
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
supermovetime = 12

[State 820, 1]
type = Changestate
trigger1 = AnimElemtime(3) >= 0
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 287

;---------------------------------------------------------------------------
;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
; デッドリーレイブKOF弱
[Statedef 3100]
type    = S
movetype= A
physics = S
velset = 0,0
juggle = 0
poweradd= 0
anim = ifelse(var(1)=3,3102,3100)
ctrl = 0
sprpriority = -2

[State a];ゲージ
type = poweradd
triggerall = var(20) = 0
trigger1 = time = 0
value = -1000

[State 1120, 全身無敵]
type = NotHitBy
triggerall = var(1) != 3
trigger1 = time = 0
value = SCA
time = 29

[State 1120, 全身無敵]
type = NotHitBy
triggerall = var(1) = 3
trigger1 = time = 0
value = SCA
time = 39

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = !var(20) > 0
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = !var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
value = -1000

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[state a]
type = varset
trigger1 = time = 5
v = 20
value = 0

;--------------------------------
[State 3000, Pos]
type = PosSet
trigger1 = time = 0
y = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6000
sprpriority = -9999
postype = p1
pos = -12,-78
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6001
sprpriority = 3
postype = p1
pos = -12,-78
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

;---------------------[効果音]
[State 2000, 6];
type = PlaySnd
trigger1 = time = 3
value = 3000,0

[State 2000, 6];デッドリーレイブ！
type = PlaySnd
trigger1 = time = 2
value = 2100,random%2

[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 5
value = 1305,1

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 2
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 15,0

;--------------------------------
[State 250, StateTypeSet];状態：空中に
type = StateTypeSet
trigger1 = animelem = 5
StateType = A
Physics = N

[State 3000, Vel]
type = VelSet
trigger1 = animelem = 5
x = 11.
y = -1.

[State 3000, Vel]
type = VelAdd
trigger1 = animelemtime(5)>=0
y = .12

;--------------------------------
[State a]
type = EnvColor
triggerall = movehit
trigger1 = animelemtime(5) >= 0
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;--------------------------------
[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 5
attr = A, HA
animtype  = hard
damage    = 20, 0
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 1,1
sparkxy = -10,-56
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400,1
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -1, 0
guard.ctrltime = 28
air.velocity = -1, 0
guard.velocity = -11.2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p1facing = 1
p2facing = 1
forcestand = 1    ;強制立たせ
;numhits = 0
id = 3100
;nochainid = 290, 1300
kill = 0

;-------------------------------------
[State 20] ;ヒット時の相手動作
type = targetState
trigger1 = movehit && NumTarget(3100)
value = 3130
ctrl = 0
IgnoreHitPause = 1
Persistent = 0

[State ,ChangeState];ヒット時のこちらの動作
type = ChangeState
trigger1 = AnimElemtime(5) >= 0
trigger1 = numtarget(3100)
trigger1 = target(3100),stateno = 3130
value = 3110
ignorehitpause = 1

[State 3000, ステート変更];終了
type = ChangeState
trigger1 = Animelemtime(7)>=0
trigger1 = Vel Y > 0 && Pos Y >= 0
trigger2 = moveguarded
value = 3105

;---------------------------------------------------------------------------
; デッドリーレイブKOF強
[Statedef 3101]
type    = S
movetype= A
physics = S
velset = 0,0
juggle = 0
poweradd= 0
anim = ifelse(var(1)=3,3103,3101)
ctrl = 0
sprpriority = -2

[State a];ゲージ
type = poweradd
triggerall = var(20) = 0
trigger1 = time = 0
value = -1000

[State 1120, 全身無敵]
type = NotHitBy
triggerall = var(1) != 3
trigger1 = time = 0
value = SCA
time = 40

[State 1120, 全身無敵]
type = NotHitBy
triggerall = var(1) = 3
trigger1 = time = 0
value = SCA
time = 50

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = !var(20) > 0
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = !var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
value = -1000

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[state a]
type = varset
trigger1 = time = 5
v = 20
value = 0

;--------------------------------
[State 3000, Pos]
type = PosSet
trigger1 = time = 0
y = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6000
sprpriority = -9999
postype = p1
pos = -12,-78
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6001
sprpriority = 3
postype = p1
pos = -12,-78
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

;---------------------[効果音]
[State 2000, 6];
type = PlaySnd
trigger1 = time = 3
value = 3000,0

[State 2000, 6];デッドリーレイブ！
type = PlaySnd
trigger1 = time = 2
value = 2100,random%2

[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 5
value = 1305,1

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 2
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 15,0

;--------------------------------
[State 250, StateTypeSet];状態：空中に
type = StateTypeSet
trigger1 = animelem = 5
StateType = A
Physics = N

[State 3000, Vel]
type = VelSet
trigger1 = animelem = 5
x = 11.3
y = -1.3

[State 3000, Vel]
type = VelAdd
trigger1 = animelemtime(5)>=0
y = .11

;--------------------------------
[State a]
type = EnvColor
triggerall = movehit
trigger1 = animelemtime(5) >= 0
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;--------------------------------
[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 5
attr = A, HA
animtype  = hard
damage    = 20, 0
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 1,1
sparkxy = -10,-56
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400,1
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -1, 0
guard.ctrltime = 28
air.velocity = -1, 0
guard.velocity = -11.2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p1facing = 1
p2facing = 1
forcestand = 1    ;強制立たせ
;numhits = 0
id = 3100
;nochainid = 290, 1300
kill = 0

;-------------------------------------
[State 20] ;ヒット時の相手動作
type = targetState
trigger1 = movehit && NumTarget(3100)
value = 3130
ctrl = 0
IgnoreHitPause = 1
Persistent = 0

[State ,ChangeState];ヒット時のこちらの動作
type = ChangeState
trigger1 = AnimElemtime(5) >= 0
trigger1 = numtarget(3100)
trigger1 = target(3100),stateno = 3130
value = 3110
ignorehitpause = 1

[State 3000, ステート変更];終了
type = ChangeState
trigger1 = Animelemtime(7)>=0
trigger1 = Vel Y > 0 && Pos Y >= 0
trigger2 = moveguarded
value = 3105

;----------------------------------------------------------------------------
;デッドリーレイブKOF(乱舞)
[Statedef 3110]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
anim = 3110
ctrl = 0
sprpriority = 2

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelemtime(39) < 0
edge = 50,0

[State 1120, PlayerPush]
type = PlayerPush
trigger1 = animelemtime(43) < 0
value = 0

[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 1
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 43
time = 0

;-------------------------------------
[State 3000, Vel]
type = VelSet
trigger1 = animelemtime(1) >= 0 && animelemtime(36) < 0
x = 0.8

[State 3000, Vel]
type = VelSet
trigger1 = animelemtime(36) = 0
x = 0

[State 3000, Vel]
type = VelSet
trigger1 = animelemtime(40) = 0; && animelemtime(41) < 2
x = -8.5

[State 1000, Pos]
type = PosSet
trigger1 = Time = 0
y = 0

;--------------------------------
[State 250, StateTypeSet];摩擦
type = StateTypeSet
trigger1 = animelemtime(40) = 0
Physics = S

;-------------------------------------
[State 1000, TargetBind]
type = TargetBind
trigger1 = animelemtime(39)<0
pos = 60,0

;------------------------------------
[State 1000, Explod]
type = Explod
Trigger1 = animelem = 36
anim = 3120
ID = 3120
postype = p1
pos = 0,0
facing = 1
sprpriority = 3       ; 表示優先度
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1000, Explod]
type = Explod
Trigger1 = animelem = 40
anim = 3123
ID = 3123
postype = p1
pos = 30,0
facing = 1
sprpriority = 4       ; 表示優先度
bindtime = 10         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1000, Explod]
type = Explod
Trigger1 = animelem = 40
anim = 3122
ID = 3122
postype = p1
pos = -10,0
facing = 1
sprpriority = 5       ; 表示優先度
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1000, Explod]
type = Explod
Trigger1 = animelem = 40
anim = 3121
ID = 3121
postype = p1
pos = 0,0
facing = 1
sprpriority = 6       ; 表示優先度
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

;------------------------------------
[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 11
trigger3 = animelem = 14
trigger4 = animelem = 19
trigger5 = animelem = 23
trigger6 = animelem = 26
trigger7 = animelem = 33
value = 300,1

[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 40
;value = 250,1
value = 420,9

[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 40
value = 2100,3

[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 40
value = 2105,1

;------------------------------------
[State 1000, EnvShake]
type = EnvShake
trigger1 = animelem = 4
trigger2 = animelem = 11
trigger3 = animelem = 14
trigger4 = animelem = 19
trigger5 = animelem = 23
trigger6 = animelem = 26
trigger7 = animelem = 33
time = 5
ampl = 6
freq = 40
ignorehitpause = 1 

;------------------------------------
[State a]
type = EnvColor
;triggerall = movehit
trigger1 = animelemtime(4) = 1
trigger2 = animelemtime(11) = 1
trigger3 = animelemtime(14) = 1
trigger4 = animelemtime(19) = 1
trigger5 = animelemtime(23) = 1
trigger6 = animelemtime(26) = 1
trigger7 = animelemtime(33) = 1
trigger8 = animelemtime(40) = 1
persistent = 1
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;------------------------------------
[State 1000, ヒット定義];1 下段のけぞり
type = HitDef
trigger1 = animelem = 4
attr = S, HA
animtype  = hard
damage    = 10, 5
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 3,2
guard.pausetime = 1,1
sparkxy = -20,-62
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400, 1
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -5, 0
guard.ctrltime = 28
air.velocity = 0, 0
air.hittime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p2Stateno = 3135
forcestand = 1    ;強制立たせ
id = 3000
kill = 0

[State 1000, ヒット定義];2 上段のけぞり
type = HitDef
trigger1 = animelem = 11
attr = S, HA
animtype  = hard
damage    = 20, 5
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 3,2
guard.pausetime = 1,1
sparkxy = -10,-90
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400, 1
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -5, 0
guard.ctrltime = 28
air.velocity = 0, 0
air.hittime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p2Stateno = 3130
forcestand = 1    ;強制立たせ
id = 3000
kill = 0

[State 1000, ヒット定義];3 上段のけぞり
type = HitDef
trigger1 = animelem = 14
attr = S, HA
animtype  = hard
damage    = 20, 5
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 3,2
guard.pausetime = 1,1
sparkxy = -20,-90
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400, 1
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -5, 0
guard.ctrltime = 28
air.velocity = 0, 0
air.hittime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p2Stateno = 3130
forcestand = 1    ;強制立たせ
id = 3000
kill = 0

[State 1000, ヒット定義];4 下段のけぞり
type = HitDef
trigger1 = animelem = 19
attr = S, HA
animtype  = hard
damage    = 20, 5
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 3,2
guard.pausetime = 1,1
sparkxy = -25,-22
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400, 3
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -5, 0
guard.ctrltime = 28
air.velocity = 0, 0
air.hittime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p2Stateno = 3135
forcestand = 1    ;強制立たせ
id = 3000
kill = 0

[State 1000, ヒット定義];5 上段のけぞり
type = HitDef
trigger1 = animelem = 23
attr = S, HA
animtype  = hard
damage    = 20, 5
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 3,2
guard.pausetime = 1,1
sparkxy = -20,-66
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400, 1
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 25
ground.velocity = -2.5, 0
guard.ctrltime = 28
air.velocity = 0, 0
air.hittime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p2Stateno = 3130
forcestand = 1    ;強制立たせ
id = 3000
kill = 0

[State 1000, ヒット定義];6 下段のけぞり
type = HitDef
trigger1 = animelem = 26
attr = S, HA
animtype  = hard
damage    = 20, 5
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 3,2
guard.pausetime = 1,1
sparkxy = -25,-57
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400, 3
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -5, 0
guard.ctrltime = 28
air.velocity = 0, 0
air.hittime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p2Stateno = 3135
forcestand = 1    ;強制立たせ
id = 3000
kill = 0

[State 1000, ヒット定義];7 下段のけぞり
type = HitDef
trigger1 = animelem = 33
attr = S, HA
animtype  = hard
damage    = 20, 5
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 3,2
guard.pausetime = 1,1
sparkxy = -24,-67
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400, 1
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -5, 0
guard.ctrltime = 28
air.velocity = 0, 0
air.hittime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p2Stateno = 3135
forcestand = 1    ;強制立たせ
id = 3000
kill = 0

[State 210, 2];8 フィニッシュ
type = HitDef
trigger1 = animelemtime(40) = 0
attr = S, SA
animtype  = digup
damage    = 80,10
priority = 5, Hit
getpower = 0,0
guardflag = M
pausetime = 3,10
sparkno = s7003
sparkxy = 0,-68
hitsound   = s400,5
guardsound = s120,1
guard.sparkno = s7011
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -8,-9
air.velocity = -8,-9
yaccel = .55
ID = 1360
guard.hittime = 17
forcestand = 1
fall = 1
fall.recover = 0
guard.velocity = -11.9
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall.recovertime = 99999
palfx.time = 70
palfx.add = 30,-50,-120
palfx.sinadd = 65,40,40,10
palfx.color = 0
palfx.invertall = 1
envshake.time = 30
envshake.freq = 90
envshake.ampl = 4;-3
envshake.phase = -2
;envshake.time = 14
;envshake.ampl = 4
;envshake.freq = 90

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = animelemtime(40) = 1
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

;燃え小エフェクト 赤
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = animelemtime(40) >= 0
trigger1 = movehit = 1
name = "hit"
stateno = 4915
ID = 4915
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1

;---------------------[ステート移行]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; デッドリーレイブKOFヒットせず
[Statedef 3105]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 9,0
anim     = ifelse(var(1)=3,3106,3105)
ctrl     = 0
sprpriority = 2

[State 1311, Pos]
type = Posset
trigger1 = time = 0
y = 0

[State 1311, Pos]
type = Velset
trigger1 = time = 0
y = 0

[State a];すざー
type = PlaySnd
trigger1 = animelem = 1
value = 301, 0

[State 2100, 残像]
type = AfterImage
trigger1 = animelemtime(3) = 3
time = 0

;---------------------[ステート移行]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; (相手)ロック技上段やられ
[Statedef 3130]
type    = S
movetype= H
physics = N
;velset = 0,0
;facep2 = 1

;---------------------------------------------
[State 1050, SelfState];Helperは返却
type = SelfState
trigger1 = ishelper
value = PrevStateNo
;---------------------------------------------

[State 1000, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 3130

[State 1000, Pos]
type = VelSet
trigger1 = time = 0
y = 0

[State 1000, Pos]
type = PosSet
trigger1 = time = 0
y = 0

[State 1120, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 3000, SelfState]
type = SelfState
trigger1 = time = 50
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; (相手)ロック技下段やられ
[Statedef 3135]
type    = S
movetype= H
physics = N
;velset = 0,0
;facep2 = 1

;---------------------------------------------
[State 1050, SelfState];Helperは返却
type = SelfState
trigger1 = ishelper
value = PrevStateNo
;---------------------------------------------

[State 1000, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 3135

[State 1000, Pos]
type = VelSet
trigger1 = time = 0
y = 0

[State 1000, Pos]
type = PosSet
trigger1 = time = 0
y = 0

[State 1120, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 3000, SelfState]
type = SelfState
trigger1 = time = 50
value = 0
ctrl = 1

;===========================================================================
; 羅生門
[Statedef 3200]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = ifelse(var(1)=3,3201,3200)
ctrl     = 0
sprpriority = 1
facep2 = 1

;---------------------[ゲージ]
[State a];ゲージ
type = poweradd
triggerall = var(20) = 0
trigger1 = time = 0
value = -1000

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = !var(20) > 0
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = !var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
value = -1000

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 291 || prevstateno = 299 || (prevstateno = 270 && var(6) = 1)
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[state a]
type = varset
trigger1 = time = 5
v = 20
value = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6000
sprpriority = -9999
postype = p1
pos = 10,-81
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6001
sprpriority = 8
postype = p1
pos = 10,-81
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999
sprpriority = 5

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3000,0

;--------------------------------
[State 3000, 無敵]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 29

[State 3000, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 10,0

[State 3000, 残像]
type = AfterImage
trigger1 = time = 0
time = 1

[State 2000, 6]
type = PlaySnd
trigger1 = animelem = 5
value = 420,7

[State 800, ヒット定義（投げ用）]
type = HitDef
triggerall = !(p2stateNo = [150,155]) && p2stateNo != 40
triggerall = !var(23)
trigger1 = var(24) != 1
trigger1 = animelem = 1
attr = S, HT
hitflag = M
priority = 1, Miss
sparkno = -1
p1sprpriority = 1
p2sprpriority = 0
p1facing = 1
p2facing = 1
p1stateno = 3205
p2stateno = 3220
guard.dist = 0
fall = 1
numhits = 0

[State 1000, MoveType]
type = StateTypeSet
trigger1 = AnimElem = 8
MoveType = I

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 羅生門 成功
[Statedef 3205]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 3205
ctrl     = 0
sprpriority = 5

[state a]
type = varset
trigger1 = time = 0
v = 20
value = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 0
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 2
anim = 6000
sprpriority = -9999
postype = p1
pos = 10,-81
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 12
anim = 6001
sprpriority = 8
postype = p1
pos = 10,-81
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999
sprpriority = 5

[State 3040, 7]
type = EnvColor
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 0
value = 3000,0

[State 3000, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 50,0

[State 3000, 残像]
type = AfterImage
trigger1 = time = 0
time = 1

[State 3000, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------[カメラ]
[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 2000]
type = AssertSpecial
trigger1 = AnimElemtime(16) >= 0 && AnimElemtime(17) < 0
flag = NOBG
ignorehitpause = 1

[State 2000]
type = AssertSpecial
trigger1 = AnimElemtime(16) >= 0 && AnimElemtime(17) < 0
flag = NoFG
ignorehitpause = 1

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelemtime(3) = 10
time = 53
trans = none
timegap = 3
framegap = 3
length = 7
palbright = 20,20,20
palcontrast = 256,256,256
;palcontrast = 130,130,130
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;------------------------------------
[State a]
type = EnvColor
trigger1 = animelemtime(16) = 0
persistent = 1
ignorehitpause = 1
time = 25
value = 255,255,255
under = 2

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 2
value = s182,1

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 3
value = s105,1
volume = -250

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 3
value = s2205,0
volume = -250

[State 810, ];
type = PlaySnd
trigger1 = animelem = 6
value = s2205,1

[State 810, ];
type = PlaySnd
trigger1 = animelem = 15
value = s250,1

[State 810, ];
type = PlaySnd
trigger1 = animelem = 16
value = s2105,0

[State 810, ];
type = PlaySnd
trigger1 = animelem = 27
value = s201,0

[State 810, ];
type = PlaySnd
trigger1 = animelem = 28
value = s2205,2
volume = -250

[State 1402, HitAdd]
type = HitAdd
trigger1 = animelem = 16
value = 1

[State 801, 2]
type = Targetlifeadd
trigger1 = var(1) != 3
trigger1 = animelem = 16
value = Ceil(-((250*Const(data.attack)/100)*fvar(0)))

[State 801, 2]
type = Targetlifeadd
trigger1 = var(1) = 3
trigger1 = animelem = 16
value = Ceil(-((360*Const(data.attack)/100)*fvar(0)))

;---------------------[相手制御]
[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(3) < 0
pos = 42, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(16) = 0
pos = 62, -20

;羅生門相手ダウンエフェクト
[State 1000, ヘルパーを出す]
type = Helper
trigger1 = animelem = 16
name = "hit"
stateno = 4930
ID = 4930
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

;------------------------------------エフェクト
[state 4910, ]
type = Explod
trigger1 = animelemtime(1) = 1
anim = 3210
id = 3210
postype = p1
pos = 0,0
sprpriority = 6
bindtime = -1         ; -1: 永久固定
removetime = -1       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
pausemovetime = 9999

[state 4910, ]
type = Explod
trigger1 = animelem = 13
anim = 3211
id = 3211
postype = p1
pos = 0,0
sprpriority = 6
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[state 4910, ]
type = Explod
trigger1 = animelem = 16
anim = 3212
id = 3212
postype = p1
pos = 0,0
sprpriority = 6
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[state 4910, ]
type = Explod
trigger1 = facing = 1
trigger1 = animelem = 16
anim = 3215
id = 3215
postype = back
pos = 1,43
sprpriority = -2
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999
scale = 1.1,1.1
facing = 1

[state 4910, ]
type = Explod
trigger1 = facing = -1
trigger1 = animelem = 16
anim = 3216
id = 3216
postype = back
pos = -14,43
sprpriority = -2
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999
scale = 1.1,1.1
facing = -1

[state 4910, ]
type = Explod
trigger1 = animelem = 28
anim = 3213
id = 3213
postype = p1
pos = 0,0
sprpriority = 6
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1020, 4]
type = EnvShake
trigger1 = animelem = 16
time = 18
ampl = -5
freq = 95
phase = 95

[State 1001,]
type = RemoveExplod
trigger1 = AnimElem = 28
ID = 3210

;---------------------[ステート移行]
[State 821, 3] 
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)羅生門・掴まれ1
[Statedef 3220]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 2

;---------------------[演出]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3220

;---------------------[向き]
[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------[ステート移行]
[State 821, 3] 
type = Changestate
trigger1 = animtime = 0
value = 3221

[State 865, 5]
type = SelfState
trigger1 = time >= 15
value = 0

;---------------------------------------------------------------------------
;(ENEMY)羅生門・掴まれ2
[Statedef 3221]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 2

[State 2100, ]
type = null;SprPriority
trigger1 = animelemtime(7) = 0
value = 6

;---------------------[演出]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3221

;---------------------[移動]
[State 1033, 2]
type = VelSet
trigger1 = time = 6
;trigger1 = animelemtime(2) = 1
y = -13.3
;y = -18.5

[State 1033, 2]
type = VelAdd
trigger1 = animelemtime(2) >= 1
y = .32
;y = .45

;---------------------[カメラ]
[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------[ステート移行]
[State 821, 3] 
type = Changestate
trigger1 = animelemtime(2) >= 1
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -20
value = 3222

[State 865, 5]
type = SelfState
trigger1 = time >= 20
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5110

;---------------------------------------------------------------------------
;羅生門やられ3
[Statedef 3222]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 0

[state a]
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0

;---------------------------------------------
[state 1050, SelfState];Helperは返却
type = SelfState
trigger1 = ishelper
value = PrevStateNo
;---------------------------------------------

[State 820, 1]
type = PosFreeze
trigger1 = Time >= 0
trigger1 = Time < 26
value = 1

[State 1905, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3222

[State 1000, NotHitBy];無敵
type = NotHitBy
trigger1 = 1
value = SCA

[State 1905, VelSet]
type = VelSet
trigger1 = animelemtime(2) = 0
x = -16
y = 0

[State 1905, ScreenBound];画面固定
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1905, ChangeState]
type = null;ChangeState
triggerall = animelemtime(3)>=1
triggerall = prevstateno = 3720
trigger1 = backEdgebodydist <= 5
trigger2 = time >=100
value = 296

[State 1905, ChangeState]
type = ChangeState
triggerall = animelemtime(3)>=1
trigger1 = backEdgebodydist <= 5
trigger2 = time >=100
value = 3223

;---------------------------------------------------------------------------
;羅生門やられ4(壁バウンド)
[Statedef 3223]
type    = A
movetype= H
physics = N
velset = 0,0

[state a]
type = envshake
trigger1 = Time = 0
time = 10
freq = 60
ampl = -4

[State 1906, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 296

[State 1000, NotHitBy];無敵
type = NotHitBy
trigger1 = 1
value = SCA

[State 1906, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = F7,2

[State 1905, ScreenBound];画面固定
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 801, Explod]
type = Explod
trigger1 = Time = 0
anim = f72
ID = 3326
pos = -30, -50
postype = p1
facing = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1000, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 3
ampl = -8
freq = 95
phase = 95

[State 1905, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 3224

;---------------------------------------------------------------------------
;羅生門やられ5(跳ね返り)
[Statedef 3224]
type    = A
movetype= H
physics = N
velset = 3.4,-3.5

[State 1000, NotHitBy];無敵
type = NotHitBy
trigger1 = 1
value = SCA

[State 1907, ChangeAnim]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050

[State 1905, ScreenBound];画面固定
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1905, VelAdd]
type = VelAdd
Trigger1 = 1
y = .55

[State 1905, SelfState] 
type = Changestate
trigger1 = Pos Y >= 15 && Vel Y > 0
value = 3225

;---------------------------------------------------------------------------
;羅生門やられ6
[Statedef 3225]
type    = L
movetype= H
physics = N
velset = 0,0

sprpriority = 1
[State 700, 2];相手は無敵
type = NotHitBy
trigger1 = 1
value = SCA

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 281

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = velset
trigger1 = AnimElem = 2
x = 2.1
y = -3.0

[State 2100, 移動]
type = Veladd
trigger1 = AnimElemtime(2) >= 0
y = .33

[State 820, 1]
type = Changestate
trigger1 = AnimElemtime(3) >= 0
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 287

;===========================================================================
; 投げレイジング
[Statedef 3300]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = ifelse(var(1)=3,3303,3300)
ctrl     = 0
sprpriority = 1
facep2 = 1

;---------------------[ゲージ]
[State a];ゲージ
type = poweradd
triggerall = var(20) = 0
trigger1 = time = 0
value = -1000

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = !var(20) > 0
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = !var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
value = -1000

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 291 || prevstateno = 299 || (prevstateno = 270 && var(6) = 1)
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[state a]
type = varset
trigger1 = time = 5
v = 20
value = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6000
sprpriority = -9999
postype = p1
pos = 10,-81
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6001
sprpriority = 8
postype = p1
pos = 10,-81
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999
sprpriority = 5

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3000,0

;--------------------------------
[State 3000, 無敵]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 29

[State 3000, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 10,0

[State 3000, 残像]
type = AfterImage
trigger1 = time = 0
time = 1

[State 2000, 6]
type = PlaySnd
trigger1 = animelem = 5
value = 1400,2

[State 800, ヒット定義（投げ用）]
type = HitDef
triggerall = !(p2stateNo = [150,155]) && p2stateNo != 40
triggerall = !var(23)
trigger1 = var(24) != 1
trigger1 = animelem = 1
attr = S, HT
hitflag = M
priority = 1, Miss
sparkno = -1
p1sprpriority = 1
p2sprpriority = 0
p1facing = 1
p2facing = 1
p1stateno = 3301
p2stateno = 3310
guard.dist = 0
fall = 1
numhits = 0

[State 1000, MoveType]
type = StateTypeSet
trigger1 = AnimElem = 8
MoveType = I

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 投げレイジング 成功
[Statedef 3301]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 3301
ctrl     = 0
sprpriority = 5

[state a]
type = varset
trigger1 = time = 0
v = 20
value = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 0
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 2
anim = 6000
sprpriority = -9999
postype = p1
pos = 10,-81
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 12
anim = 6001
sprpriority = 8
postype = p1
pos = 10,-81
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999
sprpriority = 5

[State 3040, 7]
type = EnvColor
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 0
value = 3000,0

[State 3000, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 50,0

[State 3000, 残像]
type = AfterImage
trigger1 = time = 0
time = 1

[State 3000, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------[カメラ]
[State 1];カメラ固定
type = null;screenbound
trigger1 = 1
value = 1
movecamera = 1

;------------------------------------
[State a]
type = EnvColor
trigger1 = animelemtime(10) = 0
persistent = 1
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

[State 810, ];
type = PlaySnd
trigger1 = animelem = 2
value = s1405,0

[State 810, ];
type = PlaySnd
trigger1 = animelem = 8
value = s1500,1

[State 810, ];
type = PlaySnd
trigger1 = animelem = 10
value = s400,1

[State 810, ];
type = PlaySnd
trigger1 = animelem = 14
value = s2000,4

[State 1402, HitAdd]
type = HitAdd
trigger1 = animelem = 10
value = 1

[State 801, 2]
type = Targetlifeadd
trigger1 = animelem = 10
value = Ceil(-((30*Const(data.attack)/100)*fvar(0)))
kill = 0

;---------------------[相手制御]
[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(3) < 0
pos = 42, 0

;---------------------[移動]
[State 250, Vel]
type = VelSet
trigger1 = animelem = 16
y = -5.5

[State 250, Vel]
type = VelAdd
trigger1 = animelemtime(16) > 0
y = .45

[State 250, StateTypeSet];状態：空中に
type = StateTypeSet
trigger1 = animelem = 16
StateType = A
Physics = N

;---------------------[エフェクト]
[State explod];掴み
type = Explod
trigger1 = animelem = 2
anim = 7081
id = 7081
sprpriority = 2
postype = p1
pos = 52, -76
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];打撃
type = Explod
trigger1 = animelem = 10
anim = 7003
id = 7003
sprpriority = 2
postype = p1
pos = 52, -76
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State 1020, 4]
type = EnvShake
trigger1 = animelem = 10
time = 5
ampl = 6
freq = 40
ignorehitpause = 1 

;---------------------[ステート移行]
[State 250, ChangeState];着地
type = ChangeState
trigger1 = animelemtime(17) > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3302

;---------------------------------------------------------------------------
; 投げレイジング成功2
[Statedef 3302]
type    = S
movetype= A
physics = S
velset = 0,0
juggle = 0
poweradd= 0
anim = 3302
ctrl = 0
sprpriority = 2

[State 1311, Posset]
type = Posset
trigger1 = time = 0
y = 0

;--------------------------------
[State 3000, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3000, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 10,0

[State 3000, 残像]
type = AfterImage
trigger1 = time = 0
time = 1

;--------------------------------[音声用]
[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s2000,5

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 6
value = s2005,1

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 1
anim = 3305
persistent = 0
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
pausemovetime = 6

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 6
anim = 3306
persistent = 0
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

;--------------------------------
[State 2000, 振動]
type = EnvShake
trigger1 = animelem = 6
time = 62
ampl = -5
freq = 99
phase = 99

[State 2000, フラッシュ]
type = EnvColor
trigger1 = animelem = 8
trigger2 = animelem = 20;25
time = 2
value = 255,255,255
under = 1
ignorehitpause = 1

[State a]
type = EnvColor
trigger1 = (ProjHitTime(3007)=1)
trigger1 = anim = 3302
;persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;---------------------[攻撃]
[State 1000, Proj]
type = Projectile
triggerall = var(1) != 3
trigger1 = animelemtime(6)=0
projID = 3302					; ProjID
projanim = 3033					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 55
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 200, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 72, -95
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 1000, Proj]
type = Projectile
triggerall = var(1) != 3
trigger1 = animelemtime(10)=0 || animelemtime(14)=0 || animelemtime(18)=0; || animelemtime(22)=0
;trigger2 = animelemtime(26)=0 || animelemtime(30)=0
projID = 3302					; ProjID
projanim = 3033					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 8
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 200, 11
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MA
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 72, -95
hitsound = s400, 4
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 1000, Proj]
type = Projectile
triggerall = var(1) = 3
trigger1 = animelemtime(6)=0
projID = 3302					; ProjID
projanim = 3033					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 55
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 330, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 72, -95
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 1000, Proj]
type = Projectile
triggerall = var(1) = 3
trigger1 = animelemtime(10)=0 || animelemtime(14)=0 || animelemtime(18)=0; || animelemtime(22)=0
;trigger2 = animelemtime(26)=0 || animelemtime(30)=0
projID = 3302					; ProjID
projanim = 3033					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 8
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 330, 11
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MA
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 72, -95
hitsound = s400, 4
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 20] ;地上ヒット時の相手動作
type = targetState
trigger1 = (ProjHitTime(3302)=1)
trigger1 = anim = 3302
value = 3311
ctrl = 0
IgnoreHitPause = 1
;Persistent     = 0

;叩きつけエフェクト
[State 1000, ヘルパーを出す]
type = Helper
trigger1 = (ProjHitTime(3302)=1)
trigger1 = anim = 3302
name = "hit"
stateno = 4920
ID = 4920
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = (ProjHitTime(3302)=1)
trigger1 = anim = 3302
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 24
Movetype = I

[State 1640, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)投げレイジング・掴まれ1
[Statedef 3310]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 0

;---------------------[演出]
[State 700, 2];無敵の状態を作る
type = null;NotHitBy
trigger1 = 1
value = SCA

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3310

;---------------------[向き]
[State 1];カメラ固定
type = null;screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = velset
trigger1 = animelemtime(2) = 10
x = -0.7
y = -21.3

[State 2100, 移動]
type = Veladd
Trigger1 = animelemtime(2) >= 10
y = .55

;---------------------[ステート移行]
[State 821, 3] 
type = Changestate
trigger1 = animtime = 0
value = 3221

[State 820, 1]
type = Changestate
trigger1 = Pos Y >= -1
trigger1 = Vel Y > 0
trigger1 = animelemtime(3) >= 0
value = 3061

;---------------------------------------------------------------------------
;相手 投げレイジングやられ2
[Statedef 3311]
type    = A
movetype= H
physics = N
;velset = -3,10.5
velset = 0,0
sprpriority = 0

[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

[state a]
type = null;turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3060

[State 820, 1]
type = PosFreeze
trigger1 = Time >= 0
trigger1 = Time < 10
value = 1

[state a]
type = velset
trigger1 = time = 10
x = -2.9
y = -13.3

[State 2100, 移動]
type = Veladd
Trigger1 = time != 0
y = .55

[State 1];何故かバグるので空中通常技と奈落だけ当たらない状態を作る。原因不明…
type = null;nothitby
trigger1 = enemynear,statetype = A
trigger1 = animElemTime(5) >= 0
trigger1 = pos Y >= -18
value = ,NA

[State 1091, ground state]
type = null;stateTypeSet
trigger1 = animElemTime(5) >= 0
trigger1 = pos Y >= -17
stateType = S
persistent = 0

[State 1091, ground state]
type = null;hitFallSet
trigger1 = animElemTime(5) >= 0
trigger1 = pos Y >= -17
value = 0
persistent = 0

[State 820, 1]
type = Changestate
trigger1 = Pos Y >= -1
trigger1 = Vel Y > 0
trigger1 = animelemtime(3) >= 0
value = 3312

;---------------------------------------------------------------------------
;相手 投げレイジングやられ3
[Statedef 3312]
type    = L
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 281

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = velset
trigger1 = AnimElem = 2
x = -2.1
y = -4.0

[state a]
type = velset
trigger1 = prevstateno = 1305
trigger1 = AnimElem = 2
x = 2.1
y = -4.0

[state a]
type = envshake
trigger1 = Time = 0
time = 10
freq = 60
ampl = -4

[State 2100, 移動]
type = Veladd
trigger1 = AnimElemtime(2) >= 0
y = .33

;---------------------[エフェクト]
[State 1300, エフェクト表示]
type = Explod
trigger1 = animelem = 1
anim = F61
pos = 10, -10
postype = p1
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
supermovetime = 12

[State 820, 1]
type = Changestate
trigger1 = AnimElemtime(3) >= 0
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 287

;---------------------------------------------------------------------------
; 虚空烈風斬(1ゲージ) 通常カラー版
[Statedef 3400]
type    = S
movetype= A
physics = S
velset = 0,0
juggle = 0
poweradd= 0
anim = ifelse(var(1)=3,3403,3400)
ctrl = 0
sprpriority = 2

[State a];ゲージ
type = poweradd
triggerall = var(20) = 0
trigger1 = time = 0
value = -1000

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = !var(20) > 0
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = !var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
value = -1000

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[state a]
type = varset
trigger1 = time = 5
v = 20
value = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6000
sprpriority = -9999
postype = p1
pos = -43,-97
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6001
sprpriority = 8
postype = p1
pos = -43,-97
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999
sprpriority = 5

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3000,0

;--------------------------------
[State 3000, 無敵]
type = NotHitBy
triggerall = var(1) != 3
trigger1 = time = 0
value = SCA
time = 29

[State 3000, 無敵]
type = NotHitBy
triggerall = var(1) = 3
trigger1 = time = 0
value = SCA
time = 40

[State 3000, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 10,0

[State 3000, 残像]
type = AfterImage
trigger1 = time = 0
time = 1

;--------------------------------[音声用]
[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 3
value = s200,0

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 11
value = s200,1

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 18
value = s201,1

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 26
value = s200,0

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 37
value = s250,0

[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 5 || animelem = 13 || animelem = 21 || animelem = 28
value = 1005,1

[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 37
value = 2105,1

;---------------------[移動]
[State 210,PosAdd]
type = VelSet
trigger1 = animelem = 3 || animelem = 11 || animelem = 18 || animelem = 26
x = 6.5

;--------------------------------
[State 2000, フラッシュ]
type = EnvColor
trigger1 = movehit = 1
;trigger2 = animelem = 24
time = 2
value = 255,255,255
under = 1
ignorehitpause = 1

[State a]
type = EnvColor
trigger1 = (ProjHitTime(3007)=1)
trigger1 = anim = 3010
;persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;--------------------------------
[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(5)=2
projID = 1090					; ProjID
projanim = 1092					; Projectileのアニメ
;projhitanim = 1013				; 消滅アニメ
projscale = 1, 1
projremove = 1
projhits = 1
projpriority = 1
projsprpriority = 4
projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
projremovetime = 10
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = A, HP
damage = 99, 8
getpower = 0
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7002
guard.sparkno = s7011
sparkxy = 65, -55
hitsound = s400, 1
guardsound = s120, 1
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4,-7
air.type = High
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999

[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(13)=2
projID = 1090					; ProjID
projanim = 1082					; Projectileのアニメ
;projhitanim = 1013				; 消滅アニメ
projscale = 1, 1
projremove = 1
projhits = 1
projpriority = 1
projsprpriority = 4
projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
projremovetime = 8
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = A, HP
damage = 99, 8
getpower = 0
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7002
guard.sparkno = s7011
sparkxy = 65, -55
hitsound = s400, 1
guardsound = s120, 1
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4,-7
air.type = High
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999

[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(21)=2
projID = 1090					; ProjID
projanim = 1092					; Projectileのアニメ
;projhitanim = 1013				; 消滅アニメ
projscale = 1, 1
projremove = 1
projhits = 1
projpriority = 1
projsprpriority = 4
projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
projremovetime = 10
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = A, HP
damage = 99, 8
getpower = 0
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7002
guard.sparkno = s7011
sparkxy = 65, -55
hitsound = s400, 1
guardsound = s120, 1
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4,-7
air.type = High
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999

[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(28)=2
projID = 1090					; ProjID
projanim = 1082					; Projectileのアニメ
;projhitanim = 1013				; 消滅アニメ
projscale = 1, 1
projremove = 1
projhits = 1
projpriority = 1
projsprpriority = 4
projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
projremovetime = 8
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = A, HP
damage = 99, 8
getpower = 0
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7002
guard.sparkno = s7011
sparkxy = 65, -55
hitsound = s400, 1
guardsound = s120, 1
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4,-7
air.type = High
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999

[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(37)=0
projID = 3402					; ProjID
projanim = 3402					; Projectileのアニメ
;projhitanim = 1013				; 消滅アニメ
projscale = 1, 1
projremove = 1
projhits = 1
projpriority = 1
projsprpriority = 4
projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
projremovetime = 8
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = A, HP
damage = 99, 8
getpower = 0
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7002
guard.sparkno = s7011
sparkxy = 65, -55
hitsound = s400, 1
guardsound = s120, 1
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4,-7
air.type = High
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999

;---------------------[攻撃]
[State 240, 2]
type = HitDef
triggerall = !var(7)
triggerall = var(1) != 3
trigger1 = animelemtime(5)=1
attr = S, HP
animtype  = high
damage    = 40,8
priority = 6, Hit
getpower = 0
guardflag = MA
hitflag = MAF
pausetime = 1,10
sparkno = s7003
sparkxy = -25, -75
hitsound   = s400,1
guard.sparkno = s7011
guardsound = s120,1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = 0
air.velocity = -4,-8
yaccel = .55
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ID = 1091
guard.hittime = 19
fall.recovertime = 99999

[State 240, 2]
type = HitDef
triggerall = !var(7)
triggerall = var(1) = 3
trigger1 = animelemtime(5)=0 || animelemtime(5)=1 || animelemtime(5)=2
attr = S, HP
animtype  = high
damage    = 21,8
priority = 6, Hit
getpower = 0
guardflag = MA
hitflag = MAF
pausetime = 3,10
sparkno = s7003
sparkxy = -25, -75
hitsound   = s400,1
guard.sparkno = s7011
guardsound = s120,1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = 0
air.velocity = -4,-8
yaccel = .55
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ID = 1091
guard.hittime = 19
fall.recovertime = 99999

[State 240, 2]
type = HitDef
triggerall = !var(7)
triggerall = var(1) != 3
trigger1 = animelemtime(13)=2
attr = S, HP
animtype  = high
damage    = 40,8
priority = 6, Hit
getpower = 0
guardflag = MA
hitflag = MA
pausetime = 1,10
sparkno = s7003
sparkxy = -25, -55
hitsound   = s400,1
guard.sparkno = s7011
guardsound = s120,1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = 0
air.velocity = -4,-8
yaccel = .55
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ID = 1090
guard.hittime = 19
fall.recovertime = 99999

[State 240, 2]
type = HitDef
triggerall = !var(7)
triggerall = var(1) = 3
trigger1 = animelemtime(13)=0 || animelemtime(13)=1 || animelemtime(13)=2
attr = S, HP
animtype  = high
damage    = 21,8
priority = 6, Hit
getpower = 0
guardflag = MA
hitflag = MAF
pausetime = 3,10
sparkno = s7003
sparkxy = -25, -75
hitsound   = s400,1
guard.sparkno = s7011
guardsound = s120,1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = 0
air.velocity = -4,-8
yaccel = .55
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ID = 1090
guard.hittime = 19
fall.recovertime = 99999

[State 240, 2]
type = HitDef
triggerall = !var(7)
triggerall = var(1) != 3
trigger1 = animelemtime(21)=2
attr = S, HP
animtype  = high
damage    = 40,8
priority = 6, Hit
getpower = 0
guardflag = MA
hitflag = MAF
pausetime = 1,10
sparkno = s7003
sparkxy = -25, -75
hitsound   = s400,1
guard.sparkno = s7011
guardsound = s120,1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = 0
air.velocity = -4,-8
yaccel = .55
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ID = 1091
guard.hittime = 19
fall.recovertime = 99999

[State 240, 2]
type = HitDef
triggerall = !var(7)
triggerall = var(1) = 3
trigger1 = animelemtime(21)=0 || animelemtime(21)=1 || animelemtime(21)=2
attr = S, HP
animtype  = high
damage    = 21,8
priority = 6, Hit
getpower = 0
guardflag = MA
hitflag = MAF
pausetime = 3,10
sparkno = s7003
sparkxy = -25, -75
hitsound   = s400,1
guard.sparkno = s7011
guardsound = s120,1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = 0
air.velocity = -4,-8
yaccel = .55
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ID = 1091
guard.hittime = 19
fall.recovertime = 99999

[State 240, 2]
type = HitDef
triggerall = !var(7)
triggerall = var(1) != 3
trigger1 = animelemtime(28)=2
attr = S, HP
animtype  = high
damage    = 40,8
priority = 6, Hit
getpower = 0
guardflag = MA
hitflag = MA
pausetime = 1,10
sparkno = s7003
sparkxy = -25, -55
hitsound   = s400,1
guard.sparkno = s7011
guardsound = s120,1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = 0
air.velocity = -4,-8
yaccel = .55
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ID = 1090
guard.hittime = 19
fall.recovertime = 99999

[State 240, 2]
type = HitDef
triggerall = !var(7)
triggerall = var(1) = 3
trigger1 = animelemtime(28)=0 || animelemtime(28)=1 || animelemtime(28)=2
attr = S, HP
animtype  = high
damage    = 21,8
priority = 6, Hit
getpower = 0
guardflag = MA
hitflag = MAF
pausetime = 3,10
sparkno = s7003
sparkxy = -25, -75
hitsound   = s400,1
guard.sparkno = s7011
guardsound = s120,1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = 0
air.velocity = -4,-8
yaccel = .55
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ID = 1090
guard.hittime = 19
fall.recovertime = 99999

[State 240, 2]
type = HitDef
triggerall = !var(7)
trigger1 = animelemtime(37)=0
attr = S, HP
animtype  = digup
damage    = 80,8
priority = 6, Hit
getpower = 0
guardflag = MA
hitflag = MA
pausetime = 1,10
sparkno = s7003
sparkxy = -25, -63
hitsound   = s400,5
guard.sparkno = s7011
guardsound = s120,1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -6,-9
air.velocity = -6,-9
yaccel = .55
guard.velocity = -11.2
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ID = 3404
guard.hittime = 19
fall.recovertime = 99999
envshake.time = 30
envshake.freq = 90
envshake.ampl = 4;-3
envshake.phase = -2

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = movehit && NumTarget(3404)
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 801, Explod];
type = Explod
trigger1 = animelem = 5
anim = 1091
ID = 1091
postype = p1
pos = 0, 0
facing = 1
sprpriority = 4       ; 表示優先度
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999
removeongethit = 1

[State 801, Explod];
type = Explod
trigger1 = animelem = 13
anim = 1081
ID = 1081
postype = p1
pos = 0, 0
facing = 1
sprpriority = 2       ; 表示優先度
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999
removeongethit = 1

[State 801, Explod];
type = Explod
trigger1 = animelem = 21
anim = 1091
ID = 1091
postype = p1
pos = 0, 0
facing = 1
sprpriority = 4       ; 表示優先度
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999
removeongethit = 1

[State 801, Explod];
type = Explod
trigger1 = animelem = 28
anim = 1081
ID = 1081
postype = p1
pos = 0, 0
facing = 1
sprpriority = 2       ; 表示優先度
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999
removeongethit = 1

[State 801, Explod];
type = Explod
trigger1 = animelem = 37
anim = 3405
ID = 3405
postype = p1
pos = 0, 0
facing = 1
sprpriority = 2       ; 表示優先度
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999
removeongethit = 1

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = (ProjHitTime(3007)=1)
trigger1 = anim = 3010
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 38
Movetype = I

[State 1640, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 虚空烈風斬(1ゲージ) ナイトメア版
[Statedef 3401]
type    = S
movetype= A
physics = S
velset = 0,0
juggle = 0
poweradd= 0
anim = 3401
ctrl = 0
sprpriority = 2

[State a];ゲージ
type = poweradd
triggerall = var(20) = 0
trigger1 = time = 0
value = -1000

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = !var(20) > 0
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = !var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
value = -1000

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[state a]
type = varset
trigger1 = time = 5
v = 20
value = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6000
sprpriority = -9999
postype = p1
pos = -43,-97
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6001
sprpriority = 8
postype = p1
pos = -43,-97
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999
sprpriority = 5

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3000,0

;--------------------------------
[State 3000, 無敵]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 35

[State 3000, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 10,0

[State 3000, 残像]
type = AfterImage
trigger1 = time = 0
time = 1

;--------------------------------[音声用]
[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 3
value = s200,0

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 11
value = s200,1

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 18
value = s201,1

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 26
value = s200,0

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 37
value = s250,0

[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 5 || animelem = 13 || animelem = 21 || animelem = 28 || animelem = 37
value = 1005,1

[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 37
value = 2105,1

;--------------------------------
[State 2000, フラッシュ]
type = EnvColor
trigger1 = (ProjHitTime(3401)=1)
;trigger2 = animelem = 24
time = 2
value = 255,255,255
under = 1
ignorehitpause = 1

[State a]
type = EnvColor
trigger1 = (ProjHitTime(3007)=1)
trigger1 = anim = 3010
;persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(5)=0
projID = 3401					; ProjID
projanim = 1011					; Projectileのアニメ
projhitanim = 1013				; 消滅アニメ
projscale = 1, 1
projremove = 1
projhits = 1
projpriority = 1
projsprpriority = 4
air.juggle = 1
projedgebound = 150				;画面外消滅距離(省略時40)
;projremovetime = 25
offset = 20,0					;出現位置
velocity = 10					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = A, HP
damage = 60, 8
getpower = 0
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 12, -35
hitsound = s400, 1
guardsound = s120, 1
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.type = High
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
;nochainID = 290
guard.hittime = 17
fall.recovertime = 99999

[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(13)=0
projID = 3401					; ProjID
projanim = 1011					; Projectileのアニメ
projhitanim = 1013				; 消滅アニメ
projscale = 1, 1
projremove = 1
projhits = 1
projpriority = 1
projsprpriority = 4
air.juggle = 1
projedgebound = 150				;画面外消滅距離(省略時40)
;projremovetime = 25
offset = 20,0					;出現位置
velocity = 10					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = A, HP
damage = 60, 8
getpower = 0
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 12, -35
hitsound = s400, 1
guardsound = s120, 1
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.type = High
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
;nochainID = 290
guard.hittime = 17
fall.recovertime = 99999

[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(20)=0
projID = 3401					; ProjID
projanim = 1011					; Projectileのアニメ
projhitanim = 1013				; 消滅アニメ
projscale = 1, 1
projremove = 1
projhits = 1
projpriority = 1
projsprpriority = 4
air.juggle = 1
projedgebound = 150				;画面外消滅距離(省略時40)
;projremovetime = 25
offset = 20,0					;出現位置
velocity = 10					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = A, HP
damage = 60, 8
getpower = 0
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 12, -35
hitsound = s400, 1
guardsound = s120, 1
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -11.2
air.type = High
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
;nochainID = 290
guard.hittime = 17
fall.recovertime = 99999

[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(28)=0
projID = 3401					; ProjID
projanim = 1011					; Projectileのアニメ
projhitanim = 1013				; 消滅アニメ
projscale = 1, 1
projremove = 1
projhits = 1
projpriority = 1
projsprpriority = 4
air.juggle = 1
projedgebound = 150				;画面外消滅距離(省略時40)
;projremovetime = 25
offset = 20,0					;出現位置
velocity = 10					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = A, HP
damage = 60, 8
getpower = 0
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 12, -35
hitsound = s400, 1
guardsound = s120, 1
ground.type = High
ground.slidetime = 23
ground.hittime  = 23
ground.velocity = -11.2
air.type = High
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
;nochainID = 290
guard.hittime = 17
fall.recovertime = 99999

;---------------------[ヘルパー]
[state a];
type = Helper
trigger1 = AnimElem = 37
id = 3406
name = "koku"
sprpriority = -2
pos = 42,0
postype = p1
stateno = 3406
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[State 801, Explod];
type = Explod
trigger1 = animelem = 28
anim = 1003
ID = 1003
postype = p1
pos = 20, 0
facing = 1
sprpriority = 4       ; 表示優先度
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999
removeongethit = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 38
Movetype = I

[State 1640, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------
;(HELPER)虚空烈風斬フィニッシュ
[Statedef 3406]
type = A
ctrl = 0
anim = 3406
velset = 0,0
movetype = A
physics = N
sprpriority = 4

;---------------------[]
[state a]
type = velset
trigger1 = time = 0
x = 11

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,56

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[攻撃]
[State 400, 2]
type = HitDef
trigger1 = time = 0
attr = S, HP
damage    = ifelse(p2movetype=A,(120*125/100),120),8
getpower = 0,0
priority = 5, Hit
animtype  = digup
hitflag = MAF
guardflag = MA
getpower = 0,0
pausetime = 0,12
sparkno = s7003
sparkxy = -0,-60
hitsound   = s400,5
guard.sparkno = s7012
guardsound = s120,1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -6,-9
air.velocity = -6,-9
guard.velocity = 0
yaccel = .55
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
;ID = 200
nochainID = 9999
envshake.time = 30
envshake.freq = 90
envshake.ampl = 4;-3
envshake.phase = -2

[State 3040, 7];画面フラッシュ
type = EnvColor
trigger1 = movehit = 1
persistent = 0
ignorehitpause = 1
time = 2
value = 255,255,255
under = 1

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = movehit
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

;---------------------[ヘルパー]
[state a];
type = Helper
trigger1 = time = 0
id = 3408
name = "koku"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 3408
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state a];
type = Helper
trigger1 = time = 0
id = 3409
name = "koku"
sprpriority = -2
pos = 0,0
postype = p1
stateno = 3409
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[]
[state a]
type = changestate
trigger1 = time = 30
value = 3407

;----------------------------------------------------------------------------
;(HELPER)虚空烈風斬フィニッシュ・消滅
[Statedef 3407]
type = A
ctrl = 0
anim = 3407
;velset = 0,0
movetype = A
physics = N
sprpriority = 4

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,56

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0

;----------------------------------------------------------------------------
;(HELPER)虚空烈風斬フィニッシュ・飛び道具相殺ステート
[Statedef 3408]
type = A
ctrl = 0
anim = 3408
velset = 0,0
movetype = A
physics = N
sprpriority = 2

;---------------------[]
[state a]
type = bindtoparent
trigger1 = 1
pos = 0,0

;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[state a]
type = hitby
trigger1 = 1
value = SCA,NP,SP,HP
time = -1
ignorehitpause = 1

[state a]
type = hitoverride
trigger1 = 1
attr = SCA,NP,SP,HP
stateno = 3407
slot = 1
ignorehitpause = 1

;---------------------[]
[state a]
type = destroyself
trigger1 = parent,stateno != 3406

;----------------------------------------------------------------------------
;(HELPER)虚空烈風斬フィニッシュ・エフェクト１
[Statedef 3409]
type = A
ctrl = 0
anim = 3409
;velset = 0,0
movetype = A
physics = N
sprpriority = 2

;---------------------[]
[state a]
type = bindtoparent
trigger1 = 1
pos = 0,0

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,156

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[]
[state a]
type = changestate
trigger1 = parent,stateno = 3407
trigger2 = time >= 150
value = 3410

;----------------------------------------------------------------------------
;(HELPER)虚空烈風斬フィニッシュ・エフェクト２
[Statedef 3410]
type = A
ctrl = 0
anim = 3410
velset = 11,0
movetype = A
physics = N
sprpriority = 2

;---------------------[]
[state a]
type = bindtoparent
trigger1 = 1
pos = 0,0

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,56

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0

;----------------------------------------------------------------------------
;===========================================================================
; MAX
;===========================================================================
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; MAXレイジングストームKOF
[Statedef 3500]
type    = S
movetype= A
physics = S
velset = 0,0
juggle = 0
poweradd= 0
anim = ifelse(var(1)=3,3502,3500)
ctrl = 0
sprpriority = 2

;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = !var(20) > 0
trigger1 = time = 0
value = -3000

[state a]
type = poweradd
trigger1 = var(20) > 0
trigger1 = time = 5
value = -1000

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = !var(20) > 0
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = !var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
value = -1000

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[state a]
type = varset
trigger1 = time = 5
v = 20
value = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6010
sprpriority = -9999
postype = p1
pos = -10,-129
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6011
sprpriority = 8
postype = p1
pos = -10,-129
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999
sprpriority = 5

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3000,1

;--------------------------------
[State 3000, 無敵]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 38;29

[State 3000, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 10,0

[State 3000, 残像]
type = AfterImage
trigger1 = time = 0
time = 1

;--------------------------------[音声用]
[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 2
value = s2000,0

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 9
value = s2005,0

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 7
anim = 3011
persistent = 0
postype = P1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
pausemovetime = 99

;--------------------------------
[State 2000, 振動]
type = EnvShake
trigger1 = animelem = 11
time = 42
ampl = -5
freq = 99
phase = 99

[State 2000, フラッシュ]
type = EnvColor
trigger1 = animelem = 13
trigger2 = animelem = 25
time = 2
value = 255,255,255
under = 1
ignorehitpause = 1

[State a]
type = EnvColor
trigger1 = (ProjHitTime(3501)=1)
trigger2 = (ProjHitTime(3502)=1)
;persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;---------------------[攻撃]
[State 1000, Proj]
type = Projectile
trigger1 = var(1) != 3
trigger1 = animelemtime(12)=0
projID = 3501					; ProjID
projanim = 3501					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 28
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 370, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 1000, Proj]
type = Projectile
trigger1 = var(1) = 3
trigger1 = animelemtime(12)=0
projID = 3502					; ProjID
projanim = 3501					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 28
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 370, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAFLD
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(16)=0 || animelemtime(20)=0 || animelemtime(24)=0
projID = 3501					; ProjID
projanim = 3501					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 5
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = ifelse(var(1)=3,370,40), 11
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MA
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 72, -95
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 20] ;地上ヒット時の相手動作
type = targetState
trigger1 = (ProjHitTime(3501)=1)
value = 3311
ctrl = 0
IgnoreHitPause = 1
;Persistent     = 0

[State 20] ;地上ヒット時の相手動作
type = targetState
trigger1 = (ProjHitTime(3502)=1)
value = 3060
ctrl = 0
IgnoreHitPause = 1
;Persistent     = 0

;叩きつけエフェクト
[State 1000, ヘルパーを出す]
type = Helper
trigger1 = (ProjHitTime(3501)=1)
trigger2 = (ProjHitTime(3502)=1)
name = "hit"
stateno = 4920
ID = 4920
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = (ProjHitTime(3501)=1)
trigger2 = (ProjHitTime(3502)=1)
trigger1 = anim = 3500
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State explod];光柱1
type = Explod
trigger1 = animelemtime(9) = 0
anim = 3505
id = 3505
sprpriority = 3
postype = p1
pos = 76, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
pausemovetime = 4

[State explod];光柱2
type = Explod
trigger1 = animelemtime(9) = 0
anim = 3505
id = 3505
sprpriority = 3
postype = p1
pos = -48, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
pausemovetime = 4

[State explod];光柱3
type = Explod
trigger1 = animelemtime(9) = 0
anim = 3505
id = 3505
sprpriority = 4
postype = p1
pos = 32, 10
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
pausemovetime = 4

[State explod];光柱4
type = Explod
trigger1 = animelemtime(9) = 0
anim = 3505
id = 3505
sprpriority = 4
postype = p1
pos = -6, 10
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
pausemovetime = 4

[State explod];光柱5
type = Explod
trigger1 = animelemtime(9) = 0
anim = 3505
id = 3505
sprpriority = -1
postype = p1
pos = 40, -15
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
pausemovetime = 4

[State explod];光柱6
type = Explod
trigger1 = animelemtime(9) = 0
anim = 3505
id = 3505
sprpriority = -1
postype = p1
pos = -18, -15
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
pausemovetime = 4

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 31
Movetype = I

[State 1640, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; MAXレイジングストーム餓狼
[Statedef 3510]
type    = S
movetype= A
physics = S
velset = 0,0
juggle = 0
poweradd= 0
anim = ifelse(var(1)=3,3513,3510)
ctrl = 0
sprpriority = 2

;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = !var(20) > 0
trigger1 = time = 0
value = -3000

[state a]
type = poweradd
trigger1 = var(20) > 0
trigger1 = time = 5
value = -1000

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = !var(20) > 0
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = !var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
value = -1000

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[state a]
type = varset
trigger1 = time = 5
v = 20
value = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6010
sprpriority = -9999
postype = p1
pos = -10,-129
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6011
sprpriority = 8
postype = p1
pos = -10,-129
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999
sprpriority = 5

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3000,1

;--------------------------------
[State 3000, 無敵]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 38;29

[State 3000, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 10,0

[State 3000, 残像]
type = AfterImage
trigger1 = time = 0
time = 1

;--------------------------------[音声用]
[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 2
value = s2000,1

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 11
value = s2005,1

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 7
anim = 3511
persistent = 0
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
pausemovetime = 10

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 13
anim = 3512
persistent = 0
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

;--------------------------------
[State 2000, 振動]
type = EnvShake
trigger1 = animelem = 11
time = 62
ampl = -5
freq = 99
phase = 99

[State 2000, フラッシュ]
type = EnvColor
trigger1 = animelem = 15
trigger2 = animelem = 32
time = 2
value = 255,255,255
under = 1
ignorehitpause = 1

[State a]
type = EnvColor
trigger1 = (ProjHitTime(3511)=1)
trigger2 = (ProjHitTime(3513)=1)
;persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;---------------------[攻撃]
[State 1000, Proj]
type = Projectile
trigger1 = var(1) != 3
trigger1 = animelemtime(13)=0
projID = 3511					; ProjID
projanim = 3033					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 55
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 370, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 72, -95
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 1000, Proj]
type = Projectile
trigger1 = var(1) = 3
trigger1 = animelemtime(13)=0
projID = 3513					; ProjID
projanim = 3033					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 55
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 370, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAFLD
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 72, -95
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(17)=0 || animelemtime(21)=0 || animelemtime(25)=0 || animelemtime(29)=0
trigger2 = animelemtime(33)=0 || animelemtime(37)=0
projID = 3511					; ProjID
projanim = 3033					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 8
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = ifelse(var(1)=3,370,30), 11
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MA
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 72, -95
hitsound = s400, 4
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 20] ;地上ヒット時の相手動作
type = targetState
trigger1 = (ProjHitTime(3511)=1)
value = 3311
ctrl = 0
IgnoreHitPause = 1
;Persistent     = 0

[State 20] ;地上ヒット時の相手動作
type = targetState
trigger1 = (ProjHitTime(3513)=1)
value = 3060
ctrl = 0
IgnoreHitPause = 1
;Persistent     = 0

;叩きつけエフェクト
[State 1000, ヘルパーを出す]
type = Helper
trigger1 = (ProjHitTime(3511)=1)
trigger2 = (ProjHitTime(3513)=1)
name = "hit"
stateno = 4920
ID = 4920
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = (ProjHitTime(3511)=1)
trigger2 = (ProjHitTime(3513)=1)
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 43
Movetype = I

[State 1640, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; MAXデッドリーレイブKOF
[Statedef 3600]
type    = S
movetype= A
physics = S
velset = 0,0
juggle = 0
poweradd= 0
anim = 3600
ctrl = 0
sprpriority = -2

;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = !var(20) > 0
trigger1 = time = 0
value = -3000

[state a]
type = poweradd
trigger1 = var(20) > 0
trigger1 = time = 5
value = -1000

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = var(1) != 3
trigger1 = time = 0
value = SCA
time = 34

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = var(1) = 3
trigger1 = time = 0
value = SCA
time = 45

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = !var(20) > 0
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = !var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
value = -1000

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[state a]
type = varset
trigger1 = time = 5
v = 20
value = 0

;--------------------------------
[State 3000, Pos]
type = PosSet
trigger1 = time = 0
y = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6010
sprpriority = -9999
postype = p1
pos = -12,-78
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6011
sprpriority = 3
postype = p1
pos = -12,-78
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

;---------------------[効果音]
[State 2000, 6];
type = PlaySnd
trigger1 = time = 3
value = 3000,1

[State 2000, 6];デッドリーレイブ！
type = PlaySnd
trigger1 = time = 2
value = 2100,random%2

[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 5
value = 1305,1

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 2
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 15,0

;--------------------------------
[State 250, StateTypeSet];状態：空中に
type = StateTypeSet
trigger1 = animelem = 5
StateType = A
Physics = N

[State 3000, Vel]
type = VelSet
trigger1 = var(1) != 3
trigger1 = animelem = 5
x = 11.3
y = -1.3

[State 3000, Vel]
type = VelSet
trigger1 = var(1) = 3
trigger1 = animelem = 5
x = 15.3
y = -1.3

[State 3000, Vel]
type = VelAdd
trigger1 = animelemtime(5)>=0
y = .11

;--------------------------------
[State a]
type = EnvColor
triggerall = movehit
trigger1 = animelemtime(5) >= 0
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;--------------------------------
[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 5
attr = A, HA
animtype  = hard
damage    = 10, 0
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 1,1
sparkxy = -10,-56
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400,1
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -1, 0
guard.ctrltime = 28
air.velocity = -1, 0
guard.velocity = -11.2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p1facing = 1
p2facing = 1
forcestand = 1    ;強制立たせ
;numhits = 0
id = 3600
;nochainid = 290, 1300
kill = 0

;-------------------------------------
[State 20] ;ヒット時の相手動作
type = targetState
trigger1 = movehit && NumTarget(3600)
value = 3130
ctrl = 0
IgnoreHitPause = 1
Persistent = 0

[State ,ChangeState];ヒット時のこちらの動作
type = ChangeState
trigger1 = AnimElemtime(5) >= 0
trigger1 = numtarget(3600)
trigger1 = target(3600),stateno = 3130
value = 3610
ignorehitpause = 1

[State 3000, ステート変更];終了
type = ChangeState
trigger1 = Animelemtime(7)>=0
trigger1 = Vel Y > 0 && Pos Y >= 0
trigger2 = moveguarded
value = 3605

;----------------------------------------------------------------------------
;MAXデッドリーレイブKOF(乱舞)
[Statedef 3610]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
anim = 3610
ctrl = 0
sprpriority = 2

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelemtime(79) < 0
edge = 60,0

[State 1120, PlayerPush]
type = PlayerPush
trigger1 = animelemtime(79) < 0
value = 0

[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 1
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 79
time = 0

;-------------------------------------
[State 3000, Vel]
type = VelSet
trigger1 = animelemtime(1) >= 0 && animelemtime(70) < 0
x = 1.

[State 3000, Vel]
type = VelSet
trigger1 = animelemtime(70) = 1
x = 0

[State 3000, Vel]
type = VelSet
trigger1 = animelemtime(74) = 0; && animelemtime(41) < 2
x = -8.5

[State 1000, Pos]
type = PosSet
trigger1 = Time = 0
y = 0

;--------------------------------
[State 250, StateTypeSet];摩擦
type = StateTypeSet
trigger1 = animelemtime(70) = 0
Physics = S

;-------------------------------------
[State 1000, TargetBind]
type = TargetBind
trigger1 = animelemtime(70)<1
pos = 55,0

;------------------------------------
[State 1000, Explod]
type = Explod
Trigger1 = animelem = 70
anim = 3120
ID = 3120
postype = p1
pos = 0,0
facing = 1
sprpriority = 3       ; 表示優先度
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1000, Explod]
type = Explod
Trigger1 = animelem = 74
anim = 3123
ID = 3123
postype = p1
pos = 30,0
facing = 1
sprpriority = 4       ; 表示優先度
bindtime = 10         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1000, Explod]
type = Explod
Trigger1 = animelem = 74
anim = 3122
ID = 3122
postype = p1
pos = -10,0
facing = 1
sprpriority = 5       ; 表示優先度
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1000, Explod]
type = Explod
Trigger1 = animelem = 74
anim = 3121
ID = 3121
postype = p1
pos = 0,0
facing = 1
sprpriority = 6       ; 表示優先度
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1000, Explod]
type = Explod
Trigger1 = animelem = 74
anim = 3615
ID = 3615
postype = p1
pos = 0,0
facing = 1
sprpriority = 6       ; 表示優先度
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

;------------------------------------
[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 6
trigger3 = animelem = 12
trigger4 = animelem = 17
trigger5 = animelem = 21
trigger6 = animelem = 24
trigger7 = animelem = 29
trigger8 = animelem = 31
trigger9 = animelem = 37
trigger10 = animelem = 42
trigger11 = animelem = 45
trigger12 = animelem = 48
trigger13 = animelem = 50
trigger14 = animelem = 53
trigger15 = animelem = 55
trigger16 = animelem = 60
trigger17 = animelem = 65
value = 300,1

[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 29
;value = 250,1
value = 750,0

[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 74
;value = 250,1
value = 420,9

[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 74
value = 2100,3

[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 74
value = 2105,1

;------------------------------------
[State 1000, EnvShake]
type = EnvShake
trigger1 = animelem = 3
trigger2 = animelem = 7
trigger3 = animelem = 13
trigger4 = animelem = 18
trigger5 = animelem = 22
trigger6 = animelem = 25
trigger7 = animelem = 30
trigger8 = animelem = 32
trigger9 = animelem = 38
trigger10 = animelem = 43
trigger11 = animelem = 46
trigger12 = animelem = 49
trigger13 = animelem = 51
trigger14 = animelem = 54
trigger15 = animelem = 56
trigger16 = animelem = 61
trigger17 = animelem = 66
trigger18 = animelem = 74
trigger19 = animelem = 75
time = 5
ampl = 6
freq = 40
ignorehitpause = 1 

;------------------------------------
[State a]
type = EnvColor
;triggerall = movehit
trigger1 = animelem = 3
trigger2 = animelem = 7
trigger3 = animelem = 13
trigger4 = animelem = 18
trigger5 = animelem = 22
trigger6 = animelem = 25
trigger7 = animelem = 30
trigger8 = animelem = 32
trigger9 = animelem = 38
trigger10 = animelem = 43
trigger11 = animelem = 46
trigger12 = animelem = 49
trigger13 = animelem = 51
trigger14 = animelem = 54
trigger15 = animelem = 56
trigger16 = animelem = 61
trigger17 = animelem = 66
trigger18 = animelem = 74
trigger19 = animelem = 75
trigger20 = animelem = 76
persistent = 1
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;------------------------------------
[State 1000, ヒット定義];1 上段のけぞり
type = HitDef
trigger1 = animelem = 3
attr = S, HA
animtype  = hard
damage    = 10, 5
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 3,2
guard.pausetime = 1,1
sparkxy = -10,-90
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400, 1
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = 0, 0
guard.ctrltime = 28
air.velocity = 0, 0
air.hittime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p2Stateno = 3130
forcestand = 1    ;強制立たせ
id = 3000
kill = 0

[State 1000, ヒット定義];2 下段のけぞり
type = HitDef
trigger1 = animelem = 7
attr = S, HA
animtype  = hard
damage    = 10, 5
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 3,2
guard.pausetime = 1,1
sparkxy = -25,-59
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400, 3
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = 0, 0
guard.ctrltime = 28
air.velocity = 0, 0
air.hittime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p2Stateno = 3135
forcestand = 1    ;強制立たせ
id = 3000
kill = 0

[State 1000, ヒット定義];3 下段のけぞり
type = HitDef
trigger1 = animelem = 13
attr = S, HA
animtype  = hard
damage    = 10, 5
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 3,2
guard.pausetime = 1,1
sparkxy = -20,-62
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400, 1
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = 0, 0
guard.ctrltime = 28
air.velocity = 0, 0
air.hittime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p2Stateno = 3135
forcestand = 1    ;強制立たせ
id = 3000
kill = 0

[State 1000, ヒット定義];4 下段のけぞり
type = HitDef
trigger1 = animelem = 18
attr = S, HA
animtype  = hard
damage    = 10, 5
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 3,2
guard.pausetime = 1,1
sparkxy = -27,-44
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400, 3
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = 0, 0
guard.ctrltime = 28
air.velocity = 0, 0
air.hittime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p2Stateno = 3135
forcestand = 1    ;強制立たせ
id = 3000
kill = 0

[State 1000, ヒット定義];5 下段のけぞり
type = HitDef
trigger1 = animelem = 22
attr = S, HA
animtype  = hard
damage    = 10, 5
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 3,2
guard.pausetime = 1,1
sparkxy = -15,-66
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400, 3
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = 0, 0
guard.ctrltime = 28
air.velocity = 0, 0
air.hittime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p2Stateno = 3135
forcestand = 1    ;強制立たせ
id = 3000
kill = 0

[State 1000, ヒット定義];6 上段のけぞり
type = HitDef
trigger1 = animelem = 25
attr = S, HA
animtype  = hard
damage    = 10, 5
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 3,2
guard.pausetime = 1,1
sparkxy = -25,-62
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400, 1
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = 0, 0
guard.ctrltime = 28
air.velocity = 0, 0
air.hittime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p2Stateno = 3130
forcestand = 1    ;強制立たせ
id = 3000
kill = 0

[State 1000, ヒット定義];7 下段のけぞり
type = HitDef
trigger1 = animelem = 30
attr = S, HA
animtype  = hard
damage    = 10, 5
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 3,2
guard.pausetime = 1,1
sparkxy = -20,-62
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400, 1
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = 0, 0
guard.ctrltime = 28
air.velocity = 0, 0
air.hittime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p2Stateno = 3135
forcestand = 1    ;強制立たせ
id = 3000
kill = 0

[State 1000, ヒット定義];8 上段のけぞり
type = HitDef
trigger1 = animelem = 32
attr = S, HA
animtype  = hard
damage    = 10, 5
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 3,2
guard.pausetime = 1,1
sparkxy = -25,-62
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400, 1
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = 0, 0
guard.ctrltime = 28
air.velocity = 0, 0
air.hittime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p2Stateno = 3130
forcestand = 1    ;強制立たせ
id = 3000
kill = 0

[State 1000, ヒット定義];9 下段のけぞり
type = HitDef
trigger1 = animelem = 38
attr = S, HA
animtype  = hard
damage    = 10, 5
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 3,2
guard.pausetime = 1,1
sparkxy = -25,-22
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400, 3
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = 0, 0
guard.ctrltime = 28
air.velocity = 0, 0
air.hittime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p2Stateno = 3135
forcestand = 1    ;強制立たせ
id = 3000
kill = 0

[State 1000, ヒット定義];10 上段のけぞり
type = HitDef
trigger1 = animelem = 43
attr = S, HA
animtype  = hard
damage    = 10, 5
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 3,2
guard.pausetime = 1,1
sparkxy = -10,-90
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400, 1
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = 0, 0
guard.ctrltime = 28
air.velocity = 0, 0
air.hittime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p2Stateno = 3130
forcestand = 1    ;強制立たせ
id = 3000
kill = 0

[State 1000, ヒット定義];11 上段のけぞり
type = HitDef
trigger1 = animelem = 46
attr = S, HA
animtype  = hard
damage    = 10, 5
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 3,2
guard.pausetime = 1,1
sparkxy = -25,-62
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400, 1
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = 0, 0
guard.ctrltime = 28
air.velocity = 0, 0
air.hittime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p2Stateno = 3130
forcestand = 1    ;強制立たせ
id = 3000
kill = 0

[State 1000, ヒット定義];12 上段のけぞり
type = HitDef
trigger1 = animelem = 49
attr = S, HA
animtype  = hard
damage    = 20, 5
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 3,2
guard.pausetime = 1,1
sparkxy = -10,-97
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400, 3
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = 0, 0
guard.ctrltime = 28
air.velocity = 0, 0
air.hittime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p2Stateno = 3130
forcestand = 1    ;強制立たせ
id = 3000
kill = 0

[State 1000, ヒット定義];13 下段のけぞり
type = HitDef
trigger1 = animelem = 51
attr = S, HA
animtype  = hard
damage    = 20, 5
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 3,2
guard.pausetime = 1,1
sparkxy = -25,-62
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400, 3
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = 0, 0
guard.ctrltime = 28
air.velocity = 0, 0
air.hittime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p2Stateno = 3135
forcestand = 1    ;強制立たせ
id = 3000
kill = 0

[State 1000, ヒット定義];14 上段のけぞり
type = HitDef
trigger1 = animelem = 54
attr = S, HA
animtype  = hard
damage    = 20, 5
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 3,2
guard.pausetime = 1,1
sparkxy = -25,-62
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400, 1
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 25
ground.velocity = 0, 0
guard.ctrltime = 28
air.velocity = 0, 0
air.hittime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p2Stateno = 3130
forcestand = 1    ;強制立たせ
id = 3000
kill = 0

[State 1000, ヒット定義];15 下段のけぞり
type = HitDef
trigger1 = animelem = 56
attr = S, HA
animtype  = hard
damage    = 20, 5
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 3,2
guard.pausetime = 1,1
sparkxy = -20,-57
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400, 1
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = 0, 0
guard.ctrltime = 28
air.velocity = 0, 0
air.hittime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p2Stateno = 3135
forcestand = 1    ;強制立たせ
id = 3000
kill = 0

[State 1000, ヒット定義];16 下段のけぞり
type = HitDef
trigger1 = animelem = 61
attr = S, HA
animtype  = hard
damage    = 20, 5
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 3,2
guard.pausetime = 1,1
sparkxy = -24,-37
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400, 1
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = 0, 0
guard.ctrltime = 28
air.velocity = 0, 0
air.hittime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p2Stateno = 3135
forcestand = 1    ;強制立たせ
id = 3000
kill = 0

[State 1000, ヒット定義];17 上段のけぞり
type = HitDef
trigger1 = animelem = 66
attr = S, HA
animtype  = hard
damage    = 20, 5
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 3,2
guard.pausetime = 1,1
sparkxy = -30,-66
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400, 1
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 25
ground.velocity = 0, 0
guard.ctrltime = 28
air.velocity = 0, 0
air.hittime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p2Stateno = 3130
forcestand = 1    ;強制立たせ
id = 3000
kill = 0

[State 1000, ヒット定義];18 上段のけぞり
type = HitDef
trigger1 = animelem = 74
attr = S, HA
animtype  = hard
damage    = 30, 5
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 5,4
guard.pausetime = 1,1
sparkxy = 0,-68
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400, 5
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 25
ground.velocity = 0, 0
guard.ctrltime = 28
air.velocity = 0, 0
air.hittime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p2Stateno = 3130
forcestand = 1    ;強制立たせ
id = 3000
kill = 0
palfx.time = 25
palfx.add = 30,-50,-120
palfx.sinadd = 65,40,40,10
palfx.color = 0
palfx.invertall = 1

[State 1000, ヒット定義];19 上段のけぞり
type = HitDef
trigger1 = animelem = 75
attr = S, HA
animtype  = hard
damage    = 35, 5
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 5,4
guard.pausetime = 1,1
sparkxy = 0,-68
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400, 5
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 25
ground.velocity = 0, 0
guard.ctrltime = 28
air.velocity = 0, 0
air.hittime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p2Stateno = 3130
forcestand = 1    ;強制立たせ
id = 3000
kill = 0
palfx.time = 25
palfx.add = 30,-50,-120
palfx.sinadd = 65,40,40,10
palfx.color = 0
palfx.invertall = 1

[State 210, 2];20 フィニッシュ
type = HitDef
trigger1 = animelem = 76
attr = S, SA
animtype  = digup
damage    = 35,10
priority = 5, Hit
getpower = 0,0
guardflag = M
pausetime = 15,16
sparkno = s7003
sparkxy = 0,-68
hitsound   = s400,5
guardsound = s120,1
guard.sparkno = s7011
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -8,-9
air.velocity = -8,-9
yaccel = .55
ID = 1360
guard.hittime = 17
forcestand = 1
fall = 1
fall.recover = 0
guard.velocity = -11.9
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall.recovertime = 99999
palfx.time = 77
palfx.add = 30,-50,-120
palfx.sinadd = 65,40,40,10
palfx.color = 0
palfx.invertall = 1
envshake.time = 30
envshake.freq = 90
envshake.ampl = 4;-3
envshake.phase = -2
;envshake.time = 14
;envshake.ampl = 4
;envshake.freq = 90

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = animelemtime(76) = 0
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

;燃え小エフェクト 赤
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = animelemtime(74) >= 0
trigger1 = movehit = 1
name = "hit"
stateno = 4915
ID = 4915
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1

;---------------------[ステート移行]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; MAXデッドリーレイブKOFヒットせず
[Statedef 3605]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 9,0
anim     = 3105
ctrl     = 0
sprpriority = 2

[State 1311, Pos]
type = Posset
trigger1 = time = 0
y = 0

[State 1311, Pos]
type = Velset
trigger1 = time = 0
y = 0

[State a];すざー
type = PlaySnd
trigger1 = animelem = 1
value = 301, 0

[State 2100, 残像]
type = AfterImage
trigger1 = animelemtime(3) = 3
time = 0

;---------------------[ステート移行]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;===========================================================================
; MAX羅生門
[Statedef 3700]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = ifelse(var(1)=3,3701,3700)
ctrl     = 0
sprpriority = 1
facep2 = 1

;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = !var(20) > 0
trigger1 = time = 0
value = -3000

[state a]
type = poweradd
trigger1 = var(20) > 0
trigger1 = time = 5
value = -1000

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = !var(20) > 0
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,14012]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = !var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
value = -1000

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 291 || prevstateno = 299 || (prevstateno = 270 && var(6) = 1)
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[state a]
type = varset
trigger1 = time = 5
v = 20
value = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6010
sprpriority = -9999
postype = p1
pos = -5,-80
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6011
sprpriority = 8
postype = p1
pos = -5,-80
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999
sprpriority = 5

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3000,1

;--------------------------------
[State 3000, 無敵]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 29

[State 3000, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 10,0

[State 3000, 残像]
type = AfterImage
trigger1 = time = 0
time = 1

[State 2000, 6]
type = PlaySnd
trigger1 = animelem = 3
value = 420,7

[State 800, ヒット定義（投げ用）]
type = HitDef
triggerall = !(p2stateNo = [150,155]) && p2stateNo != 40
triggerall = !var(23)
trigger1 = var(24) != 1
trigger1 = animelem = 1
attr = S, HT
hitflag = M
priority = 1, Miss
sparkno = -1
p1sprpriority = 1
p2sprpriority = 0
p1facing = 1
p2facing = 1
p1stateno = 3705
p2stateno = 3720
guard.dist = 0
fall = 1
numhits = 0

[State 1000, MoveType]
type = StateTypeSet
trigger1 = AnimElem = 8
MoveType = I

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; MAX羅生門 成功
[Statedef 3705]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 3705
ctrl     = 0
sprpriority = 2

[state a]
type = varset
trigger1 = time = 0
v = 20
value = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 0
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 2
anim = 6010
sprpriority = -9999
postype = p1
pos = -5,-80
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 12
anim = 6011
sprpriority = 8
postype = p1
pos = -5,-80
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999
sprpriority = 5

[State 3040, 7]
type = EnvColor
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 0
value = 3000,1

[State 1000, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemtime(1) = 0
edge = 70,40

[State 3000, 残像]
type = AfterImage
trigger1 = time = 0
time = 1

[State 3000, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

;--------------------------------雷鳴豪破投げ一回目ここから
;---------------------[エフェクト]
[State explod];掴み
type = Explod
trigger1 = animelemtime(2) = 0
anim = 7081
id = 7081
sprpriority = 5
postype = p1
pos = 60, -76
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];雷光
type = Explod
trigger1 = animelemtime(6) = 0
anim = 1620
id = 1620
sprpriority = 5
postype = p1
pos = 47, -70
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];雷光
type = Explod
trigger1 = animelemtime(7) = 0
anim = 1620
id = 1620
sprpriority = 5
postype = p1
pos = 59, -91
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];雷光
type = Explod
trigger1 = animelemtime(8) = 0
anim = 1620
id = 1620
sprpriority = 5
postype = p1
pos = 52, -102
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];雷光
type = Explod
trigger1 = animelemtime(9) = 0
anim = 1620
id = 1620
sprpriority = 5
postype = p1
pos = 18, -127
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];雷光
type = Explod
trigger1 = animelemtime(10) = 0
anim = 1620
id = 1620
sprpriority = 5
postype = p1
pos = -44, -103
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];稲妻1
type = Explod
trigger1 = animelemtime(11) = 1
anim = 1625
id = 1625
sprpriority = 5
postype = p2
pos = 0, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
facing = -1
ownpal = 1

[State explod];稲妻1
type = Explod
trigger1 = animelemtime(11) = 1
anim = 1621
id = 1621
sprpriority = 2
postype = p2
pos = 0, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];稲妻2
type = Explod
trigger1 = animelemtime(11) = 3
anim = 1623
id = 1623
sprpriority = 7
postype = p2
pos = -30, 7
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];稲妻2
type = Explod
trigger1 = animelemtime(11) = 4
anim = 1623
id = 1623
sprpriority = -1
postype = p2
pos = 30, -7
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
facing = -1
ownpal = 1

[State explod];稲妻2
type = Explod
trigger1 = animelemtime(11) = 5
anim = 1623
id = 1623
sprpriority = -1
postype = p2
pos = -30, -7
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];稲妻2
type = Explod
trigger1 = animelemtime(11) = 6
anim = 1623
id = 1623
sprpriority = 7
postype = p2
pos = 30, 7
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
facing = -1
ownpal = 1

[State explod];稲妻3
type = Explod
trigger1 = animelemtime(11) = 6
anim = 1621
id = 1621
sprpriority = 6
postype = p2
pos = -65, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];稲妻3
type = Explod
trigger1 = animelemtime(11) = 6
anim = 1622
id = 1622
sprpriority = 6
postype = p2
pos = 65, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

;---------------------[サウンド]
[State 810, Grab Sound];掴み
type = PlaySnd
trigger1 = animelem = 2
value = 1405, 0

[State 810, Grab Sound];だーい
type = PlaySnd
trigger1 = animelem = 4
value = 182, 5
;value = 1600, 0

[State 810, Grab Sound];電撃音
type = PlaySnd
trigger1 = animelem = 6
value = 1605, 2
channel = 6

[State 810, Grab Sound];ぶぉん
type = PlaySnd
trigger1 = animelem = 9
value = 420, 3

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 10
value = 201, 1

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelemtime(11) = 1 || animelemtime(11) = 3 || animelemtime(11) = 6
value = 1605, 0

[State 810, ];ズンッ
type = PlaySnd
trigger1 = animelem = 11
value = 45, 1

[State 810, ];電撃音消去
type = stopSnd
trigger1 = animelemtime(11) = 3
channel = 6

[State 1000, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemtime(9) = 0
edge = 0,60

[State 1402, HitAdd]
type = HitAdd
trigger1 = animelem = 11
value = 1

[State 801, 2]
type = Targetlifeadd
trigger1 = animelem = 11
value = Ceil(-((65*Const(data.attack)/100)*fvar(0)))
kill = 0

;---------------------[相手制御]
[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(3) < 0
pos = 52, 0;52,0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(3) >= 0 && AnimElemtime(4) < 0
pos = 46, -115

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(4) >= 0 && AnimElemtime(5) < 0
pos = 46, -131

;[State 810, 3]
;type = TargetBind
;Trigger1 = AnimElemtime(4) >= 0 && AnimElemtime(5) < 0
;pos = 48, -125

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(5) >= 0 && AnimElemtime(6) < 0
pos = 41, -120

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(6) >= 0 && AnimElemtime(7) < 0
pos = 47, -99

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(7) >= 0 && AnimElemtime(8) < 0
pos = 50, -115

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(8) >= 0 && AnimElemtime(9) < 0
pos = 33, -119

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(9) >= 0 && AnimElemtime(10) < 0
pos = -6, -128

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(10) >= 0 && AnimElemtime(11) < 0
pos = -48, -84

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(11) = 0
pos = -55, 0

;--------------------------------
[State a];フラッシュ
type = EnvColor
trigger1 = animelemtime(11) = 3
persistent = 0
ignorehitpause = 1
time = 3
value = 255,255,255
under = 2

;------------------------------------叩きつけエフェクト
[state 4910, ]
type = Explod
triggerall = p2movetype = H
Trigger1 = AnimElemtime(11) = 0
anim = 7087
id = 7087
sprpriority = -1
postype = p2
pos = 0,0
bindtime = 1
under = 0
persistent=0
ownpal = 1

[state 4910, ]
type = Explod
triggerall = p2movetype = H
Trigger1 = AnimElemtime(11) = 0
anim = 7088
id = 7088
sprpriority = -2
postype = p2
pos = 0,0
bindtime = 1
under = 0
persistent=0
ownpal = 1

[state 4910, ]
type = Explod
triggerall = p2movetype = H
Trigger1 = AnimElemtime(11) = 0
anim = 7089
id = 7089
sprpriority = 4
postype = p2
pos = 0,0
bindtime = 1
under = 0
persistent=0
ownpal = 1

[State 1020, 4]
type = EnvShake
trigger1 = animelem = 11
time = 30
ampl = -8
freq = 150
phase = 85

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
Trigger1 = AnimElemtime(11) = 0
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0
;--------------------------------雷鳴豪破投げ一回目ここまで
;--------------------------------雷鳴豪破投げ二回目ここから
;---------------------[エフェクト]
[State explod];雷光
type = Explod
trigger1 = animelemtime(14) = 0
anim = 1620
id = 1620
sprpriority = 5
postype = p1
pos = -47, -70
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];雷光
type = Explod
trigger1 = animelemtime(15) = 0
anim = 1620
id = 1620
sprpriority = 5
postype = p1
pos = -59, -91
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];雷光
type = Explod
trigger1 = animelemtime(16) = 0
anim = 1620
id = 1620
sprpriority = 5
postype = p1
pos = -52, -102
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];雷光
type = Explod
trigger1 = animelemtime(17) = 0
anim = 1620
id = 1620
sprpriority = 5
postype = p1
pos = -18, -127
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];雷光
type = Explod
trigger1 = animelemtime(18) = 0
anim = 1620
id = 1620
sprpriority = 5
postype = p1
pos = 44, -103
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];稲妻1
type = Explod
trigger1 = animelem = 19
anim = 1625
id = 1625
sprpriority = 5
postype = p2
pos = 0, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];稲妻2
type = Explod
trigger1 = animelemtime(19) = 7
anim = 1624
id = 1624
sprpriority = 6
postype = p2
pos = 0, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

;---------------------[サウンド]
[State 810, Grab Sound];電撃音
type = PlaySnd
trigger1 = animelem = 14
value = 1605, 2
channel = 6

[State 810, Grab Sound];ぶぉん
type = PlaySnd
trigger1 = animelem = 17
value = 420, 3

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 18
value = 210, 1

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 19
value = 1605, 0

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelemtime(19) = 7
value = 1605, 1

[State 810, ];ズンッ
type = PlaySnd
trigger1 = animelem = 19
value = 45, 1

[State 810, ];電撃音消去
type = stopSnd
trigger1 = animelemtime(19) = 3
channel = 6

[State 1000, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemtime(17) = 0
edge = 90,0

[State 1402, HitAdd]
type = HitAdd
trigger1 = animelem = 19
value = 1

[State 801, 2]
type = Targetlifeadd
trigger1 = animelem = 19
value = Ceil(-((65*Const(data.attack)/100)*fvar(0)))
kill = 0

;--------------------------------
[State a];フラッシュ
type = EnvColor
trigger1 = animelemtime(19) = 3
persistent = 0
ignorehitpause = 1
time = 3
value = 255,255,255
under = 2

;---------------------[相手制御]
[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(12) >= 0 && AnimElemtime(13) < 0
pos = -49, -78

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(13) >= 0 && AnimElemtime(14) < 0
pos = -41, -120

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(14) >= 0 && AnimElemtime(15) < 0
pos = -47, -99

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(15) >= 0 && AnimElemtime(16) < 0
pos = -50, -115

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(16) >= 0 && AnimElemtime(17) < 0
pos = -33, -119

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(17) >= 0 && AnimElemtime(18) < 0
pos = 6, -128

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(18) >= 0 && AnimElemtime(19) < 0
pos = 48, -84

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(19) = 0
pos = 55, 0

;------------------------------------叩きつけエフェクト
[state 4910, ]
type = Explod
triggerall = p2movetype = H
Trigger1 = AnimElemtime(19) = 0
anim = 7087
id = 7087
sprpriority = -1
postype = p2
pos = 0,0
bindtime = 1
under = 0
persistent=0
ownpal = 1

[state 4910, ]
type = Explod
triggerall = p2movetype = H
Trigger1 = AnimElemtime(19) = 0
anim = 7088
id = 7088
sprpriority = -2
postype = p2
pos = 0,0
bindtime = 1
under = 0
persistent=0
ownpal = 1

[state 4910, ]
type = Explod
triggerall = p2movetype = H
Trigger1 = AnimElemtime(19) = 0
anim = 7089
id = 7089
sprpriority = 4
postype = p2
pos = 0,0
bindtime = 1
under = 0
persistent=0
ownpal = 1

[State 1020, 4]
type = EnvShake
trigger1 = animelem = 19
time = 30
ampl = -8
freq = 150
phase = 85

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
Trigger1 = AnimElemtime(19) = 0
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0
;--------------------------------雷鳴豪破投げ二回目ここまで
;---------------------[カメラ]
[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 2000]
type = AssertSpecial
trigger1 = AnimElemtime(36) >= 0 && AnimElemtime(37) < 0
flag = NOBG
ignorehitpause = 1

[State 2000]
type = AssertSpecial
trigger1 = AnimElemtime(36) >= 0 && AnimElemtime(37) < 0
flag = NoFG
ignorehitpause = 1

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelemtime(23) = 10
time = 53
trans = none
timegap = 3
framegap = 3
length = 7
palbright = 20,20,20
palcontrast = 256,256,256
;palcontrast = 130,130,130
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;------------------------------------
[State 3040, 7]
type = EnvColor
trigger1 = animelemtime(23) = 0
persistent = 1
ignorehitpause = 1
time = 100
value = 0,0,0
under = 2

[State a]
type = EnvColor
trigger1 = animelemtime(36) = 0
persistent = 1
ignorehitpause = 1
time = 32
value = 255,255,255
under = 2

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 22
value = s2200,0

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 23
value = s105,1
volume = -250

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 23
value = s2205,0
volume = -250

[State 810, ];
type = PlaySnd
trigger1 = animelem = 26
value = s2205,1

[State 810, ];
type = PlaySnd
trigger1 = animelem = 35
value = s2200,1

[State 810, ];
type = PlaySnd
trigger1 = animelem = 36
value = s2105,0

[State 810, ];
type = PlaySnd
trigger1 = animelem = 36
value = s405,10

[State 810, ];
type = PlaySnd
trigger1 = animelem = 47
value = s201,0

[State 810, ];
type = PlaySnd
trigger1 = animelem = 48
value = s2205,2
volume = -250

[State 1402, HitAdd]
type = HitAdd
trigger1 = animelem = 36
value = 1

[State 801, 2]
type = Targetlifeadd
trigger1 = var(1) != 3
trigger1 = animelem = 36
value = Ceil(-((250*Const(data.attack)/100)*fvar(0)))

[State 801, 2]
type = Targetlifeadd
trigger1 = var(1) = 3
trigger1 = animelem = 36
value = Ceil(-((400*Const(data.attack)/100)*fvar(0)))

;羅生門相手ダウンエフェクト
[State 1000, ヘルパーを出す]
type = Helper
trigger1 = animelem = 36
name = "hit"
stateno = 4930
ID = 4930
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

;---------------------[相手制御]
[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(21) >= 0 && AnimElemtime(23) < 0
pos = 42, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(36) = 0
pos = 62, -20

;------------------------------------エフェクト
[state 4910, ]
type = Explod
trigger1 = animelemtime(21) = 1
anim = 3710
id = 3710
postype = p1
pos = 0,0
sprpriority = 6
bindtime = -1         ; -1: 永久固定
removetime = -1       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
pausemovetime = 9999

[state 4910, ]
type = Explod
trigger1 = animelemtime(21) = 1
anim = 3712
id = 3712
postype = p1
pos = 0,0
sprpriority = 1
bindtime = -1         ; -1: 永久固定
removetime = -1       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
pausemovetime = 9999

[state 4910, ]
type = Explod
trigger1 = animelem = 33
anim = 3211
id = 3211
postype = p1
pos = 0,0
sprpriority = 6
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[state 4910, ]
type = Explod
trigger1 = animelem = 36
anim = 3717
id = 3717
postype = p1
pos = 0,0
sprpriority = 6
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
pausemovetime = 9999

[state 4910, ]
type = Explod
trigger1 = facing = 1
trigger1 = animelem = 36
anim = 3215
id = 3215
postype = back
pos = 1,43
sprpriority = -2
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999
scale = 1.1,1.1
facing = 1

[state 4910, ]
type = Explod
trigger1 = facing = -1
trigger1 = animelem = 36
anim = 3216
id = 3216
postype = back
pos = -14,43
sprpriority = -2
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999
scale = 1.1,1.1
facing = -1

[state 4910, ]
type = Explod
trigger1 = animelem = 36
anim = 3715
id = 3715
postype = p1
pos = 0,0
sprpriority = 7
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[state 4910, ]
type = Explod
trigger1 = animelem = 36
anim = 3716
id = 3716
postype = p1
pos = 0,0
sprpriority = 7
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[state 4910, ]
type = Explod
trigger1 = animelem = 48
anim = 3711
id = 3711
postype = p1
pos = 0,0
sprpriority = 6
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[state 4910, ]
type = Explod
trigger1 = animelem = 48
anim = 3713
id = 3713
postype = p1
pos = 0,0
sprpriority = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1020, 4]
type = EnvShake
trigger1 = animelem = 36
time = 25
ampl = -5
freq = 95
phase = 95

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
Trigger1 = AnimElemtime(36) = 10
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1001,]
type = RemoveExplod
trigger1 = AnimElem = 48
ID = 3710

[State 1001,]
type = RemoveExplod
trigger1 = AnimElem = 48
ID = 3712

;---------------------[ステート移行]
[State 821, 3] 
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; MAX羅生門 頂上決戦版
[Statedef 3701]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = ifelse(var(1)=3,3701,3700)
ctrl     = 0
sprpriority = 1
facep2 = 1

;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = !var(20) > 0
trigger1 = time = 0
value = -3000

[state a]
type = poweradd
trigger1 = var(20) > 0
trigger1 = time = 5
value = -1000

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = !var(20) > 0
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = !var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
value = -1000

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 291 || prevstateno = 299 || (prevstateno = 270 && var(6) = 1)
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[state a]
type = varset
trigger1 = time = 5
v = 20
value = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6010
sprpriority = -9999
postype = p1
pos = -5,-80
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6011
sprpriority = 8
postype = p1
pos = -5,-80
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999
sprpriority = 5

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3000,1

;--------------------------------
[State 3000, 無敵]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 29

[State 3000, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 10,0

[State 3000, 残像]
type = AfterImage
trigger1 = time = 0
time = 1

[State 2000, 6]
type = PlaySnd
trigger1 = animelem = 3
value = 420,7

[State 800, ヒット定義（投げ用）]
type = HitDef
triggerall = !(p2stateNo = [150,155]) && p2stateNo != 40
triggerall = !var(23)
trigger1 = var(24) != 1
trigger1 = animelem = 1
attr = S, HT
hitflag = M
priority = 1, Miss
sparkno = -1
p1sprpriority = 1
p2sprpriority = 0
p1facing = 1
p2facing = 1
p1stateno = 3706
p2stateno = 3721
guard.dist = 0
fall = 1
numhits = 0

[State 1000, MoveType]
type = StateTypeSet
trigger1 = AnimElem = 8
MoveType = I

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; MAX羅生門 頂上決戦版 成功
[Statedef 3706]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = 0,0
anim     = 3706
ctrl     = 0
sprpriority = 2

[state a]
type = varset
trigger1 = time = 0
v = 20
value = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 0
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 2
anim = 6010
sprpriority = -9999
postype = p1
pos = -5,-80
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 12
anim = 6011
sprpriority = 8
postype = p1
pos = -5,-80
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999
sprpriority = 5

[State 3040, 7]
type = EnvColor
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 0
value = 3000,1

[State 1000, 物理的なキャラの幅]
type = Width
Trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(17) < 0
edge = 55,10

[State 3000, 残像]
type = AfterImage
trigger1 = time = 0
time = 1

[State 3000, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 210,PosAdd]
type = PosAdd
trigger1 = animelem = 7 || animelem = 11
x = 10

;---------------------[エフェクト]
[State explod];打撃エフェクト
type = Explod
trigger1 = animelemtime(3) = 0
anim = 7003
id = 7003
sprpriority = 5
postype = p2
pos = -10,-90
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];打撃エフェクト
type = Explod
trigger1 = animelemtime(7) = 0
anim = 7003
id = 7003
sprpriority = 5
postype = p2
pos = -14,-41
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];打撃エフェクト
type = Explod
trigger1 = animelemtime(12) = 0
anim = 7003
id = 7003
sprpriority = 5
postype = p2
pos = -20,-63
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

;------------------------------------
[State 1000, EnvShake]
type = EnvShake
trigger1 = animelem = 3 || animelem = 7 || animelem = 12
time = 5
ampl = 6
freq = 40
ignorehitpause = 1 

;---------------------[サウンド]
[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 3 || animelem = 7
value = 400, 1

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 12
value = 400, 4

[State 00];
type = PlaySnd
trigger1 = animelem = 3
value = 300,0

[State 00];
type = PlaySnd
trigger1 = animelem = 7 || animelem = 12
value = 300,1

[State 810, Grab Sound];ふっ
type = PlaySnd
trigger1 = animelem = 2
value = 200, 0

[State 810, Grab Sound];はっ
type = PlaySnd
trigger1 = animelem = 6
value = 201, 1

[State 810, Grab Sound];はあっ
type = PlaySnd
trigger1 = animelem = 11
value = 250, 0

[State 1402, HitAdd]
type = HitAdd
trigger1 = animelem = 3 || animelem = 7 || animelem = 12
value = 1

[State 801, 2]
type = Targetlifeadd
trigger1 = animelem = 3
value = Ceil(-((30*Const(data.attack)/100)*fvar(0)))
kill = 0

[State 801, 2]
type = Targetlifeadd
trigger1 = animelem = 7
value = Ceil(-((40*Const(data.attack)/100)*fvar(0)))
kill = 0

[State 801, 2]
type = Targetlifeadd
trigger1 = animelem = 12
value = Ceil(-((60*Const(data.attack)/100)*fvar(0)))
kill = 0

;---------------------[相手制御]
[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(17) < 0
pos = 52, 0;52,0

;--------------------------------
[State a];フラッシュ
type = EnvColor
trigger1 = animelemtime(3) = 1 || animelemtime(7) = 1 || animelemtime(12) = 1
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;---------------------[カメラ]
[State 1];カメラ固定
type = screenbound
trigger1 = AnimElemtime(17) >= 0
value = 1

[State 2000]
type = AssertSpecial
trigger1 = AnimElemtime(32) >= 0 && AnimElemtime(33) < 0
flag = NOBG
ignorehitpause = 1

[State 2000]
type = AssertSpecial
trigger1 = AnimElemtime(32) >= 0 && AnimElemtime(33) < 0
flag = NoFG
ignorehitpause = 1

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelemtime(19) = 10
time = 53
trans = none
timegap = 3
framegap = 3
length = 7
palbright = 20,20,20
palcontrast = 256,256,256
;palcontrast = 130,130,130
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;------------------------------------
[State 3040, 7]
type = EnvColor
trigger1 = animelemtime(19) = 0
persistent = 1
ignorehitpause = 1
time = 100
value = 0,0,0
under = 2

[State a]
type = EnvColor
trigger1 = animelemtime(32) = 0
persistent = 1
ignorehitpause = 1
time = 32
value = 255,255,255
under = 2

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 18
value = s2200,0

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 19
value = s105,1
volume = -250

[State 2000,]
type = PlaySnd
trigger1 = AnimElem = 19
value = s2205,0
volume = -250

[State 810, ];
type = PlaySnd
trigger1 = animelem = 22
value = s2205,1

[State 810, ];
type = PlaySnd
trigger1 = animelem = 31
value = s2200,1

[State 810, ];
type = PlaySnd
trigger1 = animelem = 32
value = s2105,0

[State 810, ];
type = PlaySnd
trigger1 = animelem = 32
value = s405,10

[State 810, ];
type = PlaySnd
trigger1 = animelem = 43
value = s201,0

[State 810, ];
type = PlaySnd
trigger1 = animelem = 44
value = s2205,2
volume = -250

[State 1402, HitAdd]
type = HitAdd
trigger1 = animelem = 32
value = 1

[State 801, 2]
type = Targetlifeadd
trigger1 = var(1) != 3
trigger1 = animelem = 32
value = Ceil(-((250*Const(data.attack)/100)*fvar(0)))

[State 801, 2]
type = Targetlifeadd
trigger1 = var(1) = 3
trigger1 = animelem = 32
value = Ceil(-((400*Const(data.attack)/100)*fvar(0)))

;羅生門相手ダウンエフェクト
[State 1000, ヘルパーを出す]
type = Helper
trigger1 = animelem = 32
name = "hit"
stateno = 4930
ID = 4930
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

;---------------------[相手制御]
[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(17) >= 0 && AnimElemtime(19) < 0
pos = 42, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(32) = 0
pos = 62, -20

;------------------------------------エフェクト
[state 4910, ]
type = Explod
trigger1 = animelemtime(17) = 1
anim = 3710
id = 3710
postype = p1
pos = 0,0
sprpriority = 6
bindtime = -1         ; -1: 永久固定
removetime = -1       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
pausemovetime = 9999

[state 4910, ]
type = Explod
trigger1 = animelemtime(17) = 1
anim = 3712
id = 3712
postype = p1
pos = 0,0
sprpriority = 1
bindtime = -1         ; -1: 永久固定
removetime = -1       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
pausemovetime = 9999

[state 4910, ]
type = Explod
trigger1 = animelem = 29
anim = 3211
id = 3211
postype = p1
pos = 0,0
sprpriority = 6
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[state 4910, ]
type = Explod
trigger1 = animelem = 32
anim = 3717
id = 3717
postype = p1
pos = 0,0
sprpriority = 6
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
pausemovetime = 9999

[state 4910, ]
type = Explod
trigger1 = facing = 1
trigger1 = animelem = 32
anim = 3215
id = 3215
postype = back
pos = 1,43
sprpriority = -2
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999
scale = 1.1,1.1
facing = 1

[state 4910, ]
type = Explod
trigger1 = facing = -1
trigger1 = animelem = 32
anim = 3216
id = 3216
postype = back
pos = -14,43
sprpriority = -2
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999
scale = 1.1,1.1
facing = -1

[state 4910, ]
type = Explod
trigger1 = animelem = 32
anim = 3715
id = 3715
postype = p1
pos = 0,0
sprpriority = 7
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[state 4910, ]
type = Explod
trigger1 = animelem = 32
anim = 3716
id = 3716
postype = p1
pos = 0,0
sprpriority = 7
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[state 4910, ]
type = Explod
trigger1 = animelem = 44
anim = 3711
id = 3711
postype = p1
pos = 0,0
sprpriority = 6
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[state 4910, ]
type = Explod
trigger1 = animelem = 44
anim = 3713
id = 3713
postype = p1
pos = 0,0
sprpriority = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1020, 4]
type = EnvShake
trigger1 = animelem = 32
time = 25
ampl = -5
freq = 95
phase = 95

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
Trigger1 = AnimElemtime(32) = 10
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1001,]
type = RemoveExplod
trigger1 = AnimElem = 44
ID = 3710

[State 1001,]
type = RemoveExplod
trigger1 = AnimElem = 44
ID = 3712

;---------------------[ステート移行]
[State 821, 3] 
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)MAX羅生門・掴まれ1
[Statedef 3720]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 2

;---------------------[演出]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3720

[State 200, 1];電撃やられ
type = palfx
triggerall = (time%4) = 0
Trigger1 = AnimElemtime(10) >= 0 && AnimElemtime(30) < 0
time = 4
sinadd = 180,120,120,3
add = 0,0,0
color = 0
invertall = 1
[State 200, 1]
type = palfx
trigger1 = (time%4) = 2
Trigger1 = AnimElemtime(10) >= 0 && AnimElemtime(30) < 0
time = 1
add = 127,127,127

;---------------------[向き]
[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 2100, ]
type = null;SprPriority
trigger1 = animelemtime(7) = 0
value = 6

;---------------------[移動]
[State 1033, 2]
type = VelSet
;trigger1 = time = 6
trigger1 = animelemtime(19) = 1
y = -19.2

[State 1033, 2]
type = VelAdd
trigger1 = animelemtime(19) >= 1
y = .45

;---------------------[カメラ]
[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------[ステート移行]
[State 821, 3] 
type = Changestate
trigger1 = animelemtime(20) >= 1
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -20
value = 3222

[State 865, 5]
type = SelfState
trigger1 = time >= 50
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5110

;---------------------------------------------------------------------------
;(ENEMY)MAX羅生門頂上決戦版・掴まれ1
[Statedef 3721]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 2

;---------------------[演出]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3721

;---------------------[向き]
[State 1];カメラ固定
type = screenbound
trigger1 = animelemtime(12) >= 0
value = 1
movecamera = 1

[State 2100, ]
type = null;SprPriority
trigger1 = animelemtime(7) = 0
value = 6

;---------------------[移動]
[State 1033, 2]
type = VelSet
;trigger1 = time = 6
trigger1 = animelemtime(12) = 1
y = -18.9

[State 1033, 2]
type = VelAdd
trigger1 = animelemtime(12) >= 1
y = .45

;---------------------[カメラ]
[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------[ステート移行]
[State 821, 3] 
type = Changestate
trigger1 = animelemtime(13) >= 1
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -20
value = 3222

[State 865, 5]
type = SelfState
trigger1 = time >= 50
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5110

;---------------------------------------------------------------------------
; 阿修羅疾風拳
[Statedef 3800]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 0
poweradd= 0
anim = 3800
ctrl = 0
sprpriority = 1

;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = !var(20) > 0
trigger1 = time = 0
value = -3000

[state a]
type = poweradd
trigger1 = var(20) > 0
trigger1 = time = 5
value = -1000

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = var(1) != 3
trigger1 = time = 0
value = SCA
time = 34

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = var(1) = 3
trigger1 = time = 0
value = SCA
time = 45

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = !var(20) > 0
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = !var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
value = -1000

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[state a]
type = varset
trigger1 = time = 5
v = 20
value = 0

;--------------------------------
[State 3000, Pos]
type = PosSet
trigger1 = time = 0
y = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6010
sprpriority = -9999
postype = p1
pos = -12,-78
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6011
sprpriority = 3
postype = p1
pos = -12,-78
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

;---------------------[効果音]
[State 2000, 6];
type = PlaySnd
trigger1 = time = 3
value = 3000,1

[State a];
type = PlaySnd
trigger1 = animelem = 5
value = 1305, 0

[State a];
type = PlaySnd
trigger1 = animelem = 6
value = 1210, 1

[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 6
value = 1305,1

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 2
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 15,0

;---------------------[移動]
[state a];
type = velset
trigger1 = var(1) != 3
trigger1 = animelemtime(6) = 0; && animelemtime(10) < 0
x = 12.5

[state a];
type = velset
trigger1 = var(1) = 3
trigger1 = animelemtime(6) = 0; && animelemtime(10) < 0
x = 15.5

[state a]
type = velset
trigger1 = animelem = 17
x = 0

;--------------------------------
[State a]
type = EnvColor
triggerall = movehit
trigger1 = animelemtime(5) >= 0
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;--------------------------------
[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 6
attr = A, HA
animtype  = hard
damage    = 20, 0
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 11,10
sparkxy = -10,-56
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400,1
guardsound = s120,1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = 0, 0
guard.ctrltime = 28
air.velocity = 0, 0
guard.velocity = -11.2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p1facing = 1
p2facing = 1
forcestand = 1    ;強制立たせ
;numhits = 0
id = 3800
;nochainid = 290, 1300
kill = 0
palfx.time = 45
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1

;-------------------------------------
[State 20] ;ヒット時の相手動作
type = targetState
trigger1 = movehit && NumTarget(3800)
value = 3820
ctrl = 0
IgnoreHitPause = 1
Persistent = 0

[State ,ChangeState];ヒット時のこちらの動作
type = ChangeState
trigger1 = numtarget(3800)
trigger1 = target(3800),stateno = 3820
value = 3801
ignorehitpause = 1

;燃え小エフェクト 紫
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = movehit = 1
name = "hit"
stateno = 4910
ID = 4910
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 4
persistent = 0
anim = 1414
ID = 1414
postype = P1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -1       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1100, エフェクト表示]
type = Explod
trigger1 = !movecontact
trigger1 = time = 36 || time = 42 || time = 48 || time = 54
anim = 1406
postype = P1
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 0    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 14
persistent = 0
anim = 1417
postype = P1
pos = 0,0
sprpriority = 0
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 14
Movetype = I
physics = S

[state a]
type = removeexplod
trigger1 = animelem = 4
id = 3810

[state a]
type = removeexplod
trigger1 = animelem = 14
trigger2 = movecontact
id = 1414

[State 3000, ステート変更];終了
type = ChangeState
trigger1 = moveguarded
value = 3805

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 16
time = 1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[立ちステート]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 阿修羅疾風拳1 追加攻撃
[Statedef 3801]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
ctrl     = 0
velset   = 11,0
anim     = 3801
sprpriority = 5

;---------------------[相手制御]
[State 810, 3]
type = TargetBind
;Trigger1 = AnimElemtime(1) >= 0
Trigger1 = AnimElemtime(3) < 0
pos = 42, 0

;---------------------[効果音]
[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 3
value = 1600,3

[State a];
type = PlaySnd
trigger1 = animelem = 13
value = 420, 10

[State a];
type = PlaySnd
trigger1 = AnimElem = 13 || AnimElem = 15 || AnimElem = 18 || AnimElem = 20 || AnimElem = 23
trigger2 = AnimElem = 25 || AnimElem = 28 || AnimElem = 30 || AnimElem = 33 || AnimElem = 35
value = 1210, 1

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[state a]
type = removeexplod
trigger1 = time = 0
id = 1414

[State 1000, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemtime(1) > 0 && AnimElemtime(13) < 0
edge = 50,0

[State 250, Vel]
type = VelSet
trigger1 = animelem = 10
x = 3.5
y = -4.5

[State 250, Vel]
type = VelSet
trigger1 = animelem = 36
x = -3.5
y = -7.5

[State 250, Vel]
type = VelSet
trigger1 = AnimElemtime(13) > 0 && AnimElemtime(36) < 0
x = 0
y = 0

[State 250, Vel]
type = PosFreeze
trigger1 = AnimElemtime(13) > 0 && AnimElemtime(36) < 0
value = 1

[State 250, Vel]
type = VelAdd
trigger1 = animelemtime(10) > 0
y = .5

[State 250, StateTypeSet];状態：空中に
type = StateTypeSet
trigger1 = animelem = 3
StateType = A
Physics = N

[State 2100,]
type = Envcolor
trigger1 = Movehit
time = 1
value = 255,255,255
under = 0
persistent = 0
ignorehitpause = 1

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = AnimElem = 3
attr = S, HA
damage    = 40,8
getpower = 0
givepower = 10,10
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 11,10
sparkno = s7002
guard.sparkno = s7012
sparkxy = -25, -70
hitsound = s405,10
guardsound = s120,1
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4,-7
air.velocity = -4,-7
air.type = High
air.velocity = 0,0
yaccel = .55
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
guard.hittime = 17
envshake.time = 25
envshake.freq = 90
envshake.ampl = -3
envshake.phase = -2
ID = 3801
kill = 0
palfx.time = 43
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1

[state 1900, TargetState];通常ヒットはすべりダウン
type = TargetState
trigger1 = NumTarget(3801)
trigger1 = MoveHit = 1
value = 3821
persistent = 0
ignorehitpause = 1

;燃え小エフェクト 紫
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = movehit = 1
name = "hit"
stateno = 4910
ID = 4910
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1

;すべりダウンエフェクト
[State 1000, ヘルパーを出す]
type = Helper
trigger1 = NumTarget(3801)
trigger1 = MoveHit
name = "hit"
stateno = 4925
ID = 4925
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = MoveHit = 5
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 1
persistent = 0
anim = 1415
;ID = 1415
postype = P1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 3
persistent = 0
anim = 1416
postype = P1
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = 3         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 0    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 801, Explod];
type = Explod
triggerall = stateno = 3801 && statetype = A
trigger1 = AnimElem = 13 || AnimElem = 18 || AnimElem = 23 || AnimElem = 28 || AnimElem = 33
anim = 1170
ID = 1170
postype = p1
pos = -5, 10
facing = 1
sprpriority = 3       ; 表示優先度
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999
removeongethit = 1

[State 801, Explod];
type = Explod
triggerall = stateno = 3801 && statetype = A
trigger1 = AnimElem = 15 || AnimElem = 20 || AnimElem = 25 || AnimElem = 30 || AnimElem = 23
anim = 1171
ID = 1171
postype = p1
pos = 0, 0
facing = 1
sprpriority = 3       ; 表示優先度
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999
removeongethit = 1

;---------------------[飛び道具判定]
[State 1000, ヘルパーを出す]
type = helper
triggerall = stateno = 3801 && statetype = A
trigger1 = AnimElem = 13 || AnimElem = 15 || AnimElem = 18 || AnimElem = 20 || AnimElem = 23
trigger2 = AnimElem = 25 || AnimElem = 28 || AnimElem = 30 || AnimElem = 33
stateno = 3806
id = 3806
name = "shippuuken"
pos = 47,-48
postype = P1
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
;persistent = 0

[State 1000, ヘルパーを出す]
type = helper
triggerall = stateno = 3801 && statetype = A
trigger1 = AnimElem = 35
stateno = 3806
id = 3807
name = "shippuuken"
pos = 47,-48
postype = P1
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
;persistent = 0

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
triggerall = stateno = 3801 && statetype = A
trigger1 = animelemtime(36) = 1
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1000, ステート変更];着地
type = ChangeState
trigger1 = var(1)!=3
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3804

[State 250, ChangeState];着地
type = ChangeState
trigger1 = var(1)=3
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
; 阿修羅疾風拳2
[Statedef 3802]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 0
poweradd= 0
anim = 3800
ctrl = 0
sprpriority = 1

;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = !var(20) > 0
trigger1 = time = 0
value = -3000

[state a]
type = poweradd
trigger1 = var(20) > 0
trigger1 = time = 5
value = -1000

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = var(1) != 3
trigger1 = time = 0
value = SCA
time = 34

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = var(1) = 3
trigger1 = time = 0
value = SCA
time = 45

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = !var(20) > 0
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = !var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
value = -1000

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[state a]
type = varset
trigger1 = time = 5
v = 20
value = 0

;--------------------------------
[State 3000, Pos]
type = PosSet
trigger1 = time = 0
y = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6010
sprpriority = -9999
postype = p1
pos = -12,-78
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6011
sprpriority = 3
postype = p1
pos = -12,-78
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

;---------------------[効果音]
[State 2000, 6];
type = PlaySnd
trigger1 = time = 3
value = 3000,1

[State a];
type = PlaySnd
trigger1 = animelem = 5
value = 1305, 0

[State a];
type = PlaySnd
trigger1 = animelem = 6
value = 1210, 1

[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 6
value = 1305,1

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 2
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 15,0

;---------------------[移動]
[state a];
type = velset
trigger1 = var(1) != 3
trigger1 = animelemtime(6) = 0; && animelemtime(10) < 0
x = 12.5

[state a];
type = velset
trigger1 = var(1) = 3
trigger1 = animelemtime(6) = 0; && animelemtime(10) < 0
x = 15.5

[state a]
type = velset
trigger1 = animelem = 17
x = 0

;--------------------------------
[State a]
type = EnvColor
triggerall = movehit
trigger1 = animelemtime(5) >= 0
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;--------------------------------
[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 6
attr = A, HA
animtype  = hard
damage    = 20, 0
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 11,10
sparkxy = -10,-56
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400,1
guardsound = s120,1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = 0, 0
guard.ctrltime = 28
air.velocity = 0, 0
guard.velocity = -11.2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .47
;air.fall = 1
;fall.recover = 0
p1facing = 1
p2facing = 1
forcestand = 1    ;強制立たせ
;numhits = 0
id = 3802
;nochainid = 290, 1300
kill = 0
palfx.time = 25
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1

;-------------------------------------
[State 20] ;ヒット時の相手動作
type = targetState
trigger1 = movehit && NumTarget(3802)
value = 3820
ctrl = 0
IgnoreHitPause = 1
Persistent = 0

[State ,ChangeState];ヒット時のこちらの動作
type = ChangeState
trigger1 = numtarget(3802)
trigger1 = target(3802),stateno = 3820
value = 3803
ignorehitpause = 1

;燃え小エフェクト 紫
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = movehit = 1
name = "hit"
stateno = 4910
ID = 4910
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 4
persistent = 0
anim = 1414
ID = 1414
postype = P1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -1       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1100, エフェクト表示]
type = Explod
trigger1 = !movecontact
trigger1 = time = 36 || time = 42 || time = 48 || time = 54
anim = 1406
postype = P1
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 0    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 14
persistent = 0
anim = 1417
postype = P1
pos = 0,0
sprpriority = 0
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 14
Movetype = I
physics = S

[state a]
type = removeexplod
trigger1 = animelem = 4
id = 3810

[state a]
type = removeexplod
trigger1 = animelem = 14
trigger2 = movecontact
id = 1414

[State 3000, ステート変更];終了
type = ChangeState
trigger1 = moveguarded
value = 3805

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 16
time = 1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[立ちステート]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 阿修羅疾風拳2 追加攻撃
[Statedef 3803]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
ctrl     = 0
velset   = 11,0
anim     = 3803
sprpriority = 5

;---------------------[相手制御]
[State 810, 3]
type = TargetBind
;Trigger1 = AnimElemtime(1) >= 0
Trigger1 = AnimElemtime(3) < 0
pos = 42, 0

;---------------------[効果音]
[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 3
value = 1600,3

[State a];
type = PlaySnd
trigger1 = animelem = 13
value = 750, 0

[State a];
type = PlaySnd
trigger1 = animelem = 34
value = 250, 0

[State a];
type = PlaySnd
trigger1 = animelem = 14 || animelem = 16 || animelem = 18 || animelem = 20 || animelem = 22
trigger2 = animelem = 24 || animelem = 26 || animelem = 28 || animelem = 30 || animelem = 34
value = 1210, 0

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[state a]
type = removeexplod
trigger1 = time = 0
id = 1414

[State 1000, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemtime(1) > 0 && AnimElemtime(13) < 0
edge = 50,0

[State 250, Vel]
type = VelSet
trigger1 = animelem = 10
x = 3.5
y = -4.5

[State 250, Vel]
type = VelSet
trigger1 = animelem = 34
x = -3.5
y = -7.5

[State 250, Vel]
type = VelSet
trigger1 = AnimElemtime(13) > 0 && AnimElemtime(34) < 0
x = 0
y = 0

[State 250, Vel]
type = PosFreeze
trigger1 = AnimElemtime(13) > 0 && AnimElemtime(34) < 0
value = 1

[State 250, Vel]
type = VelAdd
trigger1 = animelemtime(10) > 0
y = .5

[State 250, StateTypeSet];状態：空中に
type = StateTypeSet
trigger1 = animelem = 3
StateType = A
Physics = N

[State 2100,]
type = Envcolor
trigger1 = Movehit
time = 1
value = 255,255,255
under = 0
persistent = 0
ignorehitpause = 1

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = AnimElem = 3
attr = S, HA
damage    = 40,8
getpower = 0
givepower = 10,10
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 11,10
sparkno = s7002
guard.sparkno = s7012
sparkxy = -25, -70
hitsound = s405,10
guardsound = s120,1
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = -4,-7
air.velocity = -4,-7
air.type = High
air.velocity = 0,0
yaccel = .55
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  -17.2
air.cornerpush.veloff = 0
guard.hittime = 17
envshake.time = 25
envshake.freq = 90
envshake.ampl = -3
envshake.phase = -2
ID = 3801
kill = 0
palfx.time = 43
palfx.add = 50,0,170
palfx.mul = 170,170,170
palfx.sinadd = 95,95,95,15
palfx.color = 0
palfx.invertall = 1

[state 1900, TargetState];通常ヒットはすべりダウン
type = TargetState
trigger1 = NumTarget(3801)
trigger1 = MoveHit = 1
value = 3821
persistent = 0
ignorehitpause = 1

;燃え小エフェクト 紫
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = movehit = 1
name = "hit"
stateno = 4910
ID = 4910
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1

;すべりダウンエフェクト
[State 1000, ヘルパーを出す]
type = Helper
trigger1 = NumTarget(3801)
trigger1 = MoveHit
name = "hit"
stateno = 4925
ID = 4925
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = MoveHit = 5
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 1
persistent = 0
anim = 1415
;ID = 1415
postype = P1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 3
persistent = 0
anim = 1416
postype = P1
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = 3         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 0    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

;---------------------[飛び道具判定]
[State 1000, ヘルパーを出す]
type = helper
triggerall = stateno = 3803 && statetype = A
trigger1 = animelem = 14 || animelem = 16 || animelem = 18 || animelem = 20 || animelem = 22
trigger2 = animelem = 24 || animelem = 26 || animelem = 28 || animelem = 30
stateno = 3808
id = 3806
name = "shippuuken"
pos = 57,-48
postype = P1
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
;persistent = 0

[State 1000, ヘルパーを出す]
type = helper
triggerall = stateno = 3803 && statetype = A
triggerall = stateno = 3803
trigger1 = AnimElem = 34
stateno = 3808
id = 3807
name = "shippuuken"
pos = 57,-48
postype = P1
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
;persistent = 0

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
triggerall = stateno = 3803 && statetype = A
trigger1 = animelemtime(34) = 1
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1000, ステート変更];着地
type = ChangeState
trigger1 = var(1)!=3
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3804

[State 250, ChangeState];着地
type = ChangeState
trigger1 = var(1)=3
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52

;---------------------------------------------------------------------------
;阿修羅疾風拳着地
[Statedef 3804]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 3804
ctrl     = 0
sprpriority = 2

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelemtime(3) = 3
time = 1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 1311, Pos]
type = Posset
trigger1 = time = 0
y = 0

[State 700, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 41,0

[State 1311, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(HELPER)阿修羅疾風拳1・ヘルパー
[Statedef 3806]
type     = A
movetype = A
physics  = N
ctrl     = 0
anim     = 3810
sprpriority = 5

[State 1000, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1000, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;影を消す

;---------------------[補正]
[state a]
type = attackmulset
trigger1 = 1
value = root,fvar(0)

[state 1000, VelSet]
type = VelSet
trigger1 = time = 0
x = 6.5
y = 6.5

[State 2100,]
type = Envcolor
trigger1 = Movehit = 1
time = 1
value = 255,255,255
under = 0

[State 1000, ヒット定義]
type = HitDef
triggerall = !root,var(7)
triggerall = P2Stateno = 3823 || P2Stateno = 294
trigger1 = Numhelper(3806)
trigger1 = ishelper(3806)
trigger1 = animelem = 1
attr = A, HP
damage    = ifelse(p2movetype=A,(30*125/100),30),8
getpower = 0
givepower = 10,10
animtype = Hard
guardflag = MA
hitflag = MAFDL
priority = 4, Hit
pausetime = 2,10
sparkno = s7003
guard.sparkno = s7012
sparkxy = -10,0
hitsound = s405,10
guardsound = s120,1
ground.type = Low
ground.hittime = 19
ground.slidetime = 19
ground.velocity = -11.2
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
guard.hittime = 17
ID = 3806
envshake.time = 5
envshake.freq = 40
envshake.ampl = 6;-3
envshake.phase = -2
kill = 0
p2stateno = 3823

[state 1900, TargetState];ダウンやられ
type = TargetState
trigger1 = NumTarget(3806)
trigger1 = MoveHit = 1
value = 3823
persistent = 0
ignorehitpause = 1

[State 1000, ヒット定義]
type = HitDef
triggerall = !root,var(7)
triggerall = P2Stateno = 3823
trigger1 = Numhelper(3807)
trigger1 = ishelper(3807)
trigger1 = animelem = 1
attr = A, HP
damage    = ifelse(p2movetype=A,(40*125/100),40),8
getpower = 0
givepower = 10,10
animtype = Hard
guardflag = MA
hitflag = MAFDL
priority = 4, Hit
pausetime = 2,10
sparkno = s7003
guard.sparkno = s7012
sparkxy = 0,0
hitsound = s405,10
guardsound = s120,1
ground.type = Low
ground.hittime = 19
ground.slidetime = 19
ground.velocity = -4,-7
air.velocity = -4,-7
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
ID = 3807
envshake.time = 30
envshake.freq = 90
envshake.ampl = 4;-3
envshake.phase = -2

[state 8008]
type = ChangeState
trigger1 = Movecontact
trigger2 = Pos Y >= 0
value = 3809

;---------------------------------------------------------------------------
;(HELPER)阿修羅疾風拳2・ヘルパー
[Statedef 3808]
type     = A
movetype = A
physics  = N
ctrl     = 0
anim     = 3811
sprpriority = 5

[State 1000, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1000, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;影を消す

;---------------------[補正]
[state a]
type = attackmulset
trigger1 = 1
value = root,fvar(0)

[state 1000, VelSet]
type = VelSet
trigger1 = time = 0
x = 6.5
y = 6.5

[State 2100,]
type = Envcolor
trigger1 = Movehit = 1
time = 1
value = 255,255,255
under = 0

[State 1000, ヒット定義]
type = HitDef
triggerall = !root,var(7)
triggerall = P2Stateno = 3823 || P2Stateno = 294
trigger1 = Numhelper(3806)
trigger1 = ishelper(3806)
trigger1 = animelem = 1
attr = A, HP
damage    = ifelse(p2movetype=A,(30*125/100),30),8
getpower = 0
givepower = 10,10
animtype = Hard
guardflag = MA
hitflag = MAFDL
priority = 4, Hit
pausetime = 2,10
sparkno = s7003
guard.sparkno = s7012
sparkxy = -10,0
hitsound = s400,1
guardsound = s120,1
ground.type = Low
ground.hittime = 19
ground.slidetime = 19
ground.velocity = -11.2
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
guard.hittime = 17
ID = 3806
envshake.time = 5
envshake.freq = 30
envshake.ampl = 4;-3
envshake.phase = -2
kill = 0
p2stateno = 3823

[state 1900, TargetState];ダウンやられ
type = TargetState
trigger1 = NumTarget(3806)
trigger1 = MoveHit = 1
value = 3823
persistent = 0
ignorehitpause = 1

[State 1000, ヒット定義]
type = HitDef
triggerall = !root,var(7)
triggerall = P2Stateno = 3823
trigger1 = Numhelper(3807)
trigger1 = ishelper(3807)
trigger1 = animelem = 1
attr = A, HP
damage    = ifelse(p2movetype=A,(40*125/100),40),8
getpower = 0
givepower = 10,10
animtype = Hard
guardflag = MA
hitflag = MAFDL
priority = 4, Hit
pausetime = 2,10
sparkno = s7003
guard.sparkno = s7012
sparkxy = 0,0
hitsound = s400,4
guardsound = s120,1
ground.type = Low
ground.hittime = 19
ground.slidetime = 19
ground.velocity = -4,-7
air.velocity = -4,-7
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
ID = 3807
envshake.time = 30
envshake.freq = 90
envshake.ampl = 4;-3
envshake.phase = -2

[state 8008]
type = ChangeState
trigger1 = Movecontact
trigger2 = Pos Y >= 0
value = 3809

;---------------------------------------------------------------------------
; ヘルパー消滅

[Statedef 3809]
type     = S
movetype = I
physics  = N
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 1177
ctrl     = 0
sprpriority = 0

[State 3000, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 191, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3000, このヘルパーを消す]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
;阿修羅疾風拳ガード派生
[Statedef 3805]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 9,0
anim     = ifelse(var(1)=3,3806,3805)
ctrl     = 0
sprpriority = 2

;---------------------[エフェクト消去]
[state a]
type = removeexplod
trigger1 = time = 0
id = 1414

[State a];すざー
type = PlaySnd
trigger1 = animelem = 1
value = 301, 0

[state a]
type = velset
trigger1 = animelem = 4
x = 0

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 3
time = 1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 1
persistent = 0
anim = 1417
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 1311, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; (相手)ロック技上段やられ
[Statedef 3820]
type    = S
movetype= H
physics = N
velset = 0,0
;facep2 = 1

;---------------------------------------------
[State 1050, SelfState];Helperは返却
type = SelfState
trigger1 = ishelper
value = PrevStateNo
;---------------------------------------------

[State 1000, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 3130

[State 1000, Pos]
type = VelSet
trigger1 = time = 0
y = 0

[State 1000, Pos]
type = PosSet
trigger1 = time = 0
y = 0

[State 3000, SelfState]
type = SelfState
trigger1 = time = 50
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; すべりダウン
;相手阿修羅疾風拳やられ1
[Statedef 3821]
type    = A
movetype= H
physics = N
velset = 0,0

[state a]
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0
;--------------------------------
[State 3000, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------------------------------
[state 1050, SelfState];Helperは返却
type = SelfState
trigger1 = ishelper
value = PrevStateNo
;---------------------------------------------

[State 820, 1]
type = PosFreeze
trigger1 = Time >= 0
trigger1 = Time < 10
value = 1

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3820

[State 810, 1]
type = PlayerPush
trigger1 = 1
value = 1

[State 810, vel]
type = VelSet
trigger1 = animelemtime(1) = 10
x = -7.3
y = -3.7

[State 810, vel]
type = VelAdd
trigger1 = animelemtime(1) >= 10
y = .45

[State 810, 1]
type = ChangeState
Trigger1 = animelemtime(1) >= 11
Trigger1 = Pos Y >= 0 && Vel Y > 0
value = 294

;---------------------------------------------------------------------------
; すべりダウン
;相手阿修羅疾風拳やられ2
[Statedef 3822]
type    = L
movetype= H
physics = N
velset = 0,0

;---------------------------------------------
[state 1050, SelfState];Helperは返却
type = SelfState
trigger1 = ishelper
value = PrevStateNo
;---------------------------------------------

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3821

[State 810, 1]
type = PlayerPush
trigger1 = 1
value = 1

[State 1000, Vel]
type = VelSet
trigger1 = animelem = 1
x = -3.5

[State 1000, Vel]
type = VelSet
trigger1 = animelem = 2
x = 0

[State 810, vel]
type = VelAdd
trigger1 = animelemtime(1)>=0
trigger1 = animelemtime(2)<0
x = 0.15

[State 810, vel]
type = PosSet
Trigger1 = Pos Y >= 0
y = 0

[State 865, 5]
type = SelfState
trigger1 = AnimTime = 0
value = 5120 + (!alive)*30

;---------------------------------------------------------------------------
; 疾風拳やられ
;相手阿修羅疾風拳やられ3
[Statedef 3823]
type    = L
movetype= H
physics = N
velset = 0,0

;---------------------------------------------
[state 1050, SelfState];Helperは返却
type = SelfState
trigger1 = ishelper
value = PrevStateNo
;---------------------------------------------

[State 810, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3822

[State 810, 1]
type = PlayerPush
trigger1 = 1
value = 1

[State 810, vel]
type = PosSet
Trigger1 = Pos Y >= 0
y = 0

[State 865, 5]
type = SelfState
trigger1 = AnimTime = 0
value = 5120 + (!alive)*30

;---------------------------------------------------------------------------
; 潜在レイジングストーム1
[Statedef 3900]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 0
poweradd= 0
anim = ifelse(var(1)=3,3906,3900)
ctrl = 0
sprpriority = 1

;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = !var(20) > 0
trigger1 = time = 0
value = -3000

[state a]
type = poweradd
trigger1 = var(20) > 0
trigger1 = time = 5
value = -1000

[State 1120, 全身無敵]
type = NotHitBy
triggerall = var(1) != 3
trigger1 = time = 0
value = SCA
time = 40

[State 1120, 全身無敵]
type = NotHitBy
triggerall = var(1) = 3
trigger1 = time = 0
value = SCA
time = 50

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = !var(20) > 0
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = !var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,14012]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
value = -1000

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[state a]
type = varset
trigger1 = time = 5
v = 20
value = 0

;--------------------------------
[State 3000, Pos]
type = PosSet
trigger1 = time = 0
y = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6010
sprpriority = -9999
postype = p1
pos = -12,-78
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6011
sprpriority = 3
postype = p1
pos = -12,-78
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

;---------------------[効果音]
[State 2000, 6];
type = PlaySnd
trigger1 = time = 3
value = 3000,1

[State 2000, 6];
type = PlaySnd
trigger1 = animelem = 5
value = 1210,01

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 2
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 15,0

;---------------------[移動]
[state a];
type = velset
trigger1 = animelemtime(5) = 0; && animelemtime(10) < 0
x = 12.5

[state a]
type = velset
trigger1 = animelem = 14
x = 0

;--------------------------------
[State a]
type = EnvColor
triggerall = movehit
trigger1 = animelemtime(5) >= 0
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;--------------------------------
[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 5
attr = A, HA
animtype  = hard
damage    = 15, 8
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 10,11
sparkxy = -10,-56
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400,1
guardsound = s120,1
ground.type = high
ground.slidetime = 30
ground.hittime   = 30
ground.velocity  = 0
air.type = High
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
ID = 3900
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  0
air.cornerpush.veloff = 0
guard.hittime = 17
id = 3900
;nochainid = 290, 1300
;kill = 0

;-------------------------------------
[State ,ChangeState];ヒット時のこちらの動作
type = ChangeState
trigger1 = movecontact && stateno = 3900
trigger1 = command = "holddown"
trigger1 = Command = "y"
value = 3902
ignorehitpause = 1

[State 3000, ステート変更];終了
type = ChangeState
trigger1 = movecontact
value = 3901

[State 1100, エフェクト表示]
type = Explod
trigger1 = !movecontact
trigger1 = time = 36 || time = 42 || time = 48 || time = 54
anim = 1406
postype = P1
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 0    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 11
Movetype = I
physics = S

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 14
time = 1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[立ちステート]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;潜在レイジングストーム1ヒットorガード派生
[Statedef 3901]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 9,0
anim     = 3901
ctrl     = 0
sprpriority = 2

;---------------------[エフェクト消去]
[State a];すざー
type = PlaySnd
trigger1 = animelem = 1
value = 301, 0

[state a]
type = velset
trigger1 = animelem = 4
x = 0
;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 4
time = 1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 1311, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 潜在レイジングストーム2
[Statedef 3902]
type    = S
movetype= A
physics = S
;velset = 0,0
juggle = 0
poweradd= 0
anim = 3902
ctrl = 0
sprpriority = 1

[State 00];
type = PlaySnd
trigger1 = animelem = 5
value = 300,0

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 15,0

;--------------------------------
[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;--------------------------------
[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 6
attr = A, HA
animtype  = hard
damage    = 10, 8
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 10,11
sparkxy = -15,-87
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400,1
guardsound = s120,1
ground.type = high
ground.slidetime = ifelse(var(1)=3,40,30)
ground.hittime   = ifelse(var(1)=3,40,30)
ground.velocity  = 0
air.type = High
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
ID = 3900
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  0
air.cornerpush.veloff = 0
guard.hittime = 17
id = 3900
;nochainid = 290, 1300
;kill = 0
envshake.time = 5
envshake.freq = 40
envshake.ampl = 6;-3
envshake.phase = -2

;-------------------------------------
[State ,ChangeState];ヒット時のこちらの動作
type = ChangeState
trigger1 = animelemtime(8) < 0
trigger1 = movecontact && stateno = 3902
trigger1 = Command = "y"
trigger1 = command != "holddown"
value = 3903
ignorehitpause = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 8
Movetype = I
physics = S

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 11
time = 1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[立ちステート]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 潜在レイジングストーム3
[Statedef 3903]
type    = S
movetype= A
physics = S
velset = 0,0
juggle = 0
poweradd= 0
anim = 3903
ctrl = 0
sprpriority = 1

[State 00];
type = PlaySnd
trigger1 = animelem = 6
value = 300,0

[State 250, Vel]
type = VelSet
trigger1 = animelem = 4
x = 10

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 15,0

;--------------------------------
[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;--------------------------------
[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 6
attr = A, HA
animtype  = hard
damage    = 10, 8
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 5,6
sparkxy = -24,-62
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400,1
guardsound = s120,1
ground.type = low
ground.slidetime = ifelse(var(1)=3,46,36)
ground.hittime   = ifelse(var(1)=3,46,36)
ground.velocity  = 0
air.type = High
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
ID = 3900
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  0
air.cornerpush.veloff = 0
guard.hittime = 17
id = 3900
;nochainid = 290, 1300
;kill = 0
envshake.time = 5
envshake.freq = 40
envshake.ampl = 6;-3
envshake.phase = -2

;-------------------------------------
[State ,ChangeState];ヒット時のこちらの動作
type = ChangeState
trigger1 = animelemtime(8) < 0
trigger1 = movecontact && stateno = 3903
trigger1 = Command = "2146yb"
value = 3904
ignorehitpause = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 7
Movetype = I
physics = S

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 9
time = 1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[立ちステート]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 潜在レイジングストーム4
[Statedef 3904]
type    = S
movetype= A
physics = S
velset = 0,0
juggle = 0
poweradd= 0
anim = 3904
ctrl = 0
sprpriority = 1

[State 00];
type = PlaySnd
trigger1 = animelem = 5
value = 300,0

[State 250, Vel]
type = VelSet
trigger1 = animelem = 3
x = 7.0

[State 700,Veladd]
type = Veladd
trigger1 = AnimElemtime(3) >= 0 && AnimElemtime(10) < 0 
x = -0.24

[State 250, Vel]
type = VelSet
trigger1 = animelem = 10
x = 0

[State 250, StateTypeSet];状態
type = StateTypeSet
trigger1 = animelem = 3
Physics = N

[State 250, StateTypeSet];状態
type = StateTypeSet
trigger1 = animelem = 10
Physics = S

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 15,0

;--------------------------------
[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;--------------------------------
[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 6
attr = A, HA
animtype  = hard
damage    = 20, 8
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 7,8
sparkxy = -20,-72
sparkno = s7003
guard.sparkno = s7011
hitsound   = s400,4
guardsound = s120,1
ground.type = high
ground.slidetime = 30
ground.hittime   = 30
ground.velocity  = 0
air.type = High
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
ID = 3904
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  0
air.cornerpush.veloff = 0
guard.hittime = 17
p1facing = 1
p2facing = 1
forcestand = 1    ;強制立たせ
;numhits = 0
id = 3900
;nochainid = 290, 1300
kill = 0
envshake.time = 5
envshake.freq = 40
envshake.ampl = 6;-3
envshake.phase = -2

;-------------------------------------
[State 20] ;ヒット時の相手動作
type = targetState
trigger1 = movehit && NumTarget(3904)
value = 3920
ctrl = 0
IgnoreHitPause = 1
Persistent     = 0

[State ,ChangeState];ヒット時のこちらの動作
type = ChangeState
trigger1 = NumTarget
trigger1 = Target,StateNo = [3920,3925]
trigger1 = animelemtime(11) >= 0
trigger1 = movehit && stateno = 3904
value = 3905
ignorehitpause = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 8
Movetype = I
physics = S

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 11
time = 1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[立ちステート]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 潜在レイジングストーム5
[Statedef 3905]
type    = S
movetype= A
physics = S
velset = 0,0
juggle = 0
poweradd= 0
anim = ifelse(var(1)=3,3907,3905)
ctrl = 0
sprpriority = 2

;--------------------------------
[State 3000, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3000, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 10,0

[State 3000, 残像]
type = AfterImage
trigger1 = time = 0
time = 1

;--------------------------------[音声用]
[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = s2000,6

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 11
value = s2005,0

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 7
anim = 3910
persistent = 0
postype = P1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
pausemovetime = 2

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 9
anim = 3911
persistent = 0
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 9
anim = 3912
persistent = 0
postype = P1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

;--------------------------------
[State 2000, 振動]
type = EnvShake
trigger1 = animelem = 9
time = 42
ampl = -5
freq = 99
phase = 99

[State 2000, フラッシュ]
type = EnvColor
trigger1 = animelem = 12
trigger2 = animelem = 24
time = 2
value = 255,255,255
under = 1
ignorehitpause = 1

[State a]
type = EnvColor
trigger1 = (ProjHitTime(3913)=1)
trigger2 = (ProjHitTime(3914)=1)
;persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;---------------------[攻撃]
[State 1000, Proj]
type = Projectile
trigger1 = var(1) != 3
trigger1 = animelemtime(10)=2
projID = 3913					; ProjID
projanim = 3913					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 33
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 335, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 1000, Proj]
type = Projectile
trigger1 = var(1) != 3
trigger1 = animelemtime(14)=2 || animelemtime(18)=2 || animelemtime(22)=2
projID = 3913					; ProjID
projanim = 3913					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 5
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 40, 11
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MA
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 72, -95
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 1000, Proj]
type = Projectile
trigger1 = var(1) = 3
trigger1 = animelemtime(10)=2
projID = 3914					; ProjID
projanim = 3913					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 33
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 335, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 1000, Proj]
type = Projectile
trigger1 = var(1) = 3
trigger1 = animelemtime(14)=2 || animelemtime(18)=2 || animelemtime(22)=2
projID = 3914					; ProjID
projanim = 3913					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 5
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 40, 11
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MA
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 72, -95
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 20] ;地上ヒット時の相手動作
type = targetState
trigger1 = (ProjHitTime(3913)=1)
value = 3311
ctrl = 0
IgnoreHitPause = 1
;Persistent     = 0

[State 20] ;地上ヒット時の相手動作
type = targetState
trigger1 = (ProjHitTime(3914)=1)
value = 3060
ctrl = 0
IgnoreHitPause = 1
;Persistent     = 0

;叩きつけエフェクト
[State 1000, ヘルパーを出す]
type = Helper
trigger1 = (ProjHitTime(3913)=1)
trigger2 = (ProjHitTime(3914)=1)
name = "hit"
stateno = 4920
ID = 4920
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = (ProjHitTime(3913)=1)
trigger2 = (ProjHitTime(3914)=1)
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 41
Movetype = I

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 42
time = 1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 1640, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;相手 地上叩きつけやられ1
[Statedef 3920]
type    = A
movetype= H
physics = N
;velset = -3,10.5
velset = 0,0
sprpriority = 1

[State 5940, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[state a]
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 280

[State 820, 1]
type = PosFreeze
trigger1 = Time >= 0
trigger1 = Time < 10
value = 1

[state a]
type = velset
trigger1 = time = 10
x = 0
y = 0

[State 2100, 移動]
type = Veladd
Trigger1 = time != 0
y = .4

[State 820, 1]
type = Changestate
trigger1 = Time >= 11
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 3921

;---------------------------------------------------------------------------
;相手 地上叩きつけやられ2
[Statedef 3921]
type    = L
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 5940, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 281

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = velset
trigger1 = AnimElem = 2
x = 0
y = -4

[state a]
type = envshake
trigger1 = prevstateno != 1510
trigger1 = Time = 0
time = 10
freq = 60
ampl = -4

[State 2100, 移動]
type = Veladd
trigger1 = AnimElemtime(2) >= 0
y = .33

;---------------------[エフェクト]
[State 1300, エフェクト表示]
type = Explod
trigger1 = animelem = 1
anim = F61
pos = 10, -10
postype = p1
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
supermovetime = 12

[State 820, 1]
type = Changestate
trigger1 = AnimElemtime(3) >= 0
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 3922

;---------------------------------------------------------------------------
;地上叩きつけやられダウン
[Statedef 3922]
type    = L
movetype= H
physics = S
velset = 0,0
sprpriority = 1

[State 5940, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3920

[state a]
type = posset
trigger1 = time = 0
y = 0

;---------------------[エフェクト]
[State 1300, エフェクト表示]
type = Explod
trigger1 = animelem = 1
anim = F61
pos = 0, 0
postype = p1
sprpriority = 2
bindtime = 1
ownpal = 1
removeongethit = 1
supermovetime = 12

[State 820, 1]
type = Changestate
trigger1 = Animtime = 0
value = 3923

[State 820, 1]
type = SelfState
trigger1 = time = 300
trigger1 = !Alive
value = 5150

;---------------------------------------------------------------------------
;地上叩きつけやられ起き上がり
[Statedef 3923]
type    = S
movetype= H
physics = S
velset = 0,0
sprpriority = 1

[State 5940, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 194, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5940, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = selfanimexist(5120)
value = 5120

[State 820, 1]
type = Changestate
trigger1 = Animtime = 0
value = 3924

;---------------------------------------------------------------------------
;地上叩きつけやられ→気絶
[Statedef 3924]
type    = S
movetype= H
physics = S
velset = 0,0
sprpriority = 1

[State 194, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5940, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = selfanimexist(5300)
value = 5300

[State 5940, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = !selfanimexist(5300)
value = 3921

[State 5940, SelfState]
type = SelfState
;trigger1 = animtime = 0
trigger1 = time = 240
value = 0
ctrl = 1

;----------------------------------------------------------------------------
;===========================================================================
; MAX2
;===========================================================================
;---------------------------------------------------------------------------
; サンダーブレイクKOF
[Statedef 4000]
type    = S
movetype= A
physics = S
velset = 0,0
juggle = 0
poweradd= 0
anim = ifelse(var(1)=3,4003,4000)
ctrl = 0
sprpriority = 2

;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = !var(20) > 0
trigger1 = time = 0
value = -3000

[state a]
type = poweradd
trigger1 = var(20) > 0
trigger1 = time = 5
value = -1000

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = !var(20) > 0
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = !var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
value = -1000

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[state a]
type = varset
trigger1 = time = 5
v = 20
value = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6020
sprpriority = -9999
postype = p1
pos = -13,-133
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6021
sprpriority = 5
postype = p1
pos = -13,-133
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 3040, 7]
type = EnvColor
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 0
value = 3000,2

;---------------------[ヘルパー]
[state a];カットイン
type = Helper
trigger1 = time = 0
id = 8100
name = "cut"
pos = 0 , 0
postype = p1
stateno = 8100
pausemovetime = 999
supermovetime = 999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];MAX2
type = Helper
trigger1 = time = 28
id = 8000
name = "MAX2"
pos = 0,0
postype = p2
stateno = 8000
helpertype = normal
pausemovetime = 999
keyctrl = 0 
ownpal = 1

;---------------------[エフェクト]
[State 50, 4];残像
type = null;AfterImage
trigger1 = animelem = 1
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;--------------------------------
[State 3000, 無敵]
type = NotHitBy
trigger1 = var(1) != 3
trigger1 = time = 0
value = SCA
time = 40

[State 3000, 無敵]
type = NotHitBy
trigger1 = var(1) = 3
trigger1 = 1
value = SCA

[State 3000, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 10,0

[State 3000, 残像]
type = AfterImage
trigger1 = time = 0
time = 1

;--------------------------------[音声用]
[State 180 ,VarRandom]
type = VarRandom
trigger1 = time = 0
v = 5
range = 0,1

[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = var(5) = 0
trigger1 = time = 1
value = s2300,0

[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = var(5) = 0
trigger1 = AnimElem = 8
value = s2300,1

[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = var(5) = 1
trigger1 = time = 1
value = s2300,2

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 9 || AnimElem = 17
value = s1605,0

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 27
value = s2305,0

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 3
anim = 4005
persistent = 0
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
pausemovetime = 99

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 7
anim = 4006
persistent = 0
postype = P1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
pausemovetime = 99

;--------------------------------
[State 2000, 振動]
type = EnvShake
trigger1 = AnimElem = 9 || AnimElem = 17
time = 8
ampl = -5
freq = 99
phase = 99

[State 2000, フラッシュ]
type = null;EnvColor
trigger1 = animelem = 13
trigger2 = animelem = 25
time = 2
value = 255,255,255
under = 1
ignorehitpause = 1

;---------------------[半数補正]
[State 1000, ]
type = Varset
trigger1 = time = 0
var(6) = 0

[State 1000, ]
type = Varadd
trigger1 = NumHelper(4020)
trigger1 = (helper(4020),MoveHit = 1)
var(6) = 1
ignorehitpause = 1
persistent = 0

[State 1000, ]
type = Varadd
trigger1 = NumHelper(4021)
trigger1 = (helper(4021),MoveHit = 1)
var(6) = 1
ignorehitpause = 1
persistent = 0

[State 1000, ]
type = Varadd
trigger1 = NumHelper(4022)
trigger1 = (helper(4022),MoveHit = 1)
var(6) = 1
ignorehitpause = 1
persistent = 0

[State 1000, ]
type = Varadd
trigger1 = NumHelper(4023)
trigger1 = (helper(4023),MoveHit = 1)
var(6) = 1
ignorehitpause = 1
persistent = 0

[State 1000, ]
type = Varadd
trigger1 = NumHelper(4024)
trigger1 = (helper(4024),MoveHit = 1)
var(6) = 1
ignorehitpause = 1
persistent = 0

[State 1000, ]
type = Varset
trigger1 = AnimElem = 36
var(6) = 0

;---------------------[飛び道具判定1,2]
[State 1000, ヘルパーを出す]
type = helper
triggerall = stateno = 4000
trigger1 = animelemtime(9)=1
stateno = 4020
id = 4020
pos = 20,0
postype = P1
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
;persistent = 0

[State 1000, ヘルパーを出す]
type = helper
triggerall = stateno = 4000
trigger1 = animelemtime(9)=0
stateno = 4020
id = 4021
pos = -20,0
postype = P1
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
;persistent = 0
facing = -1

;---------------------[飛び道具判定3,4]
[State 1000, ヘルパーを出す]
type = helper
triggerall = stateno = 4000
trigger1 = animelemtime(17)=1
stateno = 4022
id = 4022
pos = 10,0
postype = P1
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
;persistent = 0

[State 1000, ヘルパーを出す]
type = helper
triggerall = stateno = 4000
trigger1 = animelemtime(17)=0
stateno = 4022
id = 4023
pos = -10,0
postype = P1
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
;persistent = 0
facing = -1

;---------------------[飛び道具判定5,6]
[State 1000, ヘルパーを出す]
type = helper
triggerall = stateno = 4000
trigger1 = animelemtime(27)=1
stateno = 4024
id = 4024
pos = 20,0
postype = P1
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
;persistent = 0

[State 1000, ヘルパーを出す]
type = helper
triggerall = stateno = 4000
trigger1 = animelemtime(27)=0
stateno = 4024
id = 4025
pos = -20,0
postype = P1
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
;persistent = 0
facing = -1

;叩きつけエフェクト
[State 1000, ヘルパーを出す]
type = Helper
trigger1 = (ProjHitTime(4022)=1)
trigger1 = anim = 4000
name = "hit"
stateno = 4920
ID = 4920
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State explod];落雷1
type = Explod
trigger1 = animelemtime(9) = 0
anim = 4010
id = 4010
sprpriority = 3
postype = p1
pos = 50, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
;pausemovetime = 4

[State explod];落雷2
type = Explod
trigger1 = animelemtime(9) = 0
anim = 4010
id = 4010
sprpriority = 3
postype = p1
pos = -50, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
;pausemovetime = 4

[State explod];落雷3
type = Explod
trigger1 = animelemtime(17) = 0
anim = 4010
id = 4010
sprpriority = 4
postype = p1
pos = 15, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
;pausemovetime = 4

[State explod];落雷4
type = Explod
trigger1 = animelemtime(17) = 0
anim = 4010
id = 4010
sprpriority = 1
postype = p1
pos = -15, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
;pausemovetime = 4

[State explod];地面を走る電流1
type = Explod
trigger1 = animelemtime(27) = 0
anim = 4011
id = 4011
sprpriority = 4
postype = p1
pos = 20, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
;pausemovetime = 4

[State explod];地面を走る電流2
type = Explod
trigger1 = animelemtime(28) = 1
anim = 4011
id = 4011
sprpriority = 5
postype = p1
pos = 250, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
;pausemovetime = 4

[State explod];地面を走る電流3
type = Explod
trigger1 = animelemtime(27) = 0
anim = 4011
id = 4011
sprpriority = 1
postype = p1
pos = -20, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
;pausemovetime = 4
facing = -1

[State explod];地面を走る電流4
type = Explod
trigger1 = animelemtime(28) = 1
anim = 4011
id = 4011
sprpriority = 2
postype = p1
pos = -250, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
;pausemovetime = 4
facing = -1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 38
Movetype = I

[State 1640, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(HELPER)サンダーブレイクKOF・攻撃判定ヘルパー1,2
[Statedef 4020]
type     = A
movetype = A
physics  = N
ctrl     = 0
anim     = 4020
sprpriority = 5

[State 1000, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1000, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;影を消す

;---------------------[補正]
[state a]
type = attackmulset
trigger1 = 1
value = root,fvar(0)/(2**root,var(6))

[State 2100,]
type = Envcolor
trigger1 = Movehit = 1
time = 1
value = 255,255,255
under = 0

[State 1000, ヒット定義]
type = HitDef
triggerall = !root,var(7)
;trigger1 = Numhelper(4020)
;trigger1 = ishelper(4020)
trigger1 = animelem = 1
attr = A, HP
damage    = ifelse(p2movetype=A,(230*125/100),230),8
getpower = 0
givepower = 10,10
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 2,5
sparkno = s8504
guard.sparkno = s7012
sparkxy = (floor(p2bodydist X)),-95
hitsound = s405, 8
guardsound = s120,1
ground.type = high
ground.hittime = 19
ground.slidetime = 19
ground.velocity = -4,-7
air.velocity = -4,-7
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
;p2facing = 1
guard.velocity = 0;-11.2
yaccel = .55
ID = 4020

;---------------------[ヘルパー]
[state a];電撃エフェクト
type = Helper
trigger1 = MoveHit = 1
id = 8501
name = "hit"
pos = 0,0
postype = p2
stateno = 8501
helpertype = normal
pausemovetime = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state 1900, TargetState];ダウンやられ
type = TargetState
trigger1 = NumTarget(4020)
trigger1 = MoveHit = 1
value = 4030
persistent = 0
ignorehitpause = 1

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = MoveHit = 1
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[state 8008]
type = ChangeState
trigger1 = Movecontact
value = 4026

[State 3000, このヘルパーを消す]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
;(HELPER)サンダーブレイクKOF・攻撃判定ヘルパー3,4
[Statedef 4022]
type     = A
movetype = A
physics  = N
ctrl     = 0
anim     = 4022
sprpriority = 5

[State 1000, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1000, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;影を消す

;---------------------[補正]
[state a]
type = attackmulset
trigger1 = 1
value = root,fvar(0)/(2**root,var(6))

[State 2100,]
type = Envcolor
trigger1 = Movehit = 1
time = 1
value = 255,255,255
under = 0

[State 1000, ヒット定義]
type = HitDef
triggerall = !root,var(7)
;trigger1 = Numhelper(4021)
;trigger1 = ishelper(4021)
trigger1 = animelem = 1
attr = A, HP
damage    = ifelse(p2movetype=A,(200*125/100),200),8
getpower = 0
givepower = 10,10
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 2,5
sparkno = s8504
guard.sparkno = s7012
sparkxy = (floor(p2bodydist X)),-95
hitsound = s405, 8
guardsound = s120,1
ground.type = high
ground.hittime = 19
ground.slidetime = 19
ground.velocity = -4,-7
air.velocity = -4,-7
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
;p2facing = 1
guard.velocity = 0;-11.2
yaccel = .55
ID = 4022

[state 1900, TargetState];ダウンやられ
type = TargetState
trigger1 = NumTarget(4022)
trigger1 = MoveHit = 1
value = 4030
persistent = 0
ignorehitpause = 1

;---------------------[ヘルパー]
[state a];電撃エフェクト
type = Helper
trigger1 = MoveHit = 1
id = 8501
name = "hit"
pos = 0,0
postype = p2
stateno = 8501
helpertype = normal
pausemovetime = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = MoveHit = 1
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[state 8008]
type = ChangeState
trigger1 = Movecontact
value = 4026

[State 3000, このヘルパーを消す]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
;(HELPER)サンダーブレイクKOF・攻撃判定ヘルパー5,6
[Statedef 4024]
type     = A
movetype = A
physics  = N
ctrl     = 0
anim     = 4024
sprpriority = 5

[State 1000, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1000, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;影を消す

;---------------------[補正]
[state a]
type = attackmulset
trigger1 = 1
value = root,fvar(0)/(2**root,var(6))

[State 2100,]
type = Envcolor
trigger1 = Movehit = 1
time = 1
value = 255,255,255
under = 0

[State 1000, ヒット定義]
type = HitDef
triggerall = !root,var(7)
trigger1 = Numhelper(4024)
trigger1 = ishelper(4024)
trigger1 = animelem = 1
attr = A, HP
damage    = ifelse(p2movetype=A,(230*125/100),230),8
getpower = 0
givepower = 10,10
animtype = Hard
guardflag = MA
hitflag = MAFDL
priority = 4, Hit
pausetime = 2,10
sparkno = s8504
guard.sparkno = s7012
sparkxy = (floor(p2bodydist X)-80), -25
hitsound = s405, 8
guardsound = s120,1
ground.type = high
ground.hittime = 19
ground.slidetime = 19
ground.velocity = -4,-7
air.velocity = -4,-7
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2
yaccel = .55
ID = 4024

[State 1000, ヒット定義]
type = HitDef
triggerall = !root,var(7)
trigger1 = Numhelper(4025)
trigger1 = ishelper(4025)
trigger1 = animelem = 1
attr = A, HP
damage    = ifelse(p2movetype=A,(230*125/100),230),8
getpower = 0
givepower = 10,10
animtype = Hard
guardflag = MA
hitflag = MAFDL
priority = 4, Hit
pausetime = 2,10
sparkno = s8504
guard.sparkno = s7012
sparkxy = (floor(p2bodydist X)+60), -25
hitsound = s405, 8
guardsound = s120,1
ground.type = high
ground.hittime = 19
ground.slidetime = 19
ground.velocity = -4,-7
air.velocity = -4,-7
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2
yaccel = .55
ID = 4025

;---------------------[ヘルパー]
[state a];電撃エフェクト
type = Helper
trigger1 = MoveHit = 1
;trigger2 = (ProjHitTime(4025)=1)
id = 8501
name = "hit"
pos = 0,0
postype = p2
stateno = 8501
helpertype = normal
pausemovetime = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;叩きつけエフェクト
[State 1000, ヘルパーを出す]
type = Helper
trigger1 = MoveHit = 1
name = "hit"
stateno = 4920
ID = 4920
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[state 1900, TargetState];ダウンやられ
type = TargetState
;trigger1 = NumTarget(4025)
trigger1 = root,var(1) != 3
trigger1 = MoveHit = 1
value = 4031
;persistent = 0

ignorehitpause = 1
[state 1900, TargetState];ダウンやられ
type = TargetState
;trigger1 = NumTarget(4025)
trigger1 = root,var(1) = 3
trigger1 = MoveHit = 1
value = 4032
;persistent = 0
ignorehitpause = 1

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = MoveHit = 1
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[state 8008]
type = ChangeState
trigger1 = Movecontact
value = 4026

[State 3000, このヘルパーを消す]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; サンダーブレイクヘルパー消滅
[Statedef 4026]
type     = S
movetype = I
physics  = N
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 9999
ctrl     = 0
sprpriority = 0

[State 3000, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 191, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3000, このヘルパーを消す]
type = DestroySelf
trigger1 = Time >= 40

;---------------------------------------------------------------------------
; サンダーブレイク餓狼
[Statedef 4001]
type    = S
movetype= A
physics = S
velset = 0,0
juggle = 0
poweradd= 0
anim = ifelse(var(1)=3,4004,4001)
ctrl = 0
sprpriority = 2

;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = !var(20) > 0
trigger1 = time = 0
value = -3000

[state a]
type = poweradd
trigger1 = var(20) > 0
trigger1 = time = 5
value = -1000

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = !var(20) > 0
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = !var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
value = -1000

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[state a]
type = varset
trigger1 = time = 5
v = 20
value = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6020
sprpriority = -9999
postype = p1
pos = -13,-133
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6021
sprpriority = 5
postype = p1
pos = -13,-133
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 3040, 7]
type = EnvColor
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 0
value = 3000,2

;---------------------[ヘルパー]
[state a];カットイン
type = Helper
trigger1 = time = 0
id = 8100
name = "cut"
pos = 0 , 0
postype = p1
stateno = 8100
pausemovetime = 999
supermovetime = 999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];MAX2
type = Helper
trigger1 = time = 28
id = 8000
name = "MAX2"
pos = 0,0
postype = p2
stateno = 8000
helpertype = normal
pausemovetime = 999
keyctrl = 0 
ownpal = 1

;---------------------[エフェクト]
[State 50, 4];残像
type = null;AfterImage
trigger1 = animelem = 1
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;--------------------------------
[State 3000, 無敵]
type = NotHitBy
trigger1 = var(1) != 3
trigger1 = time = 0
value = SCA
time = 50

[State 3000, 無敵]
type = NotHitBy
trigger1 = var(1) = 3
trigger1 = 1
value = SCA

[State 3000, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 10,0

[State 3000, 残像]
type = AfterImage
trigger1 = time = 0
time = 1

;--------------------------------[音声用]
[State 180 ,VarRandom]
type = VarRandom
trigger1 = time = 0
v = 5
range = 0,1

[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = var(5) = 0
trigger1 = time = 1
value = s2300,0

[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = var(5) = 0
trigger1 = AnimElem = 8
value = s2300,1

[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = var(5) = 1
trigger1 = time = 1
value = s2300,2

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 9 || AnimElem = 46
value = s1605,0

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 10
value = s2305,1
channel = 0

[State 810, ];電撃音消去
type = stopSnd
trigger1 = animelemtime(46) = 0
channel = 0

[State 3000, エフェクト表示]
type = Explod
trigger1 = var(1) != 3
trigger1 = AnimElem = 3
anim = 4007
persistent = 0
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
pausemovetime = 99

[State 3000, エフェクト表示]
type = Explod
trigger1 = var(1) = 3
trigger1 = AnimElem = 3
anim = 4005
persistent = 0
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
pausemovetime = 99

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 7
anim = 4006
persistent = 0
postype = P1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
pausemovetime = 99

;--------------------------------
[State 2000, 振動]
type = EnvShake
trigger1 = animelem = 9
time = 92
ampl = -5
freq = 99
phase = 99

[State 2000, フラッシュ]
type = EnvColor
trigger1 = animelem = 13
trigger2 = animelem = 25
time = 2
value = 255,255,255
under = 1
ignorehitpause = 1

[State a]
type = EnvColor
triggerall = anim = 4001
trigger1 = (ProjHitTime(4002)=1)
;persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 0

;---------------------[攻撃]
[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(10)=0
projID = 4002					; ProjID
projanim = 4002					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 55
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 410, 9
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s8504
guard.sparkno = s7011
sparkxy = 72, -95
hitsound = s405, 8
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(13)=0 || animelemtime(16)=0 || animelemtime(19)=0 || animelemtime(22)=0
trigger2 = animelemtime(25)=0 || animelemtime(28)=0 || animelemtime(31)=0 || animelemtime(34)=0
trigger3 = animelemtime(37)=0 || animelemtime(40)=0 || animelemtime(43)=0 || animelemtime(46)=0
projID = 4002					; ProjID
projanim = 4002					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 8
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 30, 9
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MA
priority = 3, Hit
pausetime = 11, 10
sparkno = s8504
guard.sparkno = s7011
sparkxy = 72, -95
hitsound = s405, 8
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4,-7
air.velocity = -4,-7
air.type = low
air.hittime  = 99
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[state 1900, TargetState];ダウンやられ
type = TargetState
trigger1 = (ProjHitTime(4002)=1)
value = 4031
persistent = 0
ignorehitpause = 1

;---------------------[ヘルパー]
[state a];電撃エフェクト
type = Helper
trigger1 = (ProjHitTime(4002)=1)
id = 8501
name = "hit"
pos = 0,0
postype = p2
stateno = 8501
helpertype = normal
pausemovetime = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;叩きつけエフェクト
[State 1000, ヘルパーを出す]
type = Helper
trigger1 = (ProjHitTime(4002)=1)
name = "hit"
stateno = 4920
ID = 4920
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = (ProjHitTime(4002)=1)
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State explod];落雷1 手前前方
type = Explod
trigger1 = animelemtime(10)=0 || animelemtime(22)=0 || animelemtime(34)=0
anim = 4010
id = 4010
sprpriority = 3
postype = p1
pos = 20 + (random%15),15 - (random%15)
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
;pausemovetime = 4

[State explod];落雷2 手前後方
type = Explod
trigger1 = animelemtime(16)=0 || animelemtime(28)=0 || animelemtime(40)=0
anim = 4010
id = 4010
sprpriority = 3
postype = p1
pos = -30 - (random%15),15 - (random%15)
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
;pausemovetime = 4

[State explod];落雷3 奥
type = Explod
trigger1 = animelemtime(13)=0 || animelemtime(19)=0 || animelemtime(25)=0
trigger2 = animelemtime(31)=0 || animelemtime(37)=0 || animelemtime(37)=0 || animelemtime(46)=0
anim = 4010
id = 4010
sprpriority = 1
postype = p1
pos = 70 - (random%100),-5 - (random%15)
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
;pausemovetime = 4

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 38
Movetype = I

[State 1640, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;相手 サンダーブレイクやられ1
[Statedef 4030]
type    = A
movetype= H
physics = N
;velset = -3,10.5
velset = 0,0
sprpriority = 1

[State 200, 1];電撃やられ
type = palfx
trigger1 = (time%4) = 0
time = 4
sinadd = 180,120,120,3
add = 0,0,0
color = 0
invertall = 1
[State 200, 1]
type = palfx
trigger1 = (time%4) = 2
time = 1
add = 127,127,127

[state a]
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 4030

[State 820, 1]
type = PosFreeze
trigger1 = Time >= 0
trigger1 = Time < 5
value = 1

[state a]
type = velset
trigger1 = animelem = 2
x = -5
y = -6.5

[State 821, 1]
type = VelAdd
Trigger1 = animelemtime(2) >= 0
y = .55

[State 821, 3] 
type = Changestate
triggerall = Vel Y > 0
trigger1 = Pos Y >= 10
Trigger1 = animelemtime(2) >= 2
value = 286

;---------------------------------------------------------------------------
;相手 サンダーブレイクやられ2
[Statedef 4031]
type    = A
movetype= H
physics = N
;velset = -3,10.5
velset = 0,0
sprpriority = 1

[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

[State 200, 1];電撃やられ
type = palfx
trigger1 = (time%4) = 0
time = 4
sinadd = 180,120,120,3
add = 0,0,0
color = 0
invertall = 1
[State 200, 1]
type = palfx
trigger1 = (time%4) = 2
time = 1
add = 127,127,127

[state a]
type = null;turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3060

[State 820, 1]
type = PosFreeze
trigger1 = Time >= 0
trigger1 = Time < 10
value = 1

[state a]
type = velset
trigger1 = time = 10
x = -2.9
y = -13.3

[State 2100, 移動]
type = Veladd
Trigger1 = time != 0
y = .55

[State 1];何故かバグるので空中通常技と奈落だけ当たらない状態を作る。原因不明…
type = null;nothitby
trigger1 = enemynear,statetype = A
trigger1 = animElemTime(5) >= 0
trigger1 = pos Y >= -18
value = ,NA

[State 1091, ground state]
type = null;stateTypeSet
trigger1 = animElemTime(5) >= 0
trigger1 = pos Y >= -17
stateType = S
persistent = 0

[State 1091, ground state]
type = null;hitFallSet
trigger1 = animElemTime(5) >= 0
trigger1 = pos Y >= -17
value = 0
persistent = 0

[State 820, 1]
type = Changestate
trigger1 = Pos Y >= -1
trigger1 = Vel Y > 0
trigger1 = animelemtime(3) >= 0
value = 3312

;---------------------------------------------------------------------------
;相手 サンダーブレイクやられ3
[Statedef 4032]
type    = A
movetype= H
physics = N
;velset = -3,10.5
velset = 0,0
sprpriority = 1

[State 200, 1];電撃やられ
type = palfx
trigger1 = (time%4) = 0
time = 4
sinadd = 180,120,120,3
add = 0,0,0
color = 0
invertall = 1
[State 200, 1]
type = palfx
trigger1 = (time%4) = 2
time = 1
add = 127,127,127

[state a]
type = null;turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3060

[State 820, 1]
type = PosFreeze
trigger1 = Time >= 0
trigger1 = Time < 10
value = 1

[state a]
type = velset
trigger1 = time = 10
x = -2.9
y = -13.3

[State 2100, 移動]
type = Veladd
Trigger1 = time != 0
y = .55

[State 1];何故かバグるので空中通常技と奈落だけ当たらない状態を作る。原因不明…
type = null;nothitby
trigger1 = enemynear,statetype = A
trigger1 = animElemTime(5) >= 0
trigger1 = pos Y >= -18
value = ,NA

[State 1091, ground state]
type = null;stateTypeSet
trigger1 = animElemTime(5) >= 0
trigger1 = pos Y >= -17
stateType = S
persistent = 0

[State 1091, ground state]
type = null;hitFallSet
trigger1 = animElemTime(5) >= 0
trigger1 = pos Y >= -17
value = 0
persistent = 0

[State 820, 1]
type = Changestate
trigger1 = Pos Y >= -1
trigger1 = Vel Y > 0
trigger1 = animelemtime(3) >= 0
value = 3061

;---------------------------------------------------------------------------
; 虚空烈風斬(当て身)
[Statedef 4100]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = 0
velset = 0,0
anim = ifelse(var(1)=3,4102,4100)
sprpriority = 1
ctrl = 0

;---------------------[レイジングデッドエンド状態解除]
[State -2, VarSet];
type = VarSet
trigger1 = time = 10
var(28) = 0

;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = !var(20) > 0
trigger1 = time = 0
value = -3000

[state a]
type = poweradd
trigger1 = var(20) > 0
trigger1 = time = 0
value = -1000

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = !var(20) > 0
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = !var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
value = -1000

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[state a]
type = varset
trigger1 = time = 0
v = 20
value = 0
;---------------------[サウンド]
[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 195,0

[State a];チッ
type = PlaySnd
trigger1 = animelem = 4
value = 1400, 2

;---------------------[攻撃]
[State 1200, Reversal]
type = reversaldef
trigger1 = animelem = 1
attr = S,HT
reversal.attr = SCA,AA
pausetime = 20,20
sparkxy = 19,-30
sparkno = s7011
hitsound = s1405,0
p1stateno = 4101
p2stateno = 4120
p2facing = 1
numhits = 0

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 2
Movetype = I

;---------------------[エフェクトがバグるので変数で管理]
[State 1000, ]
type = Varset
trigger1 = 1
var(5) = 0

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;虚空烈風斬(当て身)・成功
[Statedef 4101]
type    = S
movetype= A
physics = N
anim = 4101
juggle  = 0
poweradd = 0
sprpriority = 2

;---------------------[レイジングデッドエンド状態解除]
[State -2, VarSet];
type = VarSet
;triggerall = prevstateno = 4505
trigger1 = time = 10
var(28) = 0

;---------------------[エフェクトがバグるので変数で管理]
[State 1000, ]
type = Varset
trigger1 = time = 0
var(5) = 1

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = null;Pause
trigger1 = time = 2
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = var(5) = 1
trigger1 = time = 45
anim = 6020
sprpriority = -9
postype = p1
pos = 39,-98
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = var(5) = 1
trigger1 = Time = 55
anim = 6021
sprpriority = 5
postype = p1
pos = 39,-98
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 3040, 7]
type = EnvColor
trigger1 = var(5) = 1
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 60
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = var(5) = 1
trigger1 = Time = 45
value = 3000,2

;---------------------[ヘルパー]
[state a];カットイン
type = Helper
trigger1 = var(5) = 1
trigger1 = time = 2
id = 8100
name = "cut"
pos = 0 , 0
postype = p1
stateno = 8100
pausemovetime = 999
supermovetime = 999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
facing = -1

[state a];MAX2
type = Helper
trigger1 = var(5) = 1
trigger1 = time = 60
id = 8000
name = "MAX2"
pos = 0,0
postype = p2
stateno = 8000
helpertype = normal
pausemovetime = 999
keyctrl = 0 
ownpal = 1

;---------------------[エフェクト]
[State 50, 4];残像
type = null;AfterImage
trigger1 = animelem = 1
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 821,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 2100, ]
type = SprPriority
trigger1 = animelemtime(3) = 0
value = 0

[State 2100, ]
type = SprPriority
trigger1 = animelemtime(8) = 0
value = 3

[State 2100, ]
type = SprPriority
trigger1 = animelemtime(12) = 0
value = 2

;---------------------[サウンド]
[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 4
value = 1600,3

[State 810, Grab Sound];ぶぉん
type = PlaySnd
trigger1 = animelem = 7
value = 420, 6

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 17
value = 750,0

[State 700, 音を鳴らす];
type = PlaySnd
trigger1 = animelemtime(19)=0 || animelemtime(26)=0 || animelemtime(32)=0 || animelemtime(38)=0
trigger2 = animelemtime(44)=0 || animelemtime(51)=0 || animelemtime(57)=0 || animelemtime(64)=0
trigger3 = animelemtime(70)=0 || animelemtime(77)=0 || animelemtime(83)=0 || animelemtime(90)=0
trigger4 = animelemtime(96)=0 || animelemtime(103)=0 || animelemtime(109)=0 || animelemtime(116)=0
trigger5 = animelemtime(122)=0 || animelemtime(129)=0 || animelemtime(135)=0 || animelemtime(142)=0
value = 1005, 1
volume = -255

[State 2000, 6];
type = PlaySnd
trigger1 = animelemtime(154)=0
value = 2105,0

[State 2000, 6];
type = PlaySnd
trigger1 = animelemtime(155)=0
value = 1305,1

[State 2000, 6];
type = PlaySnd
trigger1 = animelemtime(156)=0
value = 2105,1

[State 2000, 6];
type = PlaySnd
trigger1 = animelemtime(154)=0
value = 2005,1

;---------------------[向き]
[State 821,Turn]
type = Turn
trigger1 = AnimElem = 6

;---------------------[相手制御]
[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(3) < 0
pos = 43, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(3) >= 0 && AnimElemtime(4) < 0
pos = 30, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(4) >= 0 && AnimElemtime(5) < 0
pos = 27, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(5) >= 0 && AnimElemtime(6) < 0
pos = 7, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(6) >= 0 && AnimElemtime(7) < 0
pos = 7, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(7) = 0
pos = 33, 0

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 5
edge = 0,80

[State 2000, 2]
type = Pause
trigger1 = animelem = 149
time = 31
movetime = 31
anim = -1
darken = 0

;------------------------------------
[State 1000, EnvShake]
type = null;EnvShake
trigger1 = animelemtime(19)=1 || animelemtime(26)=1 || animelemtime(32)=1 || animelemtime(38)=1
trigger2 = animelemtime(44)=1 || animelemtime(51)=1 || animelemtime(57)=1 || animelemtime(64)=1
trigger3 = animelemtime(70)=1 || animelemtime(77)=1 || animelemtime(83)=1 || animelemtime(90)=1
trigger4 = animelemtime(96)=1 || animelemtime(103)=1 || animelemtime(109)=1 || animelemtime(116)=1
trigger5 = animelemtime(122)=1 || animelemtime(129)=1 || animelemtime(135)=1 || animelemtime(142)=1
time = 5
ampl = 6
freq = 40
ignorehitpause = 1 

;------------------------------------
[State a]
type = EnvColor
trigger1 = animelemtime(19)=1 || animelemtime(26)=1 || animelemtime(32)=1 || animelemtime(38)=1
trigger2 = animelemtime(44)=1 || animelemtime(51)=1 || animelemtime(57)=1 || animelemtime(64)=1
trigger3 = animelemtime(70)=1 || animelemtime(77)=1 || animelemtime(83)=1 || animelemtime(90)=1
trigger4 = animelemtime(96)=1 || animelemtime(103)=1 || animelemtime(109)=1 || animelemtime(116)=1
trigger5 = animelemtime(122)=1 || animelemtime(129)=1 || animelemtime(135)=1 || animelemtime(142)=1
trigger6 = animelemtime(156)=1
ignorehitpause = 1
time = 1
value = 255,255,255
under = 0

;---------------------[攻撃]
[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(19)=0 || animelemtime(26)=0 || animelemtime(32)=0 || animelemtime(38)=0
trigger2 = animelemtime(44)=0 || animelemtime(51)=0 || animelemtime(57)=0 || animelemtime(64)=0
trigger3 = animelemtime(70)=0 || animelemtime(77)=0 || animelemtime(83)=0 || animelemtime(90)=0
trigger4 = animelemtime(96)=0 || animelemtime(103)=0 || animelemtime(109)=0 || animelemtime(116)=0
trigger5 = animelemtime(122)=0 || animelemtime(129)=0 || animelemtime(135)=0 || animelemtime(142)=0
projID = 4105					; ProjID
projanim = 4105					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 5
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 115,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 15, 9
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 1, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 0, -65
hitsound = s400, 1
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = 0,0
air.type = high
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2
p2stateno = 3130
kill = 0

[State 1000, Proj]
type = Projectile
triggerall = var(1) != 3
trigger1 = animelemtime(156)=0
projID = 4106					; ProjID
projanim = 4105					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 80
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 115,0					;出現位置
velocity = 20					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 100, 9
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 1, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 0, -65
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 1000, Proj]
type = Projectile
triggerall = var(1) = 3
trigger1 = animelemtime(156)=0
projID = 4106					; ProjID
projanim = 4105					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 80
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 115,0					;出現位置
velocity = 20					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 300, 9
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 1, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 0, -65
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 20] ;地上ヒット時の相手動作
type = targetState
trigger1 = (ProjHitTime(4106)=1)
trigger1 = anim = 4101
value = 3311
ctrl = 0
IgnoreHitPause = 1
;Persistent     = 0

;叩きつけエフェクト
[State 1000, ヘルパーを出す]
type = Helper
trigger1 = (ProjHitTime(4106)=1)
trigger1 = anim = 4101
name = "hit"
stateno = 4920
ID = 4920
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = (ProjHitTime(4106)=1)
trigger1 = anim = 4101
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

;--------------------------------
[State 2000, 振動]
type = EnvShake
trigger1 = animelemtime(156)=0
time = 35
ampl = -5
freq = 99
phase = 99

;------------------------------------
[State explod];
type = null;Explod
trigger1 = var(5) = 1
trigger1 = animelemtime(11)=0
anim = 4110
id = 4110
sprpriority = 1
postype = p1
pos = 0, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
removetime = -1

[state a]
type = removeexplod
trigger1 = animelemtime(14)=0
id = 4110

[State explod];烈風エフェクト1
type = Explod
trigger1 = var(5) = 1
trigger1 = animelemtime(19)=0
anim = 4111
id = 4111
sprpriority = 3
postype = p1
pos = 115, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State explod];烈風エフェクト2
type = Explod
trigger1 = var(5) = 1
trigger1 = animelemtime(152)=0
anim = 4112
id = 4112
sprpriority = 3
postype = p1
pos = 115, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
removetime = 80
vel = 20,0

[State 1000, Explod]
type = Explod
trigger1 = var(5) = 1
trigger1 = animelemtime(147)=0
anim = 4113
ID = 4113
postype = p1
pos = 0,0
facing = 1
sprpriority = 3       ; 表示優先度
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
pausemovetime = 31

[State 1000, Explod]
type = Explod
trigger1 = var(5) = 1
trigger1 = animelemtime(152)=0
anim = 4114
ID = 4114
postype = p1
pos = 0,0
facing = 1
sprpriority = 4       ; 表示優先度
bindtime = 10         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
pausemovetime = 31

[State 1000, Explod]
type = Explod
trigger1 = var(5) = 1
trigger1 = animelemtime(152)=0
anim = 4115
ID = 4115
postype = p1
pos = 0,0
facing = 1
sprpriority = 3       ; 表示優先度
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
pausemovetime = 31

[State 1000, Explod]
type = Explod
trigger1 = var(5) = 1
trigger1 = animelemtime(152)=0
anim = 4116
ID = 4116
postype = p1
pos = 0,0
facing = 1
sprpriority = 5       ; 表示優先度
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
pausemovetime = 31

[state a]
type = removeexplod
trigger1 = animelemtime(152)=0
id = 4111

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 169
Movetype = I

;---------------------[ステート移行]
[State 821, 3] 
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(ENEMY)虚空烈風斬(当て身)・掴まれ
[Statedef 4120]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 1

;---------------------[演出]
[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 4120

[State 1];カメラ固定
type = null;screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------[移動]
[State 250, Vel]
type = VelSet
trigger1 = animelemtime(5) = 1
x = -7.6

[state a]
type = velmul
trigger1 = 1;AnimElemtime(5) >= 1
x = 0.9

;---------------------[向き]
[State 821,Turn]
type = Turn
trigger1 = AnimElem = 4

;---------------------[状態]
[State 250, ]
type = StateTypeSet
trigger1 = animelemtime(5) >= 1
statetype = S
physics = N

;---------------------[ステート移行]
[State 821, 3] 
type = SelfState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; レイジングデッドエンド(当て身)
[Statedef 4200]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = 0
velset = 0,0
anim = ifelse(var(1)=3,4202,4200)
sprpriority = 1
ctrl = 0

;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = !var(20) > 0
trigger1 = time = 0
value = -3000

[state a]
type = poweradd
trigger1 = var(20) > 0
trigger1 = time = 0
value = -1000

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = !var(20) > 0
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = !var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
value = -1000

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[state a]
type = varset
trigger1 = time = 0
v = 20
value = 0
;---------------------[サウンド]
[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 195,1

[State a];チッ
type = PlaySnd
trigger1 = animelem = 4
value = 1400, 2

;---------------------[攻撃]
[State 1200, Reversal]
type = reversaldef
trigger1 = animelem = 1
attr = S,HT
reversal.attr = SCA,AA
pausetime = 15,15
sparkxy = 19,-30
sparkno = s7011
hitsound = s1405,0
p1stateno = 4201
p2stateno = 4220
p2facing = 1
numhits = 0

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 2
Movetype = I

;---------------------[エフェクトがバグるので変数で管理]
[State 1000, ]
type = Varset
trigger1 = 1
var(5) = 0

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;レイジングデッドエンド(当て身)・成功
[Statedef 4201]
type    = S
movetype= A
physics = N
anim = 4201
juggle  = 0
poweradd = 0
sprpriority = 2

;---------------------[レイジングデッドエンド状態解除]
[State -2, VarSet];
type = VarSet
;trigger1 = prevstateno = 4506
trigger1 = time = 10
var(28) = 0

;---------------------[エフェクトがバグるので変数で管理]
[State 1000, ]
type = Varset
trigger1 = time = 0
var(5) = 1

[State 1000, ]
type = Varset
trigger1 = animtime = 0
var(5) = 0

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = null;Pause
trigger1 = time = 2
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = var(5) = 1
trigger1 = time = 1
anim = 6020
sprpriority = -9
postype = p1
pos = 39,-98
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = var(5) = 1
trigger1 = Time = 11
anim = 6021
sprpriority = 5
postype = p1
pos = 39,-98
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 3040, 7]
type = EnvColor
trigger1 = var(5) = 1
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 60
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = var(5) = 1
trigger1 = Time = 1
value = 3000,2

;---------------------[ヘルパー]
[state a];カットイン
type = Helper
trigger1 = var(5) = 1
trigger1 = time = 1
id = 8100
name = "cut"
pos = 0 , 0
postype = p1
stateno = 8100
pausemovetime = 999
supermovetime = 999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
facing = -1

[state a];MAX2
type = Helper
trigger1 = var(5) = 1
trigger1 = time = 16
id = 8000
name = "MAX2"
pos = 0,0
postype = p2
stateno = 8000
helpertype = normal
pausemovetime = 999
keyctrl = 0 
ownpal = 1
;------------------------------------
[State 801, Explod];掴みスパーク
type = Explod
trigger1 = var(5) = 1
trigger1 = animelem = 2
anim = 7081
ID = 7081
postype = p1
pos = 42, -71
facing = 1
sprpriority = 2       ; 表示優先度
;bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 1
time = -1
palcolor = 150
;trans = "add1"
timegap = 3
framegap = 3
length = 10
palbright = 70,20,20
palcontrast = 196,88,88
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 50, 4];残像
type = null;AfterImage
trigger1 = animelem = 1
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 821,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 1000, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemtime(1) > 0 && AnimElemtime(3) < 0
edge = 60,0

;---------------------[サウンド]
[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelem = 2
value = 1405,0

[State 810, ];ぶぉん
type = PlaySnd
trigger1 = animelem = 6
value = 420, 3

[State 810, ];ズンッ
type = PlaySnd
trigger1 = animelem = 8
value = 45, 1

[State 810, ];
type = PlaySnd
trigger1 = animelem = 10
value = 420, 10

[State 810, ];
type = PlaySnd
trigger1 = animelem = 2
value = 1500, 2

[State 810, ];
type = PlaySnd
trigger1 = animelemtime(16)=0 || animelemtime(20)=0 || animelemtime(24)=0 || animelemtime(27)=2
trigger2 = animelemtime(31)=1 || animelemtime(35)=1 || animelemtime(39)=1
value = 2105, 0

[State 810, ];
type = PlaySnd
trigger1 = animelemtime(16)=0 || animelemtime(20)=0 || animelemtime(24)=0 || animelemtime(27)=2
trigger2 = animelemtime(31)=1 || animelemtime(35)=1 || animelemtime(39)=1
value = 2105, 1

[State 801, 2]
type = Targetlifeadd
trigger1 = animelem = 8
value = Ceil(-((40*Const(data.attack)/100)*fvar(0)))
kill = 0

;---------------------[向き]
[State 821,Turn]
type = Turn
trigger1 = AnimElem = 9

;---------------------[相手制御]
[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(4) < 0
pos = 43, 0

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(4) >= 0 && AnimElemtime(5) < 0
pos = 32, -102

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(5) >= 0 && AnimElemtime(6) < 0
pos = 23, -126

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(6) >= 0 && AnimElemtime(7) < 0
pos = -6, -125

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(7) >= 0 && AnimElemtime(8) < 0
pos = -46, -94

[State 810, 3]
type = TargetBind
Trigger1 = AnimElemtime(8) >= 0 && AnimElemtime(9) < 0
pos = -65, 0

;------------------------------------叩きつけエフェクト
[state 4910, ]
type = Explod
triggerall = p2movetype = H
triggerall = var(5) = 1
trigger1 = animelemtime(16)=0 || animelemtime(20)=0 || animelemtime(24)=0 || animelemtime(27)=2
trigger2 = animelemtime(31)=1 || animelemtime(35)=1 || animelemtime(39)=1 || animelemtime(8)=0
anim = 7087
id = 7087
sprpriority = -1
postype = p2
pos = 0,0
bindtime = 1
under = 0
ownpal = 1

[state 4910, ]
type = Explod
triggerall = p2movetype = H
triggerall = var(5) = 1
trigger1 = animelemtime(16)=0 || animelemtime(20)=0 || animelemtime(24)=0 || animelemtime(27)=2
trigger2 = animelemtime(31)=1 || animelemtime(35)=1 || animelemtime(39)=1 || animelemtime(8)=0
anim = 7088
id = 7088
sprpriority = -2
postype = p2
pos = 0,0
bindtime = 1
under = 0
ownpal = 1

[state 4910, ]
type = Explod
triggerall = p2movetype = H
triggerall = var(5) = 1
trigger1 = animelemtime(16)=0 || animelemtime(20)=0 || animelemtime(24)=0 || animelemtime(27)=2
trigger2 = animelemtime(31)=1 || animelemtime(35)=1 || animelemtime(39)=1 || animelemtime(8)=0
anim = 7089
id = 7089
sprpriority = 4
postype = p2
pos = 0,0
bindtime = 1
under = 0
ownpal = 1

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 7
edge = 0,80

;---------------------[移動]
[State 250, Vel]
type = VelSet
trigger1 = animelem = 11
x = 2.2
y = -9.5

[State 250, Vel]
type = VelSet
trigger1 = animelemtime(39)=1
x = -1.5
y = -12.5

[State 250, Vel]
type = VelSet
trigger1 = AnimElemtime(16) > 0 && animelemtime(39) < 1
x = 0
y = 0

[State 250, Vel]
type = PosFreeze
trigger1 = AnimElemtime(16) > 0 && animelemtime(39) < 1
value = 1

[State 250, Vel]
type = VelAdd
trigger1 = animelemtime(11) > 0
y = .5

[State 250, StateTypeSet];状態：空中に
type = StateTypeSet
trigger1 = animelem = 11
StateType = A
Physics = N

;--------------------------------
[State 1020, 4]
type = EnvShake
triggerall = anim = 4201
triggerall = var(5) = 1
trigger1 = animelem = 8
time = 10
ampl = -5
freq = 95
phase = 95

[State 2000, 振動]
type = EnvShake
triggerall = anim = 4201
triggerall = var(5) = 1
trigger1 = animelemtime(16)=0 || animelemtime(20)=0 || animelemtime(24)=0 || animelemtime(27)=2
trigger2 = animelemtime(31)=1 || animelemtime(35)=1 || animelemtime(39)=1
time = 35
ampl = -5
freq = 99
phase = 99

;------------------------------------
[State a]
type = EnvColor
triggerall = var(5) = 1
trigger1 = animelemtime(16)=0 || animelemtime(20)=0 || animelemtime(24)=0 || animelemtime(27)=2
trigger2 = animelemtime(31)=1 || animelemtime(35)=1 || animelemtime(39)=1
ignorehitpause = 1
time = 1
value = 255,255,255
under = 0

;---------------------[攻撃]
[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(16)=0 || animelemtime(20)=0 || animelemtime(24)=0 || animelemtime(27)=2
trigger2 = animelemtime(31)=1 || animelemtime(35)=1
projID = 4205					; ProjID
projanim = 4205					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 5
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 50, 9
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAFLD
priority = 3, Hit
pausetime = 1, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 0, 75
hitsound = s400, 1
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = 0,0
air.type = high
air.hittime  = 99
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
;p2facing = 1
guard.velocity = -11.2
p2stateno = 3823
kill = 0

[State 1000, Proj]
type = Projectile
triggerall = var(1) != 3
trigger1 = animelemtime(39)=1
projID = 4206					; ProjID
projanim = 4205					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 80
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 60, 9
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAFLD
priority = 3, Hit
pausetime = 1, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 0, 75
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
;p2facing = 1
guard.velocity = -11.2
p2stateno = 4221

[State 1000, Proj]
type = Projectile
triggerall = var(1) = 3
trigger1 = animelemtime(39)=1
projID = 4206					; ProjID
projanim = 4205					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 80
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 1
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 260, 9
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAFLD
priority = 3, Hit
pausetime = 1, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 0, 75
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
;p2facing = 1
guard.velocity = -11.2
p2stateno = 4221

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
triggerall = anim = 4201
triggerall = var(5) = 1
;trigger1 = animelemtime(16)=0 || animelemtime(20)=0 || animelemtime(24)=0 || animelemtime(27)=2
trigger1 = animelemtime(39)=1
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

;------------------------------------
[State explod];
type = null;Explod
trigger1 = var(5) = 1
trigger1 = animelemtime(11)=0
anim = 4110
id = 4110
sprpriority = 1
postype = p1
pos = 0, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
removetime = -1

[state a]
type = removeexplod
trigger1 = animelemtime(14)=0
id = 4110

[State explod];レイジングデッドエンドエフェクト
type = Explod
trigger1 = var(5) = 1
trigger1 = animelemtime(16)=0
anim = 4210
id = 4210
sprpriority = 3
postype = p1
pos = 0, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 43
Movetype = I

;---------------------[ステート移行]
[State 1000, ステート変更];着地
type = ChangeState
;trigger1 = Animelemtime(6) >= 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3804

;---------------------------------------------------------------------------
;(ENEMY)レイジングデッドエンド(当て身)・掴まれ
[Statedef 4220]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 1

;---------------------[演出]
[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 4220

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------[演出]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------[ステート移行]
[State 821, 3] 
type = Changestate
;trigger1 = Vel Y > 0
;trigger1 = Pos Y >= 0
trigger1 = animtime = 0
value = 281

;---------------------------------------------------------------------------
;相手 レイジングデッドエンド(当て身)やられ2
[Statedef 4221]
type    = A
movetype= H
physics = N
;velset = -3,10.5
velset = 0,0
sprpriority = 1

[state a]
type = null;turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 4030

[State 820, 1]
type = PosFreeze
trigger1 = Time >= 0
trigger1 = Time < 5
value = 1

[state a]
type = velset
trigger1 = animelem = 2
x = 5
y = -6.5

[State 821, 1]
type = VelAdd
Trigger1 = animelemtime(2) >= 0
y = .55

[State 821, 3] 
type = Changestate
triggerall = Vel Y > 0
trigger1 = Pos Y >= 10
Trigger1 = animelemtime(2) >= 2
value = 286

;---------------------------------------------------------------------------
; MAX2餓狼デッドリーレイブ1
[Statedef 4300]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 0
poweradd= 0
anim = 4300
ctrl = 0
sprpriority = 1

;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = !var(20) > 0
trigger1 = time = 0
value = -3000

[state a]
type = poweradd
trigger1 = var(20) > 0
trigger1 = time = 5
value = -1000

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = var(1) != 3
trigger1 = time = 0
value = SCA
time = 37

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = var(1) = 3
trigger1 = 1
value = SCA

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = !var(20) > 0
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = !var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
value = -1000

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[state a]
type = varset
trigger1 = time = 5
v = 20
value = 0

;--------------------------------
[State 3000, Pos]
type = PosSet
trigger1 = time = 0
y = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6020
sprpriority = -9999
postype = p1
pos = 12,-83
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6021
sprpriority = 3
postype = p1
pos = 12,-83
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

;---------------------[ヘルパー]
[state a];カットイン
type = Helper
trigger1 = time = 0
id = 8100
name = "cut"
pos = 0 , 0
postype = p1
stateno = 8100
pausemovetime = 999
supermovetime = 999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];MAX2
type = Helper
trigger1 = time = 28
id = 8000
name = "MAX2"
pos = 0,0
postype = p2
stateno = 8000
helpertype = normal
pausemovetime = 999
keyctrl = 0 
ownpal = 1

;---------------------[効果音]
[State 2000, 6];
type = PlaySnd
trigger1 = time = 3
value = 3000,2

[State 00];
type = PlaySnd
trigger1 = animelem = 4
value = 250,1

[State a];すざー
type = PlaySnd
trigger1 = animelem = 13
value = 301, 0

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 2
time = -1
palcolor = 256
;trans = "add1"
timegap = 3
framegap = 2
length = 7
palbright = 0,0,0
palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 15,0

;---------------------[移動]
[state a];
type = velset
trigger1 = var(1) != 3
trigger1 = animelemtime(4) = 0; && animelemtime(10) < 0
x = 10.5

[state a];
type = velset
trigger1 = var(1) = 3
trigger1 = animelemtime(4) = 0; && animelemtime(10) < 0
x = 15.5

;--------------------------------
[State a]
type = EnvColor
triggerall = movehit
trigger1 = animelemtime(4) >= 0
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 0

;--------------------------------
[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 4
attr = A, HA
animtype  = hard
damage    = 15, 8
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 11,10
sparkxy = -10,-56
sparkno = s7003
guard.sparkno = s7011
hitsound   = s405,1
guardsound = s120,1
ground.type = high
ground.slidetime = ifelse(var(1)=3,45,19)
ground.hittime   = ifelse(var(1)=3,45,19)
ground.velocity  = 0
air.type = High
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
ID = 3900
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  0
air.cornerpush.veloff = 0
guard.hittime = 17
id = 3900
;nochainid = 290, 1300
;kill = 0

;-------------------------------------
[State ,ChangeState];ヒット時のこちらの動作
type = ChangeState
triggerall = MoveContact
triggerall = command = "x"
trigger1 = stateno = 4300
value = 4302
ignorehitpause = 1

[State 3000, ステート変更];終了
type = ChangeState
trigger1 = movecontact
value = 4301

[State 1100, エフェクト表示]
type = Explod
trigger1 = !movecontact
trigger1 = time = 30 || time = 36 || time = 42
anim = 1406
postype = P1
pos = 0,0
sprpriority = 10
ownpal = 1
bindtime = 1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 0    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 13
Movetype = I
physics = S

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 15
time = 1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[立ちステート]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;餓狼デッドリーレイブ1ヒットorガード派生
[Statedef 4301]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 9,0
anim     = 4301
ctrl     = 0
sprpriority = 2

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = var(1) = 3
trigger1 = 1
value = SCA

;---------------------[エフェクト消去]
[State a];すざー
type = PlaySnd
trigger1 = animelem = 1
value = 301, 0

[state a]
type = velset
trigger1 = animelem = 4
x = 0
;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 3
time = 1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 1311, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 餓狼デッドリーレイブ2
[Statedef 4302]
type    = S
movetype= A
physics = N
velset = 5,0
juggle = 0
poweradd= 0
anim = 4302
ctrl = 0
sprpriority = 1

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = var(1) = 3
trigger1 = 1
value = SCA

;---------------------[分岐条件がバグるので変数で管理]
[State 1000, ]
type = Varset
trigger1 = time = 0
var(6) = 1

[State 1000, ]
type = Varset
trigger1 = animtime = 0
var(6) = 0

;---------------------[音声]
[State 180 ,VarRandom]
type = VarRandom
trigger1 = 1
v = 5
range = 0,3

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = var(5) != 3
trigger1 = var(5) = 0
trigger1 = AnimElem = 1
value = 220,0

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = var(5) != 3
trigger1 = var(5) = 1
trigger1 = AnimElem = 1
value = 250,1

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = var(5) != 3
trigger1 = var(5) = 2
trigger1 = AnimElem = 1
value = 250,2

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 15,0

;--------------------------------
[State a]
type = EnvColor
trigger1 = AnimElemtime(3) >= 0 && animelemtime(4) < 0
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 0

;--------------------------------
[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 3
attr = A, HA
animtype  = hard
damage    = 15, 8
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 11,10
sparkxy = -10, -91
sparkno = s7003
guard.sparkno = s7011
hitsound   = s405,1
guardsound = s120,1
ground.type = high
ground.slidetime = ifelse(var(1)=3,45,14)
ground.hittime   = ifelse(var(1)=3,45,14)
ground.velocity  = 0
air.type = High
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
ID = 4302
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  0
air.cornerpush.veloff = 0
guard.hittime = 17
;nochainid = 290, 1300
;kill = 0
envshake.time = 5
envshake.freq = 40
envshake.ampl = 6;-3
envshake.phase = -2

;-------------------------------------
[State ,ChangeState];ヒット時のこちらの動作
type = ChangeState
triggerall = MoveContact
triggerall = command = "x"
trigger1 = AnimElemtime(3) >= 0 && animelemtime(4) < 0
trigger1 = stateno = 4302
value = 4303
ignorehitpause = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 4
Movetype = I
physics = S

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animtime = 0
time = 1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[立ちステート]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 餓狼デッドリーレイブ3
[Statedef 4303]
type    = S
movetype= A
physics = N
velset = 5,0
juggle = 0
poweradd= 0
anim = 4303
ctrl = 0
sprpriority = 1

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = var(1) = 3
trigger1 = 1
value = SCA

[State 180 ,VarRandom]
type = VarRandom
trigger1 = 1
v = 5
range = 0,3

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = var(5) != 3
trigger1 = var(5) = 0
trigger1 = AnimElem = 1
value = 220,0

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = var(5) != 3
trigger1 = var(5) = 1
trigger1 = AnimElem = 1
value = 250,1

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = var(5) != 3
trigger1 = var(5) = 2
trigger1 = AnimElem = 1
value = 250,2

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 15,0

;--------------------------------
[State a]
type = EnvColor
trigger1 = AnimElemtime(5) >= 0 && animelemtime(6) < 0
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 0

;--------------------------------
[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 5
attr = A, HA
animtype  = hard
damage    = 20, 8
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 11,10
sparkxy = -35, -69
sparkno = s7003
guard.sparkno = s7011
hitsound   = s405,1
guardsound = s120,1
ground.type = high
ground.slidetime = ifelse(var(1)=3,45,12)
ground.hittime   = ifelse(var(1)=3,45,12)
ground.velocity  = 0
air.type = High
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
ID = 4303
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  0
air.cornerpush.veloff = 0
guard.hittime = 17
;nochainid = 290, 1300
;kill = 0
envshake.time = 5
envshake.freq = 40
envshake.ampl = 6;-3
envshake.phase = -2

;-------------------------------------
[State ,ChangeState];ヒット時のこちらの動作
type = ChangeState
triggerall = MoveContact
triggerall = command = "a"
trigger1 = AnimElemtime(5) >= 0 && animelemtime(6) < 0
trigger1 = stateno = 4303
value = 4304
ignorehitpause = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 6
Movetype = I
physics = S

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animtime = 0
time = 1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[立ちステート]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 餓狼デッドリーレイブ4
[Statedef 4304]
type    = S
movetype= A
physics = N
velset = 5,0
juggle = 0
poweradd= 0
anim = 4304
ctrl = 0
sprpriority = 1

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = var(1) = 3
trigger1 = 1
value = SCA

[State 180 ,VarRandom]
type = VarRandom
trigger1 = 1
v = 5
range = 0,3

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = var(5) != 3
trigger1 = var(5) = 0
trigger1 = AnimElem = 1
value = 220,0

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = var(5) != 3
trigger1 = var(5) = 1
trigger1 = AnimElem = 1
value = 250,1

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = var(5) != 3
trigger1 = var(5) = 2
trigger1 = AnimElem = 1
value = 250,2

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 15,0

;--------------------------------
[State a]
type = EnvColor
trigger1 = AnimElemtime(7) >= 0 && animelemtime(8) < 0
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 0

;--------------------------------
[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 7
attr = A, HA
animtype  = hard
damage    = 15, 8
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 11,10
sparkxy = -21,-38
sparkno = s7003
guard.sparkno = s7011
hitsound   = s405,4
guardsound = s120,1
ground.type = low
ground.slidetime = ifelse(var(1)=3,45,17)
ground.hittime   = ifelse(var(1)=3,45,17)
ground.velocity  = 0
air.type = low
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
ID = 4304
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  0
air.cornerpush.veloff = 0
guard.hittime = 17
;nochainid = 290, 1300
;kill = 0
envshake.time = 5
envshake.freq = 40
envshake.ampl = 6;-3
envshake.phase = -2

;-------------------------------------
[State ,ChangeState];ヒット時のこちらの動作
type = ChangeState
triggerall = MoveContact
triggerall = command = "a"
trigger1 = AnimElemtime(7) >= 0 && animelemtime(8) < 0
trigger1 = stateno = 4304
value = 4305
ignorehitpause = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 8
Movetype = I
physics = S

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animtime = 0
time = 1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[立ちステート]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 餓狼デッドリーレイブ5
[Statedef 4305]
type    = S
movetype= A
physics = N
velset = 5,0
juggle = 0
poweradd= 0
anim = 4305
ctrl = 0
sprpriority = 1

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = var(1) = 3
trigger1 = 1
value = SCA

[State 180 ,VarRandom]
type = VarRandom
trigger1 = 1
v = 5
range = 0,3

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = var(5) != 3
trigger1 = var(5) = 0
trigger1 = AnimElem = 1
value = 220,0

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = var(5) != 3
trigger1 = var(5) = 1
trigger1 = AnimElem = 1
value = 250,1

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = var(5) != 3
trigger1 = var(5) = 2
trigger1 = AnimElem = 1
value = 250,2

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 15,0

;--------------------------------
[State a]
type = EnvColor
trigger1 = AnimElemtime(5) >= 0 && animelemtime(6) < 0
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 0

;--------------------------------
[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 5
attr = A, HA
animtype  = hard
damage    = 30, 8
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 11,10
sparkxy = -12,-69
sparkno = s7003
guard.sparkno = s7011
hitsound   = s405,1
guardsound = s120,1
ground.type = high
ground.slidetime = ifelse(var(1)=3,45,19)
ground.hittime   = ifelse(var(1)=3,45,19)
ground.velocity  = 0
air.type = low
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
ID = 4305
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  0
air.cornerpush.veloff = 0
guard.hittime = 17
;nochainid = 290, 1300
;kill = 0
envshake.time = 5
envshake.freq = 40
envshake.ampl = 6;-3
envshake.phase = -2

;-------------------------------------
[State ,ChangeState];ヒット時のこちらの動作
type = ChangeState
triggerall = MoveContact
triggerall = command = "a"
trigger1 = AnimElemtime(5) >= 0 && animelemtime(6) < 0
trigger1 = stateno = 4305
value = 4306
ignorehitpause = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 6
Movetype = I
physics = S

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animtime = 0
time = 1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[立ちステート]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 餓狼デッドリーレイブ6
[Statedef 4306]
type    = S
movetype= A
physics = N
velset = 5,0
juggle = 0
poweradd= 0
anim = 4306
ctrl = 0
sprpriority = 1

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = var(1) = 3
trigger1 = 1
value = SCA

[State 180 ,VarRandom]
type = VarRandom
trigger1 = 1
v = 5
range = 0,3

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = var(5) != 3
trigger1 = var(5) = 0
trigger1 = AnimElem = 1
value = 220,0

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = var(5) != 3
trigger1 = var(5) = 1
trigger1 = AnimElem = 1
value = 250,1

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = var(5) != 3
trigger1 = var(5) = 2
trigger1 = AnimElem = 1
value = 250,2

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 15,0

;--------------------------------
[State a]
type = EnvColor
trigger1 = AnimElemtime(7) >= 0 && animelemtime(8) < 0
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 0

;--------------------------------
[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 7
attr = A, HA
animtype  = hard
damage    = 25, 8
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 11,10
sparkxy = -17,-20
sparkno = s7003
guard.sparkno = s7011
hitsound   = s405,4
guardsound = s120,1
ground.type = low
ground.slidetime = ifelse(var(1)=3,45,19)
ground.hittime   = ifelse(var(1)=3,45,19)
ground.velocity  = 0
air.type = low
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
ID = 4305
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  0
air.cornerpush.veloff = 0
guard.hittime = 17
;nochainid = 290, 1300
;kill = 0
envshake.time = 5
envshake.freq = 40
envshake.ampl = 6;-3
envshake.phase = -2

;-------------------------------------
[State ,ChangeState];ヒット時のこちらの動作
type = ChangeState
triggerall = MoveContact
triggerall = command = "y"
trigger1 = AnimElemtime(7) >= 0 && animelemtime(8) < 0
trigger1 = stateno = 4306
value = 4307
ignorehitpause = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 8
Movetype = I
physics = S

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animtime = 0
time = 1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[立ちステート]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 餓狼デッドリーレイブ7
[Statedef 4307]
type    = S
movetype= A
physics = N
velset = 5,0
juggle = 0
poweradd= 0
anim = 4307
ctrl = 0
sprpriority = 1

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = var(1) = 3
trigger1 = 1
value = SCA

[State 180 ,VarRandom]
type = VarRandom
trigger1 = 1
v = 5
range = 0,3

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = var(5) != 3
trigger1 = var(5) = 0
trigger1 = AnimElem = 1
value = 220,0

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = var(5) != 3
trigger1 = var(5) = 1
trigger1 = AnimElem = 1
value = 250,1

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = var(5) != 3
trigger1 = var(5) = 2
trigger1 = AnimElem = 1
value = 250,2

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 15,0

;--------------------------------
[State a]
type = EnvColor
trigger1 = AnimElemtime(5) >= 0 && animelemtime(6) < 0
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 0

;--------------------------------
[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 5
attr = A, HA
animtype  = hard
damage    = 30, 8
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 11,10
sparkxy = -15,-87
sparkno = s7003
guard.sparkno = s7011
hitsound   = s405,1
guardsound = s120,1
ground.type = high
ground.slidetime = ifelse(var(1)=3,45,19)
ground.hittime   = ifelse(var(1)=3,45,19)
ground.velocity  = 0
air.type = low
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
ID = 4305
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  0
air.cornerpush.veloff = 0
guard.hittime = 17
;nochainid = 290, 1300
;kill = 0
envshake.time = 5
envshake.freq = 40
envshake.ampl = 6;-3
envshake.phase = -2

;-------------------------------------
[State ,ChangeState];ヒット時のこちらの動作
type = ChangeState
triggerall = MoveContact
triggerall = command = "y"
trigger1 = AnimElemtime(5) >= 0 && animelemtime(6) < 0
trigger1 = stateno = 4307
value = 4308
ignorehitpause = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 8
Movetype = I
physics = S

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animtime = 0
time = 1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[立ちステート]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 餓狼デッドリーレイブ8
[Statedef 4308]
type    = S
movetype= A
physics = N
velset = 5,0
juggle = 0
poweradd= 0
anim = 4308
ctrl = 0
sprpriority = 1

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = var(1) = 3
trigger1 = 1
value = SCA

[State 180 ,VarRandom]
type = VarRandom
trigger1 = 1
v = 5
range = 0,3

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = var(5) != 3
trigger1 = var(5) = 0
trigger1 = AnimElem = 1
value = 220,0

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = var(5) != 3
trigger1 = var(5) = 1
trigger1 = AnimElem = 1
value = 250,1

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = var(5) != 3
trigger1 = var(5) = 2
trigger1 = AnimElem = 1
value = 250,2

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 15,0

;--------------------------------
[State a]
type = EnvColor
trigger1 = AnimElemtime(6) >= 0 && animelemtime(7) < 0
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 0

;--------------------------------
[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 6
attr = A, HA
animtype  = hard
damage    = 25, 8
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 11,10
sparkxy = -20,-72
sparkno = s7003
guard.sparkno = s7011
hitsound   = s405,4
guardsound = s120,1
ground.type = high
ground.slidetime = ifelse(var(1)=3,45,19)
ground.hittime   = ifelse(var(1)=3,45,19)
ground.velocity  = 0
air.type = low
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
ID = 4305
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  0
air.cornerpush.veloff = 0
guard.hittime = 17
;nochainid = 290, 1300
;kill = 0
envshake.time = 5
envshake.freq = 40
envshake.ampl = 6;-3
envshake.phase = -2

;-------------------------------------
[State ,ChangeState];ヒット時のこちらの動作
type = ChangeState
triggerall = MoveContact
triggerall = command = "y"
trigger1 = AnimElemtime(6) >= 0 && animelemtime(7) < 0
trigger1 = stateno = 4308
value = 4309
ignorehitpause = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 7
Movetype = I
physics = S

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animtime = 0
time = 1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[立ちステート]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 餓狼デッドリーレイブ9
[Statedef 4309]
type    = S
movetype= A
physics = N
velset = 5,0
juggle = 0
poweradd= 0
anim = ifelse(var(1)=3,4311,4309)
ctrl = 0
sprpriority = 1

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = var(1) = 3
trigger1 = 1
value = SCA

[State 180 ,VarRandom]
type = VarRandom
trigger1 = 1
v = 5
range = 0,3

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = var(5) != 3
trigger1 = var(5) = 0
trigger1 = AnimElem = 1
value = 220,0

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = var(5) != 3
trigger1 = var(5) = 1
trigger1 = AnimElem = 1
value = 250,1

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = var(5) != 3
trigger1 = var(5) = 2
trigger1 = AnimElem = 1
value = 250,2

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 15,0

;--------------------------------
[State a]
type = EnvColor
trigger1 = AnimElemtime(8) >= 0 && animelemtime(9) < 0
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 0

;--------------------------------
[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
trigger1 = animelem = 6
attr = A, HA
animtype  = hard
damage    = 30, 8
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 11,10
sparkxy = -35, -69
sparkno = s7003
guard.sparkno = s7011
hitsound   = s405,1
guardsound = s120,1
ground.type = high
ground.slidetime = ifelse(var(1)=3,50,30)
ground.hittime   = ifelse(var(1)=3,50,30)
ground.velocity  = 0
air.type = low
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
ID = 4309
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  0
air.cornerpush.veloff = 0
guard.hittime = 17
;nochainid = 290, 1300
;kill = 0
envshake.time = 5
envshake.freq = 40
envshake.ampl = 6;-3
envshake.phase = -2

;-------------------------------------
[State ,ChangeState];ヒット時のこちらの動作
type = ChangeState
triggerall = MoveContact
triggerall = Command = "214y"
trigger1 = AnimElemtime(8) >= 0 && animelemtime(9) < 0
trigger1 = stateno = 4309
value = 4310
ignorehitpause = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 9
Movetype = I
physics = S

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animtime = 0
time = 1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[立ちステート]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 餓狼デッドリーレイブ10
[Statedef 4310]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 0
poweradd= 0
anim = ifelse(var(1)=3,4312,4310)
ctrl = 0
sprpriority = 1

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = var(1) = 3
trigger1 = 1
value = SCA

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = NumTarget(4310)
trigger1 = MoveHit = 1
value = 405,9

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 2100,2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 7
value = 2105,0

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 15,0

;---------------------[速度]
[State 01]
type = Veladd
trigger1 = animelem = 7
x = 5

[State 01]
type = Velmul
trigger1 = 1
x = 0.95

;--------------------------------
[State a]
type = EnvColor
triggerall = NumTarget(4310)
trigger1 = MoveHit = 1
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 0

;--------------------------------
[State explod];手のオーラエフェクト
type = Explod
triggerall = stateno = 4310
trigger1 = animelemtime(2)=0
anim = 4322
id = 4322
sprpriority = 3
postype = p1
pos = 0, 0
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
persistent = 0

[State explod];手のオーラエフェクト
type = Explod
triggerall = stateno = 4310
trigger1 = animelemtime(7)=0
anim = 4323
id = 4323
sprpriority = 3
postype = p1
pos = 0, 0
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
persistent = 0

[State explod];フィニッシュエフェクト
type = Explod
triggerall = stateno = 4310
trigger1 = animelemtime(7)=0
anim = 4320
id = 4320
sprpriority = 3
postype = p1
pos = 0, 0
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
persistent = 0

;--------------------------------
[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
triggerall = P2MoveType != A || var(1) != 3
trigger1 = animelem = 7
attr = A, HA
animtype  = hard
damage    = 210, 8
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 15,14
sparkxy = 0,-68
sparkno = s7003
guard.sparkno = s7011
hitsound   = s405,10
guardsound = s120,1
ground.type = high
ground.slidetime = 30
ground.hittime   = 30
ground.velocity  = 0
air.type = low
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
ID = 4310
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  0
air.cornerpush.veloff = 0
guard.hittime = 17
;nochainid = 290, 1300
;kill = 0
envshake.time = 35
envshake.freq = 99
envshake.ampl = -5;-3
envshake.phase = 99
palfx.time =59
palfx.add = 30,-50,-120
palfx.sinadd = 65,40,40,10
palfx.color = 0
palfx.invertall = 1

[State 1000, ヒット定義]
type = HitDef
triggerall = !var(7)
triggerall = P2MoveType = A || var(1) = 3
trigger1 = animelem = 7
attr = A, HA
animtype  = hard
damage    = 210, 8
getpower  = 0, 0
priority  = 6, hit
hitflag = MAF
guardflag = M
sprpriority = 2
pausetime = 15,14
sparkxy = 0,-68
sparkno = s7003
guard.sparkno = s7011
hitsound   = s405,10
guardsound = s120,1
ground.type = high
ground.slidetime = 30
ground.hittime   = 30
ground.velocity  = 0
air.type = low
air.velocity = -4,-7
yaccel = .55
air.fall = 1
fall.recover = 0
ID = 4311
ground.cornerpush.veloff = 0
guard.cornerpush.veloff =  0
air.cornerpush.veloff = 0
guard.hittime = 17
;nochainid = 290, 1300
;kill = 0
envshake.time = 35
envshake.freq = 99
envshake.ampl = -5;-3
envshake.phase = 99
palfx.time =59
palfx.add = 30,-50,-120
palfx.sinadd = 65,40,40,10
palfx.color = 0
palfx.invertall = 1

;-------------------------------------
[state 1900, TargetState];通常ヒットはすべりダウン
type = TargetState
trigger1 = NumTarget(4310)
trigger1 = MoveHit = 1
value = 293
persistent = 0
ignorehitpause = 1

[state 1900, TargetState];カウンター時はワイヤー
type = TargetState
trigger1 = NumTarget(4311)
trigger1 = MoveHit = 1
value = 295
persistent = 0
ignorehitpause = 1

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 9
Movetype = I
physics = S

;すべりダウンエフェクト
[State 1000, ヘルパーを出す]
type = Helper
triggerall = MoveHit = 1
trigger1 = NumTarget(4310)
trigger2 = NumTarget(4311)
name = "hit"
stateno = 4925
ID = 4925
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
triggerall = MoveHit = 5
trigger1 = NumTarget(4310)
trigger2 = NumTarget(4311)
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

;---------------------[ヘルパー]
[state a];炎上エフェクト
type = Helper
triggerall = MoveHit = 1
;triggerall = enemy,movetype = H
;triggerall = enemy,stateno != [120,159]
trigger1 = NumTarget(4310)
trigger2 = NumTarget(4311)
id = 4321
name = "hit"
pos = 0,0
postype = p2
stateno = 4321
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 11
time = 1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[立ちステート]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;相手ガードクラッシュ1
[Statedef 1655]
type    = S
movetype= H
physics = S
velset = 0,0
sprpriority = 1

[State 820, 1]
type = PosFreeze
trigger1 = Time >= 0
trigger1 = Time < 10
value = 1

;---------------------[エフェクト]
[State a]
type = EnvColor
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
time = 2
value = 255,255,255
under = 2

[State 5940, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = selfanimexist(5910)
value = 5910

[State 5940, ChangeAnim]
type = ChangeAnim2
trigger1 = time = 0
trigger1 = !selfanimexist(5910)
value = 1655

[State 820, 1]
type = Changestate
trigger1 = anim = 5910
trigger1 = time = 29
value = 1656

[State 820, 1]
type = Changestate
trigger1 = anim = 1655
trigger1 = animtime = 0
value = 1656

;---------------------------------------------------------------------------
;相手ガードクラッシュ2
[Statedef 1656]
type    = S
movetype= H
physics = S
velset = 0,0
sprpriority = 1

[State 5940, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = selfanimexist(5911)
value = 5911

[State 5940, ChangeAnim]
type = ChangeAnim2
trigger1 = time = 0
trigger1 = !selfanimexist(5911)
value = 5006

[State 820, 1]
type = SelfState
trigger1 = time >= 5
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; レイジング祭り
[Statedef 4400]
type    = S
movetype= A
physics = S
velset = 0,0
juggle = 0
poweradd= 0
anim = 4400
ctrl = 0
sprpriority = 2

;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = !var(20) > 0
trigger1 = time = 0
value = -5000

[state a]
type = poweradd
trigger1 = var(20) > 0
trigger1 = time = 5
value = -4000

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = !var(20) > 0
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[state a]
type = varset
trigger1 = time = 5
v = 20
value = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 128
movetime = 128
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6020
sprpriority = -9999
postype = p1
pos = 10,-109
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6021
sprpriority = 8
postype = p1
pos = 10,-109
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999
sprpriority = 5

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3000,2

;---------------------[ヘルパー]
[state a];カットイン
type = Helper
trigger1 = time = 0
id = 8100
name = "cut"
pos = 0 , 0
postype = p1
stateno = 8100
pausemovetime = 999
supermovetime = 999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];MAX2 ナイトメア用
type = Helper
trigger1 = time = 28
id = 8020
name = "MAX2"
pos = 0,0
postype = p2
stateno = 8020
helpertype = normal
pausemovetime = 999
keyctrl = 0 
ownpal = 1

;--------------------------------
[State 3000, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
;time = 150;29

[State 3000, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 10,0

[State 3000, 残像]
type = AfterImage
trigger1 = time = 0
time = 1

;--------------------------------[音声用]
[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 2
value = s181,13

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 12
value = s181,1
volume = 255

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 33
value = s182,0
volume = 255

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 81
value = s420,10
volume = 255

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 127
value = s182,4
volume = 255

[State 2200, 3]
type = null;PlaySnd
trigger1 = AnimElem = 190
value = s5003,1
volume = 255

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 193
value = s5003,2
volume = 255

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 12 || AnimElem = 35 || AnimElem = 58 || AnimElem = 81
trigger2 = AnimElem = 104 || AnimElem = 127
value = s2005,0
volume = -155

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 151 || AnimElem = 174 || AnimElem = 197
value = s2005,1
volume = -200

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 219
value = s2005,0
volume = -155

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 221
trigger2 = animelemtime(225)=0 || animelemtime(229)=0 || animelemtime(233)=0 || animelemtime(237)=0
trigger3 = animelemtime(241)=0
value = s2105,0
;volume = -200

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 10 || AnimElem = 33 || AnimElem = 56 || AnimElem = 79
trigger2 = AnimElem = 102 || AnimElem = 125 || AnimElem = 217
anim = 3011
;persistent = 0
postype = P1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 999

;--------------------------------
[State 2000, 振動]
type = EnvShake
trigger1 = AnimElem = 12 || AnimElem = 35 || AnimElem = 58 || AnimElem = 81
trigger2 = AnimElem = 104 || AnimElem = 127 || AnimElem = 150
trigger3 = AnimElem = 173 || AnimElem = 196
time = 35
ampl = -5
freq = 99
phase = 99

[State 2000, 振動]
type = EnvShake
trigger1 = AnimElem = 219
time = 75
ampl = -10
freq = 129
phase = 129

[State 2000, フラッシュ]
type = null;EnvColor
trigger1 = animelem = 13
trigger2 = animelem = 25
time = 2
value = 255,255,255
under = 1
ignorehitpause = 1

[State a]
type = EnvColor
trigger1 = (ProjHitTime(4400)=1)
trigger2 = (ProjHitTime(4401)=1)
trigger3 = (ProjHitTime(4402)=1)
;persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 0

;--------------------------------[一本目攻撃]
[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(13)=0
projID = 4400					; ProjID
projanim = 3023					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 25
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 0
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 50, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2
kill = 0

;--------------------------------[二本目攻撃]
[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(36)=0
projID = 4400					; ProjID
projanim = 3007					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 25
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 0
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 50, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2
kill = 0

;--------------------------------[三本目攻撃]
[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(59)=0
projID = 4400					; ProjID
projanim = 3007					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 1, 1
projremove = 1
projremovetime = 25
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 0
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 50, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2
kill = 0

;--------------------------------[四本目攻撃]
[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(82)=0
projID = 4400					; ProjID
projanim = 4411					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 0.5, 0.5
projremove = 1
projremovetime = 25
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 0
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 50, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2
kill = 0

;--------------------------------[五本目攻撃]
[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(105)=0
projID = 4400					; ProjID
projanim = 3014					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 0.5, 0.5
projremove = 1
projremovetime = 25
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 0
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 50, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2
kill = 0

;--------------------------------[六本目攻撃]
[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(128)=0
projID = 4400					; ProjID
projanim = 3913					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 0.5, 0.5
projremove = 1
projremovetime = 25
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 0
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 50, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2
kill = 0

;--------------------------------[七本目攻撃]
[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(153)=0
projID = 4400					; ProjID
projanim = 3033					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 0.5, 0.5
projremove = 1
projremovetime = 25
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 0
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 50, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2
kill = 0

;--------------------------------[八本目攻撃]
[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(177)=0
projID = 4400					; ProjID
projanim = 3033					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 0.5, 0.5
projremove = 1
projremovetime = 30
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 0
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 50, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2
kill = 0

;--------------------------------[九本目攻撃]
[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(200)=0
projID = 4400					; ProjID
projanim = 3033					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 0.5, 0.5
projremove = 1
projremovetime = 30
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 0
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 50, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2
kill = 0

;--------------------------------[十本目攻撃]
[State 1000, Proj]
type = Projectile
trigger1 = animelemtime(221)=0 || animelemtime(225)=0 || animelemtime(229)=0 || animelemtime(233)=0 || animelemtime(237)=0
projID = 4402					; ProjID
projanim = 4418					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 0.5, 0.5
projremove = 1
projremovetime = 8
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 0
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 50, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

;--------------------------------[十本目攻撃持続]
[State 1000, Proj]
type = Projectile
;trigger1 = animelemtime(225)=0 || animelemtime(229)=0 || animelemtime(233)=0 || animelemtime(237)=0
trigger1 = animelemtime(241)=0
projID = 4401					; ProjID
projanim = 4418					; Projectileのアニメ
;projhitanim = 1067				; 消滅アニメ
projscale = 0.5, 0.5
projremove = 1
projremovetime = 8
projhits = 1
projpriority = 1
projsprpriority = 4
;projedgebound = 150				;画面外消滅距離(省略時40)
air.juggle = 0
offset = 0,0					;出現位置
velocity = 0					;初速度
ownpal = 1						;独自パレ
postype = p1
attr = S, HP
damage = 50, 8
getpower  = 0
givepower = 10,10
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 11, 10
sparkno = s7003
guard.sparkno = s7011
sparkxy = 62, -95
hitsound = s400, 5
guardsound = s120, 1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2.2,-11.8
air.type = low
air.hittime  = 99
air.velocity = -2.2,-11.8
yaccel = .55
fall = 1
fall.recover = 0
guard.hittime = 17
fall.recovertime = 99999
p2facing = 1
guard.velocity = -11.2

[State 20] ;地上ヒット時の相手動作
type = targetState
trigger1 = (ProjHitTime(4400)=1)
value = 4420
ctrl = 0
IgnoreHitPause = 1
;Persistent     = 0

[State 20] ;地上ヒット時の相手動作
type = targetState
trigger1 = (ProjHitTime(4401)=1)
trigger2 = (ProjHitTime(4402)=1)
value = 3060
ctrl = 0
IgnoreHitPause = 1
;Persistent     = 0

[State 20] ;最後ヒットしたら即死
type = TargetLifeAdd
trigger1 = (ProjHitTime(4401)=1)
trigger2 = (ProjHitTime(4402)=1)
value = -999999
absolute = 1

;叩きつけエフェクト
[State 1000, ヘルパーを出す]
type = Helper
trigger1 = (ProjHitTime(4400)=1)
trigger2 = (ProjHitTime(4401)=1)
name = "hit"
stateno = 4920
ID = 4920
helpertype = normal
pos = 0,0
postype = p2
keyctrl = 0
ownpal = 1
ignorehitpause = 1

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
trigger1 = animelem = 212
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

;スロー処理
[State 3000, ヘルパーを出す]
type = Helper
;trigger1 = (ProjHitTime(4400)=1)
trigger1 = (ProjHitTime(4401)=1)
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

;--------------------------------[一本目エフェクト]
[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 12
anim = 3021
persistent = 0
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 12
anim = 3022
persistent = 0
postype = P1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

;--------------------------------[二本目エフェクト]
[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 35
anim = 3005
persistent = 0
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 35
anim = 3006
persistent = 0
postype = P1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

;--------------------------------[三本目エフェクト]
[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 58
anim = 4412
persistent = 0
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 58
anim = 4413
persistent = 0
postype = P1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

;--------------------------------[四本目エフェクト]
[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 81
anim = 4410
persistent = 0
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999
scale = 0.5, 0.5

;--------------------------------[五本目エフェクト]
[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 104
anim = 3012
persistent = 0
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 104
anim = 3013
persistent = 0
postype = P1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

;--------------------------------[六本目エフェクト]
[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 127
anim = 3911
persistent = 0
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 127
anim = 3912
persistent = 0
postype = P1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

;--------------------------------[七本目エフェクト]
[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 148
anim = 3031
persistent = 0
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
pausemovetime = 6

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 154
anim = 4414
persistent = 0
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

;--------------------------------[八本目エフェクト]
[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 172
anim = 3305
persistent = 0
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
pausemovetime = 6

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 177
anim = 4415
persistent = 0
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

;--------------------------------[九本目エフェクト]
[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 194
anim = 3511
persistent = 0
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

[State 3000, エフェクト表示]
type = Explod
trigger1 = AnimElem = 199
anim = 4416
persistent = 0
postype = P1
pos = 0,0
sprpriority = 3
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 0    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

;--------------------------------[十本目エフェクト]
[State explod];光柱1
type = Explod
trigger1 = AnimElem = 219
anim = 4417
id = 3505
sprpriority = 3
postype = p1
pos = 76, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
pausemovetime = 4

[State explod];光柱2
type = Explod
trigger1 = AnimElem = 219
anim = 4417
id = 3505
sprpriority = 3
postype = p1
pos = -48, 0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
pausemovetime = 4

[State explod];光柱3
type = Explod
trigger1 = AnimElem = 219
anim = 4417
id = 3505
sprpriority = 4
postype = p1
pos = 32, 10
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
pausemovetime = 4

[State explod];光柱4
type = Explod
trigger1 = AnimElem = 219
anim = 4417
id = 3505
sprpriority = 4
postype = p1
pos = -6, 10
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
pausemovetime = 4

[State explod];光柱5
type = Explod
trigger1 = AnimElem = 219
anim = 4417
id = 3505
sprpriority = -1
postype = p1
pos = 40, -15
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
pausemovetime = 4

[State explod];光柱6
type = Explod
trigger1 = AnimElem = 219
anim = 4417
id = 3505
sprpriority = -1
postype = p1
pos = -18, -15
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
ownpal = 1
pausemovetime = 4

;スロー処理
[State 3000, ヘルパーを出す]
type = null;Helper
trigger1 = AnimElem = 212
name = "Slow"
stateno = 4900
ID = 4900
helpertype = normal
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 200, ];攻撃状態終了
type = StateTypeSet
trigger1 = animelem = 232
Movetype = I

[State 1640, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;相手 レイジング祭りやられ1
[Statedef 4420]
type    = A
movetype= H
physics = N
;velset = -3,10.5
velset = 0,0
sprpriority = 1

[state a]
type = null;turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 4420

[State 820, 1]
type = PosFreeze
trigger1 = Time >= 0
trigger1 = Time < 10
value = 1

[state a]
type = velset
trigger1 = time = 10
x = 0
y = -14.3

[State 2100, 移動]
type = Veladd
Trigger1 = time != 0
y = .55

[State 820, 1]
type = Changestate
trigger1 = Pos Y >= -1
trigger1 = Vel Y > 0
trigger1 = animelemtime(3) >= 0
value = 3061

;---------------------------------------------------------------------------
; レイジングデッドエンド(発動)
[Statedef 4500]
type    = S
movetype= I
physics = N
velset = 0,0
juggle = 0
poweradd= 0
anim = 4500
ctrl = 0
sprpriority = 1

;---------------------[ゲージ]
[state a]
type = poweradd
trigger1 = !var(20) > 0
trigger1 = time = 0
value = -3000

[state a]
type = poweradd
trigger1 = var(20) > 0
trigger1 = time = 5
value = -1000

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = var(1) = 3
trigger1 = 1
value = SCA

;---------------------[スパキャン]
[State a];点滅
type = palfx
triggerall = !var(20) > 0
triggerall = time <= 20
triggerall = time % 2 = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];ゲージ
type = poweradd
triggerall = !var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 1080 || (prevstateno = [1200,1205])
trigger2 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger3 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
value = -1000

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[state a]
type = varset
trigger1 = time = 5
v = 20
value = 0

;--------------------------------
[State 3000, Pos]
type = PosSet
trigger1 = time = 0
y = 0

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = Pause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 6020
sprpriority = -9999
postype = p1
pos = -12,-78
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 6021
sprpriority = 3
postype = p1
pos = -12,-78
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

;---------------------[効果音]
[State 2000, 6];
type = PlaySnd
trigger1 = time = 3
value = 3000,2

;---------------------[レイジングデッドエンド状態に]
[State -2, VarSet];
type = VarSet
trigger1 = 1
var(28) = 1

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 15,0

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 2
persistent = 0
anim = 4510
postype = P1
pos = 0,0
sprpriority = 2
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
pausemovetime = 9999

;---------------------[立ちステート]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; レイジングデッドエンド中の当て身1
[Statedef 4505]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = 0
velset = 0,0
anim = 4505
sprpriority = 1
ctrl = 0

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

;---------------------[サウンド]
[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 195,0

;---------------------[攻撃]
[State 1200, Reversal]
type = reversaldef
trigger1 = animelem = 1
attr = S,HT
reversal.attr = SCA,AA
pausetime = 20,20
sparkxy = 19,-30
sparkno = s7011
hitsound = s1405,0
p1stateno = 4101
p2stateno = 4120
p2facing = 1
numhits = 0

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 1
persistent = 0
anim = 4513
id = 4513
postype = P1
pos = 0,0
sprpriority = 4
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

;---------------------[エフェクトがバグるので変数で管理]
[State 1000, ]
type = Varset
trigger1 = 1
var(5) = 0

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; レイジングデッドエンド中の当て身2
[Statedef 4506]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = 0
velset = 0,0
anim = 4505
sprpriority = 1
ctrl = 0

;---------------------[どこキャン]
[State a];点滅
type = palfx
triggerall = var(20) > 0
triggerall = time <= 5
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
time = 1
add = 256,256,256
color = 1
ignorehitpause = 1

[State a];MAXゲージ
type = varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
v = 20
value = -150

[State a];減算補正
type = Varadd
triggerall = var(20) > 0
triggerall = time = 0
trigger1 = prevstateno = 200 || prevstateno = 210 || prevstateno = 211 || prevstateno = 230
trigger2 = prevstateno = 240 ||prevstateno = 430 || (prevstateno = 245 && var(6) = 1)|| (prevstateno = 271 && var(1) = 1)
trigger3 = prevstateno = 260 || prevstateno = 270 || prevstateno = 291 || prevstateno = 299
trigger4 = prevstateno = 450 || prevstateno = 751 || prevstateno = 1080 || (prevstateno = [1200,1205])
trigger5 = (prevstateno = [1250,1265]) || (prevstateno = [1400,1402]) || (prevstateno = [1411,1412])
trigger6 = prevstateno = 1431 || prevstateno = 1441 || prevstateno = 1521 || prevstateno = 1541
fvar(4) = -0.15
persistent = 0
ignorehitpause = 1

;---------------------[サウンド]
[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 195,1

;---------------------[攻撃]
[State 1200, Reversal]
type = reversaldef
trigger1 = animelem = 1
attr = S,HT
reversal.attr = SCA,AA
pausetime = 15,15
sparkxy = 19,-30
sparkno = s7011
hitsound = s1405,0
p1stateno = 4201
p2stateno = 4220
p2facing = 1
numhits = 0

[State 1100, エフェクト表示]
type = Explod
trigger1 = AnimElem = 1
persistent = 0
anim = 4513
id = 4513
postype = P1
pos = 0,0
sprpriority = 4
ownpal = 1
bindtime = -1         ; -1: 永久固定
removetime = -2       ; -1: 消滅しない, -2: animtime=0で消滅
ignorehitpause = 1    ;  0: hitpause中は動かない, 1: 動く
removeongethit = 1    ;  0: 攻撃を受けて消えない, 1: 消える
;shadow = -1           ; 影ステージ依存(略時無)
ownpal = 1            ; 独自パレット
;supermovetime = 9999
;pausemovetime = 9999

;---------------------[エフェクトがバグるので変数で管理]
[State 1000, ]
type = Varset
trigger1 = 1
var(5) = 0

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

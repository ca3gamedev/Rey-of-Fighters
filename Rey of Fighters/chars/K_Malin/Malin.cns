[Data]
life = 1000
power = 3000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 9
airjuggle = 7
sparkno = s6000
guard.sparkno = 40
KO.echo = 0
volume = 0

[Size]
xscale = 1           
yscale = 1           
ground.back = 15     
ground.front = 16    
air.back = 12        
air.front = 12       
height = 60          
attack.dist = 160    
proj.attack.dist = 90 
proj.doscale = 0     
head.pos = -8, -79
mid.pos = -5, -58
shadowoffset = 0     
draw.offset = 0,0    

[Velocity]
walk.fwd  = 3.91796875
walk.back = -3.91796875
run.fwd  = 6.33203125
run.back = -12.617523193359375,-4.681640625 
jump.neu = 0, -9.38671875;-12.595703125 (CHOI STYLE JUMP, LOL) ;7.88671875 
jump.back = -3.91796875
jump.fwd = 3.91796875
runjump.fwd = 5.07421875 
runjump.back = -5.07421875        


[Movement]
yaccel = 0.5     ;Vertical acceleration
stand.friction = .82  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching


;---------------------------------------------------------------------------
; Variable usage:
; Var(2) Jump Stuff

;---------------------------------------------------------------------------
; COMMONSTATES
;---------------------------------------------------------------------------
; Stand
[Statedef 0]
type = S
physics = S
sprpriority = 0
velset = 0,0

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 0

[State 0, 4] ;Are you dead?
type = ChangeState
trigger1 = !alive
value = 5050
;---------------------------------------------------------------------------
; Stand to Crouch
[Statedef 10]
type    = C
physics = C
anim = 10
velset = 0,0

[State 10, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;---------------------------------------------------------------------------
; Crouching
[Statedef 11]
type    = C
physics = C
anim = 11
sprpriority = 0
velset = 0,0

[State 11, 0]
type = Turn
trigger1 = Anim = 5

[State 11, 0]
type = ChangeAnim
trigger1 = PrevStateNo = [10,12]
trigger1 = Anim != [10,11]
trigger1 = Anim != 6
value = 10

[State 0, 1]
type = AssertSpecial
trigger1 = Anim = 10
flag = NoAutoTurn

[State 11, 1] ;Change from turning animation
type = ChangeAnim
trigger1 = Anim = 6 && AnimTime = 0
trigger2 = Anim != 11 && Anim != 6 && Anim != 10
trigger3 = Anim = 10 && AnimTime = 0
value = 11

;---------------------------------------------------------------------------
; Crouch to Stand
[Statedef 12]
type    = S
physics = S
anim = 12
velset = 0,0

[State 12, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Walk
[Statedef 20]
type    = S
physics = S
sprpriority = 0

[State 20, 1]
type = VelSet
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)

[State 20, 2]
type = VelSet
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)

[State 20, 3]
type = ChangeAnim
triggerall = vel x > 0
trigger1 = Anim != 20
value = 20

[State 20, 4]
type = ChangeAnim
triggerall = vel x < 0
trigger1 = Anim != 21
value = 21

;---------------------------------------------------------------------------
; Jump Start
[Statedef 40]
type = S
physics = S
ctrl = 0
velset = 0,0
facep2 = 1
sprpriority = 1

[State 100, Kino]
type = VarSet
trigger1 = !time
var(4) = 0
[State 100, Karin]
type = VarSet
trigger1 = command = "x"
var(4) = 1
[State 100, Karin]
type = VarSet
trigger1 = command = "a"
var(4) = 2
[State 100, Karin]
type = VarSet
trigger1 = command = "y"
var(4) = 3
[State 100, Karin]
type = VarSet
trigger1 = command = "b"
var(4) = 4
[State 100, Karin]
type = VarSet
trigger1 = command = "z"
var(4) = 5

[State 40, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = 40

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 1]
type = VarSet
triggerall = sysvar(1)
trigger1 = command = "hijump" && command != "ChargedDU"
trigger2 = PrevStateNo = 101 && sysvar(1) = 1
var(2) = 1
[State 40, 1]
type = VarSet
trigger1 = PrevStateNo = 101 && sysvar(1) = -1
var(2) = 0

[State 40, 4]
type = VarSet
trigger1 = Time = 0
var(3) = 0

[State 40, 5]
type = VarSet
trigger1 = command != "holdup"
var(3) = 2

[State 40, 6]
type = VelSet
triggerall = !var(2)
trigger1 = AnimTime = 0
trigger2 = var(4) && time > 0
x = ifelse(!sysvar(1), 0, ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))

[State 40, 7]
type = VelSet
triggerall = var(2)
trigger1 = AnimTime = 0
trigger2 = var(4) && time > 0
x = ifelse(!sysvar(1), 0, ifelse(sysvar(1)=1, const(velocity.runjump.fwd.x), const(velocity.runjump.back.x)))

[State 40, 8]
type = VelSet
trigger1 = AnimTime = 0
trigger2 = var(4) && time > 0
y = ifelse (var(3), -7.6640625, const(velocity.jump.y))

[State 40, PlaySnd]
type = PlaySnd
trigger1 = !animtime
trigger2 = var(4) && time > 0
value = 2+(var(32)*10),3+var(2)

;--------------------------[APPROPIATE ATTACK STATE]----------------------------
;Jumping Light Punch
[State -1, Jumping Light Punch]
type = ChangeState
value = 600
trigger1 = var(4) = 1 && time > 0
;Jumping Light Kick
[State -1, Jumping Light Kick]
type = ChangeState
value = 620
trigger1 = var(4) = 2 && time > 0
;Jumping Hard Punch
[State -1, Jumping Hard Punch]
type = ChangeState
value = 610
trigger1 = var(4) = 3 && time > 0
;Jumping Hard Kick
[State -1, Jumping Light Kick]
type = ChangeState
value = 630
trigger1 = var(4) = 4 && time > 0
;Jumping CD Attack
[State -1, Jumping CD Attack]
type = ChangeState
value = 640
trigger1 = var(4) = 5 && time > 0
;-------------------------------------------------------------------------------

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0 && command = "holdup"
value = 50
ctrl = 1

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0 && Var(3) = 2
value = 41
ctrl = 1

; Jump Up
[Statedef 50]
type = A
physics = N

[State 810, 1]
type = AfterImage
trigger1 = !time && var(2) && sysvar(1) 
time = 20
length = 4
framegap = 1
timegap = 6
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 50, 1]
type = VarSet
trigger1 = Time = 1
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50, VelAdd]
type = VelAdd
trigger1 = time > 0
y = const(movement.yaccel)

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

[State 40, 6]
type = ChangeState
trigger1 = Pos Y + Vel Y >= 0
value = 52

;---------------------------------------------------------------------------
; Short Jump
[Statedef 41]
type = A
physics = N

[State 810, 1]
type = AfterImage
trigger1 = !time && var(2) && sysvar(1) 
time = 20
length = 4
framegap = 1
timegap = 6
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 1101, pos]
type = Veladd
trigger1 = time > 0
y = const(movement.yaccel)

[State 50, 1]
type = VarSet
trigger1 = Time = 1
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 51, ifelse((vel x)>0, 52, 53))

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

[State 40, 6]
type = ChangeState
trigger1 = Pos Y + Vel Y >= 0
value = 52
ctrl = 1

;---------------------------------------------------------------------------
; Jump Land
[Statedef 52]
type    = S
physics = S
ctrl = 1
anim = 47
velset = 0,0

[State -3, hop]
type = PlaySnd
trigger1 = !time 
value = 2+(var(32)*10),2

[State 1000, remove fx]
type = RemoveExplod
trigger1 = !time 
ID = 1000

[State 40, 1]
type = VarSet
trigger1 = !time
var(2) = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Wall Jump
[Statedef 42]
type = A
physics = N
velset = 0,0
anim = 60
ctrl = 0

[State 60, 0]
type = Turn
trigger1 = FrontEdgeBodyDist < 8 && time = 0

[State 60, 1]
type = PosAdd
trigger1 = AnimTime = 0
x = 20

[State 60, 1]
type = VelSet
trigger1 = AnimTime = 0
x = const(velocity.jump.fwd.x)
y = const(velocity.jump.y)

[State 40, PlaySnd]
type = PlaySnd
trigger1 = !animtime
value = 2+(var(32)*10),3+var(2)

[State 60, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------------------------------------------------------------
; DASH_FWD
[Statedef 100]
type    = S
physics = S
anim = 99
ctrl = 0
velset = 0
sprpriority = 1

[State 220,2]
type = ChangeState
trigger1 = AnimTime = 0
value = 101

[Statedef 101]
type    = S
physics = N
anim = 100
ctrl = 0
velset = 0
sprpriority = 1

[State -3, dash]
type = PlaySnd
trigger1 = time = 1
value = 2+(var(32)*10),8
volume = 200
loop = 1
channel = 27

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, VarSet]
type = VarSet
trigger1 = !time && prevstateno != 102
var(26) = 0

[State 100, VarSet]
type = VarSet
trigger1 = time > 10
var(26) = 1

[State 220,2]
type = ChangeState
trigger1 = command = "holdup"
value = 40

[State 101, 6]
type = ChangeState
trigger1 = Time > 9
trigger1 = command != "holdfwd"
value = 102

[Statedef 102]
type    = S
physics = S
anim = 101
ctrl = 0
velset = 0
sprpriority = 1

[State 102, 3]
type = StopSnd
trigger1 = time = 0
channel = 27

[State 100, 4]
type = ChangeState
triggerall = var(26)
trigger1 = command = "holdfwd"
value = 101

[State 220,2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------------------------------------------------------
[Statedef 105]
type    = S
physics = N
ctrl = 0
anim = 105
sprpriority = 1

[State -3, hop]
type = PlaySnd
triggerall = time = 4
trigger1 = StateNo = 105
value = 2+(var(32)*10),12

[State 105, 1]
type = StateTypeSet
trigger1 = Time = 3
statetype = A

[State 105, 1]
type = VelSet
trigger1 = Time = 3
x = -12.382476806640625
y = -4

[State 105, 1]
type = VelAdd
trigger1 = Time > 3
Y = 0.625

[State 105, 1]
type = VelMul
trigger1 = Time > 3
X = 0.9499974122438344478531439452752

[State 105, 3]
type = ChangeState
trigger1 = Vel Y + Pos Y >= 0
trigger1 = Time > 3
value = 106

[StateDef 106]
type = s
MoveType = I
VelSet = 0, 0
Anim = 106
SprPriority = 2 
ctrl=0
facep2 = 1

[State -3, hop]
type = PlaySnd
trigger1 = !time 
value = 2+(var(32)*10),2

[State 1011, 0]
type = PosSet
trigger1 = !time
y = 0

[State 1011, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 

;---------------------------------------------------------------------------
; HIT_FALLRECOVER (on the ground)
[Statedef 5201]
type    = S
movetype= H
physics = N
anim = 5200

[State 200, snd]
type=playsnd
trigger1= animelem=1 
value=200,14
channel=0  
volume = 200

[State 5201, 1]
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -5

[State 5201, 3]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5201, VelSet]
type = VelSet
trigger1 = !time
x =-11.5
y = 0

[State 5201, VelSet]
type = VelSet
trigger1 = time = 1
x = -7.921875

[State 5201, VelMul]
type = VelMul
trigger1 = 1
x = 0.8125

[State 750, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 5201, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, 6]
type = GameMakeAnim
trigger1 = Time = 1
value = 60
pos = 0, 0
under = 1

[State 705, 1]
type = SelfState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 5950]
type=S
movetype=H
physics=S
anim=5950
velset=0,0

[State 5950, NHB]
type=nothitby
trigger1= 1
value=SCA

[State 5950, KO Snd]
type=assertspecial
trigger1= 1
flag=nokosnd

[State 5950, KO Snd]
type=stopsnd
trigger1= !time && !alive
channel=0

[State 5950, KO Snd]
type=playsnd
trigger1= animelem=2 && !alive
value=5950,0
volume = 200

[State 1510, 2]
type = ChangeAnim
triggerall = anim != 9219 
trigger1 = AnimTime = 0
trigger2 = AnimElemTime(AnimElemNo(0)+1)=0
value = IfElse((anim =5950&&SelfAnimExist(5112)),5112,5110)
persistent = 0

[State 5950, End]
type=changestate
trigger1= AnimElemTime(AnimElemNo(0)+1)=0
value=ifelse(alive,5110,5150)
;---------------------------------------------------------------------------
;Basic Stuff 
;---------------------------------------------------------------------------
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

; Win state decider
[Statedef 180]
type = S

[State 180, Random Winpose Decider]
Type = VarRandom
Trigger1 = !Var(0) && Time = 15
v = 0
Range = 181, 183

[State 180, Switch To Win Pose]
Type = ChangeState
Trigger1 = !Var(0)
Trigger1 = Var(0) := ifelse(command = "hold_x", 181, ifelse(command = "hold_y", 182, ifelse(command = "hold_a", 183, ifelse(command = "hold_b", 183,0))))
Trigger2 = Var(0)
Value = Var(0)
;---------------------------------------------------------------------------
; Win pose 1 
[Statedef 181]
type = S
velset = 0,0
anim = 181
spriority = -1
ctrl=0

[State 200, snd]
type=playsnd
trigger1= animelem=9
value=180,0
channel=0   
volume = 200

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[Statedef 182]
type = S
velset = 0,0
anim = 182
spriority = -1
ctrl=0

[State 200, snd]
type=playsnd
trigger1= animelem=1
value=180,1
channel=0   
volume = 200

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[Statedef 183]
type = S
velset = 0,0
anim = 183
spriority = -1
ctrl=0

[State 200, snd]
type=playsnd
trigger1= animelem=1
value=180,2
channel=0   
volume = 200

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;Intro 
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 192]
type=changestate
trigger1 = p2name = "cvsyuri" 
trigger2 = p2name = "Yuri Sakazaki" 
value = 192

[State 200, snd]
type= playsnd
trigger1= animelem=2
value=190,0
channel = 6

[State 192, 2] ;
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 192, 3] ;
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;Intro vs Yuri 
[Statedef 192]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 200, snd]
type= playsnd
trigger1= animelem=4
value=190, 1
channel = 6

[State 192, 2] ;
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 192, 3] ;
type = ChangeState
trigger1 = AnimTime = 0
value = 0

; Taunt
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 200, snd]
type=playsnd
trigger1= animelem=1
value=195,0
channel=0   
volume = 200

[State 195, 1]
type = CtrlSet
triggerall = Roundstate = 2
trigger1 = Time = 40
value = 1

[State 195, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; NORMAL ATTACKS
;---------------------------------------------------------------------------
;CLOSE A
[Statedef 200]
type    = S                      
movetype= A                    
physics = S                    
velset = 0,0                    
ctrl = 0                       
anim = 200  
poweradd= 0                               
sprpriority = 2  
juggle =10   
facep2 = 1

[State 200, snd]
type=playsnd
trigger1= animelem=1 && random<500
value=200,0
channel=0  
volume = 200

[State 200, Punch Attempt Sound]
type = Playsnd
trigger1 = time = 0
value = 3+(var(32)*2),0

[State 200, 1]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = animelem = 6
attr = S, NA                    
damage = 40, 0   
hitsound = s3+(var(32)*2),21
guardsound = s3+(var(32)*2), 12
sparkno = s17003+(var(31)*10001)
sparkxy = -10, -84    
guard.sparkno = s17500+(var(31)*10000)
guard.sparkxy = 0, -84              
animtype = Light  
ground.type = high  
air.animtype = back  
fall = 0      
guardflag = M                   
hitflag = MAF            
priority = 7, Hit                                              
pausetime = 10,11
guard.pausetime = 10,9
ground.slidetime = 9
ground.hittime = 9
guard.hittime = 10
guard.slidetime = 10
guard.ctrltime = 17
ground.velocity = -5.796875
air.velocity = -4.5,-6.5
air.hittime = 13
air.juggle = 0
getpower = 47,47
givepower = 16,16
guard.pausetime = 12,10
air.fall = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0  
fall = 0
id=200

[State 220, Explod]
type = Explod
triggerall = var(22)
trigger1 = movehit
anim = 17007
pos = -10, -84 
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;FAR A
[Statedef 205]
type    = S                      
movetype= A                    
physics = S                     
juggle  = 10              
velset = 0,0                    
ctrl = 0                       
anim = 205  
poweradd= 0                               
sprpriority = 2  
facep2 = 1   

[State 200, snd]
type=playsnd
trigger1= animelem=1 && random<500
value=200,0
channel=0    
volume = 200        

[State 205, 1]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time= 0
attr = S, NA                    
damage = 40, 0  
hitsound = s3+(var(32)*2),21
guardsound = s3+(var(32)*2), 12
sparkno = s17003+(var(31)*10001)
sparkxy = -10, -60    
guard.sparkno = s17500+(var(31)*10000)
guard.sparkxy = 0, -60 
animtype = Light     
ground.type = high  
air.animtype = back        
guardflag = M                   
hitflag = MAF         
priority = 7, Hit                                              
pausetime = 10,11
guard.pausetime = 10,9
ground.slidetime = 9
ground.hittime = 9
guard.hittime = 10
guard.slidetime = 10
guard.ctrltime = 17
ground.velocity = -5.796875
air.velocity = -4.5,-6.5
air.hittime = 13
air.juggle = 0
getpower = 47,47
givepower = 16,16
guard.pausetime = 12,10
air.fall = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0   
id=200

[State 220, Explod]
type = Explod
triggerall = var(22)
trigger1 = movehit
anim = 17007
pos = -10, -87 
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State -2, Juggle Killer]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 200, Punch Attempt Sound]
type = Playsnd
trigger1 = time = 0
value = 3+(var(32)*2),0 

[State 205, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;CLOSE C
[Statedef 210]
type    = S                      
movetype= A                    
physics = S                     
juggle  = 10              
velset = 0,0                    
ctrl = 0                       
anim = 210  
poweradd= 0                               
sprpriority = -1
facep2 = 1

[State 1000, fx]
type = Explod
trigger1 = animelem = 1
anim = 10210
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1000

[State 1000, remove fx]
type = RemoveExplod
trigger1 = animelemno(0) > 4
ID = 1000

[State 200, snd]
type=playsnd
trigger1= animelem=1 && random<500
value=200,1
channel=0  
volume = 200

[State 200, Punch Attempt Sound]
type = Playsnd
trigger1 = time = 0
value = 3+(var(32)*2),2

[State 230, 1]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time = 0
attr = S, NA  
guardflag = M                  
hitflag = MAF    
animtype = hard
ground.type = high
damage = 70, 0   
hitsound = s3+(var(32)*2),20
guardsound = s3+(var(32)*2), 12 
sparkno = s17004+(var(31)*10001)
sparkxy = -10, -55    
guard.sparkno = s17501+(var(31)*10000)
guard.sparkxy = 0, -55             
priority = 4, Hit
pausetime = 12,13
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -8.6953125
air.velocity = -3.5,-6
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5  
id=200

[State 220, Explod]
type = Explod
triggerall = var(22)
trigger1 = MoveHit
anim = 17008
pos = -10, -55 
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State -2, Juggle Killer]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 210, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1    
;---------------------------------------------------------------------------
;FAR C
[Statedef 215]
type    = S                      
movetype= A                    
physics = S                     
juggle  = 10              
velset = 0,0                    
ctrl = 0                       
anim = 215  
poweradd= 0                               
sprpriority = -1 
facep2 = 1  

[State 1000, fx]
type = Explod
trigger1 = animelem = 1
anim = 10215
bindtime = -1
sprpriority = 3
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1000

[State 1000, remove fx]
type = RemoveExplod
trigger1 = animelemno(0) > 9
ID = 1000

[State 200, snd]
type=playsnd
trigger1= animelem=1 && random<500
value=200,1
channel=0      
volume = 200

[State 230, 1]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time = 0
attr = S, NA  
guardflag = M                  
hitflag = MAF    
animtype = hard
ground.type = high
damage = 70, 0   
hitsound = s3+(var(32)*2),20
guardsound = s3+(var(32)*2), 12 
sparkno = s17004+(var(31)*10001)
sparkxy = -10, -55    
guard.sparkno = s17501+(var(31)*10000)
guard.sparkxy = 0, -55             
priority = 4, Hit
pausetime = 12,13
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -8.6953125
air.velocity = -3.5,-6
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5  
id=200

[State 220, Explod]
type = Explod
triggerall = var(22)
trigger1 = movehit
anim = 17008
pos = -10, -49 
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State -2, Juggle Killer]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 200, Punch Attempt Sound]
type = Playsnd
trigger1 = time = 0
value = 3+(var(32)*2),2    

[State 215, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1                                   
;---------------------------------------------------------------------------             
; Close B
[Statedef 220]
type    = S                      
movetype= A                    
physics = S                     
juggle  = 10               
velset = 0,0                    
ctrl = 0                       
anim = 220  
poweradd= 0                               
sprpriority = 2  
facep2 = 1

[State 200, snd]
type=playsnd
trigger1= animelem=1 && random<500
value=200,0
channel=0   
volume = 200
[State 200, Punch Attempt Sound]
type = Playsnd
trigger1 = time = 0
value = 3+(var(32)*2),4               

[State 220, 1]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time=0 
attr = S, NA        
animtype = Light    
ground.type = Low          
damage = 40, 0    
sparkno = s17000+(var(31)*10000)
sparkxy = -10, -53
hitsound = s3+(var(32)*2+((random%3)*var(32))),5
guardsound = s3+(var(32)*2), 12;s2, 6
guard.sparkno = s17500+(var(31)*10000)
guard.sparkxy = 0, -53       
guardflag = M                   
hitflag = MAF         
animtype = Light     
air.animtype = back           
guardflag = M                   
hitflag = MAF           
priority = 7, Hit                                              
pausetime = 10,11
guard.pausetime = 10,9
ground.slidetime = 9
ground.hittime = 9
guard.hittime = 10
guard.slidetime = 10
guard.ctrltime = 17
ground.velocity = -5.796875
air.velocity = -4.5,-6.5
air.hittime = 13
air.juggle = 0
getpower = 47,47
givepower = 16,16
guard.pausetime = 12,10
air.fall = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0                    
yaccel = .5    
id=200     

[State -2, Juggle Killer]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 220, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;FAR B
[Statedef 225]
type    = S                      
movetype= A                    
physics = S                     
juggle  = 10              
velset = 0,0                    
ctrl = 0                       
anim = 225  
poweradd= 0                               
sprpriority = 2  
facep2 = 1   

[State 200, snd]
type=playsnd
trigger1= animelem=1 && random<500
value=200,0
channel=0   
volume = 200  

[State 225, 1]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time= 0
attr = S, NA                    
damage = 40, 0     
sparkno = s17000+(var(31)*10000)
sparkxy = -10, -53
hitsound = s3+(var(32)*2+((random%3)*var(32))),5
guardsound = s3+(var(32)*2), 12;s2, 6
guard.sparkno = s17500+(var(31)*10000)
guard.sparkxy = 0, -53                                 
animtype = Light     
ground.type = high 
air.animtype = back          
guardflag = M                   
hitflag = MAF           
priority = 7, Hit                                              
pausetime = 10,11
guard.pausetime = 10,9
ground.slidetime = 9
ground.hittime = 9
guard.hittime = 10
guard.slidetime = 10
guard.ctrltime = 17
ground.velocity = -5.796875
air.velocity = -4.5,-6.5
air.hittime = 13
air.juggle = 0
getpower = 47,47
givepower = 16,16
guard.pausetime = 12,10
air.fall = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0                      
yaccel = .5       
id=200

[State -2, Juggle Killer]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 200, Punch Attempt Sound]
type = Playsnd
trigger1 = time = 0
value = 3+(var(32)*2),4        

[State 225, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1	
;---------------------------------------------------------------------------
;CLOSE D
[Statedef 230]
type    = S                      
movetype= A                    
physics = S                     
juggle  = 10               
velset = 0,0                    
ctrl = 0                       
anim = 230  
poweradd= 0                               
sprpriority = 2   
facep2 = 1    

[State 300, Kick Attempt Sound]
type = PlaySnd
trigger1 = time = 0
value = 3+(var(32)*2),6

[State 200, snd]
type=playsnd
trigger1= animelem=1 && random<500
value=200,1
channel=0    
volume = 200  

[State 230, 1]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time = 0
attr = S, NA  
guardflag = H                  
hitflag = MAF    
animtype = hard
ground.type = high
damage = 70, 0   
hitsound = s3+(var(32)*2),20
guardsound = s3+(var(32)*2), 12 
sparkno = s17004+(var(31)*10001)
sparkxy = -10, -20   
guard.sparkno = s17501+(var(31)*10000)
guard.sparkxy = 0, -20             
priority = 4, Hit
pausetime = 12,13
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -8.6953125
air.velocity = -3.5,-6
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5  
id=200

[State 220, Explod]
type = Explod
triggerall = var(22)
trigger1 = MoveHit
anim = 17008
pos = -10, -20 
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State -2, Juggle Killer]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1    

[State 230, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1    
;---------------------------------------------------------------------------
;FAR D
[Statedef 235]
type    = S                      
movetype= A                    
physics = N                     
juggle  = 10            
velset = 0,0                    
ctrl = 0                       
anim = 235  
poweradd= 0                               
sprpriority = 2  
facep2 = 1 

[State 105, 1]
type = VelSet
trigger1 = Time = 9
x = 4

[State 105, 1]
type = VelSet
trigger1 = Time = 23
x = 0        

[State 300, Kick Attempt Sound]
type = PlaySnd
trigger1 = time = 0
value = 3+(var(32)*2),6

[State 200, snd]
type=playsnd
trigger1= animelem=1 && random<500
value=200,1
channel=0 
volume = 200 

[State 235, 1]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time=0 
damage = 70, 0   
hitsound = s3+(var(32)*2),20
guardsound = s3+(var(32)*2), 12 
sparkno = s17004+(var(31)*10001)
sparkxy = -10, -55    
guard.sparkno = s17501+(var(31)*10000)
guard.sparkxy = 0, -55                 
attr = S, NA    
guardflag = M                  
hitflag = MAF  
animtype = hard 
air.animtype = back   
ground.type = high
priority = 4, Hit
pausetime = 12,13
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -8.6953125
air.velocity = -3.5,-6
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5  
id=200

[State 220, Explod]
type = Explod
triggerall = var(22)
trigger1 = MoveHit
anim = 17008
pos = -10, -55 
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State -2, Juggle Killer]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 235, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1         		 
;--------------------------------------------------------------------------- 
;STAND CD
[Statedef 240]
type    = S                      
movetype= A                    
physics = S                     
juggle  = 10             
velset = 0,0                    
ctrl = 0                       
anim = 240  
poweradd= 0                               
sprpriority = -1 
facep2 = 1 

[State 200, snd]
type=playsnd
trigger1= animelem=7 
value=1000,2
channel=2
[State 200, snd]
type=playsnd
trigger1= animelem=16 
value=1000,3
channel=2

[State 1000, fx]
type = Explod
trigger1 = animelem = 1
anim = 10240
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1000

[State 1000, remove fx]
type = RemoveExplod
trigger1 = animelemno(0) > 19
ID = 1000

[State 200, snd]
type=playsnd
trigger1= animelem=7
value=200,2
channel=0   
volume = 200

[State 240, 9]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time = 0 
damage = 90, 0   
hitsound = s3+(var(32)*2),9
guardsound = s3+(var(32)*2), 12
sparkno = s17001+(var(31)*10000)
sparkxy = -10, -75    
guard.sparkno = s17501+(var(31)*10000)
guard.sparkxy = 0, -75         
attr = S, NA  
guardflag = M                  
hitflag = MAF  
priority = 5, Hit                                          
pausetime = 0,13                                                                  
ground.velocity = -4,-8                            
air.velocity = -4,-7                              
guard.velocity = -12                                  
guard.pausetime = 0,11                            
guard.slidetime = 22                               
guard.hittime = 22                             
guard.ctrltime = 22                                
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0                  
yaccel = .5                                                
fall = 1
fall.recover = 1
fall.recovertime = 120
id = 980

[State -2, Juggle Killer]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 240, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1     
;---------------------------------------------------------------------------
;GUARD CANCEL CD
[Statedef 245]
type    = S                      
movetype= A                    
physics = S                     
juggle  = 10             
velset = 0,0                    
ctrl = 0                       
anim = 245  
poweradd= -1000                               
sprpriority = 2 
facep2 = 1

[State 1000, fx]
type = Explod
trigger1 = animelem = 1
anim = 10245
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1000

[State 1000, remove fx]
type = RemoveExplod
trigger1 = animelemno(0) > 9
ID = 1000

[State 200, snd]
type=playsnd
trigger1= animelem=1 && random<500
value=200,2
channel=0  
volume = 200

[State 245]
type = Nothitby
trigger1 = animelemtime(5) < 0
value = SCA

[State 240, 9]
type = HitDef
trigger1 = time = 0 
damage = 40, 0   
animtype=diagup
hitsound = s3+(var(32)*2),9
guardsound = s3+(var(32)*2), 12
sparkno = s17001+(var(31)*10000)
sparkxy = -10, -55    
guard.sparkno = s17501+(var(31)*10000)
guard.sparkxy = 0, -55               
attr = S, NA  
guardflag = M                  
hitflag = MAF  
priority = 5, Hit                                          
pausetime = 11,13                                                                  
ground.velocity = -4,-8                            
air.velocity = -4,-7                              
guard.velocity = -12                                  
guard.pausetime = 11,11                            
guard.slidetime = 22                               
guard.hittime = 22                             
guard.ctrltime = 22                                
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0                  
yaccel = .5                                                
fall = 1
fall.recover = 1
fall.recovertime = 120
getpower= 0,0

[State 245, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1   
;---------------------------------------------------------------------------
;Beni Sasori
[Statedef 250]
type    = S                      
movetype= A                    
physics = N                     
juggle  = 10                             
ctrl = 0                       
anim = 250
poweradd= 0                         
sprpriority = -1
facep2 = 1
velset = 0,0

[State 1000, fx]
type = Explod
trigger1 = animelem = 8
anim = 10250
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 500

[State 200, snd]
type=playsnd
trigger1= animelem=1 
value=200,3
channel=0   
volume = 200

[State 1030, 1]
type = StateTypeSet
trigger1 = animelem = 4
statetype = A

[State 280, go]
type = VelSet
trigger1 = animelem = 4
x = 4
y = -3.267578125 ;2.779296875

[State 1030, 1]
type = VelAdd
trigger1 = animelemtime(4) > 0 
Y = 0.48828125

[State 1000, 7]
type = ChangeState
Triggerall = animelemtime(4) > 0 
trigger1 = Vel Y + Pos Y >= 0
value = 251
ctrl = 1  

[StateDef 251]
type = s
MoveType = A
VelSet = 0, 0
Anim = 251
SprPriority = -1 
ctrl=0

[State 1000, fx]
type = Explod
trigger1 = animelem = 1
anim = 11001
bindtime = -1
sprpriority = 3
pos = 31,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 1000, fx]
type = Explod
trigger1 = animelem = 1
anim = 10251
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1000

[State 1000, remove fx]
type = RemoveExplod
trigger1 = animelemno(0) > 3
ID = 1000

[State 1000, remove fx]
type = RemoveExplod
trigger1 = !time 
id = 500

[State 200, snd]
type=playsnd
trigger1= animelem=1 
value=1000,11
volume = -200

[State 230, 1]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time = 0
attr = S, NA  
guardflag = H                  
hitflag = MAF    
animtype = hard
ground.type = high
damage = 40, 0   
hitsound = s1000,13
guardsound = s3+(var(32)*2), 12 
sparkno = s17001+(var(31)*10001)
sparkxy = -10, -10    
guard.sparkno = s17501+(var(31)*10000)
guard.sparkxy = 0, -10              
priority = 4, Hit
pausetime = 12,13
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -8.6953125
air.velocity = -3.5,-6
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5  
palfx.time = 33
palfx.color = 0
palfx.invertall = 1
palfx.add = 20,20,20
palfx.mul= 256,256,256  
id = 1100

[State 1001, 0]
type = PosSet
trigger1 = !time
y = 0

[State 1001, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 

;Beni Sasori
[Statedef 252]
type    = S                      
movetype= A                    
physics = N                     
juggle  = 10                             
ctrl = 0                       
anim = 252
poweradd= 0                         
sprpriority = -1
facep2 = 1
velset = 0,0

[State 1000, remove fx]
type = RemoveExplod
trigger1 = !time 

[State 1000, fx]
type = Explod
trigger1 = animelem = 7
anim = 10250
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 500

[State 200, snd]
type=playsnd
trigger1= animelem=1 
value=200,3
channel=0   
volume = 200  

[State 1030, 1]
type = StateTypeSet
trigger1 = animelem = 4
statetype = A

[State 280, go]
type = VelSet
trigger1 = animelem = 4
x = 5
y = -2.01123046875 ;1.35205078125

[State 1030, 1]
type = VelAdd
trigger1 = animelemtime(4) > 0 
Y = 0.6591796875

[State 1000, 7]
type = ChangeState
Triggerall = animelemtime(5) > 0 
trigger1 = Vel Y + Pos Y >= 0
value = 253
ctrl = 1  

[StateDef 253]
type = s
MoveType = A
VelSet = 0, 0
Anim = 253
SprPriority = -1
ctrl=0

[State 1000, fx]
type = Explod
trigger1 = animelem = 1
anim = 11001
bindtime = -1
sprpriority = 3
pos = 31,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 1000, fx]
type = Explod
trigger1 = animelem = 1
anim = 11251
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1000

[State 1000, remove fx]
type = RemoveExplod
trigger1 = animelemno(0) > 3
ID = 1000

[State 1000, remove fx]
type = RemoveExplod
trigger1 = !time 
id = 500

[State 200, snd]
type=playsnd
trigger1= animelem=1 
value=1000,11
volume = -200

[State 230, 1]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time = 0
attr = S, NA  
guardflag = M                  
hitflag = MAF    
animtype = hard
ground.type = high
damage = 20, 0   
hitsound = s1000,13
guardsound = s3+(var(32)*2), 12 
sparkno = s17001+(var(31)*10001)
sparkxy = -10, -10    
guard.sparkno = s17501+(var(31)*10000)
guard.sparkxy = 0, -10            
priority = 4, Hit
pausetime = 12,13
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -8.6953125
air.velocity = -3.5,-6
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5  
palfx.time = 33
palfx.color = 0
palfx.invertall = 1
palfx.add = 20,20,20
palfx.mul= 256,256,256  
id = 1100

[State 1001, 0]
type = PosSet
trigger1 = !time
y = 0

[State 1001, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 
;---------------------------------------------------------------------------
;CROUCH A
[Statedef 400]
type    = C                      
movetype= A                    
physics = S                                
velset = 0,0                    
ctrl = 0                       
anim = 400  
poweradd= 0                               
sprpriority = 2 
juggle =10  
facep2 = 1   

[State 200, snd]
type=playsnd
trigger1= animelem=1 && random<500
value=200,0
channel=0
volume = 200   

[State 400, 1]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time=0 
attr = C, NA                    
damage = 40, 0   
hitsound = s3+(var(32)*2),21
guardsound = s3+(var(32)*2), 12
sparkno = s17003+(var(31)*10001)
sparkxy = -10, -52    
guard.sparkno = s17500+(var(31)*10000)
guard.sparkxy = 0, -52                            
animtype = Light  
air.animtype = back      
ground.type = Low          
guardflag = M                   
hitflag = MAF            
priority = 7, Hit                                              
pausetime = 13,13                                        
ground.slidetime = 6                                       
ground.hittime = 6                                         
ground.velocity = -7.3                                    
air.velocity = -3.5,-6                                    
guard.velocity = -6.1                                      
guard.pausetime = 11,11                                
guard.slidetime = 8                                       
guard.hittime = 8                                         
guard.ctrltime = 8                                         
ground.cornerpush.veloff = 0                      
air.cornerpush.veloff = 0                         
guard.cornerpush.veloff = 0                      
yaccel = .5         
id=200

[State 220, Explod]
type = Explod
triggerall = var(22)
trigger1 = movehit
anim = 17007
pos = -10, -50 
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1  

[State 200, Punch Attempt Sound]
type = Playsnd
trigger1 = time = 0
value = 3+(var(32)*2),4

[State 400, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;--------------------------------------------------------------------------- 
;CROUCH C
[Statedef 410]
type    = C                      
movetype= A                    
physics = S                     
juggle  = 10               
velset = 0,0                    
ctrl = 0                       
anim = 410  
poweradd= 0                               
sprpriority = -1
facep2 = 1   

[State 1000, fx]
type = Explod
trigger1 = animelem = 4
anim = 10410
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1000

[State 1000, remove fx]
type = RemoveExplod
trigger1 = animelemno(0) > 10
ID = 1000 

[State 200, snd]
type=playsnd
trigger1= animelem=1 && random<500
value=200,1
channel=0   
volume = 200
        

[State 230, 1]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time = 0
attr = S, NA  
guardflag = M                  
hitflag = MAF    
animtype = hard
ground.type = high
damage = 70, 0   
hitsound = s3+(var(32)*2),20
guardsound = s3+(var(32)*2), 12 
sparkno = s17004+(var(31)*10001)
sparkxy = -10, -55    
guard.sparkno = s17501+(var(31)*10000)
guard.sparkxy = 0, -55             
priority = 4, Hit
pausetime = 12,13
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -8.6953125
air.velocity = -3.5,-6
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5  
id=200

[State 220, Explod]
type = Explod
triggerall = var(22)
trigger1 = movehit
anim = 17008
pos = -10, -12
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 200, Punch Attempt Sound]
type = Playsnd
trigger1 = time = 0
value = 3+(var(32)*2),2  

[State 410, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1     
;---------------------------------------------------------------------------
;CROUCH B
[Statedef 420]
type    = C                      
movetype= A                    
physics = S                     
juggle  = 10              
velset = 0,0                    
ctrl = 0                       
anim = 420  
poweradd= 0                               
sprpriority = 2  
facep2 = 1        

[State 200, snd]
type=playsnd
trigger1= animelem=1 && random<500
value=200,0
channel=0       
volume = 200   

[State 420, 1]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time=0 
attr = C, NA                    
damage = 40, 0   
sparkno = s17000+(var(31)*10000)
sparkxy = -10, -7
hitsound = s3+(var(32)*2+((random%3)*var(32))),5
guardsound = s3+(var(32)*2), 12;s2, 6
guard.sparkno = s17500+(var(31)*10000)
guard.sparkxy = 0, -7                     
animtype = Light  
air.animtype = back      
ground.type = Low          
guardflag = M                   
hitflag = MAF            
priority = 7, Hit                                              
pausetime = 13,13                                        
ground.slidetime = 6                                       
ground.hittime = 6                                         
ground.velocity = -7.3                                    
air.velocity = -3.5,-6                                    
guard.velocity = -6.1                                      
guard.pausetime = 11,11                                
guard.slidetime = 8                                       
guard.hittime = 8                                         
guard.ctrltime = 8                                         
ground.cornerpush.veloff = 0                      
air.cornerpush.veloff = 0                         
guard.cornerpush.veloff = 0                      
yaccel = .5         
id=200

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 200, Punch Attempt Sound]
type = Playsnd
trigger1 = time = 0
value = 3+(var(32)*2),4               

[State 420, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;--------------------------------------------------------------------------- 
;CROUCH D
[Statedef 430]
type    = C                      
movetype= A                    
physics = N                     
juggle  = 10              
velset = 0,0                    
ctrl = 0                       
anim = 430  
poweradd= 0                               
sprpriority = 2                             
facep2 = 1

[State 105, 1]
type = VelSet
trigger1 = Time = 8
x = 6

[State 105, 1]
type = VelSet
trigger1 = Time = 19
x = 0

[State 300, Kick Attempt Sound]
type = PlaySnd
trigger1 = time = 0
value = 3+(var(32)*2),6

[State 200, snd]
type=playsnd
trigger1= animelem=1 && random<500
value=200,1
channel=0  
volume = 200

[State 430, 1]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time = 0
attr = C, NA    
animtype = hard
air.animtype = back   
groundtype = trip  
damage = 70, 0   
hitsound = s3+(var(32)*2),20
guardsound = s3+(var(32)*2), 12 
sparkno = s17004+(var(31)*10001)
sparkxy = -10, -12    
guard.sparkno = s17501+(var(31)*10000)
guard.sparkxy = 0, -12                
priority = 4, Hit
guardflag = L                  
hitflag = MAF
pausetime = 13,13
ground.slidetime = 27
ground.hittime = 27
ground.velocity = -1.75,-10
air.velocity = -1.75,-10
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .8  
fall = 1
fall.recover = 1
fall.recovertime = 120

[State 220, Explod]
type = Explod
triggerall = var(22)
trigger1 = MoveHit
anim = 17008
pos = -10, -10
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 430, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1     
;----------------------------------------------------------------------------------
;JUMP A
[Statedef 600]
type    = A                      
movetype= A                    
physics = N                     
juggle  = 10          
ctrl = 0                       
anim = 600+(ifelse((Vel X != 0),5,ifelse((prevstateno=41),5,0)))   
poweradd= 0                               
sprpriority = 2 

[State 200, snd]
type=playsnd
trigger1= animelem=1 && random<500
value=200,0
channel=0
volume = 200   

[State 50, Gravity]
type = Gravity
trigger1 = prevstateno != 40
trigger2 = prevstateno = 40 && time > 0                 

[State 600, 1]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time=0 
attr = A, NA                    
damage = 40, 0   
hitsound = s3+(var(32)*2),21
guardsound = s3+(var(32)*2), 12
sparkno = s17003+(var(31)*10001)
sparkxy = -10, -54    
guard.sparkno = s17500+(var(31)*10000)
guard.sparkxy = 0, -54             
animtype = Light  
air.animtype = back      
ground.type = Low         
guardflag = HA                 
hitflag = MAF             
priority = 7, Hit                                               
pausetime = 8,11
guard.pausetime = 10,10
ground.slidetime = 9
ground.hittime = 9
guard.hittime = 9
guard.slidetime = 9
guard.ctrltime = 17
ground.type = low
ground.velocity = -5.796875
air.velocity = -4.5,-6.5
air.juggle = 0
getpower = 47,47
givepower = 16,16
air.fall = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0                 
yaccel = .5  
id=200

[State 220, Explod]
type = Explod
triggerall = var(22)
trigger1 = movehit
anim = 17007
pos = -10, -54 
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 200, Punch Attempt Sound]
type = Playsnd
trigger1 = time = 0
value = 3+(var(32)*2),0       

[State 40, 6]
type = ChangeState
trigger1 = Pos Y + Vel Y >= 0
value = 52
;---------------------------------------------------------------------------
;NORMAL JUMP C
[Statedef 610]
type    = A                      
movetype= A                    
physics = N                   
juggle  = 10            
ctrl = 0                       
anim = 610+(ifelse((Vel X != 0),5,ifelse((prevstateno=41),5,0)))    
poweradd= 0                               
sprpriority = -1    

[State 1000, fx]
type = Explod
trigger1 = animelem = 1
anim = 10610
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1000

[State 1000, remove fx]
type = RemoveExplod
trigger1 = animelemno(0) > 6
ID = 1000

[State 200, snd]
type=playsnd
trigger1= animelem=1 && random<500
value=200,1
channel=0 
volume = 200 

[State 50, Gravity]
type = Gravity
trigger1 = prevstateno != 40
trigger2 = prevstateno = 40 && time > 0                

[State 610, 1]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time=0 
attr = A, NA                    
damage = 70, 0   
hitsound = s3+(var(32)*2),20
guardsound = s3+(var(32)*2), 12 
sparkno = s17004+(var(31)*10001)
sparkxy = -10, -55    
guard.sparkno = s17501+(var(31)*10000)
guard.sparkxy = 0, -55               
animtype = Light 
air.animtype = back       
ground.type = Low       
guardflag = HA                
hitflag = MAF              
priority = 7, Hit                                               
pausetime = 12,13
ground.slidetime = 10
ground.hittime = 10
ground.velocity = -5.796875
air.velocity = -3.5,-6
guard.velocity = -6.1
guard.pausetime = 11,11
guard.slidetime = 17
guard.hittime = 9
guard.ctrltime = 9
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5    
id=200

[State 220, Explod]
type = Explod
triggerall = var(22)
trigger1 = movehit
anim = 17008
pos = -10, -56 
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 200, Punch Attempt Sound]
type = Playsnd
trigger1 = time = 0
value = 3+(var(32)*2),2         

[State 40, 6]
type = ChangeState
trigger1 = Pos Y + Vel Y >= 0
value = 52
;---------------------------------------------------------------------------
;NORMAL JUMP B
[Statedef 620]
type    = A                      
movetype= A                    
physics = N                     
juggle  = 0                               
ctrl = 0                       
anim = 620+(ifelse((Vel X != 0),5,ifelse((prevstateno=41),5,0)))    
poweradd= 0                               
sprpriority = 2  

[State 200, snd]
type=playsnd
trigger1= animelem=1 && random<500
value=200,0
channel=0  
volume = 200 

[State 50, Gravity]
type = Gravity
trigger1 = prevstateno != 40
trigger2 = prevstateno = 40 && time > 0                  

[State 620, 1]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time=0 
attr = A, NA                    
damage = 40, 0   
sparkno = s17000+(var(31)*10000)
sparkxy = -10, -60
hitsound = s3+(var(32)*2+((random%3)*var(32))),5
guardsound = s3+(var(32)*2), 12;s2, 6
guard.sparkno = s17500+(var(31)*10000)
guard.sparkxy = 0, -60               
animtype = Hard  
air.animtype = back     
ground.type = Low         
guardflag = HA                   
hitflag = MAF             
priority = 4, Hit                                                    
pausetime = 8,11
guard.pausetime = 10,10
ground.slidetime = 9
ground.hittime = 9
guard.hittime = 9
guard.slidetime = 9
guard.ctrltime = 17
ground.type = low
ground.velocity = -5.796875
air.velocity = -4.5,-6.5
air.juggle = 0
getpower = 47,47
givepower = 16,16
air.fall = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5    
id=200

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 200, Punch Attempt Sound]
type = Playsnd
trigger1 = time = 0
value = 3+(var(32)*2),4         

[State 40, 6]
type = ChangeState
trigger1 = Pos Y + Vel Y >= 0
value = 52
;---------------------------------------------------------------------------
;NORMAL JUMP D
[Statedef 630]
type    = A                      
movetype= A                    
physics = N                     
juggle  = 10                                 
ctrl = 0                       
anim = 630+(ifelse((Vel X != 0),5,ifelse((prevstateno=41),5,0)))    
poweradd= 0                               
sprpriority = 2  

[State 300, Kick Attempt Sound]
type = PlaySnd
trigger1 = time = 0
value = 3+(var(32)*2),6

[State 200, snd]
type=playsnd
trigger1= animelem=1 && random<500
value=200,1
channel=0
volume = 200  

[State 50, Gravity]
type = Gravity
trigger1 = prevstateno != 40
trigger2 = prevstateno = 40 && time > 0                  

[State 630, 1]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time=0 
attr = A, NA                    
damage = 70, 0   
hitsound = s3+(var(32)*2),20
guardsound = s3+(var(32)*2), 12 
sparkno = s17004+(var(31)*10001)
sparkxy = -10, -55    
guard.sparkno = s17501+(var(31)*10000)
guard.sparkxy = 0, -55               
animtype = hard  
air.animtype = back      
ground.type = Low       
guardflag = HA                 
hitflag = MAF            
priority = 4, Hit                                                    
pausetime = 12,13
ground.slidetime = 10
ground.hittime = 10
ground.velocity = -5.796875
air.velocity = -3.5,-6
guard.velocity = -6.1
guard.pausetime = 11,11
guard.slidetime = 17
guard.hittime = 9
guard.ctrltime = 9
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5    
id=200

[State 220, Explod]
type = Explod
triggerall = var(22)
trigger1 = MoveHit
anim = 17008
pos = -10, -55 
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 40, 6]
type = ChangeState
trigger1 = Pos Y + Vel Y >= 0
value = 52
;---------------------------------------------------------------------------
;JUMP CD
[Statedef 640]
type    = A                      
movetype= A                    
physics = N                     
juggle  = 10                                  
ctrl = 0                       
anim = 640  
poweradd= 0                               
sprpriority = 2 

[State 5100, 10]
type = PlaySnd
trigger1 = animelem = 1
value = 3+(var(32)*2),8-(var(32)*2)

[State 200, snd]
type=playsnd
trigger1= animelem=1 
value=200,2
channel=0  
volume = 200

[State 50, Gravity]
type = Gravity
trigger1 = prevstateno != 40
trigger2 = prevstateno = 40 && time > 0     

[State 640, 9]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time = 0 
damage = 80, 0   
hitsound = s3+(var(32)*2),9
guardsound = s3+(var(32)*2), 12
sparkno = s17002+(var(31)*10000)
sparkxy = -10, -55    
guard.sparkno = s17501+(var(31)*10000)
guard.sparkxy = 0, -55   
attr = A, NA  
guardflag = MA                   
hitflag = MAF    
priority = 5, Hit                                          
pausetime = 11,13                                                                  
ground.velocity = -4,-8                            
air.velocity = -4,-7                              
guard.velocity = -12                                  
guard.pausetime = 11,11                            
guard.slidetime = 22                               
guard.hittime = 22                             
guard.ctrltime = 22                                
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0                   
yaccel = .5                                                
fall = 1
fall.recover = 1
fall.recovertime = 120

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 640, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 4 

[State 40, 6]
type = ChangeState
trigger1 = Pos Y + Vel Y >= 0
value = 52
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; ROLLS
;--------------------------------------------------------------------------- 
;FORWARD ROLL
[Statedef 710, Roll]
type    = S                      
movetype = I                      
physics = N  
ctrl = 0                         
anim = 710
velset=0,0

[State 810, 1]
type = AfterImage
triggerall = var(31)
trigger1 = time = 8
time = 10
length = 6
framegap = 3
palcontrast = 256,256,256
paladd = 0,0,0
palmul = 1,1,1

[State 200, snd]
type=playsnd
trigger1= animelem=1 
value=200,13
channel=0  
volume = 200

[State 0, Pause]
type = Pause
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = time = 0
time = 3
movetime = 3
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = time = 0
time = 3
add = 100,100,100
mul = 256,256,256
sinadd = -80,-80,-80,4
invertall = 0
color = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = AnimElem = 1
value = -1000

[State 710]
type = playerpush
trigger1 = 1
value = 0

[State 710: NotHitBy]
type = NotHitBy
trigger1 = (Time < 25)
value = , NA, SA, HA, NP, SP, HP

[State 710: VelSet]
type = VelSet
trigger1 = (Time = 9)
x = 5

[State 710: VelSet]
type = VelAdd
triggerall = prevstateno = 101
trigger1 = (Time = 9)
x = 2

[State 710: VelSet]
type = VelSet
trigger1 = (Time = 26)
x = 0

[State 710]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;BACKWARDS ROLL
[Statedef 711, Roll]
type    = S                      
movetype = I                      
physics = N  
ctrl = 0                        
anim = 711
velset=0,0

[State 810, 1]
type = AfterImage
triggerall = var(31)
trigger1 = time = 8
time = 10
length = 6
framegap = 3
palcontrast = 256,256,256
paladd = 0,0,0
palmul = 1,1,1

[State 200, snd]
type=playsnd
trigger1= animelem=1 
value=200,13
channel=0  
volume = 200

[State 0, Pause]
type = Pause
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = time = 0
time = 3
movetime = 3
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = time = 0
time = 3
add = 100,100,100
mul = 256,256,256
sinadd = -80,-80,-80,4
invertall = 0
color = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = AnimElem = 1
value = -1000

[State 711]
type = playerpush
trigger1 = 1
value = 0

[State 711: NotHitBy]
type = NotHitBy
trigger1 = (Time < 28)
value = , NA, SA, HA, NP, SP, HP

[State 711: VelSet]
type = VelSet
trigger1 = (Time = 9)
x = -5

[State 711: VelSet]
type = VelSet
trigger1 = (Time = 29)
x = 0

[State 711]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; THROWS
;---------------------------------------------------------------------------
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 1002, VarSet]
type = VarSet
trigger1 = command = "y" 
v = 1
value = 1

[State 1002, VarSet]
type = VarSet
trigger1 = command = "b" 
v = 1
value = 0

[State 800, 1]
type = HitDef
triggerall = p2stateno != 40 && p2stateno !=52
Trigger1 = animelem = 1
attr = S, NT          
hitflag = M-         
priority = 1, Miss   
sparkno = -1         
p1sprpriority = 1                     
p2facing = 1          
p1stateno = 801       
p2stateno = 1801     
guard.dist = 0       
fall = 1              
ID = 800

[State 800, 2]
type = ChangeState
Triggerall = var(1) = 1
Trigger1 = AnimTime = 0
value = 210

[State 800, 2]
type = ChangeState
Triggerall = var(1) = 0
Trigger1 = AnimTime = 0
value = 230

[StateDef 801]
MoveType = A
VelSet = 0,0
Anim = 801
SprPriority = 2
ctrl = 0

[State 810, holdfwd - Turn 6] 
type = Turn
trigger1 = time = 2
trigger1 = var(1) = 0

[State 1034, left]
type = TargetFacing
triggerall = var(1) = 0
trigger1 = time = 2
value = -1

[State 910, 1]
type = VarSet
trigger1 = Time = 0
fvar(8) = 0

[State 910, 1]
type = VarSet
triggerall = Time < 7 && !fVar(8)
trigger1 = ((Target,Command = "holdfwd") || (Target,Command = "holdback")) && ((Target,Command = "y") || (Target,Command = "z"))
fvar(8) = 1

[State 910, TargetBind]
type = TargetBind
trigger1 = Time < 7 && FVar(8)
pos = 40, 0

[State 910, ChangeState]
type = ChangeState
trigger1 = Time < 7 && FVar(8)
value = 950

[State 910, TargetBind]
type = TargetBind
trigger1 = Time < 7 && FVar(8)
pos = 40, 0

[State 805, hitspark]
type = Explod
trigger1 = animelem = 1
anim = 20000
pos = 47, -82
postype = p1
ontop = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 5100, 10]
type = PlaySnd
trigger1 = animelem = 1
value = 2+(var(32)*10), 0

[State 5100, 10]
type = PlaySnd
trigger1 = animelem = 9
value = s3+(var(32)*2),9

[State 200, snd]
type=playsnd
trigger1= animelem=8
value=200,2
channel=0   
volume = 200

[State 801, fat]
type = Width
trigger1 = animelem = 9, < 0
edge = 64

[State 810, bind]
type = TargetBind
trigger1 = animelemtime(1) >= 0 && animelemtime(6) < 0
ID = 800
pos = 51, 0

[State 810, bind]
type = TargetBind
trigger1 = animelemtime(6) >= 0 && animelemtime(9) < 0
ID = 800
pos = 45, 0

[State -2, Helper]
type = Helper
trigger1 = !numhelper(50000) && !numhelper(50001)
trigger1 = WinKO
helpertype = normal
name = "K.O."
ID = 50000
stateno = 50000
pos = 160,120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 9
anim = 17002+(var(31)*10000)
pos = 68,-70
postype = p1  ;p2,front,back,left,right
sprpriority = 3

[State 801, fly p2]
type = TargetState
trigger1 = animelem = 9
value = 1802
ignorehitpause = 1
ID = 800

[State 801, Damage]
Type = TargetLifeAdd
Trigger1 = animelem = 9 
value = -100
ID = 800
absolute = 1

[State 801, 10]
type = ChangeState
Trigger1 = animtime = 0
value = 0
ctrl = 1 

[StateDef 1801]
Type = A
MoveType =  H
VelSet = 0, 0
sprpriority = 1 
Ctrl = 0

[State 811, Anim]
Type = ChangeAnim2
Trigger1 = !Time
Value = 1801

[State 820, 2]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050

[StateDef 1802]
Type = A
MoveType =  H
VelSet = -4, -6.5
sprpriority = 1 
Ctrl = 0

[State 1040, go]
type = VelAdd
trigger1 = time > 0
y = 0.5

[State 811, Anim]
Type = ChangeAnim
Trigger1 = !Time
Value = 5050

[State 811, 2]
type = SelfState
Trigger1 = vel y > 0 && pos y >= 0
value = 5100
;---------------------------------------------------------------------------
[Statedef 810]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 800, 1]
type = HitDef
triggerall = p2stateno != 40 && p2stateno !=52
Trigger1 = animelem = 1
attr = S, NT          
hitflag = M-         
priority = 1, Miss   
sparkno = -1         
p1sprpriority = 1                     
p1facing = 1
p2facing = 1          
p1stateno = 811       
p2stateno = 1811     
guard.dist = 0       
fall = 1              
ID = 810

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 230
ctrl = 1

[StateDef 811]
MoveType = A
VelSet = 0,0
Anim = 811
SprPriority = 2
ctrl = 0

[State 910, 1]
type = VarSet
trigger1 = Time = 0
fvar(8) = 0

[State 910, 1]
type = VarSet
triggerall = Time < 7 && !fVar(8)
trigger1 = ((Target,Command = "holdfwd") || (Target,Command = "holdback")) && ((Target,Command = "y") || (Target,Command = "z"))
fvar(8) = 1

[State 910, TargetBind]
type = TargetBind
trigger1 = Time < 7 && FVar(8)
pos = 40, 0

[State 910, ChangeState]
type = ChangeState
trigger1 = Time < 7 && FVar(8)
value = 950

[State 910, TargetBind]
type = TargetBind
trigger1 = Time < 7 && FVar(8)
pos = 40, 0

[State 805, hitspark]
type = Explod
trigger1 = animelem = 5
anim = 20000
pos = 44, -87
postype = p1
ontop = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 5100, 10]
type = PlaySnd
trigger1 = animelem = 5
value = 2+(var(32)*10), 0

[State 801, fat]
type = Width
trigger1 = animelem = 11, < 0
edge = 64,64

[State 810, bind]
type = TargetBind
trigger1 = animelemtime(1) >= 0 && animelemtime(6) < 0
ID = 810
pos = 51, 0

[State 810, bind]
type = TargetBind
trigger1 = animelemtime(6) >= 0 && animelemtime(11) < 0
ID = 810
pos = 45, 0

[State 810, bind]
type = TargetBind
trigger1 = animelemtime(11) >= 0 && animelemtime(12) < 0
ID = 810
pos = 55, -80

[State 810, bind]
type = TargetBind
trigger1 = animelemtime(12) >= 0 && animelemtime(13) < 0
ID = 810
pos = 0, -94

[State 810, bind]
type = TargetBind
trigger1 = animelemtime(13) >= 0 && animelemtime(14) < 0
ID = 810
pos = -3, -111

[State 5100, 10]
type = PlaySnd
trigger1 = animelem = 14
value = 2+(var(32)*10), 10

[State 200, snd]
type=playsnd
trigger1= animelem=11
value=200,2
channel=0   
volume = 200

[State -2, Helper]
type = Helper
trigger1 = !numhelper(50000) && !numhelper(50001)
trigger1 = WinKO
helpertype = normal
name = "K.O."
ID = 50000
stateno = 50000
pos = 160,120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1

[State 801, fly p2]
type = TargetState
triggerall = NumTarget(810)
trigger1 = animelem = 14
value = 1812
ignorehitpause = 1
ID = 810

[State 801, Damage]
Type = TargetLifeAdd
Trigger1 = animelem = 14 
value = -100
ID = 810
absolute = 1

[State 801, 10]
type = ChangeState
Trigger1 = animtime = 0
value = 0
ctrl = 1 

[StateDef 1811]
Type = A
MoveType =  H
VelSet = 0, 0
sprpriority = 1 
Ctrl = 0

[State 811, Anim]
Type = ChangeAnim2
Trigger1 = !Time
Value = 1811

[State 820, 2]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050

[StateDef 1812]
Type = A
MoveType =  H
VelSet = 6,-4.5
sprpriority = 1 
Ctrl = 0

[State 1503, Vel]
type = PosAdd
trigger1 = time = 0
x = 20

[State 1040, go]
type = VelAdd
trigger1 = time > 0
y = 0.5

[State 811, Anim]
Type = ChangeAnim
Trigger1 = !Time
Value = 5160

[State 811, 2]
type = SelfState
Trigger1 = vel y > 0 && pos y >= 0
value = 5100

[Statedef 1503]
type    = A
movetype= H
physics = N

[State 1017, 0]
type = PosAdd
trigger1 = !time
x = 20
y = 20

[State 1503, Vel]
type = VelSet
trigger1 = time = 0
x = -8
y = 2

[State 1503, Vel]
type = PosSet
trigger1 = time = 0
y = -10

[State 1503, Gravity]
type = VelAdd
trigger1 = Time > 0
y = .5

[State 1503, Anim 5050]
type = ChangeAnim
trigger1 = !time
persistent = 0
value = 5050

[State 1503, 6]
type = ChangeState
triggerall = time > 5
trigger1 = vel y > 0 && pos y >= 0
value = 6011

[Statedef 6011]
type    = L
movetype= H
physics = N
velset = -1,0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 12
ampl = -5
freq = 180

[State 0, posadd]
type = posset
trigger1 = Time = 0
y = 0

[State 0, posadd]
type = posadd
trigger1 = Time = 0
x = ifelse((facing=enemynear,facing),20,-20)

[State 0, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 6102

[State 0, 2]
type = changestate
trigger1 = animtime = 0
value = 6012

;---------------------------------------------------------------------------
[Statedef 6012]
type    = L
movetype= H
physics = N

[State 0, posadd]
type = posadd
trigger1 = animelem = 2
y = -10
x = ifelse((facing=enemynear,facing),5,-5)

[State 0, 3]
type = HitFallVel
trigger1 = Time = 0
x = ifelse((facing=enemynear,facing),1,-1)

[State 0, Gravity]
type = Veladd
trigger1 = Time >= 0
y = .4

[State 0, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 5100

[State 0, 2]
type = selfstate
trigger1 = vel y > 0 && pos y >= -10
value = 5110
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; SPECIAL MOVES
;---------------------------------------------------------------------------
;Doku Sasori
[Statedef 1000]
type    = S                      
movetype= A                    
physics = N                     
juggle  = 10                             
ctrl = 0                       
anim = 1000
poweradd= 109                         
sprpriority = -1
facep2 = 1
velset = 0,0

[State 1000, remove fx]
type = RemoveExplod
trigger1 = !time 

[State 200, snd]
type=playsnd
trigger1= animelem=9 
value=200,7
channel=0  
volume = 200
[State 200, snd]
type=playsnd
trigger1= animelem=7 ;10 
value=1000,10
[State 200, snd]
type=playsnd
trigger1= animelem=10 ;10 
value=1000,11
volume = -200
[State 200, snd]
type=playsnd
trigger1= animelem=21 ;10 
value=1000,8

[State 1000, fx]
type = Explod
trigger1 = animelem = 7
anim = 11000
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1000

[State 1000, fx]
type = Explod
trigger1 = animelem = 10
anim = 11001
bindtime = -1
sprpriority = 3
pos = 100,-50
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, remove fx]
type = RemoveExplod
trigger1 = animelemno(0) > 20
ID = 1000

[State 230, 1]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = AnimElem = 11
trigger2 = AnimElem = 13
attr = S, NA    
animtype = Hard
ground.type = Low
damage = 30, 5   
guardflag = M                   
hitflag = MAF
hitsound = s1000,13
guardsound = s3+(var(32)*2), 12
sparkno = s17002+(var(31)*10000)
sparkxy = -10, -49    
guard.sparkno = s17502+(var(31)*10000)
guard.sparkxy = 0, -49
priority = 4, Hit
pausetime = 7,12
ground.slidetime = 0
ground.hittime = 19
ground.velocity = 0
air.velocity = -3.5,-6
guard.velocity = 0
guard.pausetime = 7,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5  
palfx.time = 33
palfx.color = 0
palfx.invertall = 1
palfx.add = 20,20,20
palfx.mul= 256,256,256  
id = 1100

[State 240, 9]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = animelem = 15
animtype = diagup
air.animtype = diagup
fall.animtype = diagup        
damage = 40, 5   
hitsound = s1000,13
guardsound = s3+(var(32)*2), 12
sparkno = s17002+(var(31)*10000)
sparkxy = -10, -49    
guard.sparkno = s17502+(var(31)*10000)
guard.sparkxy = 0, -49      
attr = A, SA  
guardflag = M                  
hitflag = MAF  
priority = 5, Hit                                          
pausetime = 7,7                                                                  
ground.velocity = -4,-8                            
air.velocity = -4,-7                              
guard.velocity = -12                                  
guard.pausetime = 11,12                            
guard.slidetime = 22                               
guard.hittime = 22                             
guard.ctrltime = 22                                
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0                  
yaccel = .5                                                
fall = 1
fall.recover = 1
fall.recovertime = 120
palfx.time = 33
palfx.color = 0
palfx.invertall = 1
palfx.add = 20,20,20
palfx.mul= 256,256,256 
id = 1100

[State 1001, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 

;Doku Sasori
[Statedef 1001]
type    = S                      
movetype= A                    
physics = N                     
juggle  = 10                             
ctrl = 0                       
anim = 1001
poweradd= 109                         
sprpriority = -1
facep2 = 1
velset = 0,0

[State 1000, remove fx]
type = RemoveExplod
trigger1 = !time 

[State 200, snd]
type=playsnd
trigger1= animelem=9 
value=200,7
channel=0  
volume = 200
[State 200, snd]
type=playsnd
trigger1= animelem=7 ;10 
value=1000,10
[State 200, snd]
type=playsnd
trigger1= animelem=10 ;10 
value=1000,11
volume = -200
[State 200, snd]
type=playsnd
trigger1= animelem=21 ;10 
value=1000,8

[State 1000, fx]
type = Explod
trigger1 = animelem = 10
anim = 11001
bindtime = -1
sprpriority = 3
pos = 100,-50
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, fx]
type = Explod
trigger1 = animelem = 7
anim = 11000
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1000

[State 1000, remove fx]
type = RemoveExplod
trigger1 = animelemno(0) > 20
ID = 1000

[State 230, 1]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = AnimElem = 11
trigger2 = AnimElem = 13
attr = S, NA    
animtype = Hard
ground.type = Low
damage = 30, 5   
guardflag = M                   
hitflag = MAF
hitsound = s1000,13
guardsound = s3+(var(32)*2), 12
sparkno = s17002+(var(31)*10000)
sparkxy = -10, -49    
guard.sparkno = s17502+(var(31)*10000)
guard.sparkxy = 0, -49 
priority = 4, Hit
pausetime = 7,12
ground.slidetime = 0
ground.hittime = 19
ground.velocity = 0
air.velocity = -3.5,-6
guard.velocity = 0
guard.pausetime = 7,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5  
palfx.time = 33
palfx.color = 0
palfx.invertall = 1
palfx.add = 20,20,20
palfx.mul= 256,256,256 
id = 1100

[State 240, 9]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = animelem = 15
animtype = diagup
air.animtype = diagup
fall.animtype = diagup        
damage = 40, 5   
hitsound = s1000,13
guardsound = s3+(var(32)*2), 12
sparkno = s17002+(var(31)*10000)
sparkxy = -10, -49    
guard.sparkno = s17502+(var(31)*10000)
guard.sparkxy = 0, -49        
attr = A, SA  
guardflag = M                  
hitflag = MAF  
priority = 5, Hit                                          
pausetime = 7,7                                                                  
ground.velocity = -4,-8                            
air.velocity = -4,-7                              
guard.velocity = -12                                  
guard.pausetime = 11,12                            
guard.slidetime = 22                               
guard.hittime = 22                             
guard.ctrltime = 22                                
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0                  
yaccel = .5                                                
fall = 1
fall.recover = 1
fall.recovertime = 120
palfx.time = 33
palfx.color = 0
palfx.invertall = 1
palfx.add = 20,20,20
palfx.mul= 256,256,256 
id = 1100

[State 1001, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 

;---------------------------------------------------------
[StateDef 1010]
type = s
MoveType = A
VelSet = 0, 0
Anim = 1010
SprPriority = -1 
ctrl=0
facep2 = 1

[State 1000, remove fx]
type = RemoveExplod
trigger1 = !time

[State 1000, remove fx]
type = RemoveExplod
trigger1 = !time 
id = 500

[State 200, snd]
type=playsnd
trigger1= animelem=1 
value=200,4
channel=0   
volume = 200
[State 200, snd]
type=playsnd
trigger1= animelem=5 
value=1000,2
channel=2
[State 200, snd]
type=playsnd
trigger1= animelem=8 
value=1000,3
channel=2
[State 200, snd]
type=playsnd
trigger1= animelem=15 
value=1000,4
channel=2

[State 1000: Helper]
type = Helper
trigger1 = animelemtime(15) = 2
helpertype = Normal
name = "Bladed Yoyo"
id = 10000
pos = 67, -53 ;50
postype = p1
facing = 1
stateno = 10001
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 1000, fx]
type = Explod
trigger1 = animelem = 1
anim = 1011
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1000

[State 1000, remove fx]
type = RemoveExplod
trigger1 = animelemno(0) > 13
ID = 1000

[State 1011, 0]
type = PosSet
trigger1 = !time
y = 0

[State 1011, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 

[StateDef 1011]
type = s
MoveType = A
VelSet = 0, 0
Anim = 1010
SprPriority = -1 
ctrl=0
facep2 = 1

[State 1000, remove fx]
type = RemoveExplod
trigger1 = !time

[State 1000, remove fx]
type = RemoveExplod
trigger1 = !time 
id = 500

[State 200, snd]
type=playsnd
trigger1= animelem=1 
value=200,4
channel=0   
volume = 200
[State 200, snd]
type=playsnd
trigger1= animelem=5 
value=1000,2
channel=2
[State 200, snd]
type=playsnd
trigger1= animelem=8 
value=1000,3
channel=2
[State 200, snd]
type=playsnd
trigger1= animelem=15 
value=1000,4
channel=2

[State 1000: Helper]
type = Helper
trigger1 = animelemtime(15) = 2
helpertype = Normal
name = "Bladed Yoyo"
id = 10010
pos = 67, -53 ;50
postype = p1
facing = 1
stateno = 10011
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 1000, fx]
type = Explod
trigger1 = animelem = 1
anim = 1011
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1000

[State 1000, remove fx]
type = RemoveExplod
trigger1 = animelemno(0) > 13
ID = 1000

[State 1011, 0]
type = PosSet
trigger1 = !time
y = 0

[State 1011, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 


;----------------------------------------
;Suzume Bachi (Taikuu)
[Statedef 1020]
type    = S                      
movetype= A                    
physics = N                     
juggle  = 10                             
ctrl = 0                       
anim = 1020
poweradd= 109                         
sprpriority = -1
facep2 = 1
velset = 0,0

;Suzume Bachi Direction Buffering 
[State 800, VarSet]
type = VarSet
trigger1 = !time
var(4) = 0
ignorehitpause = 1
[State 800, VarSet]
type = VarSet
trigger1 = animelemtime(1) > 0 
trigger1 = command = "holdup" && command = "k suzume" 
var(4) = 1 
[State 800, VarSet]
type = VarSet
trigger1 = animelemtime(1) > 0 
trigger1 = command = "holdfwd" && command = "k suzume" 
var(4) = 3 
[State 800, VarSet]
type = VarSet
trigger1 = animelemtime(1) > 0 
trigger1 = command = "holddown" && command = "k suzume" 
var(4) = 5 
[State 800, VarSet]
type = VarSet
trigger1 = animelemtime(1) > 0 
trigger1 = command = "holdback" && command = "k suzume" 
var(4) = 7 
[State 800, VarSet]
type = VarSet
trigger1 = animelemtime(1) > 0
trigger1 = command = "holdup" && command = "holdfwd" && command = "k suzume" 
var(4) = 2 
[State 800, VarSet]
type = VarSet
trigger1 = animelemtime(1) > 0
trigger1 = command = "holdfwd" && command = "holddown" && command = "k suzume" 
var(4) = 4 
[State 800, VarSet]
type = VarSet
trigger1 = animelemtime(1) > 0
trigger1 = command = "holddown" && command = "holdback" && command = "k suzume" 
var(4) = 6 
[State 800, VarSet]
type = VarSet
trigger1 = animelemtime(1) > 0
trigger1 = command = "holdup" && command = "holdback" && command = "k suzume" 
var(4) = 8 

[State 1000, remove fx]
type = RemoveExplod
trigger1 = !time 

[State 1000, fx]
type = Explod
trigger1 = animelem = 4
anim = 1023
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1000

[State 200, snd]
type=playsnd
trigger1= animelem=1 
value=200,5
channel=0   
volume = 200  

[State 1030, 1]
type = StateTypeSet
trigger1 = animelem = 4
statetype = A

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = 8
Y = -1

[State 1030, 1]
type = VelAdd
trigger1 = animelemtime(4) > 0 
Y = 0.1

[State 200, Punch Attempt Sound]
type = Playsnd
trigger1= animelem=4 
value = 1000,0  

[State 235, 1]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time=0 
damage = 80, 5   
hitsound = s3+(var(32)*2),20
guardsound = s3+(var(32)*2), 12 
sparkno = s17004+(var(31)*10001)
sparkxy = -10, -50    
guard.sparkno = s17501+(var(31)*10000)
guard.sparkxy = 0, -50                
attr = S, SA    
guardflag = M                  
hitflag = MAF  
animtype = hard 
air.animtype = back   
ground.type = high
priority = 4, Hit
pausetime = 7,9
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -8.6953125
air.velocity = -3.5,-6
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5  
air.fall = 1
fall.recover = 1
fall.recovertime = 120

[State 220, Explod]
type = Explod
triggerall = var(22)
trigger1 = MoveHit
anim = 17008
pos = -10, -50 
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 1000, 6]
type = ChangeState
triggerall = anim = 1020
triggerall = animelemtime(5) > 0 
trigger1 = var(4) > 0
value = 1045

[State 1000, 7]
type = ChangeState
Triggerall = animelemtime(4) > 0 
trigger1 = Vel Y + Pos Y >= 0
value = 1022
ctrl = 1  

;Suzume Bachi (Taikuu)
[Statedef 1021]
type    = S                      
movetype= A                    
physics = N                     
juggle  = 10                             
ctrl = 0                       
anim = 1020
poweradd= 109                         
sprpriority = -1
facep2 = 1
velset = 0,0

;Suzume Bachi Direction Buffering 
[State 800, VarSet]
type = VarSet
trigger1 = !time
var(4) = 0
ignorehitpause = 1
[State 800, VarSet]
type = VarSet
trigger1 = animelemtime(1) > 0 
trigger1 = command = "holdup" && command = "k suzume" 
var(4) = 1 
[State 800, VarSet]
type = VarSet
trigger1 = animelemtime(1) > 0 
trigger1 = command = "holdfwd" && command = "k suzume" 
var(4) = 3 
[State 800, VarSet]
type = VarSet
trigger1 = animelemtime(1) > 0 
trigger1 = command = "holddown" && command = "k suzume" 
var(4) = 5 
[State 800, VarSet]
type = VarSet
trigger1 = animelemtime(1) > 0 
trigger1 = command = "holdback" && command = "k suzume" 
var(4) = 7 
[State 800, VarSet]
type = VarSet
trigger1 = animelemtime(1) > 0
trigger1 = command = "holdup" && command = "holdfwd" && command = "k suzume" 
var(4) = 2 
[State 800, VarSet]
type = VarSet
trigger1 = animelemtime(1) > 0
trigger1 = command = "holdfwd" && command = "holddown" && command = "k suzume" 
var(4) = 4 
[State 800, VarSet]
type = VarSet
trigger1 = animelemtime(1) > 0
trigger1 = command = "holddown" && command = "holdback" && command = "k suzume" 
var(4) = 6 
[State 800, VarSet]
type = VarSet
trigger1 = animelemtime(1) > 0
trigger1 = command = "holdup" && command = "holdback" && command = "k suzume" 
var(4) = 8 

[State 1000, remove fx]
type = RemoveExplod
trigger1 = !time 

[State 1000, fx]
type = Explod
trigger1 = animelem = 4
anim = 1023
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1000

[State 200, snd]
type=playsnd
trigger1= animelem=1 
value=200,5
channel=0   
volume = 200  

[State 1030, 1]
type = StateTypeSet
trigger1 = animelem = 4
statetype = A

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = 8
Y = -1

[State 1030, 1]
type = VelAdd
trigger1 = animelemtime(4) > 0 
Y = 0.09

[State 200, Punch Attempt Sound]
type = Playsnd
trigger1= animelem=4 
value = 1000,0

[State 235, 1]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time=0 
damage = 80, 5   
hitsound = s3+(var(32)*2),20
guardsound = s3+(var(32)*2), 12 
sparkno = s17004+(var(31)*10001)
sparkxy = -10, -50    
guard.sparkno = s17501+(var(31)*10000)
guard.sparkxy = 0, -50                
attr = S, SA    
guardflag = M                  
hitflag = MAF  
animtype = hard 
air.animtype = back   
ground.type = high
priority = 4, Hit
pausetime = 7,9
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -8.6953125
air.velocity = -3.5,-6
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5  
air.fall = 1
fall.recover = 1
fall.recovertime = 120

[State 220, Explod]
type = Explod
triggerall = var(22)
trigger1 = MoveHit
anim = 17008
pos = -10, -50 
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 1000, 6]
type = ChangeState
triggerall = Var(10) > 0
triggerall = anim = 1020
triggerall = animelemtime(5) > 0 
trigger1 = var(4) > 0
value = 1045

[State 1000, 7]
type = ChangeState
Triggerall = animelemtime(4) > 0 
trigger1 = Vel Y + Pos Y >= 0
value = 1022
ctrl = 1  

[StateDef 1022]
type = s
MoveType = I
VelSet = 0, 0
Anim = 1022
SprPriority = 2 
ctrl=0

[State 1000, remove fx]
type = RemoveExplod
trigger1 = !time 
ID = 1000

[State 1001, 0]
type = PosSet
trigger1 = !time
y = 0

[State 1001, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 

;Suzume Bachi (Chijou (A version))  
[Statedef 1030]
type    = S                      
movetype= A                    
physics = N                     
juggle  = 10                             
ctrl = 0                       
anim = 1030
poweradd= 109                         
sprpriority = -1
facep2 = 1
velset = 0,0

[State 1000, remove fx]
type = RemoveExplod
trigger1 = !time 

[State 1000, fx]
type = Explod
trigger1 = animelem = 4
anim = 1033
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1000

[State 1000, remove fx]
type = RemoveExplod
trigger1 = animelemno(0) > 11
ID = 1000

[State 1030, 1]
type = StateTypeSet
trigger1 = animelem = 4
statetype = A

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = 2
Y = -6.5

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 12
x = 0
Y = 0

[State 0, VelSet]
type = gravity
trigger1 = AnimElem = 12, > 0

[State 1000, remove fx]
type = RemoveExplod
trigger1 = animelemno(0) > 20
ID = 1000

[State 200, snd]
type=playsnd
trigger1= animelem=1 
value=200,6
channel=0   
volume = 200
[State 200, Punch Attempt Sound]
type = Playsnd
trigger1= animelem=4 
value = 1000,1

[State 240, 9]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time = 0 
damage = 90, 5   
hitsound = s3+(var(32)*2),20
guardsound = s3+(var(32)*2), 12 
sparkno = s17004+(var(31)*10001)
sparkxy = -10, -50    
guard.sparkno = s17501+(var(31)*10000)
guard.sparkxy = 0, -50           
attr = S, NA  
guardflag = M                  
hitflag = MAF  
priority = 5, Hit                                          
pausetime = 12,13                                                                  
ground.velocity = -4,-8                            
air.velocity = -4,-7                              
guard.velocity = -12                                  
guard.pausetime = 0,11                            
guard.slidetime = 22                               
guard.hittime = 22                             
guard.ctrltime = 22                                
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0                  
yaccel = .5                                                
fall = 1
fall.recover = 1
fall.recovertime = 120

[State 220, Explod]
type = Explod
triggerall = var(22)
trigger1 = MoveHit
anim = 17008
pos = -10, -50 
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 1000, 7]
type = ChangeState
Triggerall = animelemtime(4) > 0 
trigger1 = Vel Y + Pos Y >= 0
value = 1032
ctrl = 1

;Suzume Bachi (Chijou (C version))  
[Statedef 1031]
type    = S                      
movetype= A                    
physics = N                     
juggle  = 10                             
ctrl = 0                       
anim = 1031
poweradd= 109                         
sprpriority = -1
facep2 = 1
velset = 0,0

[State 1000, remove fx]
type = RemoveExplod
trigger1 = !time 

[State 1000, fx]
type = Explod
trigger1 = animelem = 4
anim = 1034
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1000

[State 1000, remove fx]
type = RemoveExplod
trigger1 = animelemno(0) > 12
ID = 1000

[State 1030, 1]
type = StateTypeSet
trigger1 = animelem = 5
statetype = A

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 5
x = 6.5
Y = -6.5

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 13
x = 1
Y = 0

[State 0, VelSet]
type = gravity
trigger1 = AnimElem = 13, > 0

[State 1000, fx]
type = null
trigger1 = animelem = 7
anim = 11000
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1000

[State 1000, fx]
type = null
trigger1 = animelem = 10
anim = 11001
bindtime = -1
sprpriority = 3
pos = 100,-50
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 1000, remove fx]
type = RemoveExplod
trigger1 = animelemno(0) > 20
ID = 1000

[State 200, snd]
type=playsnd
trigger1= animelem=1 
value=200,6
channel=0   
volume = 200
[State 200, Punch Attempt Sound]
type = Playsnd
trigger1= animelem=4 
value = 1000,1 

[State 240, 9]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time = 0 
damage = 90, 5   
hitsound = s3+(var(32)*2),20
guardsound = s3+(var(32)*2), 12 
sparkno = s17004+(var(31)*10001)
sparkxy = -10, -50    
guard.sparkno = s17501+(var(31)*10000)
guard.sparkxy = 0, -50           
attr = S, NA  
guardflag = M                  
hitflag = MAF  
priority = 5, Hit                                          
pausetime = 12,13                                                                  
ground.velocity = -4,-8                            
air.velocity = -4,-7                              
guard.velocity = -12                                  
guard.pausetime = 0,11                            
guard.slidetime = 22                               
guard.hittime = 22                             
guard.ctrltime = 22                                
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0                  
yaccel = .5                                                
fall = 1
fall.recover = 1
fall.recovertime = 120

[State 220, Explod]
type = Explod
triggerall = var(22)
trigger1 = MoveHit
anim = 17008
pos = -10, -50 
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 1000, 7]
type = ChangeState
Triggerall = animelemtime(4) > 0 
trigger1 = Vel Y + Pos Y >= 0
value = 1032
ctrl = 1

[StateDef 1032]
type = s
MoveType = I
VelSet = 0, 0
Anim = 1032
SprPriority = 2 
ctrl=0

[State 1000, remove fx]
type = RemoveExplod
trigger1 = !time 

[State 300, Land]
type = PlaySnd
triggerall = NumExplod(12001) != 2
trigger1 = P2Stateno = 1352 && P2MoveType = H
trigger2 = P2Stateno = 1355 && P2MoveType = H
value = 2+(var(32)*10),9
persistent = 0

[State 3303, Explod]
type = Explod
triggerall = NumExplod(12001) != 2
trigger1 = P2Stateno = 1352 && P2MoveType = H
trigger2 = P2Stateno = 1355 && P2MoveType = H
anim = 12001+(var(31)*10000)
pos = 0,0
id = 12001
postype = p2  ;p2,front,back,left,right
sprpriority = 2
ownpal = 1
persistent = 0

[State 3303, Explod]
type = Explod
triggerall = NumExplod(12001) != 2
trigger1 = P2Stateno = 1352 && P2MoveType = H
trigger2 = P2Stateno = 1355 && P2MoveType = H
anim = 12002+(var(31)*10000)
pos = 0,0
id = 12001
postype = p2  ;p2,front,back,left,right
sprpriority = 0
ownpal = 1
persistent = 0

[State 1001, 0]
type = PosSet
trigger1 = !time
y = 0

[State 1001, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 

;Suzume Bachi (Kuuchuu (LOL THIS STATE IS SILLY))  
[Statedef 1040]
type    = A                      
movetype= A                    
physics = N                     
juggle  = 10                             
ctrl = 0                       
anim = 1040+var(10)
poweradd= 109                         
sprpriority = -1
facep2 = 0
velset = 0,0

[State 1001, end]
type = posadd
trigger1 = prevstateno = [1020,1021]
trigger1 = !time
y = -30

[State 1000, remove fx]
type = RemoveExplod
trigger1 = !time 

;Suzume Bachi Direction Buffering 
[State 800, VarSet]
type = VarSet
trigger1 = !time
var(4) = 0
ignorehitpause = 1
[State 800, VarSet]
type = VarSet
trigger1 = animelemtime(1) > 0 
trigger1 = command = "holdup" && command = "k suzume" 
var(4) = 1 
[State 800, VarSet]
type = VarSet
trigger1 = animelemtime(1) > 0 
trigger1 = command = "holdfwd" && command = "k suzume" 
var(4) = 3 
[State 800, VarSet]
type = VarSet
trigger1 = animelemtime(1) > 0 
trigger1 = command = "holddown" && command = "k suzume" 
var(4) = 5 
[State 800, VarSet]
type = VarSet
trigger1 = animelemtime(1) > 0 
trigger1 = command = "holdback" && command = "k suzume" 
var(4) = 7 
[State 800, VarSet]
type = VarSet
trigger1 = animelemtime(1) > 0
trigger1 = command = "holdup" && command = "holdfwd" && command = "k suzume" 
var(4) = 2 
[State 800, VarSet]
type = VarSet
trigger1 = animelemtime(1) > 0
trigger1 = command = "holdfwd" && command = "holddown" && command = "k suzume" 
var(4) = 4 
[State 800, VarSet]
type = VarSet
trigger1 = animelemtime(1) > 0
trigger1 = command = "holddown" && command = "holdback" && command = "k suzume" 
var(4) = 6 
[State 800, VarSet]
type = VarSet
trigger1 = animelemtime(1) > 0
trigger1 = command = "holdup" && command = "holdback" && command = "k suzume" 
var(4) = 8 

[State 11020, stay]
type = PosFreeze
triggerall = anim = 1041 
trigger1 = (animelemno(0) = [1,8])
value = 1 
[State 11020, stay]
type = PosFreeze
triggerall = anim = 1041 
trigger1 = (animelemno(0) = [17,24])
value = 1 

[State 11020, stay]
type = PosFreeze
triggerall = anim = 1042 || anim = 1044 || anim = 1046 || anim = 1048
trigger1 = (animelemno(0) = [1,8])
value = 1 
[State 11020, stay]
type = PosFreeze
triggerall = anim = 1042 || anim = 1044 || anim = 1046 || anim = 1048
trigger1 = (animelemno(0) = [23,30])
value = 1 

[State 11020, stay]
type = PosFreeze
triggerall = anim = 1043 || anim = 1047
trigger1 = (animelemno(0) = [1,9])
value = 1 
[State 11020, stay]
type = PosFreeze
triggerall = anim = 1043 || anim = 1047
trigger1 = (animelemno(0) = [24,31])
value = 1 

[State 11020, stay]
type = PosFreeze
triggerall = anim = 1045 
trigger1 = (animelemno(0) = [1,10])
value = 1 
[State 11020, stay]
type = PosFreeze
triggerall = anim = 1045 
trigger1 = (animelemno(0) = [25,32])
value = 1 

[State 0, VelSet]
type = VelSet
triggerall = Anim = 1041
trigger1 = AnimElem = 9
x = 0
Y = -6.5
[State 0, VelSet]
type = VelSet
triggerall = Anim = 1042
trigger1 = AnimElem = 9
x = 6.5
Y = -6.5
[State 0, VelSet]
type = VelSet
triggerall = Anim = 1043
trigger1 = AnimElem = 9
x = 8
Y = 0
[State 0, VelSet]
type = VelSet
triggerall = Anim = 1044
trigger1 = AnimElem = 9
x = 6.5
Y = 6.5
[State 0, VelSet]
type = VelSet
triggerall = Anim = 1045
trigger1 = AnimElem = 9
x = 0
Y = 7
[State 0, VelSet]
type = VelSet
triggerall = Anim = 1046
trigger1 = AnimElem = 9
x = -6.5
Y = 6.5
[State 0, VelSet]
type = VelSet
triggerall = Anim = 1047
trigger1 = AnimElem = 9
x = -7
Y = 0
[State 0, VelSet]
type = VelSet
triggerall = Anim = 1048
trigger1 = AnimElem = 9
x = -6.5
Y = -6.5

[State 0, VelSet]
type = VelSet
triggerall = anim = 1041
trigger1 = AnimElem = 17
x = 0
Y = 0
[State 0, VelSet]
type = VelSet
triggerall = anim = 1042 || anim = 1044 || anim = 1046 || anim = 1048
trigger1 = AnimElem = 23
x = 0
Y = 0
[State 0, VelSet]
type = VelSet
triggerall = anim = 1043 || anim = 1047
trigger1 = AnimElem = 24
x = 0
Y = 0
[State 0, VelSet]
type = VelSet
triggerall = anim = 1045
trigger1 = AnimElem = 25
x = 0
Y = 0

[State 0, VelSet]
type = gravity
triggerall = anim = 1041
trigger1 = AnimElem = 25, > 0
[State 0, VelSet]
type = gravity
triggerall = anim = 1042 || anim = 1044 || anim = 1046 || anim = 1048
trigger1 = AnimElem = 31, > 0
[State 0, VelSet]
type = gravity
triggerall = anim = 1043 || anim = 1047
trigger1 = AnimElem = 32, > 0
[State 0, VelSet]
type = gravity
triggerall = anim = 1045
trigger1 = AnimElem = 33, > 0

[State 1000, fx]
type = Explod
trigger1 = anim = 1041
trigger1 = animelem = 9
anim = 1033
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1001
[State 1000, remove fx]
type = RemoveExplod
trigger1 = anim = 1041
trigger1 = animelemno(0) > 16
ID = 1001

[State 1000, fx]
type = Explod
trigger1 = anim = 1042
trigger1 = animelem = 9
anim = 1140
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1002
[State 1000, remove fx]
type = RemoveExplod
trigger1 = anim = 1042
trigger1 = animelemno(0) > 22
ID = 1002
[State 1000, fx]
type = Explod
trigger1 = anim = 1048
trigger1 = animelem = 9
anim = 1141
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1003
[State 1000, remove fx]
type = RemoveExplod
trigger1 = anim = 1048
trigger1 = animelemno(0) > 22
ID = 1003
[State 1000, fx]
type = Explod
trigger1 = anim = 1043
trigger1 = animelem = 9
anim = 1142
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1004
[State 1000, remove fx]
type = RemoveExplod
trigger1 = anim = 1043
trigger1 = animelemno(0) > 23
ID = 1004
[State 1000, fx]
type = Explod
trigger1 = anim = 1047
trigger1 = animelem = 9
anim = 1143
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1005
[State 1000, remove fx]
type = RemoveExplod
trigger1 = anim = 1047
trigger1 = animelemno(0) > 23
ID = 1005
[State 1000, fx]
type = Explod
trigger1 = anim = 1045
trigger1 = animelem = 11
anim = 1144
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1006
[State 1000, remove fx]
type = RemoveExplod
trigger1 = anim = 1045
trigger1 = animelemno(0) > 25
ID = 1006

[State 200, snd]
type=playsnd
trigger1= animelem=9 
value=200,5
channel=0   
volume = 200
[State 200, Punch Attempt Sound]
type = Playsnd
trigger1= animelem=9
value = 1000,1
[State 40, PlaySnd]
type = PlaySnd
trigger1= animelem=1
value = 2+(var(32)*10),4
[State 0, VelSet]
type = PlaySnd
triggerall = anim = 1041
trigger1 = AnimElem = 17
value = 2+(var(32)*10),4
[State 0, VelSet]
type = PlaySnd
triggerall = anim = 1042 || anim = 1044 || anim = 1046 || anim = 1048
trigger1 = AnimElem = 23
value = 2+(var(32)*10),4
[State 0, VelSet]
type = PlaySnd
triggerall = anim = 1043 || anim = 1047
trigger1 = AnimElem = 24
value = 2+(var(32)*10),4
[State 0, VelSet]
type = PlaySnd
triggerall = anim = 1045
trigger1 = AnimElem = 25
value = 2+(var(32)*10),4

[State 235, 1]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time=0 
damage = 90, 5   
hitsound = s3+(var(32)*2),20
guardsound = s3+(var(32)*2), 12 
sparkno = s17004+(var(31)*10001)
sparkxy = -10, -50    
guard.sparkno = s17501+(var(31)*10000)
guard.sparkxy = 0, -50               
attr = A, SA    
guardflag = M                  
hitflag = MAF  
animtype = hard 
air.animtype = back   
ground.type = high
priority = 4, Hit
pausetime = 7,9
ground.slidetime = 17
ground.hittime = 17
ground.velocity = ifelse((anim=[1046,1048]),8.6953125,-8.6953125)
air.velocity = ifelse((anim=[1046,1048]),3.5,-3.5),-6
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5  
air.fall = 1
fall.recover = 1
fall.recovertime = 120

[State 220, Explod]
type = Explod
triggerall = var(22)
trigger1 = MoveHit
anim = 17008
pos = -10, -20 
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 1000, 6]
type = ChangeState
triggerall = Var(10) > 0
triggerall = anim = 1041
triggerall = animelemtime(9) > 0 && animelemtime(25) < 0 
trigger1 = var(4) > 0
value = 1045
[State 1000, 6]
type = ChangeState
triggerall = Var(10) > 0
triggerall = anim = 1042 || anim = 1044 || anim = 1046 || anim = 1048
triggerall = animelemtime(9) > 0 && animelemtime(31) < 0 
trigger1 = var(4) > 0
value = 1045
[State 1000, 6]
type = ChangeState
triggerall = Var(10) > 0
triggerall = anim = 1043 || anim = 1047
triggerall = animelemtime(9) > 0 && animelemtime(32) < 0 
trigger1 = var(4) > 0
value = 1045
[State 1000, 6]
type = ChangeState
triggerall = Var(10) > 0
triggerall = anim = 1045
triggerall = animelemtime(9) > 0 && animelemtime(33) < 0 
trigger1 = var(4) > 0
value = 1045

[State 1000, 7]
type = ChangeState
Triggerall = time > 20
trigger1 = Vel Y + Pos Y >= 0
value = 1050
ctrl = 1

[StateDef 1050]
type = s
MoveType = I
VelSet = 0, 0
Anim = 1049
SprPriority = 2 
ctrl=0

[State 1000, remove fx]
type = RemoveExplod
trigger1 = !time 

[State 1001, 0]
type = PosSet
trigger1 = !time
y = 0

[State 1001, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 

;Houkou Tenkan (SAME STATE AS 1040 LOLOLOL)  
[Statedef 1045]
type    = A                      
movetype= A                    
physics = N                     
juggle  = 10                             
ctrl = 0                       
anim = 1040+var(10)
poweradd= 109                         
sprpriority = -1
facep2 = 0
velset = 0,0

[State 1001, end]
type = posadd
trigger1 = prevstateno = [1020,1021]
trigger1 = animelem = 9
y = -20

[State 1000, remove fx]
type = RemoveExplod
trigger1 = !time 

[State 11020, stay]
type = PosFreeze
triggerall = anim = 1041 
trigger1 = (animelemno(0) = [1,8])
value = 1 
[State 11020, stay]
type = PosFreeze
triggerall = anim = 1041 
trigger1 = (animelemno(0) = [17,24])
value = 1 

[State 11020, stay]
type = PosFreeze
triggerall = anim = 1042 || anim = 1044 || anim = 1046 || anim = 1048
trigger1 = (animelemno(0) = [1,8])
value = 1 
[State 11020, stay]
type = PosFreeze
triggerall = anim = 1042 || anim = 1044 || anim = 1046 || anim = 1048
trigger1 = (animelemno(0) = [23,30])
value = 1 

[State 11020, stay]
type = PosFreeze
triggerall = anim = 1043 || anim = 1047
trigger1 = (animelemno(0) = [1,9])
value = 1 
[State 11020, stay]
type = PosFreeze
triggerall = anim = 1043 || anim = 1047
trigger1 = (animelemno(0) = [24,31])
value = 1 

[State 11020, stay]
type = PosFreeze
triggerall = anim = 1045 
trigger1 = (animelemno(0) = [1,10])
value = 1 
[State 11020, stay]
type = PosFreeze
triggerall = anim = 1045 
trigger1 = (animelemno(0) = [25,32])
value = 1 

[State 0, VelSet]
type = VelSet
triggerall = Anim = 1041
trigger1 = AnimElem = 10
x = 0
Y = -6.5
[State 0, VelSet]
type = VelSet
triggerall = Anim = 1042
trigger1 = AnimElem = 9
x = 6.5
Y = -6.5
[State 0, VelSet]
type = VelSet
triggerall = Anim = 1043
trigger1 = AnimElem = 9
x = 8
Y = 0
[State 0, VelSet]
type = VelSet
triggerall = Anim = 1044
trigger1 = AnimElem = 9
x = 6.5
Y = 6.5
[State 0, VelSet]
type = VelSet
triggerall = Anim = 1045
trigger1 = AnimElem = 9
x = 0
Y = 7
[State 0, VelSet]
type = VelSet
triggerall = Anim = 1046
trigger1 = AnimElem = 9
x = -6.5
Y = 6.5
[State 0, VelSet]
type = VelSet
triggerall = Anim = 1047
trigger1 = AnimElem = 9
x = -7
Y = 0
[State 0, VelSet]
type = VelSet
triggerall = Anim = 1048
trigger1 = AnimElem = 9
x = -6.5
Y = -6.5

[State 0, VelSet]
type = VelSet
triggerall = anim = 1041
trigger1 = AnimElem = 17
x = 0
Y = 0
[State 0, VelSet]
type = VelSet
triggerall = anim = 1042 || anim = 1044 || anim = 1046 || anim = 1048
trigger1 = AnimElem = 23
x = 0
Y = 0
[State 0, VelSet]
type = VelSet
triggerall = anim = 1043 || anim = 1047
trigger1 = AnimElem = 24
x = 0
Y = 0
[State 0, VelSet]
type = VelSet
triggerall = anim = 1045
trigger1 = AnimElem = 25
x = 0
Y = 0

[State 0, VelSet]
type = gravity
triggerall = anim = 1041
trigger1 = AnimElem = 25, > 0
[State 0, VelSet]
type = gravity
triggerall = anim = 1042 || anim = 1044 || anim = 1046 || anim = 1048
trigger1 = AnimElem = 31, > 0
[State 0, VelSet]
type = gravity
triggerall = anim = 1043 || anim = 1047
trigger1 = AnimElem = 32, > 0
[State 0, VelSet]
type = gravity
triggerall = anim = 1045
trigger1 = AnimElem = 33, > 0

[State 1000, fx]
type = Explod
trigger1 = anim = 1041
trigger1 = animelem = 9
anim = 1033
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1001
[State 1000, remove fx]
type = RemoveExplod
trigger1 = anim = 1041
trigger1 = animelemno(0) > 16
ID = 1001

[State 1000, fx]
type = Explod
trigger1 = anim = 1042
trigger1 = animelem = 9
anim = 1140
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1002
[State 1000, remove fx]
type = RemoveExplod
trigger1 = anim = 1042
trigger1 = animelemno(0) > 22
ID = 1002
[State 1000, fx]
type = Explod
trigger1 = anim = 1048
trigger1 = animelem = 9
anim = 1141
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1003
[State 1000, remove fx]
type = RemoveExplod
trigger1 = anim = 1048
trigger1 = animelemno(0) > 22
ID = 1003
[State 1000, fx]
type = Explod
trigger1 = anim = 1043
trigger1 = animelem = 9
anim = 1142
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1004
[State 1000, remove fx]
type = RemoveExplod
trigger1 = anim = 1043
trigger1 = animelemno(0) > 23
ID = 1004
[State 1000, fx]
type = Explod
trigger1 = anim = 1047
trigger1 = animelem = 9
anim = 1143
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1005
[State 1000, remove fx]
type = RemoveExplod
trigger1 = anim = 1047
trigger1 = animelemno(0) > 23
ID = 1005
[State 1000, fx]
type = Explod
trigger1 = anim = 1045
trigger1 = animelem = 11
anim = 1144
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1006
[State 1000, remove fx]
type = RemoveExplod
trigger1 = anim = 1045
trigger1 = animelemno(0) > 25
ID = 1006

[State 200, snd]
type=playsnd
trigger1= animelem=9 
value=200,5
channel=0   
volume = 200
[State 200, Punch Attempt Sound]
type = Playsnd
trigger1= animelem=9
value = 1000,1
[State 40, PlaySnd]
type = PlaySnd
trigger1= animelem=1
value = 2+(var(32)*10),4
[State 0, VelSet]
type = PlaySnd
triggerall = anim = 1041
trigger1 = AnimElem = 17
value = 2+(var(32)*10),4
[State 0, VelSet]
type = PlaySnd
triggerall = anim = 1042 || anim = 1044 || anim = 1046 || anim = 1048
trigger1 = AnimElem = 23
value = 2+(var(32)*10),4
[State 0, VelSet]
type = PlaySnd
triggerall = anim = 1043 || anim = 1047
trigger1 = AnimElem = 24
value = 2+(var(32)*10),4
[State 0, VelSet]
type = PlaySnd
triggerall = anim = 1045
trigger1 = AnimElem = 25
value = 2+(var(32)*10),4

[State 235, 1]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time=0 
damage = 90, 5   
hitsound = s3+(var(32)*2),20
guardsound = s3+(var(32)*2), 12 
sparkno = s17004+(var(31)*10001)
sparkxy = -10, -50    
guard.sparkno = s17501+(var(31)*10000)
guard.sparkxy = 0, -50               
attr = A, SA    
guardflag = M                  
hitflag = MAF  
animtype = hard 
air.animtype = back   
ground.type = high
priority = 4, Hit
pausetime = 7,9
ground.slidetime = 17
ground.hittime = 17
ground.velocity = ifelse((anim=[1046,1048]),8.6953125,-8.6953125)
air.velocity = ifelse((anim=[1046,1048]),3.5,-3.5),-6
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5  
air.fall = 1
fall.recover = 1
fall.recovertime = 120

[State 220, Explod]
type = Explod
triggerall = var(22)
trigger1 = MoveHit
anim = 17008
pos = -10, -50 
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 1000, 7]
type = ChangeState
Triggerall = animelemtime(9) > 0
trigger1 = Vel Y + Pos Y >= 0
value = 1050
ctrl = 1
;---------------------------------------------------------------------------
; HELPERS
;---------------------------------------------------------------------------
[Statedef 10001]
type = A
physics = N
ctrl = 0
velset = 12, 0
ownpal = 1
sprpriority = 4
anim = 1012

[State 7001, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000, DestroySelf]
type = DestroySelf
triggerall = time > 1
trigger1 = FrontEdgeDist <= -40

[State 1000, 4]
type = ChangeState
trigger1 = time = 6 
value = 10002

[Statedef 10002]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0
ownpal = 1
sprpriority = 4
juggle = 10
anim = 1012

[State 200, snd]
type=playsnd
trigger1= !time
value=1000,5
channel = 3

[State 7001, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000, 5]
type = Projectile
triggerall= ((p2stateno = [5020,5040])||(p2stateno = [154,155])||(p2stateno = 5070)) && root,var(57) = 0 
trigger1 = time = 1
trigger1 != root,NumProjID(1000) = 0
ProjAnim = 1015
Projhitanim = -1
ProjStageBound = 999
ProjEdgeBound = 999
ProjHeightBound = -240, 1
ProjID = 1000
projpriority = 1
projremovetime = 174
offset = 0, 0        
velocity = 0,0
hitflag = M    
attr = S, SA
damage    = 89,5
animtype  = Hard
guardflag = M
pausetime = ifelse(parent,var(7)=0,0,7),ifelse(parent,var(7)=0,4,7)
guard.pausetime = 0,2
sparkno = s17003+(var(31)*10001)
sparkxy = 20, -10
hitsound = s3+(var(32)*2),20
guardsound = s3+(var(32)*2), 12 
guard.sparkno = s17502+(var(31)*10000)
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -12.61205725171355925864938338293
air.type = High
air.velocity = -4,-7.77564102564102564102564102563869
air.hittime = 13
air.juggle = 1000
air.fall = 1
fall.recover = 1
fall.recovertime = 120
getpower = 78,78
givepower = 16,16
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5

[State 1000, 5]
type = Projectile
triggerall= root,var(57) = 0 
triggerall != root,NumProjID(1000) = 0
trigger1 = time = 1
ProjAnim = 1015 
Projhitanim = -1
ProjStageBound = 999
ProjEdgeBound = 999
ProjHeightBound = -240, 1
ProjID = 1000
projpriority = 1
projremovetime = 174
offset = 0, 0        
velocity = 0,0
hitflag = MA    
attr = S, SA
damage    = 89,5
animtype  = Hard
guardflag = M
pausetime = ifelse(parent,var(7)=0,0,7),ifelse(parent,var(7)=0,4,7)
guard.pausetime = 0,2
sparkno = s17003+(var(31)*10001)
sparkxy = 20, -10
hitsound = s3+(var(32)*2),20
guardsound = s3+(var(32)*2), 12 
guard.sparkno = s17502+(var(31)*10000)
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -12.61205725171355925864938338293
air.type = High
air.velocity = -4,-7.77564102564102564102564102563869
air.hittime = 13
air.juggle = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 120
getpower = 78,78
givepower = 16,16
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5

[State 1000, 5]
type = Projectile
triggerall= root,var(57) > 0 
triggerall != root,NumProjID(1000) = 0
trigger1 = time = 1
ProjAnim = 1015
Projhitanim = -1
ProjStageBound = 999
ProjEdgeBound = 999
ProjHeightBound = -240, 1
ProjID = 1000
projpriority = 1
projremovetime = 174
offset = 0, 0        
velocity = 0,0 
hitflag = MAF    
attr = S, SA
damage    = 89,5
animtype  = Hard
guardflag = M
pausetime = ifelse(parent,var(7)=0,0,7),ifelse(parent,var(7)=0,4,7)
guard.pausetime = 0,2
sparkno = s17003+(var(31)*10001)
sparkxy = 20, -10
hitsound = s3+(var(32)*2),20
guardsound = s3+(var(32)*2), 12 
guard.sparkno = s17502+(var(31)*10000)
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -12.61205725171355925864938338293
air.type = High
air.velocity = -4,-7.77564102564102564102564102563869
air.hittime = 13
air.juggle = 1000
air.fall = 1
fall.recover = 1
fall.recovertime = 120
getpower = 78,78
givepower = 16,16
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5

[State 1000, 4]
type = ChangeState
triggerall = time > 1
trigger1 = root,NumProjID(1000) = 0
value = 10003

[Statedef 10003]
type = S
movetype = A
physics = N
ctrl = 0
velset = -1, -4
ownpal = 1
anim = 1014 
sprpriority = 4

[State 200, snd]
type=stopsnd
trigger1= !time
channel = 3

[state 10002, add]
type = veladd
trigger1 = time > 5
y = 1

[state 10002, add]
type = velmul
trigger1 = time > 5
x = 1

[State 7001, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 10002, DestroySelf]
type = DestroySelf
Trigger1 = vel y > 0 && pos y >= 0

[Statedef 10011]
type = A
physics = N
ctrl = 0
velset = 12, 0
ownpal = 1
sprpriority = 4
anim = 1012

[State 7001, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000, DestroySelf]
type = DestroySelf
triggerall = time > 1
trigger1 = FrontEdgeDist <= -40

[State 1000, 4]
type = ChangeState
trigger1 = time = 12 
value = 10012

[Statedef 10012]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0
ownpal = 1
sprpriority = 4
juggle = 10
anim = 1012

[State 200, snd]
type=playsnd
trigger1= !time
value=1000,5
channel = 3

[State 7001, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000, 5]
type = Projectile
triggerall= ((p2stateno = [5020,5040])||(p2stateno = [154,155])||(p2stateno = 5070)) && root,var(57) = 0 
trigger1 = time = 1
trigger1 != root,NumProjID(1010) = 0
ProjAnim = 1015
Projhitanim = -1
ProjStageBound = 999
ProjEdgeBound = 999
ProjHeightBound = -240, 1
ProjID = 1010
projpriority = 1
projremovetime = 174
offset = 0, 0        
velocity = 0,0
hitflag = M    
attr = S, SA
damage    = 89,5
animtype  = Hard
guardflag = M
pausetime = ifelse(parent,var(7)=0,0,7),ifelse(parent,var(7)=0,4,7)
guard.pausetime = 0,2
sparkno = s17003+(var(31)*10001)
sparkxy = 20, -10
hitsound = s3+(var(32)*2),20
guardsound = s3+(var(32)*2), 12 
guard.sparkno = s17502+(var(31)*10000)
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -12.61205725171355925864938338293
air.type = High
air.velocity = -4,-7.77564102564102564102564102563869
air.hittime = 13
air.juggle = 1000
air.fall = 1
fall.recover = 1
fall.recovertime = 120
getpower = 78,78
givepower = 16,16
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5

[State 1000, 5]
type = Projectile
triggerall= root,var(57) = 0 
triggerall != root,NumProjID(1010) = 0
trigger1 = time = 1
ProjAnim = 1015 
Projhitanim = -1
ProjStageBound = 999
ProjEdgeBound = 999
ProjHeightBound = -240, 1
ProjID = 1010
projpriority = 1
projremovetime = 174
offset = 0, 0        
velocity = 0,0
hitflag = MA    
attr = S, SA
damage    = 89,5
animtype  = Hard
guardflag = M
pausetime = ifelse(parent,var(7)=0,0,7),ifelse(parent,var(7)=0,4,7)
guard.pausetime = 0,2
sparkno = s17003+(var(31)*10001)
sparkxy = 20, -10
hitsound = s3+(var(32)*2),20
guardsound = s3+(var(32)*2), 12 
guard.sparkno = s17502+(var(31)*10000)
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -12.61205725171355925864938338293
air.type = High
air.velocity = -4,-7.77564102564102564102564102563869
air.hittime = 13
air.juggle = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 120
getpower = 78,78
givepower = 16,16
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5

[State 1000, 5]
type = Projectile
triggerall= root,var(57) > 0 
triggerall != root,NumProjID(1010) = 0
trigger1 = time = 1
ProjAnim = 1015
Projhitanim = -1
ProjStageBound = 999
ProjEdgeBound = 999
ProjHeightBound = -240, 1
ProjID = 1010
projpriority = 1
projremovetime = 174
offset = 0, 0        
velocity = 0,0 
hitflag = MAF    
attr = S, SA
damage    = 89,5
animtype  = Hard
guardflag = M
pausetime = ifelse(parent,var(7)=0,0,7),ifelse(parent,var(7)=0,4,7)
guard.pausetime = 0,2
sparkno = s17003+(var(31)*10001)
sparkxy = 20, -10
hitsound = s3+(var(32)*2),20
guardsound = s3+(var(32)*2), 12 
guard.sparkno = s17502+(var(31)*10000)
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -12.61205725171355925864938338293
air.type = High
air.velocity = -4,-7.77564102564102564102564102563869
air.hittime = 13
air.juggle = 1000
air.fall = 1
fall.recover = 1
fall.recovertime = 120
getpower = 78,78
givepower = 16,16
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5

[State 1000, 4]
type = ChangeState
triggerall = time > 1
trigger1 = root,NumProjID(1010) = 0
value = 10003
;---------------------------------------------------------------------------
; WE SUNK (HAX by Jesuszilla)
;---------------------------------------------------------------------------
[Statedef 247]
anim = 1

[State -2, VarSet]
type = VarSet
trigger1 = Parent, Var(50) = [1,2]
trigger2 = Parent, MoveContact
var(1) = 1

[State -2, Combo]
type = VarSet
trigger1 = !parent, NumTarget
trigger2 = Var(0) && parent, HitPauseTime > 0
var(0) = 0
ignorehitpause = 1

[State -2, Combo]
type = VarAdd
triggerall = Var(1)
;triggerall = parent, HitPauseTime = 0
trigger1 = 1
var(0) = 1
ignorehitpause = 1

[State -2, Combo]
type = VarAdd
triggerall = parent, HitPauseTime = 0
trigger1 = 1
var(0) = 5
ignorehitpause = 1

[State -2, DTC]
type = DisplayToClipboard
trigger1 = NumHelper(247)
text = "MoveContact = %d"
params = Var(0)
;---------------------------------------------------------------------------
; DESPERATION MOVES
;---------------------------------------------------------------------------
;Jo'ou Bachi
[Statedef 3000]
type    = A                      
movetype= A                    
physics = N                     
juggle  = 0             
ctrl = 0                       
anim = 3000 
poweradd= 0                               
sprpriority = 2 
velset=0,0
facep2 = 1

[State 3035, 1]
type = AfterImage
trigger1 = AnimElem = 1
time = -1
length = 9
framegap = 4
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 1001, end]
type = posadd
trigger1 = prevstateno = [1020,1021]
trigger1 = animelem = 3
y = -30

[State 1000: Helper]
type = Helper
triggerall = var(31) = 0
trigger1 = !numhelper(40000)
trigger1 = prevstateno = [1000,1045]
helpertype = Normal
name = "SuperCancel"
id = 40000
pos = 0, 0 ;50
postype = left
facing = 1
stateno = 40000
keyctrl = 0
ownpal = 1
ontop = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1
persistent = 0


[State 1000, remove fx]
type = RemoveExplod
trigger1 = !time 

[State 200, snd]
type=playsnd
trigger1= animelem=1 
value=200,10
channel=0  
volume = 200

[State 200, snd]
type=playsnd
trigger1= animelem=3 
value=200,11
channel=0  
volume = 200

[State 2000, VarSet]
type = VarSet
trigger1 = time = 0 ;Superpause tick error fix.
var(6) = 29

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = time = [1,28]
flag = noBG
flag2 = noFG

[State 13000, EnvColor]
type = EnvColor
trigger1 = !time
value = 255,255,255
time = 4
under = 1
ignorehitpause = 1
persistent = 0

[State 2010, Pause]
Type = SuperPause
Trigger1 = time = 1
Time = 33
movetime = 33
anim = -1
sound = s3+(var(32)*2),10
Pos = 14, -88
Darken = 0
UnHittAble = 1
poweradd = -1000
p2defmul = 1

[State 6001, pause]
type = Explod
trigger1 = time = 0
anim = 15200-(var(31)*200)
pos = 4,-58
postype = p1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
supermove = 1
removetime = 28
sprpriority = -2
ownpal = 1
[State 6001, pause]
type = Explod
trigger1 = time = 0
anim = 15201-(var(31)*200)
pos = 4,-58
postype = p1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
supermove = 1
removetime = 28
sprpriority = 4
ownpal = 1

[State 2000, 0]
type = NotHitBy
trigger1 = (animelemno(0) = [1, 3])
value = sca

[State 2010: EnvColor]
type = EnvColor
trigger1 = animelem = 1
value = 0,0,0
time = 28
under=1

[State 11020, stay]
type = PosFreeze
trigger1 = (animelemno(0) = [1,2])
value = 1 

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 3
x = 13
Y = 13

[State 240, 9]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time = 0 
animtype = up
air.animtype = up
fall.animtype = up
damage = 90, 0  
hitsound = s3+(var(32)*2),20   
guardsound = s3+(var(32)*2), 12
sparkno = s17003+(var(31)*10001) 
sparkxy = -10, -50    
guard.sparkno = s17501+(var(31)*10000)
guard.sparkxy = 0, -50         
attr = S, HA  
guardflag = M                  
hitflag = MAF  
priority = 5, Hit                                          
pausetime = 10,10                                                                  
ground.velocity = 0,-15                            
air.velocity = 0,-15                              
guard.velocity = -12                                  
guard.pausetime = 11,11                            
guard.slidetime = 22                               
guard.hittime = 22                             
guard.ctrltime = 22     
ground.hittime  = 100 
air.hittime = 100 ;FOR STAND USERS MUWHAHAHAHAHAHA                     
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0  
getpower = 0,0                
yaccel = .5                                                
fall = 1
fall.recover = 1
fall.recovertime = 120
p1stateno = 3002
id = 3000
kill = 0

[State 220, Explod]
type = Explod
triggerall = var(22)
trigger1 = MoveHit
anim = 17008
pos = -10, -50
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 1000, 7]
type = ChangeState
Triggerall = animelemtime(2) > 0 
trigger1 = Vel Y + Pos Y >= 0
value = 3001
ctrl = 1

[StateDef 3001]
type = s
MoveType = I
VelSet = 5, 0
Anim = 3001
SprPriority = 2 
ctrl=0

[State 3035, 1]
type = AfterImage
trigger1 = AnimElem = 1
time = 1
length = 9
framegap = 4
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State -3, hop]
type = PlaySnd
trigger1 = !time 
value = 2+(var(32)*10),11

[State 105, VelMul]
type = VelMul
trigger1 = 1
x = .94

[State 1001, 0]
type = PosSet
trigger1 = !time
y = 0

[State 1001, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 

[StateDef 3002]
type    = A                      
movetype= A                    
physics = N 
VelSet = 0, 0
Anim = 3002
SprPriority = 2 
ctrl=0

[State 3035, 1]
type = AfterImage
trigger1 = AnimElem = 1
time = 1
length = 9
framegap = 4
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 220, Explod]
type = Explod
triggerall = var(22)
trigger1 = MoveHit
anim = 17008
pos = -10, -50
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 1015, bind]
type = BindToTarget
trigger1 = animelemtime(5) = 18 
ID = 3000
pos = 0, -20, foot

[State 11020, stay]
type = PosFreeze
trigger1 = (animelemno(0) = [1, 7])
value = 1 

[State 1000, fx]
type = Explod
trigger1 = animelemtime(5) = 19
anim = 3003
pos = -75,-75
vel = 20,20
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = 8
ignorehitpause = 0

[State 1000, fx]
type = Explod
trigger1 = animelemtime(5) = 19
anim = 3004
pos = 75,-75
vel = -20,20
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = 8
ignorehitpause = 0

[State 1000, fx]
type = Explod
trigger1 = animelemtime(7) = 5
anim = 3005
pos = -75,75
vel = 20,-20
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = 30
ignorehitpause = 0

[State 1000, fx]
type = Explod
trigger1 = animelemtime(7) = 5
anim = 3006
pos = 75,75
vel = -20,-20
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = 30
ignorehitpause = 0

[State 240, 9]
type = HitDef
trigger1 = animelem = 6 
trigger2 = animelem = 8 
animtype = up
air.animtype = up
fall.animtype = up
damage = 90, 0  
hitsound = s3+(var(32)*2),20   
guardsound = s3+(var(32)*2), 12
sparkno = s17003+(var(31)*10001) 
sparkxy = -10, -30    
guard.sparkno = s17501+(var(31)*10000)
guard.sparkxy = 0, -80         
attr = A, HA  
guardflag = M                  
hitflag = MAF  
priority = 5, Hit                                          
pausetime = 0,50                                                                  
ground.velocity = 0,0                            
air.velocity = 0,0                             
guard.velocity = -12                                  
guard.pausetime = 11,11                            
guard.slidetime = 22                               
guard.hittime = 22                             
guard.ctrltime = 22                                
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0 
getpower = 0,0                 
yaccel = .5     
numhits = 2                                           
fall = 1
fall.recover = 1
fall.recovertime = 120
id = 3000
kill = 0

[State 1001, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 3007
ctrl = 1 

[StateDef 3007]
type    = A                      
movetype= A                    
physics = N 
VelSet = 0, 0
Anim = 3007
SprPriority = -1 
ctrl=0

[State 1000, fx]
type = Explod
trigger1 = animelem = 2
anim = 3100
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
id = 1000

[State 220, Explod]
type = Explod
triggerall = var(22)
trigger1 = MoveHit
anim = 17008
pos = -10, -50
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 1000, remove fx]
type = RemoveExplod
trigger1 = animelemno(0) > 11
ID = 1000

[State 1001, end]
type = posadd
trigger1 = !time
y = -20

[State 1000, 9]
type = HitDef
trigger1 = animelem= 9
attr = A, HA    
animtype = hard 
damage = 20, 5  
guardflag = H   
hitflag = MAF  
hitsound = s3+(var(32)*2),20   
guardsound = s3+(var(32)*2), 12
sparkno = s17003+(var(31)*10001)  
sparkxy = -10, -30    
guard.sparkno = s17501+(var(31)*10000) 
priority = 5, Hit                                          
pausetime = 20,30
ground.slidetime = 17
ground.hittime = 17
guard.hittime = 17
guard.slidetime = 17
guard.ctrltime = 24                                                                  
ground.velocity = 0,0
guard.velocity = -11.1796875
air.type = High
air.velocity = -1,8
air.hittime = 2
air.juggle = 0
getpower= 0,0
givepower = 16,16
p2stateno = 1350
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = 0.5
fall.xvelocity = -2
fall.yvelocity = -6
fall.envshake.time = 14
fall.envshake.freq = 180
fall.envshake.ampl = -4
envshake.ampl = 7       
envshake.freq = 50
envshake.time = 32 
getpower= 0,0

[State 300, Land]
type = PlaySnd
triggerall = NumExplod(12001) != 2
trigger1 = P2Stateno = 1352 && P2MoveType = H
trigger2 = P2Stateno = 1355 && P2MoveType = H
value = 2+(var(32)*10),9
persistent = 0

[State 3303, Explod]
type = Explod
triggerall = NumExplod(12001) != 2
trigger1 = P2Stateno = 1352 && P2MoveType = H
trigger2 = P2Stateno = 1355 && P2MoveType = H
anim = 12001+(var(31)*10000)
pos = 0,0
id = 12001
postype = p2  ;p2,front,back,left,right
sprpriority = 2
ownpal = 1
persistent = 0

[State 3303, Explod]
type = Explod
triggerall = NumExplod(12001) != 2
trigger1 = P2Stateno = 1352 && P2MoveType = H
trigger2 = P2Stateno = 1355 && P2MoveType = H
anim = 12002+(var(31)*10000)
pos = 0,0
id = 12001
postype = p2  ;p2,front,back,left,right
sprpriority = 0
ownpal = 1
persistent = 0

[State 11020, stay]
type = PosFreeze
trigger1 = (animelemno(0) = [1, 12])
value = 1 

[State 0, VelSet]
type = gravity
trigger1 = AnimElem = 13, > 0

[State 40, 6]
type = ChangeState
trigger1 = Pos Y + Vel Y >= 0
value = 3008

[StateDef 3008]
type = s
MoveType = I
VelSet = 0, 0
Anim = 1049
SprPriority = 2 
ctrl=0

[State 1000, remove fx]
type = RemoveExplod
trigger1 = !time 

[State 1001, 0]
type = PosSet
trigger1 = !time
y = 0

[State 1001, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 

;Kagerou
[Statedef 3010]
type    = S                      
movetype= A                    
physics = N                     
juggle  = 0             
ctrl = 0                       
anim = 3010 
poweradd= 0                               
sprpriority = 2 
velset=0,0
facep2 = 1

[State 1000: Helper]
type = Helper
triggerall = var(31) = 0
trigger1 = !numhelper(40000)
trigger1 = prevstateno = [1000,1045]
helpertype = Normal
name = "SuperCancel"
id = 40000
pos = 0, 0 ;50
postype = left
facing = 1
stateno = 40000
keyctrl = 0
ownpal = 1
ontop = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1
persistent = 0

[State 1000, remove fx]
type = RemoveExplod
trigger1 = !time 

[State 240, 9]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time = 0 
animtype = up
air.animtype = up
fall.animtype = up
damage = 90, 0  
hitsound = s3+(var(32)*2),7
guardsound = s3+(var(32)*2), 12
sparkno = s17002+(var(31)*10000)
sparkxy = -10, -80    
guard.sparkno = s17501+(var(31)*10000)
guard.sparkxy = 0, -80         
attr = S, HA  
guardflag = M                  
hitflag = MAF  
priority = 5, Hit                                          
pausetime = 10,33                                                                  
ground.velocity = -2,-13                            
air.velocity = -2,-13 
ground.hittime  = 200 
air.hittime = 200 ;FOR STAND USERS MUWHAHAHAHAHAHA                              
guard.velocity = -12                                  
guard.pausetime = 11,11                            
guard.slidetime = 22                               
guard.hittime = 22                             
guard.ctrltime = 22                                
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0  
getpower = 0,0                
yaccel = .5                                                
fall = 1
fall.recover = 1
fall.recovertime = 120
p1stateno = 3011
kill = 0

[State 200, snd]
type=playsnd
trigger1= animelem=4 
value=200,8
channel=0 
volume = 200 

[State 2000, VarSet]
type = VarSet
trigger1 = time = 0 ;Superpause tick error fix.
var(6) = 29

[State -2, PalFX]
type = PalFX
triggerall = var(31) = 0
trigger1 = prevstateno = 1051
trigger1 = time < 17
time = 1
add = 220,0,10;255,255,255
sinadd = 0,0,0
invertall = 0
color = 256
ignorehitpause = 1
persistent = 2

[State -2, PalFX]
type = PalFX
triggerall = var(31) = 1
trigger1 = prevstateno = [1050,1500]
trigger1 = time < 17
time = 1
add = 255,255,255
sinadd = 0,0,0
invertall = 0
color = 256
ignorehitpause = 1
persistent = 2

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = time = [1,28]
flag = noBG
flag2 = noFG

[State 13000, EnvColor]
type = EnvColor
trigger1 = !time
value = 255,255,255
time = 4
under = 1
ignorehitpause = 1
persistent = 0

[State 2010, Pause]
Type = SuperPause
Trigger1 = time = 1
Time = 33
movetime = 33
anim = -1
sound = s3+(var(32)*2),10
Pos = 14, -88
Darken = 0
UnHittAble = 1
poweradd = -1000
p2defmul = 1

[State 6001, pause]
type = Explod
trigger1 = time = 0
anim = 15200-(var(31)*200)
pos = 3,-33
postype = p1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
supermove = 1
removetime = 28
sprpriority = -2
ownpal = 1
[State 6001, pause]
type = Explod
trigger1 = time = 0
anim = 15201-(var(31)*200)
pos = 3,-33
postype = p1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
supermove = 1
removetime = 28
sprpriority = 4
ownpal = 1

[State 2000, 0]
type = NotHitBy
trigger1 = (animelemno(0) = [1, 5])
value = sca

[State 2010: EnvColor]
type = EnvColor
trigger1 = animelem = 1
value = 0,0,0
time = 28
under=1

[State 2010]
type = ChangeState
trigger1 = !animtime 
value = 0
ctrl=1

[Statedef 3011]
type    = S
physics = N
ctrl = 0
anim = 3011
sprpriority = 1

[State 7650, bound]
type=screenbound
trigger1= 1
value=0
movecamera=1,1

[State -3, hop]
type = PlaySnd
trigger1 = animelem = 5
value = 2+(var(32)*10),12

[State 105, 1]
type = StateTypeSet
trigger1 = animelem = 5
statetype = A

[State 105, 1]
type = VelSet
trigger1=animelem = 5
x = -6
y = -1.6171875 ;0.694854736328125

[State 1030, 1]
type = VelAdd
trigger1 = animelemtime(5) > 0 
Y = 0.922332763671875

[State 105, 3]
type = ChangeState
Triggerall = animelemtime(5) > 0 
trigger1 = Vel Y + Pos Y >= 0
value = 3012

[Statedef 3012]
type    = S                      
movetype= A                    
physics = N                     
juggle  = 0             
ctrl = 0                       
anim = 3012 
poweradd= 0                               
sprpriority = -1 
velset=0,0
facep2 = 1

[State 200, snd]
type=playsnd
trigger1= animelem=13 
value=200,9
channel=0 
volume = 200 

[State 1000, fx]
type = Explod
trigger1 = animelem = 8
anim = 13010
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
supermovetime = 9999999999999999
pausemovetime = 999999999999999
id = 1000

[State 1000, remove fx]
type = RemoveExplod
trigger1 = animelemno(0) > 13
ID = 1000

[State 7650, bound]
type=screenbound
trigger1= 1
value=0
movecamera=1,1

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = time = [10,38]
flag = noBG
flag2 = noFG

[State 2010, Pause]
Type = SuperPause
Trigger1 = time = 10
Time = 28
movetime = 28
anim = -1
Pos = 14, -88
Darken = 0
UnHittAble = 1
p2defmul = 1

[State 1000, 5]
type = Projectile
Trigger1 = animelemtime(13) = 2 
ProjAnim = 3013
Projhitanim = -1
ProjStageBound = 40
ProjEdgeBound = 40
ProjHeightBound = -240, 1
ProjID = 3010
projpriority = 1
projremovetime = 174
offset = 68, -80        
velocity = 2,-7
hitflag = MAF    
attr = S, SA
damage    = 30,1
animtype  = diagup
guardflag = M
pausetime = 0,11
guard.pausetime = 0,2
sparkno = s17003+(var(31)*10001)
sparkxy = 0, -10
hitsound = s3+(var(32)*2),9
guardsound = s3+(var(32)*2), 12 
guard.sparkno = s17502+(var(31)*10000)
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -12.61205725171355925864938338293
air.type = High
air.velocity = -4,-7.77564102564102564102564102563869
air.hittime = 13
air.juggle = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 120
getpower = 0,0
givepower = 16,16
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
[State 1000, 5]
type = Projectile
Trigger1 = animelemtime(13) = 2 
ProjAnim = 3013
Projhitanim = -1
ProjStageBound = 40
ProjEdgeBound = 40
ProjHeightBound = -240, 1
ProjID = 3010
projpriority = 1
projremovetime = 174
offset = 68, -79       
velocity = 2,-7
hitflag = MAF    
attr = S, SA
damage    = 30,1
animtype  = diagup
guardflag = M
pausetime = 0,11
guard.pausetime = 0,2
sparkno = s17003+(var(31)*10001)
sparkxy = 0, -10
hitsound = s3+(var(32)*2),20
guardsound = s3+(var(32)*2), 12 
guard.sparkno = s17502+(var(31)*10000)
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -12.61205725171355925864938338293
air.type = High
air.velocity = -4,-7.77564102564102564102564102563869
air.hittime = 13
air.juggle = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 120
getpower = 0,0
givepower = 16,16
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
[State 1000, 5]
type = Projectile
Trigger1 = animelemtime(13) = 2 
ProjAnim = 3013
Projhitanim = -1
ProjStageBound = 40
ProjEdgeBound = 40
ProjHeightBound = -240, 1
ProjID = 3010
projpriority = 1
projremovetime = 174
offset = 68, -78        
velocity = 2,-7
hitflag = MAF    
attr = S, SA
damage    = 30,1
animtype  = diagup
guardflag = M
pausetime = 0,11
guard.pausetime = 0,2
sparkno = s17003+(var(31)*10001)
sparkxy = 0, -10
hitsound = s3+(var(32)*2),20
guardsound = s3+(var(32)*2), 12 
guard.sparkno = s17502+(var(31)*10000)
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -12.61205725171355925864938338293
air.type = High
air.velocity = -4,-7.77564102564102564102564102563869
air.hittime = 13
air.juggle = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 120
getpower = 0,0
givepower = 16,16
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
[State 1000, 5]
type = Projectile
Trigger1 = animelemtime(13) = 2 
ProjAnim = 3013
Projhitanim = -1
ProjStageBound = 40
ProjEdgeBound = 40
ProjHeightBound = -240, 1
ProjID = 3010
projpriority = 1
projremovetime = 174
offset = 68, -77        
velocity = 2,-7
hitflag = MAF    
attr = S, SA
damage    = 30,1
animtype  = diagup
guardflag = M
pausetime = 0,11
guard.pausetime = 0,2
sparkno = s17003+(var(31)*10001)
sparkxy = 0, -10
hitsound = s3+(var(32)*2),20
guardsound = s3+(var(32)*2), 12 
guard.sparkno = s17502+(var(31)*10000)
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -12.61205725171355925864938338293
air.type = High
air.velocity = -4,-7.77564102564102564102564102563869
air.hittime = 13
air.juggle = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 120
getpower = 0,0
givepower = 16,16
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
[State 1000, 5]
type = Projectile
Trigger1 = animelemtime(13) = 2 
ProjAnim = 3013
Projhitanim = -1
ProjStageBound = 40
ProjEdgeBound = 40
ProjHeightBound = -240, 1
ProjID = 3010
projpriority = 1
projremovetime = 174
offset = 68, -76        
velocity = 2,-7
hitflag = MAF    
attr = S, SA
damage    = 30,1
animtype  = diagup
guardflag = M
pausetime = 0,11
guard.pausetime = 0,2
sparkno = s17003+(var(31)*10001)
sparkxy = 0, -10
hitsound = s3+(var(32)*2),20
guardsound = s3+(var(32)*2), 12 
guard.sparkno = s17502+(var(31)*10000)
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -12.61205725171355925864938338293
air.type = High
air.velocity = -4,-7.77564102564102564102564102563869
air.hittime = 13
air.juggle = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 120
getpower = 0,0
givepower = 16,16
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5

[State 1001, 0]
type = PosSet
trigger1 = !time
y = 0

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = !animtime
var(16) = 0
ignorehitpause = 1

[State 2010]
type = ChangeState
trigger1 = !animtime 
value = 0
ctrl=1
;---------------------------------------------------------------------------
[Statedef 3020]
type    = S                      
movetype= A                    
physics = N                     
juggle  = 10             
ctrl = 0                       
anim = 3020 
poweradd= 0                               
sprpriority = -1 
velset=0,0
facep2 = 1

[State -2, juggle checking always juggle]
type = AssertSpecial
trigger1 = enemynear,StateType != L
flag = NoJuggleCheck

[State 1000, remove fx]
type = RemoveExplod
trigger1 = !time 

[State 1000: Helper]
type = Helper
triggerall = var(31) = 0
trigger1 = !numhelper(40000)
trigger1 = prevstateno = [1000,1045]
helpertype = Normal
name = "SuperCancel"
id = 40000
pos = 0, 0 ;50
postype = left
facing = 1
stateno = 40000
keyctrl = 0
ownpal = 1
ontop = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1
persistent = 0

[State 1000: Helper]
type = Helper
triggerall = var(31) = 0
trigger1 = !numhelper(40005)
trigger1 = prevstateno = [3010,3011]
helpertype = Normal
name = "DreamCancel"
id = 40005
pos = 0, 0 ;50
postype = left
facing = 1
stateno = 40005
keyctrl = 0
ownpal = 1
ontop = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1
persistent = 0

[State 200, snd]
type=playsnd
trigger1= animelem=11 
value=200,12
channel=0 
volume = 200 
[State 200, snd]
type=playsnd
trigger1= animelem=14 
value=1000,6
volume = -50
[State 5100, EnvShake]
type = EnvShake
trigger1 = animelem = 14
time = 10
freq = 180
ampl = -9 

[State 240, 9]
type = HitDef
triggerall = var(40) < 1 || var(57) > 0 || var(16) > 0
trigger1 = time = 0 
animtype = up
air.animtype = up
fall.animtype = up
damage = ifelse(enemynear,gethitvar(hitcount)<3,450,ifelse(enemynear,gethitvar(hitcount)<6,300,200)),10
hitsound = s3+(var(32)*2),9
guardsound = s3+(var(32)*2), 12
sparkno = s17002+(var(31)*10000)
sparkxy = -10, -25    
guard.sparkno = s17502+(var(31)*10000)
guard.sparkxy = 0, -25        
attr = S, HA  
guardflag = H                  
hitflag = MAF 
priority = 5, Hit                                          
pausetime = 32,33                                                                  
ground.velocity = -2,-11                            
air.velocity = -2,-11                              
guard.velocity = -12                                  
guard.pausetime = 20,20                            
guard.slidetime = 22                               
guard.hittime = 22                             
guard.ctrltime = 22                                
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0                  
yaccel = .5                                                
fall = 1
fall.recover = 1
fall.recovertime = 120
envshake.ampl = 7       
envshake.freq = 50
envshake.time = 32 
getpower = 0
givepower = 31, 31 

[State 240, 9]
type = HitDef
triggerall = (p2stateno = [5101,5119]) 
trigger1 = time = 0 
animtype = light
damage = 300, 0   
hitsound = s3+(var(32)*2),9
guardsound = s3+(var(32)*2), 12
sparkno = s17002+(var(31)*10000)
sparkxy = -10, -25    
guard.sparkno = s17502+(var(31)*10000)
guard.sparkxy = 0, -25        
attr = S, HA  
guardflag = M                  
hitflag = FD
priority = 5, Hit                                          
pausetime = 32,33                                                                  
ground.velocity = -2,-2                            
air.velocity = -2,-2  
down.velocity = 0,0                              
guard.velocity = -12                                  
guard.pausetime = 0,11                            
guard.slidetime = 22                               
guard.hittime = 22                             
guard.ctrltime = 22                                
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0                  
yaccel = .5                                                
fall = 1
fall.recover = 0
envshake.ampl = 7       
envshake.freq = 50
envshake.time = 32 
getpower = 0
givepower = 31, 31   

[State 3303, Explod]
type = Explod
trigger1 = animelem = 14
anim = 12001+(var(31)*10000)
pos = 47,0
id = 12001
postype = p1  ;p2,front,back,left,right
sprpriority = 2
ownpal = 1
persistent = 0

[State 3303, Explod]
type = Explod
trigger1 = animelem = 14
anim = 12002+(var(31)*10000)
pos = 47,0
id = 12001
postype = p1  ;p2,front,back,left,right
sprpriority = 0
ownpal = 1
persistent = 0

[State 1000, fx]
type = Explod
trigger1 = animelem = 6
anim = 13020
bindtime = -1
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = -1
ignorehitpause = 0
supermovetime = 9999999999999999
pausemovetime = 999999999999999
id = 1000

[State 1000, remove fx]
type = RemoveExplod
trigger1 = animelemno(0) > 15
ID = 1000

[State 6001, pause]
type = Explod
trigger1 = !time
anim = 15300+(var(31)*200)
pos = 0,-57
postype = p1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
supermove = 1
removetime = 28
sprpriority = -2
ownpal = 1
[State 6001, pause]
type = Explod
trigger1 = !time
anim = 15301+(var(31)*200)
pos = 0,-57
postype = p1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
supermove = 1
removetime = 28
sprpriority = 4
ownpal = 1

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 2000, VarSet]
type = VarSet
trigger1 = time = 0 ;Superpause tick error fix.
var(6) = 29

[State -2, Helper]
type = Helper
triggerall = var(31) = 1
triggerall = !numhelper(40001)
trigger1 = time = 29
helpertype = normal
name = "HSDM"
ID = 40001
stateno = 40001
pos = 160,120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1

[State -2, Helper]
type = Helper
triggerall = var(31) = 1
triggerall = !numhelper(40003)
trigger1 = time = 5
helpertype = normal
name = "H.Port"
ID = 40003
stateno = 40003
pos = 160,120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1

[State 3000, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,28]
flag = noBG
flag2 = noFG

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = NumHelper(40001) = 1 
flag = noBG
flag2 = noFG
ignorehitpause = 1

[State 13000, EnvColor]
type = EnvColor
trigger1 = !time
value = 255,255,255
time = 4
under = 1
ignorehitpause = 1
persistent = 0

[State 2010, Pause]
Type = SuperPause
Trigger1 = time = 1
Time = 33
movetime = 33
anim = -1
sound = s3,11+(var(32)*4)
Pos = 14, -88
Darken = 0
UnHittAble = 1
poweradd = -2000
p2defmul = 1

[State 2010: EnvColor]
type = EnvColor
trigger1 = animelem = 1
value = 0,0,0
time = 28
under=1

[State 1030, 1]
type = StateTypeSet
trigger1 = animelem = 15
statetype = A

[State 280, go]
type = VelSet
trigger1 = animelem = 15
x = 3.91796875
y = -12.595703125 ;11.951171875

[State 1030, 1]
type = VelAdd
trigger1 = animelemtime(15) > 0 
Y = 0.64453125

[State 1000, 7]
type = ChangeState
Triggerall = animelemtime(15) > 0 
trigger1 = Vel Y + Pos Y >= 0
value = 1032
ctrl = 1  





;---------------------------------------------------------------------------
; CUSTOM HIT ANIMS
;---------------------------------------------------------------------------
[Statedef 5021]
type = A
movetype = H
velset = 0, 0

[State 5021, this is it]
type = Nothitby
trigger1 = 1
value = SCA

[State 5021, this is it]
type = HitFallSet
trigger1 = !time
value = ifelse(alive, 0, -1)

[State 5020, 1]; Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = !Time && (GetHitVar(animtype) != [3, 5])
value = ifelse((GetHitVar(airtype) = 1), 5000, 5010) + GetHitVar(animtype)

[State 5020, 2]; Anim for HIT_BACK
type = ChangeAnim
trigger1 = !Time && (GetHitVar(animtype) = [3, 5])
value = 5030

[State 5020, 3]; Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = !Time && (GetHitVar(animtype) = [4, 5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype); 5051 - 4 + type

[State 5020, 4]; Freeze anim
type = ChangeAnim
trigger1 = Time
value = anim

[State 5020, 5]
type = SelfState
trigger1 = HitShakeOver
value = 5030

[State 5020, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000 || anim = 5010
persistent = 0
time = 6
waveform = square

[State 5020, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001 || anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110, -1, -.3

[State 5020, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012 || anim = 5002 || anim = 5030 || (anim = [5051, 5059])
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

[Statedef 5205]
type= A
physics= N
movetype= H
 
[State 5205, End]
type= selfstate
trigger1= 1
value= ifelse(pos y<-20, 5210, 5200)
;---------------------------------------------------------------------------
; HITA_UP (initial going up)
[Statedef 1350]
type    = U;A
movetype= H
physics = N
ctrl = 0

[State 5030, 4]
type = ChangeState
trigger1 = !time
trigger1 = statetype != A
value = stateno + 4 ;HITA_FALL

[State 1250, StateTypeSet]
type = StateTypeSet
trigger1 = !time
statetype = A       ;S,A,C,L

[State 1250, ChangeAnim]
type = ChangeAnim
trigger1 = !hitshakeover;!time
value = 5030+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000)

[State 5030, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 5030, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1107, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 5030, 4]
type = ChangeState
trigger1 = HitShakeOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = stateno + 1 ;HITA_FALL
;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 1351]
type    = A
movetype= H
physics = N

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000)
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000)
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069]) && (Anim != [105051, 105059]) && (Anim != [105061, 105069])
trigger2 = Anim != 5090+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000) ;Not if hit off ground anim
value = 5050+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000)

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [105050,105059]
trigger1 = Vel Y >= ifelse(anim = 105050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y + Pos Y >= 0
value = stateno + 1 ;HIT_BOUNCE

;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 1352]
type    = L
movetype= H
physics = N

[State 1352, NotHitBy]
type = NotHitBy
trigger1 = time < 6
value = SCA
time = 1

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim2
trigger1 = !time
value = stateno+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*30000)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = Name = "cvsfelicia" && authorname = "Jesuszilla"
trigger1 = !time
value = 5100

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;HIT_LIEDOWN

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = time = 5
value = stateno + 1

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 1353]
type    = L
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
trigger1 = animtime = 0
value = 5160+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000)

[State 1207, VelSet]
type = VelSet
trigger1 = time = 0
x = ifelse((facing=enemynear,facing),-gethitvar(fall.xvel),gethitvar(fall.xvel))
y = gethitvar(fall.yvel)

[State 5101, 4]
type = PosSet
trigger1 = animelem = 3
y = 10

[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .4

[State 5101, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 12
type = SelfState
value = 5110

;---------------------------------------------------------------------------
; HITG_SHAKE
[Statedef 1354]
type    = S
movetype= H
physics = N
velset = 0,0
p2facing = 1

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000),5010+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000)) + GetHitVar(animtype)

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000)

[State 5000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5000, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5000, 7]
type = ChangeState
trigger1 = HitShakeOver
value = stateno + 1

[State 5000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140
;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 1355]
type    = L
movetype= H
physics = N

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 0, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, 1 ;Hit ground

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = !SelfAnimExist(5100+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000) + (anim % 10))
value = 5100+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000)

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = SelfAnimExist(5100+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000) + (anim % 10))
value = 5100+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000) + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = SelfState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;HIT_LIEDOWN

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = stateno + 1;5101

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 1356]
type    = L
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger1 = anim != [105101,105109]
trigger2 = !SelfAnimExist(5160+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000) + (anim % 10))
value = 5160+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000)

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [105101,105109]
trigger1 = SelfAnimExist(5160+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000) + (anim % 10))
value = 5160+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000) + (anim % 10)

[State 1256, VelSet]
type = VelSet
trigger1 = time = 0
y = -4.5

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = 20

[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .4

[State 5101, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 12
type = SelfState
value = 5110

;Hit By One Inch Punch (For Pausetime)
[Statedef 1406]
type    = S
movetype= H
physics = N
velset = 0,0

[State 803, ChangeAnim2]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000),5010+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000)) + GetHitVar(animtype)

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000)

[State 5000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000) + GetHitVar(animtype)))
value = 5047+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000) + GetHitVar(animtype) ;5051 - 4 + type

[State 5000, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

[State 5000, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 1403

;Hit By One Inch Punch (Air Fall)
[Statedef 1403]
type    = A
movetype= H
physics = N
velset = 0,0

[State 803, ChangeAnim2]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3340, Vel]
type = VelSet
trigger1 = time = 0
x = ifelse((facing=enemynear,facing),7,-7)
y = -4

[State 3340, Gravity]
type = VelAdd
trigger1 = Time > 0
y = .5

[State 3340, Anim 5050]
type = ChangeAnim
trigger1 = !time
persistent = 0
value = 5050+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000)

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 1404 ;HIT_BOUNCE

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [105051,105059]) || (anim = [105061,105069]), 0, 25)
value = 1404 ;HIT_BOUNCE

;Hit By One Inch Punch (Slide)
[Statedef 1404]
type    = S
movetype= H
physics = N
velset = 0,0

[State 803, ChangeAnim2]
type = NotHitBy
trigger1 = 1
value = SCA

[State 803, ChangeAnim2]
type = ChangeAnim2
trigger1 = !time
value = 1403+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*30000)

[State 0, PosSet]
type = PosSet
trigger1 = !time
y = 0

[State InitVel]
type = VelSet
trigger1 = !time
X = ifelse((facing=enemynear,facing),3.56535983085632,-3.56535983085632)

[State Accel]
type = VelAdd
trigger1 = Vel X != 0
X = ifelse((facing=enemynear,facing),-0.176470592617989,0.176470592617989)

[State 802, VelSet]
type = VelSet
trigger1 = Time = 20
x = 0

[State 802, SelfState]
type = ChangeState
trigger1 = Vel X = 0
value = 1405

;Hit By One Inch Punch (Liedown)
[Statedef 1405]
type    = S
movetype= H
physics = N

[State 803, ChangeAnim2]
type = NotHitBy
trigger1 = 1
value = SCA

[State 803, ChangeAnim2]
type = ChangeAnim2
trigger1 = !time
value = 1404+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*30000)

[State 803, SelfState]
type = SelfState
trigger1 = animtime = 0
value = Ifelse(alive,5120,5150)

; HITG_SHAKE
[Statedef 1354]
type    = S
movetype= H
physics = N
velset = 0,0
p2facing = 1

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000),5010+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000)) + GetHitVar(animtype)

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000)

[State 5000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5000, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5000, 7]
type = ChangeState
trigger1 = HitShakeOver
value = stateno + 1

[State 5000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140
;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 1355]
type    = L
movetype= H
physics = N

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = !SelfAnimExist(5100+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000) + (anim % 10))
value = 5100+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000)

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = SelfAnimExist(5100+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000) + (anim % 10))
value = 5100+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000) + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = SelfState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;HIT_LIEDOWN

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = stateno + 1;5101

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 1356]
type    = L
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger1 = anim != [105101,105109]
trigger2 = !SelfAnimExist(5160+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000) + (anim % 10))
value = 5160+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000)

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [105101,105109]
trigger1 = SelfAnimExist(5160+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000) + (anim % 10))
value = 5160+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000) + (anim % 10)

[State 1256, VelSet]
type = VelSet
trigger1 = time = 0
y = -4.5

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = 20

[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .4

[State 5101, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 12
type = SelfState
value = 5110
;---------------------------------------------------------------------------
[Statedef 950]
type = S
movetype = A
physics = N
anim = 5945
ctrl = 0
velset = -16, 0

[State 805, hitspark]
type = Explod
trigger1 = !time
anim = 6006
pos = 23, -66
postype = p1
ontop = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 950, PlaySnd]
type = PlaySnd
trigger1 = !time
value = 5,1

[State 810,TargetBind]
type = TargetState
trigger1 = Time = 0
value = 955

[State 810,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 194, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 105, VelMul]
type = VelMul
trigger1 = 1
x = .75

[State 4100,4]
type = PlayerPush
trigger1 = P2BodyDist X < 0
value = 0

[State 105,End]
type = ChangeState
trigger1 = Time >= 32
value = 0
ctrl = 1

;------------------------ 
[Statedef 955]
type = S
movetype = H
physics = N
ctrl = 0
velset = 0, 0
facing = enemy,facing
facep2 = 1

[State 810,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1040,ChangeAnim]
type = ChangeAnim
triggerall = Time = 0 && SelfAnimExist(5940)
trigger1 = authorname = "Hh" || authorname = "M.M.R." || authorname = "Mouser" || authorname = "CAMRAT Type KOF"
trigger2 = authorname = "Tin" || authorname = "Nyankoro" || authorname = "ryokucha"
trigger3 = authorname = "Third" || authorname = "adamskie" || authorname = "Bad Darkness" || authorname = "Warusaki3"
trigger4 = AuthorName = "NHK" || AuthorName = "Nyankoro" || AuthorName = "NyanKiryu"
trigger5 = AuthorName = "aoao" || AuthorName = "Mr.X-file"
trigger6 = AuthorName = "laiso_7" || AuthorName = "yu-go" || AuthorName = "MEKA"
trigger7 = AuthorName = "CROSSCAT" || AuthorName = "CrossCat"
trigger8 = AuthorName = "Jesuszilla" || AuthorName = "Vans"
trigger9 = AuthorName = "N64Mario" && Name = "Zero" && FVar(17) = 1
trigger10 = AuthorName = "KoopaKoot" 
value = 5940

[State 1040,ChangeAnim]
type = ChangeAnim
triggerall = Time = 0 && SelfAnimExist(5910) && !SelfAnimExist(5940)
trigger1 = authorname = "Hh" || authorname = "M.M.R." || authorname = "Mouser" || authorname = "CAMRAT Type KOF"
trigger2 = authorname = "Tin" || authorname = "Nyankoro" || authorname = "ryokucha"
trigger3 = authorname = "Third" || authorname = "adamskie" || authorname = "Bad Darkness" || authorname = "Warusaki3"
trigger4 = AuthorName = "NHK" || AuthorName = "Nyankoro" || AuthorName = "NyanKiryu"
trigger5 = AuthorName = "aoao" || AuthorName = "Mr.X-file"
trigger6 = AuthorName = "laiso_7" || AuthorName = "yu-go" || AuthorName = "MEKA"
trigger7 = AuthorName = "CROSSCAT" || AuthorName = "CrossCat"
trigger8 = AuthorName = "Jesuszilla" || AuthorName = "Vans"
trigger9 = AuthorName = "N64Mario" && Name = "Zero" && FVar(17) = 1
value = 5910

[State 820,ChangeAnim2]
type = ChangeAnim
trigger1 = Time = 0 && anim != 5940 && anim != 5910
value = 5007

[State 194, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 4100,4]
type = PlayerPush
trigger1 = P2BodyDist X < 0
value = 0

[State 105,End]
type = SelfState
trigger1 = Time >= 29
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------
[Statedef 5071]
type    = A
movetype= H
physics = N

[State 5071, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5071, 2] ;Acceleration
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5071, 3] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y + Vel y >= 0
type = ChangeState
value = 5100 
;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------
[Statedef -2]

[State -2, RemoveExplod]
type = RemoveExplod
triggerall = numexplod(1000)
trigger1 = Stateno = [0,199]
id = 1000

;Suzume Bachi Direction Stuff 
[State 800, VarSet]
type = VarSet
trigger1 = command != "holdup" || command != "holdback" || command != "holddown" || command != "holdfwd"
var(10) = 0
ignorehitpause = 1
[State 800, VarSet]
type = VarSet
trigger1 = command = "holdup" 
var(10) = 1 
[State 800, VarSet]
type = VarSet
trigger1 = command = "holdfwd"
var(10) = 3 
[State 800, VarSet]
type = VarSet
trigger1 = command = "holddown"
var(10) = 5 
[State 800, VarSet]
type = VarSet
trigger1 = command = "holdback"
var(10) = 7 
[State 800, VarSet]
type = VarSet
trigger1 = command = "holdup" && command = "holdfwd"
var(10) = 2 
[State 800, VarSet]
type = VarSet
trigger1 = command = "holdfwd" && command = "holddown"
var(10) = 4 
[State 800, VarSet]
type = VarSet
trigger1 = command = "holddown" && command = "holdback"
var(10) = 6 
[State 800, VarSet]
type = VarSet
trigger1 = command = "holdup" && command = "holdback"
var(10) = 8 

[State -2, Helper]
type = Helper
triggerall = !numhelper(50000) && WinKO 
trigger1 = movehit
trigger2 = projhittime(0) = 1
trigger3 = var(55) = 1410 || var(55) = 3000 || var(55) = 3100
helpertype = normal
name = "K.O."
ID = 50000
stateno = 50000
pos = 160,120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1

; Var Helper
[State -2, 0]
type = Helper
triggerall = !NumHelper(247)
trigger1 = !Time
helpertype = normal
name = "Var"
ID = 247
pos = 0,0
postype = p1
stateno = 247
keyctrl = 0

[State -2, DEBUG]
trigger1 = 1
type = DisplayToClipboard
ignorehitpause = 1
text = "Limiter =%d Bachi = %d Juggle = %d"
params = var(40), var(10), var(16)

[State 191, camera]
type=helper
trigger1= !numhelper(7650)
helpertype=normal
stateno=7650
ID=7650
name="Camera"
postype=p1

; Do not modify anything below.
[State 300, Land]
type = PlaySnd
triggerall = numenemy
triggerall = enemynear, animelemtime(1) = 1
trigger1 = P2Stateno = 1404 && P2MoveType = H
value = 5,6
persistent = 0

[State 300, Land]
type = PlaySnd
triggerall = numenemy
triggerall = enemynear, animelemtime(1) = 1
trigger1 = P2Stateno = 2132 && P2MoveType = H
value = 5,14
persistent = 0

[State 1000: Helper]
type = explod
triggerall = numenemy
triggerall = enemynear, animelemtime(1) = 1
trigger1 = P2Stateno = 2132 && P2MoveType = H
anim = 12505
pos = 10,-54
postype = p2  ;p2,front,back,left,right
sprpriority = 2
ownpal = 1
persistent = 0

[State 11030, remove fx]
type = RemoveExplod
trigger1 = stateno != 2000
ID = 2000

[State 11030, remove fx]
type = RemoveExplod
trigger1 = stateno != 194
ID = 194

[State -2, Stop]
type = StopSnd
trigger1 = stateno != 101
channel = 27

[State -2, Width]
type = Width
Trigger1= Movetype != h 
edge = 8,0
ignorehitpause=1

[State -2, Jump reset]
type = VarSet
trigger1 = stateno != [40,50]
var(2) = 0

[State -2, Afterimage Remover]
type = AfterImageTime
triggerall = 1
trigger1 = MoveType = H
trigger2 = StateNo = [0,40]
trigger3 = StateNo = [52,199]
trigger4 = (StateNo = [200,749]) && PrevstateNo != 50
trigger5 = Stateno = [5000,5999]
trigger6 = Stateno = [1000,1999]
time = 0

[State -2, hitby]
type = hitby
trigger1 = life > 0
trigger1 = stateno = 5100 || stateno = 5110 || stateno = 5120
trigger1 = anim != 5120
value = SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT
time = 1

[State -2, P2 Safe Fall]
type= targetstate
trigger1= numtarget=1
trigger1= target,command="recovery"
trigger1= target,pos y>=-20 && target,vel y>0
trigger1= target,alive && target,hitfall && target,gethitvar(fall.recover)
trigger1= target,stateno=5030 || target,stateno=5035 || target,stateno=5050 || target,stateno=5071
value= 5205
ignorehitpause= 1

[State 13000, EnvColor]
type = EnvColor
trigger1 = ProjHit2010 = 1
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0
;---------------------------------------------------------------------------
;Juggle system (Based of [E]'s method) 
;---------------------------------------------------------------------------
[State -2, Air Limiter]
type = varSet
triggerall = var(56) = 0
triggerall = NumTarget
trigger1 = Target,StateType = A  
trigger2 = Target,StateNo = [120,155]  
var(40) = 1
ignorehitpause = 1

[State -2, Air Limiter]
type = varSet
trigger1 = (p2stateno = [5020,5040]) && var(16) < 1
trigger1 = (p2stateno = [154,155]) && var(16) < 1
trigger1 = (p2stateno = 5070)
var(40) = 1
ignorehitpause = 1

[State -2, Air Limiter]
type = varSet
trigger1 = var(40) > 0
trigger1 = enemynear,StateType != A  
var(40) = 0
ignorehitpause = 1

[State -2, ground combos]
type = AssertSpecial
triggerall = NumTarget
trigger1 = Target,StateType != A  
trigger2 = Target,StateNo = 1505  
flag = NoJuggleCheck

[State -2, juggle decreasing]
type = varSet
trigger1 = var(16)>0
var(16) = var(16)-1
ignorehitpause = 0

[State -2, juggle set basics]
type= varSet
triggerall= movehit = 1
trigger1 = stateno = [200,235] 
trigger2 = stateno = [400,635]
var(16)= ifelse(var(56) = 1,6,0)

[State -2, juggle set CD]
type = varSet
triggerall = movehit = 1
trigger1 = stateno = 240
trigger2 = stateno = 640
var(16) = ifelse(var(56) = 1,100,0)

[State -2, Launchers]
type = varSet
triggerall = movehit = 1 
trigger1 = stateno = 1031 
trigger2 = stateno = 1040
trigger3 = stateno = 1045
trigger4 = stateno = 3010
trigger5 = stateno = 3011
var(16) = 100
ignorehitpause = 1

[State -2, Killers]
type = varSet
trigger1 = stateno = 1011 
trigger2 = stateno = 1013
trigger3 = (stateno = [200,235]) && movehit = 1  
var(16) = 0
ignorehitpause = 1

[State -2, juggle checking regular stuff]
type = AssertSpecial
triggerall = var(16) > 0 
trigger1 = stateno = [200,235] 
trigger2 =  stateno = [400,635]
trigger3 = stateno = [250,260] 
trigger4 = stateno = 240
trigger5 = stateno = [640,699]
trigger6 = stateno = [1000,1099]
trigger7 = stateno = 3000
trigger8 = stateno = 3010
trigger9 = stateno = 3020
flag = NoJuggleCheck

[State -2, juggle checking always juggle]
type = AssertSpecial
trigger1 = stateno = 3002 
trigger2 = stateno = 3007
trigger3 = stateno = 3012
flag = NoJuggleCheck
;================================================================================
; ------- COUNTER HIT (Vans' Code, Based on Sander's Method) --------
;===============================================================================
[State -2, VarSet];Checks if opponent is in attack state
type = VarSet
triggerall = numenemy
trigger1 = enemy, movetype = a
var(56) = 1
ignorehitpause = 1

[State -2, VarSet];This resets the condition if counter not succesful and succesful
type = VarSet
triggerall = numenemy
trigger1 = enemy, movetype = i || var(57) >= 1  ;Enemy is Idle | Counter was Succesful
trigger2 = var(57) > 10 && enemy, movetype = h  ;10 ticks passed & enemy is on gethit state
var(56) = 0
ignorehitpause = 1

[State -2, VarSet];Counter Hit Succesful
type = VarSet
trigger1 = var(56) = 1 && movehit ;Counter Check Ok, Move Hit Succesfully.
trigger1 = stateno != [190,199] ;Does not activate during intros.
trigger1 = stateno != [900,979] ;Does not activate during throws.
trigger1 = stateno != [3000,3099] ;Don't activate during throws.
trigger1 = stateno != [3700,3799] ;Don't activate during throws.
trigger2 = var(56) = 1 && projhit = 1  ;Counter Check Ok, Projectile Hit Succesfully.
var(57) = 1
ignorehitpause = 1

[State -2, VarAdd];Counter Hit Timer
type = VarAdd
trigger1 = var(57) >= 1 ;Counter was succesful
var(57) = 1
ignorehitpause = 1

[State -2, VarSet];Counter Hit Reset
type = VarSet
trigger1 = var(57) >= 22 && movehit ;Reset if 22 ticks passed and move hit
trigger2 = p2movetype != h ;Reset if P2 is no longer in gethit state
trigger3 = movetype = h ;Reset if P1 is getting hit
trigger4 = var(57) >= 22 && projhit = 1 ;Reset if 22 ticks passed and projectile hit
var(57) = 0
ignorehitpause = 1

[State -2, AssertSpecial];This will award free juggles for Counter Hit.
type = AssertSpecial
trigger1 = var(57) > 0
flag = nojugglecheck

[State -2, EnvColor];This will produce a flash a la KOF2K2
type = EnvColor
triggerall = numenemy
triggerall = stateno != [800,899] ;Does not activate during intros.
triggerall = stateno != [3001,3999] ;Don't activate during Hyper Moves
triggerall = enemy, movetype = h ;Enemy was indeed HIT, otherwise this'd be retarded.
trigger1 = var(56) = 1 && movehit  ;Move hit, Ok
trigger2 = var(56) = 1 && projhit = 1 ;Projectile hit, Ok
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1
persistent = 0

[State -2, Explod];Counter Explod for P1 Side.
type = Explod
triggerall = !var(31)
triggerall = numenemy
triggerall = var(56) = 1 && numexplod(57) = 0 && teamside = 1 ;Counter Ok, Explod has not played, P1 Side
triggerall = enemy, movetype = h ;Enemy was indeed HIT, otherwise this'd be retarded.
triggerall = stateno != [900,979] ;Does not activate during throws.
triggerall = stateno != [3003,3999] ;Don't activate during Hyper Moves
trigger1 = movehit ;Move hits
trigger2 = projhit = 1 ;Projectile Hits
anim = 13000
pos = 160,234
postype = left  ;p2,front,back,left,right
removetime = -2
supermove = 1
scale = 0.5,0.5
sprpriority = 0
id = 57
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod];Counter Explod for P2 Side.
type = Explod
triggerall = !var(31)
triggerall = numenemy
triggerall = var(56) = 1 && numexplod(57) = 0 && teamside = 2 ;Counter Ok, Explod has not played, P2 Side
triggerall = enemy, movetype = h ;Enemy was indeed HIT, otherwise this'd be retarded.
triggerall = stateno != [900,979] ;Does not activate during throws.
triggerall = stateno != [3003,3999] ;Don't activate during Hyper Moves
trigger1 = movehit ;Move hits
trigger2 = projhit = 1 ;Projectile Hits
anim = 13001
pos = 160,234
postype = left  ;p2,front,back,left,right
removetime = -2
supermove = 1
scale = 0.5,0.5
sprpriority = 0
id = 57
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod];Counter Explod for P1 Side.
type = Explod
triggerall = var(31)
triggerall = numenemy
triggerall = var(56) = 1 && numexplod(57) = 0 && teamside = 1 ;Counter Ok, Explod has not played, P1 Side
triggerall = enemy, movetype = h ;Enemy was indeed HIT, otherwise this'd be retarded.
triggerall = stateno != [900,979] ;Does not activate during throws.
triggerall = stateno != [3003,3999] ;Don't activate during Hyper Moves
trigger1 = movehit ;Move hits
trigger2 = projhit = 1 ;Projectile Hits
anim = 24000
pos = 2,106+4 ;106 is the correct offset, +2 to be aligned with OrochiKOF's
postype = left  ;p2,front,back,left,right
removetime = -2
supermove = 1
sprpriority = 2
id = 57
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1

[State -2, Explod];Counter Explod for P2 Side.
type = Explod
triggerall = var(31)
triggerall = numenemy
triggerall = var(56) = 1 && numexplod(57) = 0 && teamside = 2 ;Counter Ok, Explod has not played, P2 Side
triggerall = enemy, movetype = h ;Enemy was indeed HIT, otherwise this'd be retarded.
triggerall = stateno != [900,979] ;Does not activate during throws.
triggerall = stateno != [3003,3999] ;Don't activate during Hyper Moves
trigger1 = movehit ;Move hits
trigger2 = projhit = 1 ;Projectile Hits
anim = 24001
pos = -69,106+4
postype = right  ;p2,front,back,left,right
removetime = -2
supermove = 1
sprpriority = 2
id = 57
bindtime = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = -1
;================================================================================
; ------- DAMAGE SCALING (POTS' Code) --------
;===============================================================================

[State -2, Damage based on hits]
type=varset
trigger1= numenemy
fvar(12)= ifelse(enemynear,gethitvar(hitcount)<3, 15, ifelse(enemynear,gethitvar(hitcount)>=15, 2, 26-enemynear,gethitvar(hitcount))) / 24.0
ignorehitpause=1

[State -2, Reset var when the opponent recovers]
type=varset
trigger1= numenemy
trigger1= (enemynear,movetype!=H)
trigger2= !numenemy
fvar(12)=1

[State -2, Dampener itself]
type=attackmulset
trigger1= 1
value=fvar(12)
ignorehitpause=1
;================================================================================
; ------- KOF Cornerpush System by Vans --------
;===============================================================================
[State -2, Superpause Check]
type = VarAdd
trigger1 = Var(6)
var(6) = -1

[State -2, Reset Time counter]
type = VarSet
trigger1 = movecontact = 1
var(12) = 0

[State -2, Accel]
type = VarSet
triggerall = roundstate = 2
triggerall = Var(6) <= 0
triggerall = numtarget >= 1
trigger1 = target, hitshakeover
fvar(6) = (target, gethitvar(xvel)*exp((-0.1886)*((var(12)))))

[State -2, Push]
type = PosAdd
triggerall = roundstate = 2
triggerall = !var(6)
triggerall = numtarget >= 1
triggerall = (target, BackEdgeBodyDist <= 0) || (target, FrontEdgeBodyDist <= 0)
triggerall = ProjContact = 0, < 50
triggerall = stateno != [900,949]
triggerall = stateno != [956,979]
triggerall = numhelper(10010) != 1
triggerall = enemynear,statetype != A
trigger1 = Statetype != A
x = ifelse(facing = -1,fvar(6),-fvar(6))

[State -2, Increase]
type = VarSet
triggerall = numtarget >= 1
triggerall = target, hitshakeover
trigger1 = Var(6) <= 0
trigger1 = var(12)
var(12) = var(12)+1

[State -2, Time counter]
type = VarSet
trigger1 = !var(12)
trigger1 = fvar(6)
var(12) = 1

[State -2, Freeze Pos During Superpause]
type = PosFreeze
trigger1 = Var(6)
value = 1

[State -2, Drop]
type = VarSet
triggerall = fvar(6)
trigger1 = !numtarget
trigger2 = projcontact = 1
trigger3 = movecontact = 1
fvar(6) = 0
ignorehitpause = 1

[State -2, Drop]
type = VarSet
triggerall = fvar(8)
trigger1 = !numtarget
trigger2 = projcontact = 1
trigger3 = numtarget >= 1 && target, gethitvar(xvel) = 0
var(17) = 0
;================================================================================
; ------- Explosion System (Vans Code)--------
;===============================================================================
[State 1000: Helper]
type = helper
triggerall = !NumHelper(12504)
trigger1 = numtarget(1100) && movehit
helpertype = Normal
name = "Small Expl"
id = 12504
pos = 0, 0 ;50
postype = p2
facing = 1
stateno = 12504
keyctrl = 0
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
persistent = 0
ignorehitpause = 1

;================================================================================
; ------- Slowmotion System By CCIronMugen --------
;===============================================================================
[State -2]
type = varset
trigger1 = numhelper(10010)
trigger1 = helper(10010), movehit = 1 
trigger2 = numhelper(10080)
trigger2 = helper(10080), movehit = 1 
var(18) = 18

[State -2]
type = varset
triggerall = numtarget(2030)
trigger1 = target(2030), stateno = 2132
var(18) = 10

[State -2]
type = VarAdd
trigger1 = var(18) != 0
trigger1 = (gametime%3) = 0
var(18) = -1

[State -2]
type = Pause
triggerall = (gametime%3) = 0
trigger1 = var(18) != 0
time = 1
movetime = 0
;================================================================================
; ------- Throw Limitation by OrochiKOF97 --------
;===============================================================================
[State -2, Guard Var]
type = VarSet
trigger1 = stateno = [200,505] ; Non-Air basic moves states.
trigger1 = moveguarded > 0 ; This is the key : checks if opponent has guarded a basic attack
trigger2 = stateno = [600,710] ; Air Basic Moves
trigger2 = movecontact > 0 ; This includes both moveguarded & movehit as well
v = 19
value = 30
persistent = 0
ignorehitpause = 1

[State -2, Guard Var 2]
type = VarAdd
triggerall =!var(6)
trigger1 = var(19) > 0
var(19) = -1
ignorehitpause = 1

[State -2, Guard Var 3]
type = VarSet
triggerall = !var(6)
trigger1 = var(19) < 0
var(19) = 0
persistent = 0
ignorehitpause = 1
;--------------------------------------------------------------------------------------
;--------------------------------------------------------------------------------------
[Statedef 5900]
type = S

[State 5900, 1] ;Clear all int variables
type = VarRangeSet
trigger1 = roundsexisted = 0
value = 0

[State 5900, 2] ;Clear all float variables
type = VarRangeSet
trigger1 = roundsexisted = 0
fvalue = 0

[State 5900, 3] ;Intro for first round
type = ChangeState
trigger1 = roundsexisted = 0
trigger2 = roundno = 1
value = 190

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------
[Statedef -3]

;Height Controller (POTS code)
[State -3, Variable Height]
type=playerpush
triggerall= statetype=A && movetype!=H && numenemy
triggerall= p2bodydist x = [-(enemynear,const(size.ground.back) + enemynear,const(size.ground.front)), 0]
trigger1= p2statetype=S
trigger1= p2dist y >= (enemynear,const(size.height) - 12)
trigger2= p2statetype=C
trigger2= p2dist y >= (enemynear,const(size.height) - 28)
trigger3= p2statetype=L
trigger3= p2dist y >= 12
value=0
ignorehitpause=1

[State -3, Cheap KO]
type=changestate
trigger1= !alive && (stateno=[5000,5010])
trigger1= (prevstateno=[130,131]) || (prevstateno=[140,141]) || (prevstateno=[150,153])
value=5950
ignorehitpause=0

[State -3, Cheap KO]
type=assertspecial
trigger1= (stateno=[5000,5010])
trigger1= (prevstateno=[130,131]) || (prevstateno=[140,141]) || (prevstateno=[150,153])
flag=nokosnd
ignorehitpause=1

[State -3, GetHit Snd]
type=playsnd
triggerall= alive && time=1
triggerall= stateno=5000 || stateno=5010
trigger1= gethitvar(animtype)>=2 && random<500
trigger2= gethitvar(animtype)=1 && random<375
trigger3= gethitvar(animtype)=0 && random<250
value=5000,(random%4)
channel=0
ignorehitpause=1
[State -3, GetHit Snd]
type=playsnd
triggerall= alive && time=1
trigger1= (stateno=5000 || stateno=5010) && numenemy
trigger2= (stateno=5020 || stateno=5070 || stateno=5080)
trigger3= (stateno=5050 || stateno=5100) && (prevstateno!=[5000,5199])
value=5000,(random%4)
channel=0
ignorehitpause=1

[State -3, land]
type = PlaySnd
triggerall = time = 1
trigger1 = StateNo = 251
trigger2 = StateNo = 253
trigger3 = StateNo = 1022
trigger4 = StateNo = 1032
trigger5 = StateNo = 1050
value =  2+(var(32)*10),2

[State -3, opponent falling behavior]
type = TargetState
triggerall = numtarget(200)
trigger1 = target(200), alive && target(200), hitfall
value = 5021
ignorehitpause = 1

[State -3, Stop]
type = StopSnd
trigger1 = stateno != 191
trigger1 = stateno != 192
channel = 6

[State -3, Stop]
type = StopSnd
trigger1 = stateno != 191
trigger2 = movetype = H
channel = 18
;------------------------------------------------------------------------------
;---------------------------[EXPLOSION SYSTEM FOR FIRE USERS]-------------------
;--------------------------------------[CRIMSON]--------------------------------
;Double Expl
[Statedef 12500]
type    = A
movetype= A
physics = N
sprpriority = 1
velset = 0
facep2 = 1
anim = 1
ctrl = 0

[State 7001, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 65000: STAY PUT >(]
type = Bindtotarget
trigger1 = (!Time)
facing = 0
pos = -10,0
time = -1

[State 12501, VarRandom]
type = VarRandom
trigger1 = 1
v = 0
range = 5

[State 12501, Explod]
type = Explod
triggerall = random <= 250
trigger1 = time = 2
anim = 12505
pos = (-4-var(0)),-35
postype = p1  ;p2,front,back,left,right
bindtime = 4
random = 50,50
sprpriority = 3
ownpal = 1
[State 12501, Explod]
type = Explod
triggerall = random <= 250
trigger1 = time = 3
anim = 12505
pos = (-40-var(0)),-120
postype = p1  ;p2,front,back,left,right
bindtime = 4
random = 50,50
sprpriority = 3
ownpal = 1
[State 12501, Explod]
type = Explod
triggerall = random <= 250
trigger1 = time = 4
anim = 12505
pos = (-17-var(0)),-98
postype = p1  ;p2,front,back,left,right
bindtime = 4
random = 50,50
sprpriority = 3
ownpal = 1
[State 12501, Explod]
type = Explod
triggerall = random <= 250
trigger1 = time = 5
anim = 12505
pos = (-25-var(0)),-48
postype = p1  ;p2,front,back,left,right
bindtime = 4
random = 50,50
sprpriority = 3
ownpal = 1
[State 12501, Explod]
type = Explod
triggerall = random <= 250
trigger1 = time = 6
anim = 12505
pos = (-45-var(0)),-114
postype = p1  ;p2,front,back,left,right
bindtime = 4
random = 50,50
sprpriority = 3
ownpal = 1
[State 12501, Explod]
type = Explod
triggerall = random <= 250
trigger1 = time = 8
anim = 12505
pos = (-15-var(0)),-110
postype = p1  ;p2,front,back,left,right
bindtime = 4
random = 50,50
sprpriority = 3
ownpal = 1

[State 1302, Destroy]
type = DestroySelf
trigger1 = time = 6

;Normal Expl
[Statedef 12501]
type    = A
movetype= A
physics = N
sprpriority = 1
velset = 0
facep2 = 1
anim = 1
ctrl = 0

[State 7001, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 65000: STAY PUT >(]
type = Bindtotarget
trigger1 = (!Time)
facing = 0
pos = -10,0
time = -1

[State 12501, VarRandom]
type = VarRandom
trigger1 = 1
v = 0
range = 5

[State 12501, Explod]
type = Explod
triggerall = random <= 250
trigger1 = time = 2
anim = 12506
pos = (-4-var(0)),-35
postype = p1  ;p2,front,back,left,right
bindtime = 4
random = 50,50
sprpriority = 3
ownpal = 1
[State 12501, Explod]
type = Explod
triggerall = random <= 250
trigger1 = time = 3
anim = 12506
pos = (-40-var(0)),-120
postype = p1  ;p2,front,back,left,right
bindtime = 4
random = 50,50
sprpriority = 3
ownpal = 1
[State 12501, Explod]
type = Explod
triggerall = random <= 250
trigger1 = time = 4
anim = 12506
pos = (-17-var(0)),-98
postype = p1  ;p2,front,back,left,right
bindtime = 4
random = 50,50
sprpriority = 3
ownpal = 1
[State 12501, Explod]
type = Explod
triggerall = random <= 250
trigger1 = time = 5
anim = 12506
pos = (-25-var(0)),-48
postype = p1  ;p2,front,back,left,right
bindtime = 4
random = 50,50
sprpriority = 3
ownpal = 1
[State 12501, Explod]
type = Explod
triggerall = random <= 250
trigger1 = time = 6
anim = 12506
pos = (-45-var(0)),-114
postype = p1  ;p2,front,back,left,right
bindtime = 4
random = 50,50
sprpriority = 3
ownpal = 1
[State 12501, Explod]
type = Explod
triggerall = random <= 250
trigger1 = time = 8
anim = 12506
pos = (-15-var(0)),-110
postype = p1  ;p2,front,back,left,right
bindtime = 4
random = 50,50
sprpriority = 3
ownpal = 1

[State 1302, Destroy]
type = DestroySelf
trigger1 = time = 20

;Pyro Expl
[Statedef 12502]
type    = A
movetype= A
physics = N
sprpriority = 1
velset = 0
facep2 = 1
anim = 1
ctrl = 0

[State 7001, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 65000: STAY PUT >(]
type = Bindtotarget
trigger1 = (!Time)
facing = 0
pos = -10,0
time = -1

[State 12501, VarRandom]
type = VarRandom
trigger1 = 1
v = 0
range = 5

[State 12501, Explod]
type = Explod
triggerall = random <= 150
trigger1 = time = 2
anim = 12507
pos = (-41-var(0)),-53
postype = p1  ;p2,front,back,left,right
bindtime = 4
random = 50,50
sprpriority = 3
ownpal = 1
[State 12501, Explod]
type = Explod
triggerall = random <= 150
trigger1 = time = 3
anim = 12507
pos = (-30-var(0)),-46
postype = p1  ;p2,front,back,left,right
bindtime = 4
random = 50,50
sprpriority = 3
ownpal = 1
[State 12501, Explod]
type = Explod
triggerall = random <= 150
trigger1 = time = 4
anim = 12507
pos = (26-var(0)),-15
postype = p1  ;p2,front,back,left,right
bindtime = 4
random = 50,50
sprpriority = 3
ownpal = 1
[State 12501, Explod]
type = Explod
triggerall = random <= 150
trigger1 = time = 5
anim = 12507
pos = (10-var(0)),-94
postype = p1  ;p2,front,back,left,right
bindtime = 4
random = 50,50
sprpriority = 3
ownpal = 1
[State 12501, Explod]
type = Explod
triggerall = random <= 150
trigger1 = time = 6
anim = 12507
pos = (-19-var(0)),-63
postype = p1  ;p2,front,back,left,right
bindtime = 4
random = 50,50
sprpriority = 3
ownpal = 1
[State 12501, Explod]
type = Explod
triggerall = random <= 150
trigger1 = time = 8
anim = 12507
pos = (1-var(0)),-59
postype = p1  ;p2,front,back,left,right
bindtime = 4
random = 50,50
sprpriority = 3
ownpal = 1

[State 1302, Destroy]
type = DestroySelf
trigger1 = time = 20

;Multi Small Expl
[Statedef 12503]
type    = A
movetype= A
physics = N
sprpriority = 1
velset = 0
facep2 = 1
anim = 1
ctrl = 0

[State 7001, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 65000: STAY PUT >(]
type = Bindtotarget
trigger1 = (!Time)
facing = 0
pos = -10,0
time = -1

[State 12501, VarRandom]
type = VarRandom
trigger1 = 1
v = 0
range = 5
[State 12501, VarRandom]
type = VarRandom
trigger1 = 1
v = 1
range = 20

[State 12501, Explod]
type = Explod
triggerall = random <= 150
trigger1 = time = 2
anim = 12508
pos = (-41-var(0)),(-53+var(1))
postype = p1  ;p2,front,back,left,right
bindtime = 4
random = 50,50
sprpriority = 3
ownpal = 1
[State 12501, Explod]
type = Explod
triggerall = random <= 150
trigger1 = time = 3
anim = 12508
pos = (-30-var(0)),(-46+var(1))
postype = p1  ;p2,front,back,left,right
bindtime = 4
random = 50,50
sprpriority = 3
ownpal = 1
[State 12501, Explod]
type = Explod
triggerall = random <= 150
trigger1 = time = 4
anim = 12508
pos = (26-var(0)),(-15-var(1))
postype = p1  ;p2,front,back,left,right
bindtime = 4
random = 50,50
sprpriority = 3
ownpal = 1
[State 12501, Explod]
type = Explod
triggerall = random <= 150
trigger1 = time = 5
anim = 12508
pos = (10-var(0)),(-94+var(1))
postype = p1  ;p2,front,back,left,right
bindtime = 4
random = 50,50
sprpriority = 3
ownpal = 1
[State 12501, Explod]
type = Explod
triggerall = random <= 150
trigger1 = time = 6
anim = 12508
pos = (-19-var(0)),(-63+var(1))
postype = p1  ;p2,front,back,left,right
bindtime = 4
random = 50,50
sprpriority = 3
ownpal = 1
[State 12501, Explod]
type = Explod
triggerall = random <= 150
trigger1 = time = 8
anim = 12508
pos = (1-var(0)),(-59+var(1))
postype = p1  ;p2,front,back,left,right
bindtime = 4
random = 50,50
sprpriority = 3
ownpal = 1

[State 1302, Destroy]
type = DestroySelf
trigger1 = time = 20

;Small Expl
[Statedef 12504]
type    = A
movetype= A
physics = N
sprpriority = 1
velset = 0
facep2 = 1
anim = 1
ctrl = 0

[State 7001, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 65000: STAY PUT >(]
type = Bindtotarget
trigger1 = (!Time)
facing = 0
pos = -10,0
time = -1

[State 12501, VarRandom]
type = VarRandom
trigger1 = 1
v = 0
range = 5
[State 12501, VarRandom]
type = VarRandom
trigger1 = 1
v = 1
range = 20

[State 12501, Explod]
type = Explod
triggerall = random <= 500
trigger1 = time = 2
trigger2 = time = 16
trigger3 = time = 40
anim = 12509
pos = (-41-var(0)),(-53+var(1))
postype = p2  ;p2,front,back,left,right
bindtime = 1
random = 50,50
sprpriority = 3
ownpal = 1
[State 12501, Explod]
type = Explod
triggerall = random <= 500
trigger1 = time = 4
trigger2 = time = 20
trigger3 = time = 44
anim = 12509
pos = (-30-var(0)),(-46+var(1))
postype = p2  ;p2,front,back,left,right
bindtime = 1
random = 50,50
sprpriority = 3
ownpal = 1
[State 12501, Explod]
type = Explod
triggerall = random <= 500
trigger1 = time = 6
trigger2 = time = 24
trigger3 = time = 48
anim = 12509
pos = (26-var(0)),(-15-var(1))
postype = p2  ;p2,front,back,left,right
bindtime = 1
random = 50,50
sprpriority = 3
ownpal = 1
[State 12501, Explod]
type = Explod
triggerall = random <= 500
trigger1 = time = 8
trigger2 = time = 28
trigger3 = time = 52
anim = 12509
pos = (10-var(0)),(-94+var(1))
postype = p2  ;p2,front,back,left,right
bindtime = 1
random = 50,50
sprpriority = 3
ownpal = 1
[State 12501, Explod]
type = Explod
triggerall = random <= 500
trigger1 = time = 10
trigger2 = time = 32
trigger3 = time = 56
anim = 12509
pos = (-19-var(0)),(-63+var(1))
postype = p2  ;p2,front,back,left,right
bindtime = 1
random = 50,50
sprpriority = 3
ownpal = 1
[State 12501, Explod]
type = Explod
triggerall = random <= 500
trigger1 = time = 12
trigger2 = time = 36
trigger3 = time = 60
anim = 12509
pos = (1-var(0)),(-59+var(1))
postype = p2  ;p2,front,back,left,right
bindtime = 1
random = 50,50
sprpriority = 3
ownpal = 1

[State 1302, Destroy]
type = DestroySelf
trigger1 = time = 62
;------------------------------------------------------------------------------
;DREAMCANCEL Helper States
[Statedef 40000]
type = S
movetype = I
physics = S
ctrl = 0
velset = 0, 0
ownpal = 1
anim = 16003
sprpriority = -1

[State 7001, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000, Explod] ;DREAMCANCEL
type = Explod
trigger1 = !time
anim = 16000
ID = 16000
pos = 0,75;160     ;118 in KOFXI ...
facing = 1
postype = right
supermove = 1
supermovetime = 68
pausemovetime = 68
scale = .5,.5
sprpriority = 776
ignorehitpause = 1
persistent = 0
bindtime = 68
ownpal = 1
removeongethit = 0

[State 1000, Explod] ;Marquee
type = Explod
trigger1 = !time
anim = 16001
ID = 16001
pos = 0,75
postype = right
supermove = 1
supermovetime = 68
pausemovetime = 68
scale = .5,.5
sprpriority = 777
bindtime = 68
ignorehitpause = 1
persistent = 0

[State 1000, Explod] ;Black
type = Explod
trigger1 = !time
anim = 16002
ID = 16002
pos = 0,75
postype = right
supermove = 1
supermovetime = 68
pausemovetime = 68
scale = .5,.5
sprpriority = 775
bindtime = 68
ignorehitpause = 1
persistent = 0
trans = addalpha
alpha = 128,128

[State 65000: DestroySelf]
type = DestroySelf
trigger1 = time = 68

;DREAMCANCEL Helper States
[Statedef 11111]
type = S
movetype = I
physics = S
ctrl = 0
velset = 0, 0
ownpal = 1
anim = 16003
sprpriority = -1

[State 111111, DestroySelf]
type = DestroySelf
trigger1 = time = 80

;DREAMCANCEL Helper States
[Statedef 40005]
type = S
movetype = I
physics = S
ctrl = 0
velset = 0, 0
ownpal = 1
anim = 16003
sprpriority = -1

[State 7001, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000, Explod] ;DREAMCANCEL
type = Explod
trigger1 = !time
anim = 16004
ID = 16004
pos = 0,75;160     ;118 in KOFXI ...
facing = 1
postype = right
supermove = 1
supermovetime = 68
pausemovetime = 68
scale = .5,.5
sprpriority = 776
ignorehitpause = 1
persistent = 0
bindtime = 68
ownpal = 1
removeongethit = 0

[State 1000, Explod] ;Marquee
type = Explod
trigger1 = !time
anim = 16005
ID = 16005
pos = 0,75
postype = right
supermove = 1
supermovetime = 68
pausemovetime = 68
scale = .5,.5
sprpriority = 777
bindtime = 68
ignorehitpause = 1
persistent = 0

[State 1000, Explod] ;Black
type = Explod
trigger1 = !time
anim = 16006
ID = 16006
pos = 0,75
postype = right
supermove = 1
supermovetime = 68
pausemovetime = 68
scale = .5,.5
sprpriority = 775
bindtime = 68
ignorehitpause = 1
persistent = 0
trans = addalpha
alpha = 128,128

[State 65000: DestroySelf]
type = DestroySelf
trigger1 = time = 68

;----------------------------[2002 UM MAX2 BG]----------------------------------
[Statedef 40001]
anim = 9999

[State 40001, Tile #1-7]
type = Explod
triggerall = !numexplod(15600)
trigger1 = !time
anim = 15600
ID = 15600
pos = 0,0
postype = left  ;p2,front,back,left,right
removetime = 10
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1
persistent = 0

[State 40001, Tile #1-7]
type = Explod
triggerall = !numexplod(15601) < 2
trigger1 = !time
trigger2 = (time%10) = 0
anim = 15600
ID = 15601
pos = 320,0
postype = left  ;p2,front,back,left,right
removetime = 20
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1

[State 40001, Tile #2-6]
type = Explod
triggerall = !numexplod(15610)
trigger1 = !time
anim = 15601
ID = 15610
pos = 0,0
postype = left  ;p2,front,back,left,right
removetime = 20
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 40001, Tile #2-6]
type = Explod
triggerall = !numexplod(15611) < 2
trigger1 = !time
trigger2 = (time%20) = 0
anim = 15601
ID = 15611
pos = 320,0
postype = left  ;p2,front,back,left,right
removetime = 40
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1

[State 40001, Tile #3-5]
type = Explod
triggerall = !numexplod(15620)
trigger1 = !time
anim = 15602
ID = 15620
pos = 0,0
postype = left  ;p2,front,back,left,right
removetime = 40
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 40001, Tile #3-5]
type = Explod
triggerall = !numexplod(15621) < 2
trigger1 = !time
trigger2 = (time%40) = 0
anim = 15602
ID = 15621
pos = 320,0
postype = left  ;p2,front,back,left,right
removetime = 80
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1

[State 40001, Tile #4]
type = Explod
triggerall = !numexplod(15630)
trigger1 = !time
anim = 15603
ID = 15630
pos = 0,0
postype = left  ;p2,front,back,left,right
removetime = 80
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 40001, Tile #3-5]
type = Explod
triggerall = !numexplod(15631) < 2
trigger1 = !time
trigger2 = (time%80) = 0
anim = 15603
ID = 15631
pos = 320,0
postype = left  ;p2,front,back,left,right
removetime = 160
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1

[State 40001, Glass Break]
type = ChangeState
trigger1 = root, stateno != 3020 && root, stateno != 3021
trigger2 = WinKO
value = stateno+1

[Statedef 40002]
anim = 9999

[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15600
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15601
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15610
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15611
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15620
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15621
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15630
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15631

[State 40002, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S14001,0
volume = 200

[State 40001, Glass Break]
type = Explod
triggerall = !numexplod(15640)
trigger1 = !time
anim = 15604
ID = 15640
pos = 0,0
postype = left  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
scale = 1,1
sprpriority = -20
ownpal = 1
bindtime = -1
ignorehitpause = 1

[State 40001, DestroySelf]
type = DestroySelf
trigger1 = time = 1

;--------------------------[2002 UM MAX2 PORTRAIT]------------------------------
[Statedef 40003]
anim = 9999

[State 40003, VarSet]
type = VarSet
triggerall = enemy, numhelper(40003)
triggerall = !enemy, numhelper(40004)
trigger1 = enemy, authorname = "Vans"
trigger2 = enemy, authorname = "K.O.D"
trigger3 = enemy, authorname = "K.O.D & Vans"
trigger4 = enemy, authorname = "OrochiKOF97"
trigger5 = enemy, authorname = "David Demianoff"
trigger6 = enemy, authorname = "Dark Saviour"
trigger7 = enemy, authorname = "Kung Fu Man"
trigger8 = enemy, authorname = "KoopaKoot"
trigger9 = enemy, authorname = "Anjel"
trigger10 = enemy, authorname = "David Demianoff & Kung Fu Man"
trigger11 = enemy, authorname = "LegendaryXM90"
trigger12 = enemy, authorname = "Raposo"
trigger13 = enemy, authorname = ".\/."
var(0) = 1

[State 40003, VarSet]
type = VarSet
triggerall = teamside = 2
triggerall = enemy, numhelper(40004)
trigger1 = enemy, authorname = "Vans"
trigger2 = enemy, authorname = "K.O.D"
trigger3 = enemy, authorname = "K.O.D & Vans"
trigger4 = enemy, authorname = "OrochiKOF97"
trigger5 = enemy, authorname = "David Demianoff"
trigger6 = enemy, authorname = "Dark Saviour"
trigger7 = enemy, authorname = "Kung Fu Man"
trigger8 = enemy, authorname = "KoopaKoot"
trigger9 = enemy, authorname = "Anjel"
trigger10 = enemy, authorname = "David Demianoff & Kung Fu Man"
trigger11 = enemy, authorname = "LegendaryXM90"
trigger12 = enemy, authorname = "Raposo"
trigger13 = enemy, authorname = ".\/."
var(0) = 1

[State 40001, P1 BG]
type = Explod
triggerall = !numexplod(15650)
triggerall = teamside = 1
trigger1 = !time
anim = 15605
ID = 15650
pos = 0,abs((240*var(0))-81)
postype = left  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
bindtime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1

[State 40001, P2 BG]
type = Explod
triggerall = !numexplod(15651)
triggerall = teamside = 2
trigger1 = !time
anim = 15606
ID = 15651
pos = 0,abs((240*var(0))-81)
postype = right  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
bindtime = -1
scale = 1,1
facing = -1
sprpriority = -20
ownpal = 1
ignorehitpause = 1

[State 40001, P1 PORTRAIT]
type = Explod
triggerall = !numexplod(15660)
triggerall = teamside = 1
trigger1 = !time
anim = 15607
ID = 15660
pos = 0,abs((240*var(0))-81)
postype = left  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
bindtime = -1
scale = 1,1
sprpriority = -19
ownpal = 1
ignorehitpause = 1

[State 40001, P2 PORTRAIT]
type = Explod
triggerall = !numexplod(15661)
triggerall = teamside = 2
trigger1 = !time
anim = 15607
ID = 15661
pos = 0,abs((240*var(0))-81)
postype = right  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
bindtime = -1
scale = 1,1
facing = -1
sprpriority = -19
ownpal = 1
ignorehitpause = 1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 15650
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 15650
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 15650
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 15650
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 15650
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 15650
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 15650
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 15650
scale = 1,1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 15651
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 15651
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 15651
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 15651
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 15651
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 15651
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 15651
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 15651
scale = 1,1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 15660
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 15660
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 15660
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 15660
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 15660
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 15660
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 15660
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 15660
scale = 1,1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 15661
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 15661
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 15661
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 15661
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 15661
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 15661
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 15661
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 15661
scale = 1,1

[State 40001, DestroySelf]
type = DestroySelf
trigger1 = time = 60

[Statedef 40004]
anim = 9999

[State 40001, DestroySelf]
type = DestroySelf
trigger1 = time = 1


;---------------------------[KOF K.O. SYSTEM]-----------------------------------
;This is as accurate as it'll get with MUGEN's K.O. slow system.
[Statedef 50000]
ctrl = 0
anim = 1
ownpal = 1

[State 50000, VarSet]
type = VarSet
trigger1 = root, stateno = [200,991]
var(0) = 1

[State 50000, PlaySnd]
type = PlaySnd
trigger1 = IsHelper(50000) && !time
value = 3,18
volume = 255
channel = 1
ignorehitpause = 1

[State 50000, PlaySnd]
type = PlaySnd
trigger1 = IsHelper(50001) && !time
value = 3,19
volume = 255
channel = 1
ignorehitpause = 1

[State 3000, AssertSpecial]
type = AssertSpecial
triggerall = !var(0)
trigger1 = time = [0,17]
flag = noBG
flag2 = noFG
ignorehitpause = 1

[State 3501, EnvColor]
type = EnvColor
triggerall = !var(0)
trigger1 = !time
value = 0,0,0
time = 0;6
under = 1
ignorehitpause = 1

[State 3501, EnvColor]
type = EnvColor
triggerall = !var(0)
trigger1 = time = 1
value = 255,0,0
time = 1
under = 1
ignorehitpause = 1

[State 3501, EnvColor]
type = EnvColor
triggerall = !var(0)
trigger1 = time = 2
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1

[State 3501, EnvColor]
type = EnvColor
triggerall = !var(0)
trigger1 = time = 3
value = 255,0,0
time = 1
under = 1
ignorehitpause = 1

[State 3501, EnvColor]
type = EnvColor
triggerall = !var(0)
trigger1 = time = 4
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1

[State 3501, EnvColor]
type = EnvColor
triggerall = !var(0)
trigger1 = time = 5
value = 255,0,0
time = 1
under = 1
ignorehitpause = 1

[State 3501, EnvColor]
type = EnvColor
triggerall = !var(0)
trigger1 = time = 7
value = 255,255,255
time = 2
under = 1
ignorehitpause = 1

[State 3501, EnvColor]
type = EnvColor
triggerall = !var(0)
trigger1 = time = 9
value = 255,0,0
time = 2
under = 1
ignorehitpause = 1

[State 3501, EnvColor]
type = EnvColor
triggerall = !var(0)
trigger1 = time = 11
value = 255,255,255
time = 2
under = 1
ignorehitpause = 1

[State 3501, EnvColor]
type = EnvColor
triggerall = !var(0)
trigger1 = time = 13
value = 255,0,0
time = 2
under = 1
ignorehitpause = 1

[State 3501, EnvColor];Must last two ticks!
type = EnvColor
trigger1 = time = 15
value = 0,0,0
time = 1
under = 1
ignorehitpause = 1

[State 3501, EnvColor];One tick.
type = EnvColor
trigger1 = time = 16
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1

[State 3501, EnvColor];One tick.
type = EnvColor
triggerall = !var(0)
trigger1 = time = 17
value = 255,0,0
time = 1
under = 1
ignorehitpause = 1

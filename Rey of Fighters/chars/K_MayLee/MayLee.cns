[Data]
life = 950
power = 3000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 9
airjuggle = 8
sparkno = s6000
guard.sparkno = 40
KO.echo = 0
volume = 0

[Size]
xscale = 1           
yscale = 1           
ground.back = 15     
ground.front = 16    
air.back = 12        
air.front = 12       
height = 60          
attack.dist = 160    
proj.attack.dist = 90 
proj.doscale = 0     
head.pos = -10, -94   
mid.pos = -11, -61   
shadowoffset = 0     
draw.offset = 0,0    

[Velocity]
walk.fwd  = 3.08203125     
walk.back = -3.08203125    
run.fwd  = 6.91796875, 0    ;Run forward (x, y)
run.back = -6.862457275390625,-2.7 ;Hop backward (x, y)
jump.neu = 0,-8.3125    ;Neutral jumping velocity (x, y)
jump.back = -3.08203125    ;Jump back Speed (x, y)
jump.fwd = 3.08203125      ;Jump forward Speed (x, y)
runjump.fwd = 4,-8.1      ;.


[Movement]
yaccel = .46875      ;Vertical acceleration
stand.friction = .82  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching

;---------------------------------------------------------------------------
; Variable usage:
; Var(2) Jump Stuff

;---------------------------------------------------------------------------
; COMMONSTATES
;---------------------------------------------------------------------------
; Stand
[Statedef 0]
type = S
physics = S
sprpriority = 0

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 10000 
trigger1 = Anim = 10000 && AnimTime = 0 ;Turn anim over
value = 10000

[State 0, Blah]
type = VarSet
trigger1 = Time = 0
var(1) = anim = 10000

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = ifelse(prevstateno=196,10000,0)

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0

[State 0, 4] ;Are you dead?
type = ChangeState
trigger1 = !alive
value = 5050

[State 0, 4] ;Are you dead?
type = ChangeState
triggerall = !time 
triggerall = anim = 10000
trigger1 = Roundstate = 4
value = 10181

; Jump Start
[Statedef 40]
type = S
physics = S
anim = 40
ctrl = 0
velset = 0,0
facep2 = 1
sprpriority = 1

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 1]
type = VarSet
trigger1 = Time = 0
var(2) = 0

[State 40, 1]
type = VarSet
trigger1 = command = "hijump"
trigger2 = PrevStateNo = 100 && sysvar(1) = 1
var(2) = 1

[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 4]
type = VarSet
trigger1 = Time = 0
var(3) = 0

[State 40, 5]
type = VarSet
trigger1 = command != "holdup"
var(3) = 2

[State 40, 6]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = !Var(2)
x = ifelse(!sysvar(1), 0, ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))

[State 40, 7]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(2)
x = ifelse(!sysvar(1), 0, ifelse(sysvar(1)=1, const(velocity.runjump.fwd.x), const(velocity.runjump.back.x)))

[State 40, 8]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(3) != 2
y = ifelse (Var(2) && !SysVar(1), const(velocity.jump.y), const(velocity.jump.y))

[State 40, 9]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(3) = 2
y = ifelse (Var(2) && !sysvar(1), -6.55078125, -6.55078125)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0 && command = "holdup"
value = 50
ctrl = 1

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0 && Var(3) = 2
value = 41
ctrl = 1

; Jump Up
[Statedef 50]
type = A
physics = N

[State 810, 1]
type = AfterImage
trigger1 = !time && var(2) && sysvar(1) 
time = 20
length = 4
framegap = 1
timegap = 6
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 810, 1]
type = PlaySnd
trigger1 = !time && var(2) && sysvar(1) 
value = 40,1

[State 50, 1]
type = VarSet
trigger1 = Time = 1
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50, VelAdd]
type = VelAdd
trigger1 = time > 0
y = const(movement.yaccel)

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

[State 40, 6]
type = ChangeState
trigger1 = Pos Y + Vel Y >= 0
value = 52
ctrl = 1

;---------------------------------------------------------------------------
; Short Jump
[Statedef 41]
type = A
physics = N

[State 810, 1]
type = AfterImage
trigger1 = !time && var(2) && sysvar(1) 
time = 20
length = 4
framegap = 1
timegap = 6
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 810, 1]
type = PlaySnd
trigger1 = !time && var(2) && sysvar(1) 
value = 40,1

[State 1101, pos]
type = Veladd
trigger1 = time > 0
y = const(movement.yaccel)

[State 50, 1]
type = VarSet
trigger1 = Time = 1
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 51, ifelse((vel x)>0, 52, 53))

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

[State 40, 6]
type = ChangeState
trigger1 = Pos Y + Vel Y >= 0
value = 52
ctrl = 1

;---------------------------------------------------------------------------
; Jump Land
[Statedef 52]
type    = S
physics = S
ctrl = 0
anim = 47
velset = 0,0

[State 52, 2]
type = Changestate
trigger1 = time = 0
trigger1 = prevstateno = 10125
value = 10052

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 3]
type = CtrlSet
trigger1 = Time = 1
value = 1

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------------------------------------------------
; DASH_FWD
[Statedef 100]
type    = S
physics = S
anim = 99
ctrl = 0
velset = 0
sprpriority = 1

[State 220,2]
type = ChangeState
trigger1 = AnimTime = 0
value = 101

[Statedef 101]
type    = S
physics = N
anim = 100
ctrl = 0
velset = 0
sprpriority = 1

[State -3, dash]
type = PlaySnd
trigger1 = animelem = 1
value = 100,0
volume = 200
loop = 1
channel = 27

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 220,2]
type = ChangeState
trigger1 = command = "holdup"
value = 40

[State 101, 6]
type = ChangeState
trigger1 = Time > 9
trigger1 = command != "holdfwd"
value = 102

[Statedef 102]
type    = S
physics = S
anim = 101
ctrl = 0
velset = 0
sprpriority = 1

[State 220,2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------------------------------------------------------
[Statedef 105]
type    = A
physics = A
ctrl = 0
anim = 105
sprpriority = 1

[State -3, sound]
type = PlaySnd
trigger1 = !time
value =  40,2

[State 105, 1]
type = VelSet
trigger1 = Time = 0
x = -6.862457275390625
y = -2.7

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52

; HIT_FALLRECOVER (on the ground)
[Statedef 5201]
type    = S
movetype= H
physics = N
anim = 5200

[State -3, MADDA DESU!]
type = PlaySnd
trigger1 = animelem = 1
value = 5200,0
volume = 200
channel = 0

[State 5201, 1] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -5

[State 5201, 3]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5201, VelSet]
type = VelSet
trigger1 = !time
x =-11.5
y = 0

[State 5201, VelSet]
type = VelSet
trigger1 = time = 1
x = -7.921875

[State 5201, VelMul]
type = VelMul
trigger1 = 1
x = 0.8125

[State 750, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 5201, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, 6]
type = GameMakeAnim
trigger1 = Time = 1
value = 60
pos = 0, 0
under = 1

[State 705, 1]
type = SelfState
trigger1 = Animtime = 0
value = 0
ctrl = 1

[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

; Win state decider
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181
;---------------------------------------------------------------------------
; Win pose 1 
[Statedef 181]
type = S
ctrl = 0
velset = 0,0

[State 181, 1] 
type = ChangeAnim
triggerall = var(1) = 0
trigger1 = time = 0
value = 181

[State 181,2]
type = PlaySnd
triggerall = anim = 181 
trigger1 = animelem = 9
value = 180,0
volume = 200
channel = 0

[State 181,2]
type = PlaySnd
triggerall = var(1) = 1
trigger1 = animelem = 2
value = 180,1
volume = 200
channel = 0

[State 181, 1] 
type = ChangeAnim
triggerall = var(1) = 1
trigger1 = !time 
value = 10181

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

; Introduction
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 191]
type=changestate
trigger1 = p2name = "Kim Kaphwan" || p4name = "Kim Kaphwan"
trigger2 = p2name = "Kim Kaphwan" || p4name = "Kim Kaphwan"
value = 192

[State 191]
type=changestate
trigger1 = p2name = "Kula Diamond" || p4name = "Kula Diamond"
trigger2 = p2name = "Angel" && AuthorName= "Juke Kisaragi" || p4name = "Angel" && AuthorName= "Juke Kisaragi"
trigger3 = p2name = "K9999" || p4name = "K9999"
trigger4 = p2name = "Foxy" || p4name = "Foxy"
trigger5 = p2name = "Nameless" || p4name = "Nameless"
trigger6 = p2name = "Krizalid" || p4name = "Krizalid"
trigger7 = p2name = "Nameless" || p4name = "Nameless"
trigger8 = p2name = "Nameless" || p4name = "Nameless"
trigger9 = p2name = "ZERO" && AuthorName= "GONZO-" || p4name = "ZERO" && AuthorName= "GONZO-"
trigger10 = p2name = "ZERO" && AuthorName= "ICCHA" || p4name = "ZERO" && AuthorName= "ICCHA"
trigger11 = p2name = "Original Zero" || p4name = "Original Zero"
trigger12 = p2name = "ORIGINAL ZERO" || p4name = "ORIGINAL ZERO"
trigger13 = p2name = "IGNIZ" || p4name = "IGNIZ"
trigger14 = p2name = "Kusanagi" || p4name = "Kusanagi"
trigger15 = p2name = "KUSANAGI" || p4name = "KUSANAGI"
trigger16 = p2name = "CloneKyo" || p4name = "CloneKyo"
trigger17 = p2name = "Kyo-1" || p4name = "Kyo-1"
trigger18 = p2name = "Kyo-2" || p4name = "Kyo-2"
value = 193

[State 191, 1] 
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 191, 2] ;
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3] ;
type = ChangeState
trigger1 = AnimTime = 0
value = 0

; Introduction
[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 192,2]
type = PlaySnd
trigger1 = animelem = 2
value = 190,2
volume = 200
channel = 0

[State 191, 2] ;
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 192, 3] ;
type = ChangeState
trigger1 = AnimTime = 0
value = 0

; Introduction
[Statedef 193]
type = S
ctrl = 0
anim = 193
velset = 0,0

[State 192,2]
type = PlaySnd
trigger1 = animelem = 8
value = 190,0
volume = 200
channel = 0

[State 192,2]
type = PlaySnd
trigger1 = animelem = 55
value = 190,1
volume = 200
channel = 0

[State 191, 2] ;
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 192, 3] ;
type = ChangeState
trigger1 = AnimTime = 0
value = 0

; Taunt
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 195, 1]
type = CtrlSet
trigger1 = Time = 40
value = 1

[State 195,2]
type = PlaySnd
trigger1 = animelem = 1
value = 195,0
volume = 200
channel = 0

[State 195, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Taunt
[Statedef 196]
type = S
ctrl = 0
anim = 10000
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 196, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; NORMAL ATTACKS
;---------------------------------------------------------------------------
;CLOSE A
[Statedef 200]
type    = S                      
movetype= A                    
physics = S                    
velset = 0,0                    
ctrl = 0                       
anim = 200  
poweradd= 0                               
sprpriority = 2  
juggle =10   

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 0  

[State 200, snd]
type=playsnd
trigger1= animelem=1 && random<500
value=200,1
channel=0          

[State 200, 1]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
triggerall = (p2stateno != 5070)
trigger1 = time=0 
attr = S, NA                    
damage = 40, 0   
hitsound = s5, 0                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard  
sparkno = s6000
sparkxy = -10, -77    
guard.sparkno = s6003
guard.sparkxy = 0, -77               
animtype = Light     
air.animtype = up 
fall = 0      
guardflag = M                   
hitflag = MAF            
priority = 7, Hit                                              
pausetime = 13,13                                        
ground.slidetime = 9                                       
ground.hittime = 9                                         
ground.velocity = -6.3                                    
air.velocity = -3.5,-6                                    
guard.velocity = -6.1                                      
guard.pausetime = 11,11                                
guard.slidetime = 10                                       
guard.hittime = 10                                         
guard.ctrltime = 10                                         
ground.cornerpush.veloff = 0                      
air.cornerpush.veloff = 0                             
guard.cornerpush.veloff = 0                
yaccel = .5        
fall = 0
id=200

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;FAR A
[Statedef 205]
type    = S                      
movetype= A                    
physics = S                     
juggle  = 10              
velset = 0,0                    
ctrl = 0                       
anim = 205  
poweradd= 0                               
sprpriority = 2                

[State 205, 1]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
triggerall = (p2stateno != 5070)
trigger1 = time= 0
attr = S, NA                    
damage = 40, 0  
hitsound = s5, 0                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard 
sparkno = s6000   
sparkxy = -10, -78 
guard.sparkno = s6003
guard.sparkxy = 0, -78                
animtype = Light     
air.animtype = up           
guardflag = M                   
hitflag = MAF         
priority = 7, Hit                                              
pausetime = 13,13                                        
ground.slidetime = 9                                       
ground.hittime = 9                                         
ground.velocity = -6.3                                    
air.velocity = -3.5,-6                                    
guard.velocity = -6.1                                      
guard.pausetime = 11,11                                
guard.slidetime = 10                                       
guard.hittime = 10                                         
guard.ctrltime = 10                                         
ground.cornerpush.veloff = 0                      
air.cornerpush.veloff = 0                             
guard.cornerpush.veloff = 0                   
yaccel = .5     
id=200

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 205, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 0  

[State 205, snd]
type=playsnd
trigger1= animelem=1 && random<500
value=200,1
channel=0    

[State 205, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;CLOSE C
[Statedef 210]
type    = S                      
movetype= A                    
physics = S                     
juggle  = 10              
velset = 0,0                    
ctrl = 0                       
anim = 210  
poweradd= 0                               
sprpriority = 2     

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 1            

[State 210, 1]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
triggerall = (p2stateno != 5070)
trigger1 = time=0 
attr = S, NA    
animtype = hard 
damage = 70, 0 
guardflag = M                   
hitflag = MAF  
priority = 4, Hit
pausetime = 13,13
hitsound = s5, 1                  
guardsound = s6, 0   
sparkno = s6001           
sparkxy = -10, -78  
guard.sparkno = s6004
guard.sparkxy = 0, -78   
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -10.1796875
air.velocity = -3.5,-6
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
id=200

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 210, snd]
type=playsnd
trigger1= animelem=1 
value=200,2
channel=0    

[State 210, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1    
;---------------------------------------------------------------------------
;FAR C
[Statedef 215]
type    = S                      
movetype= A                    
physics = S                     
juggle  = 10              
velset = 0,0                    
ctrl = 0                       
anim = 215  
poweradd= 0                               
sprpriority = 2                

[State 215, 1]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
triggerall = (p2stateno != 5070)
trigger1 = time=0 
attr = S, NA  
animtype = hard 
damage = 70, 0    
hitsound = s5, 1 
sparkxy = -10, -49 
sparkno = s6001      
guard.sparkno = s6004
guard.sparkxy = 0, -49          
guardsound = 6, 0                
priority = 4, Hit
guardflag = M                   
hitflag = MAF
pausetime = 13,13
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -11.1796875
air.velocity = -3.5,-6
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5  
id=200

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 215, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 1  

[State 215, snd]
type=playsnd
trigger1= animelem=1 
value=200,2
channel=0    

[State 215, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1                                   
;---------------------------------------------------------------------------             
; Close B
[Statedef 220]
type    = S                      
movetype= A                    
physics = S                     
juggle  = 10               
velset = 0,0                    
ctrl = 0                       
anim = 220  
poweradd= 0                               
sprpriority = 2  

[State 220, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 2                

[State 220, 1]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
triggerall = (p2stateno != 5070)
trigger1 = time=0 
attr = S, NA        
animtype = Light              
damage = 40, 0    
hitsound = s5, 2                 
guardsound = s6, 0   
sparkno = s6000             
sparkxy = -10, -67  
guard.sparkno = s6003
guard.sparkxy = 0, -67    
guardflag = M                   
hitflag = MA         
animtype = Light     
air.animtype = up           
guardflag = M                   
hitflag = MAF           
priority = 7, Hit                                              
pausetime = 13,13                                        
ground.slidetime = 9                                       
ground.hittime = 9                                         
ground.velocity = -6.3                                    
air.velocity = -3.5,-6                                    
guard.velocity = -6.1                                      
guard.pausetime = 11,11                                
guard.slidetime = 10                                       
guard.hittime = 10                                         
guard.ctrltime = 10                                         
ground.cornerpush.veloff = 0                      
air.cornerpush.veloff = 0                             
guard.cornerpush.veloff = 0                       
yaccel = .5    
id=200     

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 220, snd]
type=playsnd
trigger1= animelem=1 && random<500
value=200,1
channel=0             

[State 220, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;FAR B
[Statedef 225]
type    = S                      
movetype= A                    
physics = S                     
juggle  = 10              
velset = 0,0                    
ctrl = 0                       
anim = 225  
poweradd= 0                               
sprpriority = 2               

[State 225, 1]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
triggerall = (p2stateno != 5070)
trigger1 = time= 0
attr = S, NA                    
damage = 40, 0     
hitsound = s5, 2                  
guardsound = s6, 0  
sparkno = s6000
sparkxy = -10, -85 
guard.sparkno = s6003
guard.sparkxy = 0, -85                            
animtype = Light     
air.animtype = up           
guardflag = M                   
hitflag = MAF           
priority = 7, Hit                                              
pausetime = 13,13                                        
ground.slidetime = 9                                       
ground.hittime = 9                                         
ground.velocity = -6.3                                    
air.velocity = -3.5,-6                                    
guard.velocity = -6.1                                      
guard.pausetime = 11,11                                
guard.slidetime = 10                                       
guard.hittime = 10                                         
guard.ctrltime = 10                                         
ground.cornerpush.veloff = 0                      
air.cornerpush.veloff = 0                             
guard.cornerpush.veloff = 0                        
yaccel = .5       
id=200

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 225, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 2       

[State 225, snd]
type=playsnd
trigger1= animelem=1 && random<500
value=200,1
channel=0         

[State 225, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1	
;---------------------------------------------------------------------------
;CLOSE D
[Statedef 230]
type    = S                      
movetype= A                    
physics = S                     
juggle  = 10               
velset = 0,0                    
ctrl = 0                       
anim = 230  
poweradd= 0                               
sprpriority = 2               

[State 230, 1]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
triggerall = (p2stateno != 5070)
trigger1 = AnimElem = 3
attr = S, NA    
animtype = Hard
damage = 65, 0   
guardflag = M                   
hitflag = MAF
hitsound = s5, 3                  
guardsound = s6, 0  
sparkno = s6001            
sparkxy = -10, -68  
guard.sparkno = s6004
guard.sparkxy = 0, -68 
priority = 4, Hit
pausetime = 8,12
ground.slidetime = 0
ground.hittime = 19
ground.velocity = 0
air.velocity = -3.5,-6
guard.velocity = 0
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5  
id=200

[State 230, 1]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
triggerall = (p2stateno != 5070)
trigger1 = AnimElem = 6
attr = S, NA  
guardflag = M                  
hitflag = MAF    
animtype = hard
damage = 20, 0   
hitsound = s5, 3                  
guardsound = s6, 0
sparkno = s6000    
sparkxy = -10, -85  
guard.sparkno = s6004
guard.sparkxy = 0, -85             
priority = 4, Hit
pausetime = 12,13
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -11.1796875
air.velocity = -3.5,-6
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5  
id=200

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 230, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 3 

[State 230, snd]
type=playsnd
trigger1= animelem=1 
value=200,2
channel=0     

[State 230, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1    
;---------------------------------------------------------------------------
;FAR D
[Statedef 235]
type    = S                      
movetype= A                    
physics = S                     
juggle  = 10            
velset = 0,0                    
ctrl = 0                       
anim = 235  
poweradd= 0                               
sprpriority = 2                

[State 235, 1]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
triggerall = (p2stateno != 5070)
trigger1 = time=0 
damage = 70, 0   
hitsound = s5, 3                  
guardsound = s6, 0 
sparkno = s6001
sparkxy = -10, -108  
guard.sparkno = s6004
guard.sparkxy = 0, -108               
attr = S, NA    
guardflag = M                  
hitflag = MAF  
animtype = hard 
priority = 4, Hit
pausetime = 12,13
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -11.1796875
air.velocity = -3.5,-6
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5  
id=200

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 235, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 3 

[State 235, snd]
type=playsnd
trigger1= animelem=1 
value=200,2
channel=0    

[State 235, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1         		 
;--------------------------------------------------------------------------- 
;STAND CD
[Statedef 240]
type    = S                      
movetype= A                    
physics = S                     
juggle  = 10             
velset = 0,0                    
ctrl = 0                       
anim = 240  
poweradd= 0                               
sprpriority = 2  

[State 240,voice]
type = PlaySnd
trigger1 = animelem = 1
value = 200,0
volume = 200
channel = 0   

[State 240,1]
type = PosAdd
trigger1 = AnimElem = 3
x = 2 

[State 240,2]
type = PosAdd
trigger1 = AnimElem = 4
x = 4 

[State 240,2]
type = PosAdd
trigger1 = AnimElem = 5
x = 6 

[State 240,2]
type = PosAdd
trigger1 = AnimElem = 6
x = 6 

[State 240,2]
type = PosAdd
trigger1 = AnimElem = 7
x = 6 

[State 240,2]
type = PosAdd
trigger1 = AnimElem = 8
x = 6 

[State 240,2]
type = PosAdd
trigger1 = AnimElem = 9
x = 6 

[State 240,2]
type = PosAdd
trigger1 = AnimElem = 10
x = 6 

[State 240,4]
type = PosAdd
trigger1 = AnimElem = 11
x = 8   

[State 240,5]
type = PosAdd
trigger1 = Animelem = 15
x = 6 

[State 240,5]
type = PosAdd
trigger1 = Animelem = 16
x = 6  

[State 240,5]
type = PosAdd
trigger1 = Animelem=17
x = 6   

[State 240,6]
type = PosAdd
trigger1 = AnimElem = 18
x = 4     

[State 240,7]
type = PosAdd
trigger1 = AnimElem = 19
x = 3    

[State 240,8]
type = PosAdd
trigger1 = AnimElem = 20
x = 2  

[State 240, 9]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
triggerall = (p2stateno != 5070)
trigger1 = time = 0 
damage = 90, 0   
hitsound = s5, 4                
guardsound = s6, 0  
sparkno = s6002  
sparkxy = -10, -62    
guard.sparkno = s6004
guard.sparkxy = 0, -62           
attr = S, NA  
guardflag = M                  
hitflag = MAF  
priority = 5, Hit                                          
pausetime = 11,13                                                                  
ground.velocity = -4,-8                            
air.velocity = -4,-7                              
guard.velocity = -12                                  
guard.pausetime = 11,11                            
guard.slidetime = 22                               
guard.hittime = 22                             
guard.ctrltime = 22                                
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0                  
yaccel = .5                                                
fall = 1
fall.recover = 0

[State 240, 2]
type = PlaySnd
trigger1 = AnimElem = 10
value = 0, 4 
channel = 1

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 240, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1     
;---------------------------------------------------------------------------
;GUARD CANCEL CD
[Statedef 245]
type    = S                      
movetype= A                    
physics = S                     
juggle  = 10             
velset = 0,0                    
ctrl = 0                       
anim = 245  
poweradd= -1000                               
sprpriority = 2 

[State 240, 9]
type = HitDef
trigger1 = time = 0 
damage = 40, 0   
animtype=diagup
hitsound = s5, 4                
guardsound = s6, 0  
sparkno = s6002  
sparkxy = -10, -62 
guard.sparkno = s6004
guard.sparkxy = 0, -62              
attr = S, NA  
guardflag = M                  
hitflag = MAF  
priority = 5, Hit                                          
pausetime = 11,13                                                                  
ground.velocity = -4,-8                            
air.velocity = -4,-7                              
guard.velocity = -12                                  
guard.pausetime = 11,11                            
guard.slidetime = 22                               
guard.hittime = 22                             
guard.ctrltime = 22                                
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0                  
yaccel = .5                                                
fall = 1
fall.recover = 0
getpower= 0,0

[State 245, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1    
;---------------------------------------------------------------------------
;CROUCH A
[Statedef 400]
type    = C                      
movetype= A                    
physics = S                                
velset = 0,0                    
ctrl = 0                       
anim = 400  
poweradd= 0                               
sprpriority = 2 
juggle =10     
      

[State 400, 1]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
triggerall = (p2stateno != 5070)
trigger1 = time=0 
attr = C, NA                    
damage = 40, 0   
hitsound = s5, 0                
guardsound = s6, 0 
sparkno = s6000    
sparkxy = -10, -48 
guard.sparkno = s6003
guard.sparkxy = 0, -48                          
animtype = Light     
air.animtype = up           
guardflag = M                   
hitflag = MAF            
priority = 7, Hit                                              
pausetime = 13,13                                        
ground.slidetime = 9                                       
ground.hittime = 9                                         
ground.velocity = -6.3                                    
air.velocity = -3.5,-6                                    
guard.velocity = -6.1                                      
guard.pausetime = 11,11                                
guard.slidetime = 10                                       
guard.hittime = 10                                         
guard.ctrltime = 10                                         
ground.cornerpush.veloff = 0                      
air.cornerpush.veloff = 0                         
guard.cornerpush.veloff = 0                      
yaccel = .5         
id=200

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1  

[State 400, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 0        
channel = 1

[State 400, snd]
type=playsnd
trigger1= animelem=1 && random<500
value=200,1
channel=0    

[State 400, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;--------------------------------------------------------------------------- 
;CROUCH C
[Statedef 410]
type    = C                      
movetype= A                    
physics = S                     
juggle  = 10               
velset = 0,0                    
ctrl = 0                       
anim = 410  
poweradd= 0                               
sprpriority = 2             

[State 410, 1]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
triggerall = (p2stateno != 5070)
trigger1 = time = 0
attr = C, NA    
animtype = hard 
damage = 70, 0 
guardflag = M                   
hitflag = MAF  
priority = 4, Hit
pausetime = 13,13
hitsound = s5, 1               
guardsound = s6, 0 
sparkno = s6001    
sparkxy = -10, -97 
guard.sparkno = s6004
guard.sparkxy = 0, -97            
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -12
air.velocity = -3.5,-6
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5 
id=200

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 410, snd]
type=playsnd
trigger1= animelem=1 
value=200,2
volume = 200
channel=0  

[State 410, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 1  
channel = 1

[State 410, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1     
;---------------------------------------------------------------------------
;CROUCH B
[Statedef 420]
type    = C                      
movetype= A                    
physics = S                     
juggle  = 10              
velset = 0,0                    
ctrl = 0                       
anim = 420  
poweradd= 0                               
sprpriority = 2                 

[State 420, 1]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
triggerall = (p2stateno != 5070)
trigger1 = time=0 
attr = C, NA                    
damage = 40, 0   
hitsound = s5, 2                  
guardsound = s6, 0 
sparkno = s6000     
sparkxy = -10, -10 
guard.sparkno = s6003
guard.sparkxy = 0, -10                         
animtype = Light     
air.animtype = up           
guardflag = L                  
hitflag = MAF            
priority = 7, Hit                                              
pausetime = 13,13                                        
ground.slidetime = 9                                       
ground.hittime = 9                                         
ground.velocity = -6.3                                    
air.velocity = -3.5,-6                                    
guard.velocity = -6.1                                      
guard.pausetime = 11,11                                
guard.slidetime = 10                                       
guard.hittime = 10                                         
guard.ctrltime = 10                                         
ground.cornerpush.veloff = 0                      
air.cornerpush.veloff = 0                             
guard.cornerpush.veloff = 0                       
yaccel = .5      
id=200

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 420, snd]
type=playsnd
trigger1= animelem=1 && random<500
value=200,1
channel=0  

[State 420, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 2        

[State 420, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;--------------------------------------------------------------------------- 
;CROUCH D
[Statedef 430]
type    = C                      
movetype= A                    
physics = S                     
juggle  = 10              
velset = 0,0                    
ctrl = 0                       
anim = 430  
poweradd= 0                               
sprpriority = 2  

[State 430,2]
type = PosAdd
trigger1 = AnimElem = 2
x = 6 

[State 430,3]
type = PosAdd
trigger1 = AnimElem = 3
x = 6      

[State 430,4]
type = PosAdd
trigger1 = AnimElem = 4
x = 6  

[State 430,5]
type = PosAdd
trigger1 = AnimElem = 5
x = 6   

[State 430,6]
type = PosAdd
trigger1 = AnimElem = 6
x = 6  

[State 430,7]
type = PosAdd
trigger1 = AnimElem = 7
x = 6       

[State 430,9]
type = PosAdd
trigger1 = AnimElem = 9
x = -6  

[State 430,10]
type = PosAdd
trigger1 = AnimElem = 10
x = -6    

[State 430,11]
type = PosAdd
trigger1 = AnimElem = 11
x = -6 

[State 430,12]
type = PosAdd
trigger1 = AnimElem = 12
x = -6 

[State 430,13]
type = PosAdd
trigger1 = AnimElem = 13
x = -6 

[State 430,14]
type = PosAdd
trigger1 = AnimElem = 14
x = -6                               

[State 430, 1]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
triggerall = (p2stateno != 5070)
trigger1 = time = 0
attr = C, NA    
animtype = hard
airtype = high
groundtype = trip  
damage = 70, 0   
hitsound = s5, 3                 
guardsound = s6, 0 
sparkno = s6001
sparkxy = -10, -8  
guard.sparkno = s6004
guard.sparkxy = 0, -8                
priority = 4, Hit
guardflag = L                  
hitflag = MAF
pausetime = 13,13
ground.slidetime = 27
ground.hittime = 27
ground.velocity = -1.75,-10
air.velocity = -1.75,-10
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .8  
fall = 1
fall.recover = 0

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 430, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 3 

[State 400, snd]
type=playsnd
trigger1= animelem=1
value=200,2
channel=0  

[State 430, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1     

;JUMP A
[Statedef 600]
type    = A                      
movetype= A                    
physics = A                     
juggle  = 10          
ctrl = 0                       
anim = 600  
poweradd= 0                               
sprpriority = 2                 

[State 600, 1]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
triggerall = (p2stateno != 5070)
trigger1 = time=0 
attr = A, NA                    
damage = 40, 0   
hitsound = s5, 0                  
guardsound = s6, 0    
sparkno = s6000            
sparkxy = -10, -58    
guard.sparkno = s6003
guard.sparkxy = 0, -58              
animtype = Light     
air.animtype = up           
guardflag = HA                   
hitflag = MAF             
priority = 7, Hit                                               
pausetime = 11,13                                          
ground.slidetime = 9                                       
ground.hittime = 9                                          
ground.velocity = -6.1                                    
air.velocity = -3.5,-6                                      
guard.velocity = -6.1                                      
guard.pausetime = 11,11                                
guard.slidetime = 10                                       
guard.hittime = 10                                          
guard.ctrltime = 10                                         
ground.cornerpush.veloff = 0                       
air.cornerpush.veloff = 0                             
guard.cornerpush.veloff = 0                   
yaccel = .5  
id=200

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 600, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 0    

[State 600, snd]
type=playsnd
trigger1= animelem=1 && random<500
value=200,1
channel=0           

[State 600, 3]
type = ChangeState
Trigger1 = vel y > 0 && pos y >= 0
value = 47
ctrl = 1  
;---------------------------------------------------------------------------
;NORMAL JUMP B
[Statedef 610]
type    = A                      
movetype= A                    
physics = A                    
juggle  = 10            
ctrl = 0                       
anim = 610  
poweradd= 0                               
sprpriority = 2                 

[State 610, 1]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
triggerall = (p2stateno != 5070)
trigger1 = time=0 
attr = A, NA                    
damage = 40, 0   
hitsound = s5, 2                  
guardsound = s6, 0  
sparkno = s6000              
sparkxy = -10, -60 
guard.sparkno = s6003
guard.sparkxy = 0, -60               
animtype = Light     
air.animtype = up           
guardflag = HA                   
hitflag = MAF              
priority = 7, Hit                                               
pausetime = 11,13                                          
ground.slidetime = 9                                       
ground.hittime = 9                                          
ground.velocity = -6.1                                    
air.velocity = -3.5,-6                                      
guard.velocity = -6.1                                      
guard.pausetime = 11,11                                
guard.slidetime = 10                                       
guard.hittime = 10                                          
guard.ctrltime = 10                                         
ground.cornerpush.veloff = 0                       
air.cornerpush.veloff = 0                             
guard.cornerpush.veloff = 0                          
yaccel = .5      
id=200

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 610, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 2  

[State 610, snd]
type=playsnd
trigger1= animelem=1 && random<500
value=200,1
channel=0          

[State 610, 3]
type = ChangeState
Trigger1 = vel y > 0 && pos y >= 0
value = 47
ctrl = 1  
;---------------------------------------------------------------------------
;SHORT JUMP B
[Statedef 615]
type    = A                      
movetype= A                    
physics = A                     
juggle  = 10                                
ctrl = 0                       
anim = 615  
poweradd= 0                               
sprpriority = 2                 

[State 615, 1]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
triggerall = (p2stateno != 5070)
trigger1 = time=0 
attr = A, NA                    
damage = 40, 0   
hitsound = s5, 2                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard 
sparkno = s6000   
sparkxy = -10, -51 
guard.sparkno = s6003
guard.sparkxy = 0, -51              
animtype = Light     
air.animtype = up           
guardflag = HA                   
hitflag = MAF              
priority = 7, Hit                                               
pausetime = 11,13                                          
ground.slidetime = 9                                       
ground.hittime = 9                                          
ground.velocity = -6.1                                    
air.velocity = -3.5,-6                                      
guard.velocity = -6.1                                      
guard.pausetime = 11,11                                
guard.slidetime = 10                                       
guard.hittime = 10                                          
guard.ctrltime = 10                                         
ground.cornerpush.veloff = 0                      
air.cornerpush.veloff = 0                             
guard.cornerpush.veloff = 0                         
yaccel = .5  
id=200

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 615, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 2     

[State 615, snd]
type=playsnd
trigger1= animelem=1 && random<500
value=200,1
channel=0   

[State 615, 3]
type = ChangeState
Trigger1 = vel y > 0 && pos y >= 0
value = 47
ctrl = 1  
;---------------------------------------------------------------------------
;NORMAL JUMP C
[Statedef 620]
type    = A                      
movetype= A                    
physics = A                     
juggle  = 0                               
ctrl = 0                       
anim = 620  
poweradd= 0                               
sprpriority = 2                 

[State 620, 1]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
triggerall = (p2stateno != 5070)
trigger1 = time=0 
attr = A, NA                    
damage = 70, 0   
hitsound = s5, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard   
sparkno = s6001
sparkxy = -10, -64   
guard.sparkno = s6004
guard.sparkxy = 0, -64            
animtype = Hard    
air.animtype = up           
guardflag = HA                   
hitflag = MAF             
priority = 4, Hit                                                    
pausetime = 11,13
ground.slidetime = 9
ground.hittime = 9
ground.velocity = -5.796875
air.velocity = -3.5,-6
guard.velocity = -6.1
guard.pausetime = 11,11
guard.slidetime = 17
guard.hittime = 10
guard.ctrltime = 10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5    
id=200

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 620, snd]
type=playsnd
trigger1= animelem=1
value=200,2
channel=0 

[State 620, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 1          

[State 620, 3]
type = ChangeState
Trigger1 = vel y > 0 && pos y >= 0
value = 47
ctrl = 1  
;---------------------------------------------------------------------------
:SHORT JUMP C
[Statedef 625]
type    = A                      
movetype= A                    
physics = A                     
juggle  = 10                                 
ctrl = 0                       
anim = 625  
poweradd= 0                               
sprpriority = 2                 

[State 625, 1]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
trigger1 = time=0 
attr = A, NA                    
damage = 70, 0   
hitsound = s5, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard 
sparkno = s6001
sparkxy = -10, -20  
guard.sparkno = s6004
guard.sparkxy = 0, -20               
animtype = Hard   
air.animtype = up           
guardflag = HA                   
hitflag = MAF            
priority = 4, Hit                                                    
pausetime = 11,13
ground.slidetime = 9
ground.hittime = 9
ground.velocity = -5.796875
air.velocity = -3.5,-6
guard.velocity = -6.1
guard.pausetime = 11,11
guard.slidetime = 17
guard.hittime = 10
guard.ctrltime = 10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5        
id=200

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 625, snd]
type=playsnd
trigger1= animelem=1
value=200,2
channel=0       
 
[State 625, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 1   

[State 625, 3]
type = ChangeState
Trigger1 = vel y > 0 && pos y >= 0
value = 47
ctrl = 1 
;---------------------------------------------------------------------------
;NORMAL JUMP D
[Statedef 630]
type    = A                      
movetype= A                    
physics = A                     
juggle  = 10                                 
ctrl = 0                       
anim = 630  
poweradd= 0                               
sprpriority = 2                 

[State 630, 1]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
triggerall = (p2stateno != 5070)
trigger1 = time=0 
attr = A, NA                    
damage = 70, 0   
hitsound = s5, 3                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard  
sparkno = s6001 
sparkxy = -10, -77 
guard.sparkno = s6004
guard.sparkxy = 0, -77               
animtype = hard     
air.animtype = up           
guardflag = HA                  
hitflag = MAF            
priority = 4, Hit                                                    
pausetime = 11,13
ground.slidetime = 9
ground.hittime = 9
ground.velocity = -5.796875
air.velocity = -3.5,-6
guard.velocity = -6.1
guard.pausetime = 11,11
guard.slidetime = 17
guard.hittime = 10
guard.ctrltime = 10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5      
id=200 

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 630, snd]
type=playsnd
trigger1= animelem=1
value=200,2
channel=0   

[State 630, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 3        

[State 630, 3]
type = ChangeState
Trigger1 = vel y > 0 && pos y >= 0
value = 47
ctrl = 1 
;---------------------------------------------------------------------------
;SHORT JUMP D
[Statedef 635]
type    = A                      
movetype= A                    
physics = A                     
juggle  = 10                               
ctrl = 0                       
anim = 635  
poweradd= 0                               
sprpriority = 2                 

[State 635, 1]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
triggerall = (p2stateno != 5070)
trigger1 = time=0 
attr = A, NA                    
damage = 70, 0   
hitsound = s5, 3                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard 
sparkno = s6001
sparkxy = -10, -50   
guard.sparkno = s6004
guard.sparkxy = 0, -50                
animtype = hard     
air.animtype = up           
guardflag = HA                   
hitflag = MAF            
priority = 4, Hit                                                    
pausetime = 11,13
ground.slidetime = 9
ground.hittime = 9
ground.velocity = -5.796875
air.velocity = -3.5,-6
guard.velocity = -6.1
guard.pausetime = 11,11
guard.slidetime = 17
guard.hittime = 10
guard.ctrltime = 10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5   
id=200

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 635, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 3              

[State 635, 3]
type = ChangeState
Trigger1 = vel y > 0 && pos y >= 0
value = 47
ctrl = 1 
;---------------------------------------------------------------------------
;JUMP CD
[Statedef 640]
type    = A                      
movetype= A                    
physics = A                     
juggle  = 10                                  
ctrl = 0                       
anim = 640  
poweradd= 0                               
sprpriority = 2   

[State 640,voice]
type = PlaySnd
trigger1 = animelem = 1
value = 200,0
volume = 200
channel = 0  

[State 640, 9]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
triggerall = (p2stateno != 5070)
trigger1 = time = 0 
damage = 80, 0   
hitsound = s5, 4                 ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
sparkno = s6001
sparkxy = -10, -26 
guard.sparkno = s6004
guard.sparkxy = 0, -26  
attr = A, NA  
guardflag = M                   
hitflag = MAF    
priority = 5, Hit                                          
pausetime = 11,13                                                                  
ground.velocity = -4,-8                            
air.velocity = -4,-7                              
guard.velocity = -12                                  
guard.pausetime = 11,11                            
guard.slidetime = 22                               
guard.hittime = 22                             
guard.ctrltime = 22                                
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0                   
yaccel = .5                                                
fall = 1
fall.recover = 0

[State -2, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 640, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 4 

[State 640, 3]
type = ChangeState
Trigger1 = vel y > 0 && pos y >= 0
value = 47
ctrl = 1   
;---------------------------------------------------------------------------
; ROLLS
;--------------------------------------------------------------------------- 
;FORWARD ROLL
[Statedef 710, Roll]
type    = S                      
movetype = I                      
physics = N  
ctrl = 0                         
anim = 710 
velset=0,0

[State 0, Pause]
type = Pause
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = time = 0
time = 3
movetime = 3
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = time = 0
time = 3
add = 100,100,100
mul = 256,256,256
sinadd = -80,-80,-80,4
invertall = 0
color = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = AnimElem = 1
value = -1000

[State 710]
type = PlaySnd
trigger1 = animelem= 1
value = 700,0
channel= 0

[State 710]
type = playerpush
trigger1 = 1
value = 0

[State 710: NotHitBy]
type = NotHitBy
trigger1 = (Time < 22)
value = , NA, SA, HA, NP, SP, HP

[State 710: VelSet]
type = VelSet
trigger1 = (Time = 7)
x = 5

[State 710: VelSet]
type = VelAdd
triggerall = prevstateno = 100
trigger1 = (Time = 7)
x = 2

[State 710: VelSet]
type = VelSet
trigger1 = (Time = 24)
x = 0

[State 710]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;BACKWARDS ROLL
[Statedef 711, Roll]
type    = S                      
movetype = I                      
physics = N  
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 711 
velset=0,0

[State 0, Pause]
type = Pause
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = time = 0
time = 3
movetime = 3
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = time = 0
time = 3
add = 100,100,100
mul = 256,256,256
sinadd = -80,-80,-80,4
invertall = 0
color = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = AnimElem = 1
value = -1000

[State 711]
type = PlaySnd
trigger1 = animelem= 1
value = 700,0
channel= 0

[State 711]
type = playerpush
trigger1 = 1
value = 0

[State 711: NotHitBy]
type = NotHitBy
trigger1 = (Time < 22)
value = , NA, SA, HA, NP, SP, HP

[State 711: VelSet]
type = VelSet
trigger1 = (Time = 7)
x = -5

[State 711: VelSet]
type = VelSet
trigger1 = (Time = 24)
x = 0

[State 711]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; THROWS
;---------------------------------------------------------------------------
;CROW'S WING
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, NT          
hitflag = M-         
priority = 1, Miss   
sparkno = -1         
p1sprpriority = 1                     
p1facing = 1
p2facing = 1          
p1stateno = 801       
p2stateno = 811     
guard.dist = 0       
fall = 1              
ID = 800

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[StateDef 801]
MoveType = A
VelSet = 0,0
Anim = 801
SprPriority = 2
ctrl = 0

[State 801]
type = PlaySnd
trigger1 = animelem= 10
value = 5, 1

[State 801, fat]
type = Width
trigger1 = animelem = 10, < 0
edge = 64

[State 810, bind]
type = TargetBind
trigger1 = animelemtime(10) < 0
ID = 800
pos = 25, 0

[State 801, stay on the ground]
type = BindToTarget
trigger1 = animelemtime(10) < 0
ID = 800
pos = 25, 0, Foot

[State 801, fly p2]
type = TargetState
trigger1 = animelem = 10
value = 812
ID = 800

[State 801, hitspark]
type = Explod
trigger1 = animelem = 10
anim = 6002
pos = 18, -93
ontop = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 801, Damage]
Type = TargetLifeAdd
Trigger1 = animelem = 10 
value = -100
ID = 800
absolute = 1

[State 801, go x]
type = VelSet
trigger1 = animelem = 11
x = -2
y = -7

[State 801, go x]
type = VelAdd
trigger1 = animelemtime(11) > 0
y = .5

[State 801, 10]
type = ChangeState
Trigger1 = vel y > 0 && pos y >= 0
value = 1031
ctrl = 1 

[StateDef 811]
Type = A
MoveType =  H
VelSet = 0, 0
Ctrl = 0

[State 811, Anim]
Type = ChangeAnim2
Trigger1 = !Time
Value = 811

[State 811, 1]
type = ChangeAnim2
Trigger1 = Time = 0
trigger1 = Name = "Gill"
trigger1 = Authorname = "GM"
trigger1 = Facing = -1
value = 10811

[State 811, 2]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050

[StateDef 812]
Type = A
MoveType =  H
Ctrl = 0

[State 812, Anim]
Type = ChangeAnim2
trigger1 = Time = 0
value = 812

[State 812, 1]
type = ChangeAnim2
Trigger1 = Time = 0
trigger1 = Name = "Gill"
trigger1 = Authorname = "GM"
trigger1 = Facing = -1
trigger1 = SelfAnimExist(15030)
value = 15030

[State 812, go x]
type = VelSet
trigger1 = time = 0
x = -2.9090
y = -9.9595

[State 801, go x]
type = VelAdd
trigger1 = time > 0
y = .59

[State 812, 10]
type = SelfState
Trigger1 = vel y > 0 && pos y >= 0
value = 5100

[State 812, 2] 
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
trigger1 = Command = "recovery"
value = 5200 
;---------------------------------------------------------------------------
;SWAN'S CIRCLE
[Statedef 805]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 805, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, NT          
hitflag = M-         
priority = 1, Miss   
sparkno = -1         
p1sprpriority = 1                     
p1facing = 1
p2facing = 1          
p1stateno = 820       
p2stateno = 821     
guard.dist = 0       
fall = 1              
ID = 805

[State 805, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[StateDef 820]
MoveType = A
VelSet = 0,0
Anim = 820
SprPriority = 2
ctrl = 0

[State 820]
type = PlaySnd
trigger1 = animelem= 1
value = 5, 9

[State 805, hitspark]
type = Explod
trigger1 = animelem = 1
anim = 6006
pos = 11, -85
postype = p2
ontop = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999
sprpriority = -4

[State 820, 3]
type = SprPriority
trigger1 = AnimElem = 1
value = -1

[State 820, 3]
type = SprPriority
trigger1 = AnimElem = 2
value = 3

[State 820]
type = PlaySnd
trigger1 = animelem= 7
value = 5, 1

[State 820, fat]
type = Width
trigger1 = animelem = 8, < 0
edge = 64

[State 820, bind]
type = TargetBind
trigger1 = animelemtime(2) < 0
ID = 805
pos = -7, 0

[State 820, bind]
type = TargetBind
trigger1 = animelemtime(3) < 0
ID = 805
pos = 2, 8

[State 820, bind]
type = TargetBind
trigger1 = animelemtime(4) < 0
ID = 805
pos = -2, 5

[State 820, bind]
type = TargetBind
trigger1 = animelemtime(5) < 0
ID = 805
pos = -5, 5

[State 820, bind]
type = TargetBind
trigger1 = animelemtime(6) < 0
ID = 805
pos = -7, 5

[State 820, bind]
type = TargetBind
trigger1 = animelemtime(6) < 0
ID = 805
pos = 17, 86

[State 820, bind]
type = TargetBind
trigger1 = animelemtime(6) < 0
ID = 805
pos = -24, 86

[State 820, bind]
type = TargetBind
trigger1 = animelemtime(7) < 0
ID = 805
pos = -29, 0

[State 820, bind]
type = TargetBind
trigger1 = animelemtime(7) < 0
ID = 805
pos = -29, 0

[State 820, stay on the ground]
type = BindToTarget
trigger1 = animelemtime(7) < 0
ID = 805
pos = 0, 0, Foot

[State 820, hitspark]
type = Explod
trigger1 = animelem = 7
anim = 6002
pos = -9, -74
ontop = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 820, Damage]
Type = TargetLifeAdd
Trigger1 = animelem = 7 
value = -100
ID = 805
absolute = 1

[State 820, fly p2]
type = TargetState
trigger1 = animelem = 8
value = 822
ID = 805

[State 820, go x]
type = VelSet
trigger1 = animelem = 8
x = 2
y = -7

[State 820, go x]
type = VelAdd
trigger1 = animelemtime(8) > 0
y = .5

[State 820, go x]
type = VelAdd
trigger1 = animelemtime(8) > 0
x = .1

[State 820, 10]
type = ChangeState
Trigger1 = vel y > 0 && pos y >= 0
value = 1032
ctrl = 1 

[StateDef 1032]
type = s
MoveType = A
VelSet = 0, 0
Anim = 47
SprPriority = 2 
ctrl=0

[State 1032, turn]
type = Turn
trigger1 = !time

[State 1032, 0]
type = PosSet
trigger1 = !time
y = 0

[State 1032, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1  

[StateDef 821]
Type = A
MoveType =  H
VelSet = 0, 0
Ctrl = 0

[State 821, Anim]
Type = ChangeAnim2
Trigger1 = !Time
Value = 821

[State 821, 1]
type = ChangeAnim2
Trigger1 = Time = 0
trigger1 = Name = "Gill"
trigger1 = Authorname = "GM"
trigger1 = Facing = -1
value = 10821

[State 821, 2]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050

[StateDef 822]
Type = A
MoveType =  H
Ctrl = 0

[State 822, Anim]
Type = ChangeAnim2
Trigger1 = !Time
Value = 822

[State 822, 1]
type = ChangeAnim2
Trigger1 = Time = 0
trigger1 = Name = "Gill"
trigger1 = Authorname = "GM"
trigger1 = Facing = -1
value = 10822

[State 822, 0]
type = PosSet
trigger1 = !time
y = -15

[State 822, go x]
type = VelSet
trigger1 = animelem = 1
y = 6.9090

[State 812 grav]
type = Gravity
trigger1 = animelem = 1, > 0

[State 822, 10]
type = SelfState
Trigger1 = vel y > 0 && pos y >= 0
value = 5100
;---------------------------------------------------------------------------
; SPECIAL MOVES
;---------------------------------------------------------------------------
;TATSUO KYAKU
[Statedef 1000]
type    = S                      
movetype= A                    
physics = S                     
velset = 0,0                    
ctrl = 0      
juggle=7                 
anim = 1000  
poweradd= 90                              
sprpriority = 2 

[State -3, Super Afterimage]
type=afterimage
trigger1= time = 0
time=2
timegap=1
framegap=4
length=9
trans=add1

[State 1000, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(13) < 0
time = 4

[State 1000,voice]
type = PlaySnd
trigger1 = animelem = 1
value = 1000,0
volume = 200
channel = 0

[State 1000,1]
type = PosAdd
trigger1 = AnimElem = 2
x = 7

[State 1000,2]
type = PosAdd
trigger1 = AnimElem = 3
x = 2

[State 1000,2]
type = PosAdd
trigger1 = AnimElem = 4
x = 2

[State 1000,2]
type = PosAdd
trigger1 = AnimElem = 5
x = 1

[State 1000, 1]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
triggerall = (p2stateno != 5070)
trigger1 = AnimElem = 7 
attr = S, SA    
animtype = Hard
damage = 30, 5   
guardflag = M                   
hitflag = MAF
hitsound = s5, 1                  ;Sound to play on hit
guardsound = s6, 1                ;Sound to play on guard
sparkno = s6002
sparkxy = -10, -49 
guard.sparkno = s6005
guard.sparkxy = 0, -49   
priority = 4, Hit
pausetime = 10,10
ground.slidetime = 0
ground.hittime = 17
ground.velocity = 0
air.velocity = -3.5,-6
guard.velocity = 0
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.fall = 1
yaccel = .5 

[State 1000, 1]
type = HitDef
triggerall = p2stateno != 5040 
triggerall = (p2stateno != [154,155])
triggerall = (p2stateno != 5070)
trigger1 = AnimElem = 12
attr = S, SA    
animtype = hard
damage = 40, 5   
guardflag = M  
hitflag = MAF 
hitsound = s5, 1                 ;Sound to play on hit
guardsound = s6, 1                ;Sound to play on guard
sparkno = s6002
sparkxy = -10, -86
guard.sparkno = s6005
guard.sparkxy = 0, -86  
priority = 4, Hit
pausetime = 9,10
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -9.1796875
air.velocity = -3.5,-6
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.fall = 1
yaccel = .5  

[State 1000, Juggle Killer (Thanks Vans)]
type = VarSet
trigger1 = animelem = 12 && movehit && P2Statetype = A
var(16) = 0
ignorehitpause = 1

[State 1000, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1   
;---------------------------------------------------------------------------
:KAZAGURUMA KYAKU
[Statedef 1005]
type    = S                      
movetype= A                    
physics = S                     
juggle  = 40              
velset = 0,0                    
ctrl = 0                       
anim = 1005 
poweradd= 0                               
sprpriority = 2

[State 1005,voice]
type = PlaySnd
trigger1 = animelem = 1
value = 1000,1
volume = 200
channel = 0 

[State 1005,1]
type = PosAdd
trigger1 = AnimElem = 1
x = 4

[State 1005,1]
type = PosAdd
trigger1 = AnimElem = 2
x = 4

[State 1005,1]
type = PosAdd
trigger1 = AnimElem = 3
x = 2

[State 1005,1]
type = PosAdd
trigger1 = AnimElem = 3
x = 2

[State 1005,1]
type = PosAdd
trigger1 = AnimElem = 4
x = 2

[State 1005,1]
type = PosAdd
trigger1 = AnimElem = 5
x = 2

[State 1005,1]
type = PosAdd
trigger1 = AnimElem = 7
x = 6

[State 1005,1]
type = PosAdd
trigger1 = AnimElem = 8
x = 4

[State 1005,1]
type = PosAdd
trigger1 = AnimElem = 9
x = 9

[State 1005,1]
type = PosAdd
trigger1 = AnimElem = 10
x = 8

[State 1005,1]
type = PosAdd
trigger1 = AnimElem = 11
x = 14

[State 1005,1]
type = PosAdd
trigger1 = AnimElem = 16
x = -16

[State 1005, 1]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
trigger1 = AnimElem = 7
attr = S, SA    
animtype = Hard
damage = 40, 5   
guardflag = M                   
hitflag = MA
hitsound = s5, 1                  ;Sound to play on hit
guardsound = s6, 1                ;Sound to play on guard
priority = 4, Hit
pausetime = 9,10
sparkxy = -10, -72 
sparkno = s6002
guard.sparkno = s6005
guard.sparkxy = 0, -72 
ground.slidetime = 0
ground.hittime = 17
ground.velocity = 0
air.velocity = -3.5,-6
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.fall = 1
yaccel = .5  

[State 1005, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 
;---------------------------------------------------------------------------
;Kokoro Totsu Kyaku
[Statedef 1010]
type    = S                      
movetype= A                    
physics = S                     
juggle  = 10               
velset = 0,0                    
ctrl = 0                       
anim = 1010  
poweradd= 40                               
sprpriority = 2  

[State 1010,voice]
type = PlaySnd
trigger1 = animelem = 1
value = 1000,2
volume = 200
channel = 0   

[State 1010,1]
type = PosAdd
trigger1 = AnimElem = 3
x = 2 
[State 1010,2]
type = PosAdd
trigger1 = AnimElem = 4
x = 4 
[State 1010,2]
type = PosAdd
trigger1 = AnimElem = 5
x = 6 
[State 1010,2]
type = PosAdd
trigger1 = AnimElem = 6
x = 6 
[State 1010,2]
type = PosAdd
trigger1 = AnimElem = 7
x = 6 
[State 1010,2]
type = PosAdd
trigger1 = AnimElem = 8
x = 6 
[State 1010,2]
type = PosAdd
trigger1 = AnimElem = 9
x = 6 
[State 1010,2]
type = PosAdd
trigger1 = AnimElem = 10
x = 6 
[State 1010,4]
type = PosAdd
trigger1 = AnimElem = 11
x = 8   
[State 1010,5]
type = PosAdd
trigger1 = Animelem = 15
x = 6 
[State 1010,5]
type = PosAdd
trigger1 = Animelem = 16
x = 6  
[State 1010,5]
type = PosAdd
trigger1 = Animelem=17
x = 6   
[State 1010,6]
type = PosAdd
trigger1 = AnimElem = 18
x = 4     
[State 1010,7]
type = PosAdd
trigger1 = AnimElem = 19
x = 3    
[State 1010,8]
type = PosAdd
trigger1 = AnimElem = 20
x = 2  

[State 1010, 9]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
trigger1 = time = 0 
animtype = diagup 
damage = 40, 5   
hitsound = s5, 4                 
guardsound = s6, 1   
sparkno = s6002             
sparkxy = -10, -61 
guard.sparkno = s6005
guard.sparkxy = 0, -61  
attr = S, SA    
guardflag = M   
priority = 5, Hit                                          
pausetime = 11,13                                                                  
ground.velocity = -4.4,-8                            
air.velocity = -4.4,-7                              
guard.velocity = -12                                  
guard.pausetime = 11,11                            
guard.slidetime = 22                               
guard.hittime = 22                             
guard.ctrltime = 22                                
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0                  
yaccel = .5                                                
fall = 1
fall.recover = 0

[State 1010, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1     
;---------------------------------------------------------------------------
;Torao Kyaku: Tatsuo Kyaku 
[Statedef 1015]
type    = S                      
movetype= A                    
physics = S                     
juggle  = 10               
velset = 0,0                    
ctrl = 0                       
anim = 1015  
poweradd= 40                               
sprpriority = 2 

[State 1015,voice]
type = PlaySnd
trigger1 = animelem = 8
value = 1000,3
volume = 200
channel = 0    

[State 1015, skip]
type = ChangeAnim
trigger1 = animtime > 0
value = anim
elem = animelemno(0) + 3

[State 1015,1]
type = PosAdd
trigger1 = AnimElem = 5
x = 16
[State 1015,2]
type = PosAdd
trigger1 = AnimElem = 6
x = 4 
[State 1015,2]
type = PosAdd
trigger1 = AnimElem = 7
x = 4 
[State 1015,2]
type = PosAdd
trigger1 = AnimElem = 8
x = 4 
[State 1015,2]
type = PosAdd
trigger1 = AnimElem = 9
x = 2 
[State 1015,2]
type = PosAdd
trigger1 = AnimElem = 11
x = 3 
[State 1015,2]
type = PosAdd
trigger1 = AnimElem = 13
x = 4
[State 1015,2]
type = PosAdd
trigger1 = AnimElem = 10
x = 6 
[State 1015,4]
type = PosAdd
trigger1 = AnimElem = 11
x = 8  
[State 1015,5]
type = PosAdd
trigger1 = Animelem = 12
x = 14
[State 1015,5]
type = PosAdd
trigger1 = Animelem = 13
x = 15
[State 1015,5]
type = PosAdd
trigger1 = Animelem = 17
x = -8
[State 1015,5]
type = PosAdd
trigger1 = Animelem = 18
x = -8
[State 1015,5]
type = PosAdd
trigger1 = Animelem = 19
x = -16
[State 1010,5]
type = PosAdd
trigger1 = Animelem = 21
x = -8  
[State 1010,5]
type = PosAdd
trigger1 = Animelem=22
x = -8   

[State 1015, 1]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
trigger1 = time = 0
attr = S, SA    
animtype = hard
airtype = high
groundtype = trip  
damage = 40, 5   
hitsound = s5, 3                 
guardsound = s6, 1 
sparkno = s6002
sparkxy = -10, -8 
guard.sparkno = s6005
guard.sparkxy = 0, -8                 
priority = 4, Hit
guardflag = L                  
hitflag = MA
pausetime = 13,13
ground.slidetime = 27
ground.hittime = 27
ground.velocity = -1.75,-10
air.velocity = -1.75,-10
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .8  
fall=1
fall.recover = 0

[State 1015, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1  
;---------------------------------------------------------------------------
;Toukotsu Kyaku
[Statedef 1020]
type    = S                      
movetype= A                    
physics = S                     
juggle  = 10               
velset = 0,0                    
ctrl = 0                       
anim = 1020
poweradd= 40                              
sprpriority = 2

[State 1020,voice]
type = PlaySnd
trigger1 = animelem = 1
value = 1000,4
volume = 200
channel = 0  

[State 1020,5]
type = PosAdd
trigger1 = Animelem=3
x = 15 
[State 1020,5]
type = PosAdd
trigger1 = Animelem=4
x = 8
[State 1020,5]
type = PosAdd
trigger1 = Animelem=5
x = 8  
[State 1020,5]
type = PosAdd
trigger1 = Animelem=6
x = 8   
[State 1020,5]
type = PosAdd
trigger1 = Animelem=7
x = 6  
[State 1020,5]
type = PosAdd
trigger1 = Animelem=8
x = 4   
[State 1020,5]
type = PosAdd
trigger1 = Animelem=9
x = 3
[State 1020,5]
type = PosAdd
trigger1 = Animelem=11
x = 12
[State 1020,5]
type = PosAdd
trigger1 = Animelem=12
x = 14
[State 1020,5]
type = PosAdd
trigger1 = Animelem=19
x = -8
[State 1020,5]
type = PosAdd
trigger1 = Animelem=20
x = -4

[State 1020, 1]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
trigger1 = time=0
attr = S, SA    
animtype = hard
guardflag = H                   
hitflag = MA
damage = 45, 5   
hitsound = s5, 1                  ;Sound to play on hit
guardsound = s6, 1                ;Sound to play on guard
sparkno = s6002
sparkxy = -10, -60
guard.sparkno = s6005
guard.sparkxy = 0, -60  
priority = 4, Hit
pausetime = 10,10
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -12
air.velocity = -3.5,-6
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.fall = 1
yaccel = .5  

[State 1020, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1     
 
;---------------------------------------------------------------------------
;Sousei Kyaku: 
[Statedef 1025]
type    = S                      
movetype= A                    
physics = S                     
juggle  = 0              
velset = 0,0                    
ctrl = 0                       
anim = 1025  
poweradd= 40                               
sprpriority = 2   

[State 1000,voice]
type = PlaySnd
trigger1 = animelem = 6
value = 1000,5
volume = 200
channel = 0

[State 1025,5]
type = PosAdd
trigger1 = Animelem=1
x = 5 
[State 1025,5]
type = PosAdd
trigger1 = Animelem=2
x = 12  
[State 1025,5]
type = PosAdd
trigger1 = Animelem=3
x = 7 
[State 1025,5]
type = PosAdd
trigger1 = Animelem=12
x = 8   
[State 1025,5]
type = PosAdd
trigger1 = Animelem=13
x = 10    
[State 1025,5]
type = PosAdd
trigger1 = Animelem=14
x = 11    
[State 1025,5]
type = PosAdd
trigger1 = Animelem=15
x = 10    
[State 1025,5]
type = PosAdd
trigger1 = Animelem=16
x = 12  
[State 1025,5]
type = PosAdd
trigger1 = Animelem=17
x = 6  
[State 1025,5]
type = PosAdd
trigger1 = Animelem=18
x = 10 

[State 1025, 1]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
trigger1 = AnimElem = 7
attr = S, SA    
animtype = Hard
damage = 45, 5   
guardflag = M                   
hitflag = MA
hitsound = s5, 1                  ;Sound to play on hit
guardsound = s6, 1                ;Sound to play on guard
sparkno = s6002
sparkxy = -10, -76 
guard.sparkno = s6005
guard.sparkxy = 0, -76  
priority = 4, Hit
pausetime = 5,6
ground.slidetime = 0
ground.hittime = 17
ground.velocity = 0
air.velocity = -3.5,-6
guard.velocity = 0
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.fall = 1
yaccel = .5  

[State 1025, 1]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
trigger1 = AnimElem = 13
attr = S, NA    
animtype = hard 
damage = 40, 5 
guardflag = M                   
hitflag = MA  
priority = 4, Hit
pausetime = 13,13
hitsound = s5, 1               
guardsound = s6, 1  
sparkno = s6002    
sparkxy = -10, -82 
guard.sparkno = s6005
guard.sparkxy = 0, -82             
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -1,-11.4210
air.velocity = -1,-11.4210
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5 
fall = 1
fall.recover = 0

[State 1025, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 
;---------------------------------------------------------------------------
;Taiyou Kyaku
[statedef 1030]
MoveType = a
VelSet = 0, 0
Ctrl = 0
Juggle = 10
SprPriority = 2
anim=1030
poweradd = 40

[State 1030, 9]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
trigger1 = time = 0 
damage = 45, 5 
hitflag = MAF    
guardflag = H   
hitsound = s5, 3                
guardsound = s6, 1  
sparkno = s6002  
sparkxy = -10, -60  
guard.sparkno = s6005
guard.sparkxy = 0, -60            
attr = S, SA    
priority = 5, Hit                                          
pausetime = 11,13                                                                  
ground.velocity = -4,-8                            
air.velocity = -4,-7                              
guard.velocity = -12                                  
guard.pausetime = 11,11                            
guard.slidetime = 22                               
guard.hittime = 22                             
guard.ctrltime = 22                                
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0                  
yaccel = .5                                                
fall = 1
fall.recover = 0

[State 1030, a]
type = StateTypeSet
trigger1 = animelem = 1
statetype = a

[State 1030, go x]
type = VelSet
trigger1 = animelem = 1
x = 4.925
y = -7.4074

[State 1030 grav]
type = Gravity
trigger1 = animelem = 1, > 0

[State 1030, 10]
type = ChangeState
Trigger1 = vel y > 0 && pos y >= 0
value = 1031
ctrl = 1 

[StateDef 1031]
type = s
MoveType = A
VelSet = 0, 0
Anim = 47
SprPriority = 2 
ctrl=0

[State 1031, 0]
type = PosSet
trigger1 = !time
y = 0

[State 1031, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1  
;---------------------------------------------------------------------------
;Rakuyou Kyaku
[Statedef 1035]
type    = A                      
movetype= A                    
physics = A                     
juggle  = 0                                 
ctrl = 0                       
anim = 1035  
poweradd= 40                               
sprpriority = 2   

[State 1035,voice]
type = PlaySnd
trigger1 = animelem = 1
value = 1000,7
volume = 200
channel = 0  

[State 1035, 9]
type = HitDef
triggerall = p2statetype = A
trigger1 = time = 0 
damage = 40, 5 
hitflag = MAF   
guardflag = H   
hitsound = s5, 4                 
guardsound = s6, 1                
sparkno = s6002
sparkxy = -10, -26 
guard.sparkno = s6005
guard.sparkxy = 0, -26  
attr = S, SA    
priority = 5, Hit                                          
pausetime = 11,13                                                                  
ground.velocity = -4,8                            
air.velocity = -4,7                              
guard.velocity = -12                                  
guard.pausetime = 11,11                            
guard.slidetime = 22                               
guard.hittime = 22                             
guard.ctrltime = 22                                
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0                  
yaccel = .5                                                
fall = 1
fall.recover = 0
p2stateno = 6009

[State 1035, 9]
type = HitDef
triggerall = p2statetype != A
trigger1 = time = 0 
damage = 40, 5  
guardflag = H   
hitflag = MAF  
hitsound = s5, 4                 
guardsound = s6, 1                
sparkno = s6002
sparkxy = -10, -26 
guard.sparkno = s6005
guard.sparkxy = 0, -26  
attr = S, SA    
priority = 5, Hit                                          
pausetime = 11,13                                                                  
ground.velocity = -4,8                            
air.velocity = -4,7                              
guard.velocity = -12                                  
guard.pausetime = 11,11                            
guard.slidetime = 22                               
guard.hittime = 22                             
guard.ctrltime = 22                                
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0                  
yaccel = .5                                                
fall = 1
fall.recover = 0
p2stateno = 6005



[State 1035, 3]
type = ChangeState
Trigger1 = vel y > 0 && pos y >= 0
value = 47
ctrl = 1    
;---------------------------------------------------------------------------
;Waga Utan Kasane
[Statedef 1040]
type    = S                      
movetype= I                    
physics = S                     
juggle  = 0                                 
ctrl = 0                       
anim = 1040  
poweradd= 40                               
sprpriority = 2 

[State 1040,5]
type = PosAdd
trigger1 = Animelem=2
x = 4
[State 1040,5]
type = PosAdd
trigger1 = Animelem=3
x = 4
[State 1040,5]
type = PosAdd
trigger1 = Animelem=4
x = 4
[State 1040,5]
type = PosAdd
trigger1 = Animelem=5
x = 4
[State 1040,5]
type = PosAdd
trigger1 = Animelem=6
x = 4
[State 1040,5]
type = PosAdd
trigger1 = Animelem=7
x = 4
[State 1040,5]
type = PosAdd
trigger1 = Animelem=8
x = 4
[State 1040,5]
type = PosAdd
trigger1 = Animelem=9
x = -4
[State 1040,5]
type = PosAdd
trigger1 = Animelem=10
x = -4
[State 1040,5]
type = PosAdd
trigger1 = Animelem=11
x = -4
[State 1040,5]
type = PosAdd
trigger1 = Animelem=12
x = -4
[State 1040,5]
type = PosAdd
trigger1 = Animelem=13
x = -4
[State 1040,5]
type = PosAdd
trigger1 = Animelem=14
x = -4

[State 1040, Reversal]
type=reversaldef
Triggerall = P2movetype = A
trigger1= animelem=7
attr = S,SA
reversal.attr= SCA,NA,SA,HA
pausetime = 0,20
sparkno = s6005
sparkxy = 10,0
hitsound = s6,0
guard.dist = 0 
p1stateno = 1041

[State 1040, Reversal]
type=reversaldef
Triggerall = P2movetype = A
trigger1= animelem=8
attr = S,SA
reversal.attr= SCA,NA,SA,HA
pausetime = 0,20
sparkno = s6005
sparkxy = 10,0
hitsound = s6,0
guard.dist = 0 
p1stateno = 1041

[State 1040, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 
;---------------------------------------------------------------------------
;COUNTER SUCCESS
[Statedef 1041]
type    = S                      
movetype= A                    
physics = S                     
juggle  = 0               
velset = 0,0                    
ctrl = 0                       
anim = 1041 
poweradd= 0                               
sprpriority = 2 

[State 1020,voice]
type = PlaySnd
trigger1 = animelem = 1
value = 1000,6
volume = 200
channel = 0  

[State 1041,5]
type = PosAdd
trigger1 = Animelem=14
x = 5 

[State 1041,5]
type = PosAdd
trigger1 = Animelem=15
x = 12  

[State 1041,5]
type = PosAdd
trigger1 = Animelem=16
x = 7 

[State 1041,5]
type = PosAdd
trigger1 = Animelem=25
x = 8   

[State 1041,5]
type = PosAdd
trigger1 = Animelem=26
x = 10    

[State 1041,5]
type = PosAdd
trigger1 = Animelem=27
x = 11    

[State 1041,5]
type = PosAdd
trigger1 = Animelem=28
x = 10    

[State 1041,5]
type = PosAdd
trigger1 = Animelem=29
x = 12  

[State 1041,5]
type = PosAdd
trigger1 = Animelem=30
x = 6  

[State 1041,5]
type = PosAdd
trigger1 = Animelem=31
x = 10  

[State 1041, 1]
type = HitDef
trigger1 = AnimElem = 7
attr = S, SA    
animtype = hard 
damage = 29, 0 
guardflag = M                   
hitflag = MA 
priority = 4, Hit
pausetime = 13,13
hitsound = s5, 1               
guardsound = s6, 1    
sparkno = s6002  
sparkxy = -10, -97            
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -1,-12.8421
air.velocity = -1,-12.8421
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = -0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5 
fall = 1
air.fall = 1
fall.recover = 0
snap = 30

[State 1041, 2]
type = HitDef
trigger1 = AnimElem = 20
attr = S, SA    
animtype = Hard
damage = 29, 0   
guardflag = M                   
hitflag = MAF
hitsound = s5, 1                  ;Sound to play on hit
guardsound = s6, 1                ;Sound to play on guard
sparkno = s6002
sparkxy = -10, -76 
priority = 4, Hit
pausetime = 5,15
ground.slidetime = 0
ground.hittime = 17
ground.velocity = 0
air.velocity = -3.5,-6
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
yaccel = .5  

[State 1041, 1]
type = HitDef
trigger1 = AnimElem = 26
attr = S, SA    
animtype = hard 
damage = 29, 0 
guardflag = M                   
hitflag = MAF  
priority = 4, Hit
pausetime = 13,13
hitsound = s5, 1               
guardsound = s6, 1 
sparkno = s6002     
sparkxy = -10, -82           
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -1,-9.4210
air.velocity = -1,-9.4210
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5 
fall = 1
air.fall = 1
fall.recover = 0

[State 1041, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 
;---------------------------------------------------------------------------
; DESPERATION MOVES
;---------------------------------------------------------------------------
;GAUZE TAIL TINKERBELL 
[Statedef 2000]
type    = S                      
movetype= A                    
physics = S                     
juggle  = 0             
ctrl = 0                       
anim = 2000 
poweradd= 0                               
sprpriority = 2 
velset=0,0

[State -2, PalFX]
type = PalFX
trigger1 = prevstateno = 1005
trigger1 = time < 17
time = 1
add = 220,0,10;255,255,255
sinadd = 0,0,0
invertall = 0
color = 256
ignorehitpause = 1
persistent = 2

[State 1000: Helper]
type = Helper
trigger1 = !numhelper(40000)
trigger1 = prevstateno = 1005
helpertype = Normal
name = "SuperCancel"
id = 40000
pos = 0, 0 ;50
postype = left
facing = 1
stateno = 40000
keyctrl = 0
ownpal = 1
ontop = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1
persistent = 0

[State 2000, AssertSpecial]
type = AssertSpecial
trigger1 = time = [1,33]
flag = noBG
flag2 = noFG

[State 13000, EnvColor]
type = EnvColor
trigger1 = !time
value = 255,255,255
time = 4
under = 1
ignorehitpause = 1
persistent = 0

[State 2000,2]
type = PlaySnd
trigger1 = animelem = 1
value = 2000,0
volume = 200
channel = 0

[State 2000,2]
type = PlaySnd
trigger1 = animelem = 1
value = 6,2

[State 2000, VarSet]
type = VarSet
trigger1 = time = 0 ;Superpause tick error fix.
var(6) = 29

[State 2000, Pause]
Type = SuperPause
Trigger1 = time = 1
Time = 33
movetime = 33
anim = -1
Sound = s1,11
Pos = 14, -88
Darken = 0
UnHittAble = 1
poweradd = -1000
p2defmul = 1

[State 2000, 0]
type = NotHitBy
trigger1 = animtime <= 38
value = sca
ignorehitpause = 1

[State 2000: EnvColor]
type = EnvColor
trigger1 = animelem = 1
value = 0,0,0
time = 24
under=1

[State 2000, super!]
type = Explod
trigger1 = animelem = 1
anim = 6010
postype = p1
pos = -6, -55
ownpal = 1
supermove = 1
removeongethit = 1
removetime = 28
sprpriority = -2

[State 2000, super!]
type = Explod
trigger1 = animelem = 1
anim = 6011
postype = p1
pos = -6, -55
ownpal = 1
supermove = 1
removeongethit = 1
removetime = 28
sprpriority = 4

[State 2000, a]
type = StateTypeSet
trigger1 = animelem = 3
statetype = a 

[State 2000, go]
type = VelSet
trigger1 = time = 34
x = 2.5
y = -3.375

[State 2000, go]
type = VelAdd
trigger1 = time > 34
x = 1
y = .3075

[State 2000, 1]
type = HitDef
trigger1 = time = 0
attr = A, HA   
animtype = hard 
damage = 29, 0 
guardflag = H                   
hitflag = MA 
priority = 4, Hit
hitsound = s5, 3               
guardsound = s6, 1 
sparkno = s6002     
sparkxy = -10, -61  
guard.sparkno = s6005
guard.sparkxy = 0, -61           
guard.velocity = -12
yaccel = .5 
p2stateno = 2003
p1stateno = 2002 
id=2000
getpower = 0,0
fall = 1
fall.recover = 0
kill = 0

[State 2000, 10]
type = ChangeState
Trigger1 = vel y > 0 && pos y >= 0
value = 2001
ctrl = 1 
;---------------------------------------------------------------------------
;GAUZE TAIL TINKERBELL MISS ANIMATION
[StateDef 2001]
type = s
MoveType = A
VelSet = 0, 0
Anim = 2001
SprPriority = 2 
ctrl=0

[State 2001, 0]
type = PosSet
trigger1 = !time
y = 0

[State 2001, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1  
;---------------------------------------------------------------------------
;GAUZE TAIL TINKERBELL SUCCESS
[StateDef 2002]
MoveType = A
VelSet = 0,0
Anim = 2002
SprPriority = 2
ctrl = 0

[State 2002, 0]
type = PosSet
trigger1 = !time
y = 0

[State 2002, 3]
type = SprPriority
trigger1 = AnimElem = 1
value = 3

[State 2002]
type = PlaySnd
trigger1 = animelem= 3
value = 5, 3

[State 2002, plus 1]
type = HitAdd
trigger1 = animelem = 3
value = 1

[State 2002, fat]
type = Width
trigger1 = animelemtime(1) >= 0 && animelemtime(14) < 0
edge = 64

[State 2002, bind]
type = TargetBind
trigger1 = animelemtime(1) >= 0 && animelemtime(14) < 0
ID = 2000
pos = 35, 0

[State 2002, stay on the ground]
type = BindToTarget
trigger1 = animelemtime(1) >= 0 && animelemtime(14) < 0
ID = 2000
pos = 35, 0, Foot

[State 2002: EnvShake]
type = EnvShake
trigger1 = AnimElem = 13
time = 25
freq = 50
ampl = 5
ignorehitpause = 1

[State 2002, fly p2]
type = TargetState
triggerall = NumTarget(2000)
trigger1 = animelemtime(14) = 1
value = 1403
ID = 2000

[State 2002, hitspark]
type = Explod
trigger1 = animelem = 3
anim = 6000
pos = 23, -18
ontop = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 2002, hitspark]
type = Explod
trigger1 = animelem = 13
anim = 6002
pos = 47, -74
ontop = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 2002]
type = PlaySnd
trigger1 = animelem= 13
value = 5, 11
volume = 200

[State 2002,2]
type = PlaySnd
trigger1 = time =80
value = 5,6

[State 2002, Damage]
Type = TargetLifeAdd
Trigger1 = animelem = 13 
value = -180
ID = 2000
absolute = 1

[State 2002, plus 1]
type = HitAdd
trigger1 = animelem = 13
value = 1

[State 2002, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 
;---------------------------------------------------------------------------
;HIT BY GAUZE TAIL TINKERBELL 
[StateDef 2003]
Type = A
MoveType =  H
VelSet = 0, 0
Ctrl = 0

[State 2003, Anim]
Type = ChangeAnim2
Trigger1 = !Time
Value = 2003

[State 2003, 0]
type = PosSet
trigger1 = !time
y = 0

[State 2003, 1]
type = ChangeAnim2
Trigger1 = Time = 0
trigger1 = Name = "Gill"
trigger1 = Authorname = "GM"
trigger1 = Facing = -1
value = 12003

[State 2003, 2]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050

[Statedef 1402]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1402, ChangeAnim2]
type = ChangeAnim2
trigger1 = !time
value = 6100

[State 0, ChangeState]
type = ChangeState
trigger1 = HitShakeOver
value = 1403
ctrl = 0

[Statedef 1403]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1403, Vel]
type = VelSet
trigger1 = time = 0
x = -7
y = -4

[State 1403, Gravity]
type = VelAdd
trigger1 = Time > 0
y = .5

[State 1403, Anim 5050]
type = ChangeAnim
trigger1 = !time
persistent = 0
value = 5050

[State 1403, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 1404 ;HIT_BOUNCE

[Statedef 1404]
type    = S
movetype= H
physics = N
velset = 0,0

[State 1404, ChangeAnim2]
type = ChangeAnim2
trigger1 = !time
value = 1403

[State 0, PosSet]
type = PosSet
trigger1 = !time
y = 0

[State InitVel]
type = VelSet
trigger1 = !time
X = -3.56535983085632

[State Accel]
type = VelAdd
trigger1 = Vel X != 0
X = 0.176470592617989

[State 802, VelSet]
type = VelSet
trigger1 = Time = 20
x = 0

[State 802, SelfState]
type = ChangeState
trigger1 = Vel X = 0
value = 1405

[Statedef 1405]
type    = S
movetype= H
physics = N

[State 1404, ChangeAnim2]
type = ChangeAnim2
trigger1 = !time
value = 1404

[State 1405, SelfState]
type = SelfState
trigger1 = animtime = 0
value = Ifelse(alive,5120,5150)
;---------------------------------------------------------------------------
;RYUU GETSURIN KYAKU
[Statedef 2010]
type    = S                      
movetype= A                    
physics = S                     
juggle  = 0             
ctrl = 0                       
anim = 2010 
poweradd= 0                               
sprpriority = 2 
velset=0,0

[State 2000, VarSet]
type = VarSet
trigger1 = time = 0 ;Superpause tick error fix.
var(6) = 29

[State 2010]
type = PlaySnd
trigger1 = animelem = 1
value = 200,2
volume = 200
channel = 0

[State 1000: Helper]
type = Helper
trigger1 = !numhelper(40000)
trigger1 = prevstateno = 1005
helpertype = Normal
name = "SuperCancel"
id = 40000
pos = 0, 0 ;50
postype = left
facing = 1
stateno = 40000
keyctrl = 0
ownpal = 1
ontop = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1
persistent = 0

[State -2, PalFX]
type = PalFX
trigger1 = prevstateno = 1005
trigger1 = time < 17
time = 1
add = 220,0,10;255,255,255
sinadd = 0,0,0
invertall = 0
color = 256
ignorehitpause = 1
persistent = 2

[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = time = [1,28]
flag = noBG
flag2 = noFG

[State 13000, EnvColor]
type = EnvColor
trigger1 = !time
value = 255,255,255
time = 4
under = 1
ignorehitpause = 1
persistent = 0
[State 2010,2]
type = PlaySnd
trigger1 = animelem = 1
value = 6,2

[State 2010, Pause]
Type = SuperPause
Trigger1 = time = 1
Time = 33
movetime = 33
anim = -1
Sound = s1,11
Pos = 14, -88
Darken = 0
UnHittAble = 1
poweradd = -1000
p2defmul = 1

[State 2010, 0]
type = NotHitBy
trigger1 = animelem = 6
value = sca
ignorehitpause = 1

[State 2010: EnvColor]
type = EnvColor
trigger1 = animelem = 1
value = 0,0,0
time = 28
under=1

[State 2010, super!]
type = Explod
trigger1 = animelem = 1
anim = 6010
postype = p1
pos = -10, -46
ownpal = 1
supermove = 1
removeongethit = 1
removetime = 28
sprpriority = -2
bindtime = 1

[State 2010, super!]
type = Explod
trigger1 = animelem = 1
anim = 6011
postype = p1
pos = -10, -46
ownpal = 1
supermove = 1
removeongethit = 1
removetime = 28
sprpriority = 4
bindtime = 1

[State 2010, 6]
type = VelSet
trigger1 = time >= 39 
x = 10

[State 2010, 6]
type = VelSet
trigger1 = time = 59
x = 0

[State 2010, 1]
type = HitDef
trigger1 = animelem = 7
trigger2 = animelem = 8
trigger3 = animelem = 9
trigger4 = animelem = 10
trigger5 = animelem = 11
trigger6 = animelem = 12
attr = S, HA   
animtype = hard 
damage = 29, 0 
guardflag = H  
ground.hittime = 30                 
hitflag = MAF
priority = 4, Hit
pausetime = 13,13
hitsound = s5, 3               
guardsound = s6, 1 
sparkno = s6002     
sparkxy = -10, -61  
guard.sparkno = s6005
guard.sparkxy = 0, -61          
guard.velocity = -12
yaccel = .5 
p1stateno = 2012
p2stateno = 2013
p2facing = 1   
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
snap = 60
id=2010
kill = 0

[State 2010]
type = ChangeState
trigger1 = time = 59
trigger1 = Vel X = 0
value = 2011

[State 2010]
type = ChangeState
trigger1 = moveguarded
value = 2011
;---------------------------------------------------------------------------
;RYUU GETSURIN KYAKU MISS ANIMATION
[StateDef 2011]
type = s
MoveType = A
VelSet = 0, 0
Anim = 2011
SprPriority = 2 
ctrl=0

[State 2011, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1  
;---------------------------------------------------------------------------
;RYUU GETSURIN KYAKU SUCCESS ANIMATION
[Statedef 2012]
type    = S                      
movetype= A                    
physics = S                                 
ctrl = 0                       
anim = 2012 
poweradd= 0                               
sprpriority = 2 

[State 2012, 0]
type = NotHitBy
trigger1 = animtime 
value = sca
ignorehitpause = 1

[State 2012, Width]
type = Width
trigger1 = 1
edge = 70

[State 2012, 6]
type = VelSet
trigger1 = time >= 0
x = .5

[State 2012, 6]
type = VelSet
trigger1 = time >= 172
x = 0

[State 2012, 1]
type = HitDef
trigger1 = animelem = 7
attr = S, HA    
animtype = hard 
ground.type= high
pausetime = 0,11  
damage = 20, 0 
guardflag = M                   
hitflag = MAF  
priority = 4, Hit
hitsound = s5, 3                  
guardsound = s6, 0   
sparkno = s6002           
sparkxy = -10, -86  
ground.slidetime = 17
ground.hittime  = 40
ground.velocity = 0
guard.velocity = 0
guard.pausetime = 0,11
guard.slidetime = 10
guard.hittime = 18
guard.ctrltime = 18
airguard.velocity = -4,-1
air.type = High
air.velocity = 0,0
air.hittime = 11
air.animtype = back
fall.animtype = back
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0
givepower = 31, 31
fall = 0
air.fall = 1
fall.recover = 0
yaccel = .45
snap = 60,0
p2stateno = 2013
kill = 0
getpower = 0,0

[State 2012, 1]
type = HitDef
trigger1 = animelem = 14
attr = S, HA    
animtype = hard 
ground.type= low
pausetime = 0,11  
damage = 20, 0 
guardflag = M                   
hitflag = MAF  
priority = 4, Hit
hitsound = s5, 3                  
guardsound = s6, 0   
sparkno = s6002           
sparkxy = -10, -68  
ground.slidetime = 17
ground.hittime  = 40
ground.velocity = 0
guard.velocity = 0
guard.pausetime = 0,11
guard.slidetime = 10
guard.hittime = 18
guard.ctrltime = 18
airguard.velocity = -4,-1
air.type = High
air.velocity = 0,0
air.hittime = 11
air.animtype = back
fall.animtype = back
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0
givepower = 31, 31
fall = 0
air.fall = 1
air.recover = 0
fall.recover = 0
yaccel = .45
snap = 60,0
kill = 0
getpower = 0,0
p2stateno = 2014

[State 2012, 1]
type = HitDef
trigger1 = animelem = 16
attr = S, HA    
animtype = hard 
ground.type= low
damage = 20, 0 
guardflag = M                   
hitflag = MAF  
priority = 4, Hit
pausetime = 0,11  
hitsound = s5, 3                  
guardsound = s6, 0   
sparkno = s6002           
sparkxy = -10, -54 
ground.slidetime = 17
ground.hittime  = 40
ground.velocity = 0
guard.velocity = 0
guard.pausetime = 0,11
guard.slidetime = 10
guard.hittime = 18
guard.ctrltime = 18
airguard.velocity = -4,-1
air.type = High
air.velocity = 0,0
air.hittime = 11
air.animtype = back
fall.animtype = back
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0
givepower = 31, 31
fall = 0
air.fall = 1
air.recover = 0
fall.recover = 0
yaccel = .45
snap = 60,0
kill = 0
getpower = 0,0
p2stateno = 2014

[State 2012, 1]
type = HitDef
trigger1 = animelem = 20
attr = S, HA    
animtype = hard 
ground.type= high
pausetime = 0,11  
damage = 20, 0 
guardflag = M                   
hitflag = MAF  
priority = 4, Hit
hitsound = s5, 3                  
guardsound = s6, 0   
sparkno = s6002           
sparkxy = -10, -78  
ground.slidetime = 17
ground.hittime  = 40
ground.velocity = 0
guard.velocity = 0
guard.pausetime = 0,11
guard.slidetime = 10
guard.hittime = 18
guard.ctrltime = 18
airguard.velocity = -4,-1
air.type = High
air.velocity = 0,0
air.hittime = 11
air.animtype = back
fall.animtype = back
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0
givepower = 31, 31
fall = 0
air.fall = 1
air.recover = 0
fall.recover = 0
yaccel = .45
snap = 80,0
kill = 0
getpower = 0,0
p2stateno = 2013

[State 2012, 1]
type = HitDef
trigger1 = animelem = 31
attr = S, HA    
animtype = hard 
ground.type= low
pausetime = 0,11  
damage = 20, 0 
guardflag = M                   
hitflag = MAF  
priority = 4, Hit
hitsound = s5, 3                  
guardsound = s6, 0   
sparkno = s6002           
sparkxy = -10, -62 
ground.slidetime = 17
ground.hittime  = 40
ground.velocity = 0
guard.velocity = 0
guard.pausetime = 0,11
guard.slidetime = 10
guard.hittime = 18
guard.ctrltime = 18
airguard.velocity = -4,-1
air.type = High
air.velocity = 0,0
air.hittime = 11
air.animtype = back
fall.animtype = back
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0
givepower = 31, 31
fall = 0
air.fall = 1
air.recover = 0
fall.recover = 0
yaccel = .45
snap = 80,0
kill = 0
getpower = 0,0
p2stateno = 2014

[State 2012, 1]
type = HitDef
trigger1 = animelem = 42
attr = S, HA    
animtype = hard 
ground.type= low
pausetime = 0,11  
damage = 20, 0 
guardflag = M                   
hitflag = MAF  
priority = 4, Hit
hitsound = s5, 3                  
guardsound = s6, 0   
sparkno = s6002           
sparkxy = -10, -72  
ground.slidetime = 17
ground.hittime  = 40
ground.velocity = 0
guard.velocity = 0
guard.pausetime = 0,11
guard.slidetime = 10
guard.hittime = 18
guard.ctrltime = 18
airguard.velocity = -4,-1
air.type = High
air.velocity = 0,0
air.hittime = 11
air.animtype = back
fall.animtype = back
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0
givepower = 31, 31
fall = 0
air.fall = 1
air.recover = 0
fall.recover = 0
yaccel = .45
snap = 80,0
kill = 0
getpower = 0,0
p2stateno = 2014

[State 2012, 1]
type = HitDef
trigger1 = animelem = 48
trigger2 = animelem = 57
trigger3 = animelem = 66
trigger4 = animelem = 75
attr = S, HA    
animtype = hard 
ground.type= high
pausetime = 0,11  
damage = 20, 0 
guardflag = M                   
hitflag = MAF  
priority = 4, Hit
hitsound = s5, 3                  
guardsound = s6, 0   
sparkno = s6002           
sparkxy = -10, -80  
ground.slidetime = 17
ground.hittime  = 40
ground.velocity = 0
guard.velocity = 0
guard.pausetime = 0,11
guard.slidetime = 10
guard.hittime = 18
guard.ctrltime = 18
airguard.velocity = -4,-1
air.type = High
air.velocity = 0,0
air.hittime = 11
air.animtype = back
fall.animtype = back
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0
givepower = 31, 31
fall = 0
air.fall = 1
air.recover = 0
fall.recover = 0
yaccel = .45
snap = 80,0
kill = 0
getpower = 0,0
p2stateno = 2013

[State 2012, 1]
type = HitDef
trigger1 = animelem = 53
trigger2 = animelem = 62
trigger3 = animelem = 71
trigger4 = animelem = 80
attr = S, HA    
animtype = hard 
ground.type= high
pausetime = 0,11  
damage = 20, 0 
guardflag = M                   
hitflag = MAF  
priority = 4, Hit
hitsound = s5, 3                  
guardsound = s6, 0   
sparkno = s6002           
sparkxy = -10, -81 
ground.slidetime = 17
ground.hittime  = 40
ground.velocity = 0
guard.velocity = 0
guard.pausetime = 0,11
guard.slidetime = 10
guard.hittime = 18
guard.ctrltime = 18
airguard.velocity = -4,-1
air.type = High
air.velocity = 0,0
air.hittime = 11
air.animtype = back
fall.animtype = back
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0
givepower = 31, 31
fall = 0
air.fall = 1
air.recover = 0
fall.recover = 0
yaccel = .45
snap = 80,0
kill = 0
getpower = 0,0
p2stateno = 2013

[State 2012, 1]
type = HitDef
trigger1 = animelem = 80
attr = S, HA    
animtype = hard 
damage = 20, 0 
guardflag = M                   
hitflag = MAF  
priority = 4, Hit
pausetime = 0,11  
hitsound = s5, 3                  
guardsound = s6, 0   
sparkno = s6002           
sparkxy = -10, -81 
ground.slidetime = 17
ground.hittime  = 40
ground.velocity = 0
guard.velocity = 0
guard.pausetime = 0,11
guard.slidetime = 10
guard.hittime = 18
guard.ctrltime = 18
airguard.velocity = -4,-1
air.type = High
air.velocity = 0,0
air.hittime = 11
air.animtype = back
fall.animtype = back
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0
givepower = 31, 31
fall = 0
air.fall = 1
air.recover = 0
fall.recover = 0
yaccel = .45
snap = 80,0
kill = 0
p2stateno = 2015
yaccel = .5
getpower = 0,0

[State 2012, 1]
type = HitDef
trigger1 = animelem = 95
attr = S, HA    
animtype = hard 
damage = 40, 0 
guardflag = M                   
hitflag = MAF  
priority = 4, Hit
pausetime = 0,11                  
guardsound = s6, 0   
sparkno = s6002           
sparkxy = -10, -81 
ground.slidetime = 17
ground.hittime  = 40
ground.velocity = 0
guard.velocity = 0
guard.pausetime = 0,11
guard.slidetime = 10
guard.hittime = 18
guard.ctrltime = 18
airguard.velocity = -4,-1
air.type = High
air.velocity = 0,0
air.hittime = 11
air.animtype = back
fall.animtype = back
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0
givepower = 31, 31
fall = 0
air.fall = 1
air.recover = 0
fall.recover = 0
yaccel = .45
p2stateno = 6005
yaccel = .5
getpower = 0,0

[State 2002]
type = PlaySnd
triggerall = movehit
trigger1 = animelem= 95
value = 5, 11
volume = 200

[State 2012, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1   
;---------------------------------------------------------------------------
;HIT BY RYUU GETSURIN KYAKU
[StateDef 2013]
Type = S
MoveType =  H
Ctrl = 0
velset=0,0 
physics=S

[State 2013, Anim]
Type = ChangeAnim2
Trigger1 = !Time
Value = 2013

[State 2000, 0]
type = HitBy
trigger1 = 1
value = sca, ha
ignorehitpause = 1

[State 2013, a]
type = StateTypeSet
trigger1 = time = 0
statetype = S

[State 2013, 0]
type = PosSet
trigger1 = !time
y = 0

[State 2013, 6]
type = VelSet
trigger1 = time =0
x = 0.0

[State 2013, 1]
type = ChangeAnim2
trigger1 = time=0
trigger1 = Name = "Gill"
trigger1 = Authorname = "GM"
trigger1 = Facing = -1
trigger1 = SelfAnimExist(15002)
value = 15002

[State 2013, 10]
type = SelfState
Trigger1 = time = 200
value = 5100

[StateDef 2014]
Type = S
MoveType =  H
Ctrl = 0
velset=0,0 
physics=S

[State 2014, Anim]
Type = ChangeAnim2
Trigger1 = !Time
Value = 2014

[State 2000, 0]
type = HitBy
trigger1 = 1
value = sca, ha
ignorehitpause = 1

[State 2014, a]
type = StateTypeSet
trigger1 = time = 0
statetype = S

[State 2014, 0]
type = PosSet
trigger1 = !time
y = 0

[State 2014, 6]
type = VelSet
trigger1 = time =0
x = 0.0

[State 2014, 1]
type = ChangeAnim2
trigger1 = time=0
trigger1 = Name = "Gill"
trigger1 = Authorname = "GM"
trigger1 = Facing = -1
trigger1 = SelfAnimExist(15002)
value = 15002

[State 2014, 10]
type = SelfState
Trigger1 = time = 200
value = 5100

[StateDef 2015]
Type = S
MoveType =  H
Ctrl = 0
anim = 5300
velset=0,0 

[State 2000, 0]
type = HitBy
trigger1 = 1
value = sca, ha
ignorehitpause = 1

[State 2014, 0]
type = PosSet
trigger1 = !time
y = 0

[State 2015, 6]
type = VelSet
trigger1 = time =0
x = 0.0

[State 2015, 1]
type = ChangeAnim2
trigger1 = time=0
trigger1 = Name = "Gill"
trigger1 = Authorname = "GM"
trigger1 = Facing = -1
trigger1 = SelfAnimExist(15300)
value = 15300

[State 2015, 10]
type = SelfState
Trigger1 = time = 200
value = 5100
;---------------------------------------------------------------------------
;DISPOSITION FROG
[Statedef 2020]
type    = S                      
movetype= A                    
physics = S                               
ctrl = 0                       
anim = 2020 
poweradd= 0                               
sprpriority = 2 
velset=0,0

[State 2020]
type = PlaySnd
trigger1 = animelem= 9
value = 200,4
volume = 200
channel = 0

[State 2020,2]
type = PlaySnd
trigger1 = animelem = 1
value = 6,3

[State 2020]
Type = changeanim
triggerall = anim = 2020 && animelem = 6
trigger1 = prevstateno = 1005
trigger2 = prevstateno = 2012
value = 2026

[State 2020, Pause]
Type = SuperPause
Trigger1 = time = 1
Time = 28
movetime = 28
anim = -1
Sound = s1,11
Pos = 14, -88
Darken = 0
UnHittAble = 1
poweradd = -2000
p2defmul = 1

[State 2020, VarSet]
type = VarSet
trigger1 = time = 0 ;Superpause tick error fix.
var(6) = 29

[State 2020, super!]
type = Explod
trigger1 = anim = 2020 && animelem = 1
anim = 6012
postype = p1
pos = -13, -72
ownpal = 1
supermove = 1
removeongethit = 1
removetime = 28
sprpriority = -2

[State 2020, super!]
type = Explod
trigger1 = anim = 2020 && animelem = 1
anim = 6013
postype = p1
pos = -13, -72
ownpal = 1
supermove = 1
removeongethit = 1
removetime = 28
sprpriority = 4

[State 1000: Helper]
type = Helper
trigger1 = !numhelper(40000)
trigger1 = prevstateno = 1005
helpertype = Normal
name = "SuperCancel"
id = 40000
pos = 0, 0 ;50
postype = left
facing = 1
stateno = 40000
keyctrl = 0
ownpal = 1
ontop = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1
persistent = 0

[State 1000: Helper]
type = Helper
trigger1 = !numhelper(40005)
trigger1 = prevstateno = 2012
helpertype = Normal
name = "DreamCancel"
id = 40005
pos = 0, 0 ;50
postype = left
facing = 1
stateno = 40005
keyctrl = 0
ownpal = 1
ontop = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1
persistent = 0

[State -2, PalFX]
type = PalFX
trigger1 = prevstateno = 1005
trigger1 = time < 17
time = 1
add = 220,0,10;255,255,255
sinadd = 0,0,0
invertall = 0
color = 256
ignorehitpause = 1
persistent = 2

[State -2, PalFX]
type = PalFX
trigger1 = prevstateno = 2012
trigger1 = time < 17
time = 1
add = 220,0,10;255,255,255
sinadd = 0,0,0
invertall = 0
color = 256
ignorehitpause = 1
persistent = 2

[State 2000, AssertSpecial]
type = AssertSpecial
trigger1 = time = [1,28]
flag = noBG
flag2 = noFG

[State 13000, EnvColor]
type = EnvColor
trigger1 = !time
value = 255,255,255
time = 4
under = 1
ignorehitpause = 1
persistent = 0

[State 2020, 1]
type = HitDef
triggerall = (p2stateno != [5020,5040]) 
triggerall = (p2stateno != [154,155])
triggerall = (p2stateno != 5070)
trigger1 = time = 0
attr = S, HA    
animtype = hard 
damage = 20, 5 
guardflag = M                   
hitflag = MAF  
priority = 4, Hit
pausetime = 13,13
hitsound = s5, 1               
guardsound = s6, 1 
sparkno = s6002     
sparkxy = -10, -82  
guard.sparkno = s6005
guard.sparkxy = 0, -82            
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -1,-9.4210
air.velocity = -1,-9.4210
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5 
fall = 1
air.fall = 1
fall.recover = 0
p1stateno=2021
p2facing = 1   
kill=0
getpower = 0,0
snap = 30,0

[State 2020, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 
;---------------------------------------------------------------------------
;DISPOSTION FROG SUCCESS ANIMATION 1
[Statedef 2021]
type    = S                      
movetype= A                    
physics = S                                
ctrl = 0                       
anim = 2021 
poweradd= 0                               
sprpriority = 2 
juggle = 0

[State 193, bound]
type=screenbound
trigger1=1
value=0

[State -2, Hit me]
type = AssertSpecial
trigger1 = time
flag = NoJuggleCheck

[State 2021, 0]
type = NotHitBy
trigger1 = 1
value = sca
ignorehitpause = 1

[State 2021, Width]
type = Width
trigger1 = 1
value = 20,0

[State 2021, a]
type = StateTypeSet
trigger1 = animelem = 1
statetype = a
physics = N

[State 2021, go x]
type = VelSet
trigger1 = animelem = 1
x = 8.6586456298828125;6.125
y = -5

[State 2021, VelMul]
type = VelMul
trigger1 = AnimElemTime(1) > 0 
x = 1

[State 2021, stay]
type = PosFreeze
trigger1 = animelemno(0) = 4
value = 1

[State 2021 grav]
type = Gravity
trigger1 = animelem = 1, > 0

[State 2021, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = A, HA    
animtype = Hard
damage = 20, 0   
guardflag = M                   
hitflag = MAF
hitsound = s5, 1                  
guardsound = s6, 1                
sparkno = s6002
sparkxy = -10, -76 
priority = 4, Hit
pausetime = 0,19
ground.slidetime = 0
ground.hittime = 17
ground.velocity = 0
air.velocity = -3.5,-7
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
yaccel = .5 
kill =0
getpower = 0,0
snap = 30,0

[State 2021, go x]
type = VelSet
trigger1 = animelem = 5
x = 8.6586456298828125;6.125
y = -7

[State 2021, VelMul]
type = VelMul
trigger1 = AnimElemTime(5) > 0 
x = 1

[State 2021, stay]
type = PosFreeze
trigger1 = animelemno(0) = [14, 19]
value = 1

[State 2021, 2]
type = HitDef
trigger1 = AnimElem = 14
attr = A, HA    
animtype = Hard
damage = 20, 0   
guardflag = M                   
hitflag = MAF
hitsound = s5, 1                  
guardsound = s6, 1                
sparkno = s6002
sparkxy = -10, -76 
priority = 4, Hit
pausetime = 0,20
ground.slidetime = 0
ground.hittime = 17
ground.velocity = 0,7
air.velocity = 0,7
fall.yvelocity = -6.0
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
yaccel = .5  
kill=0
getpower = 0,0
snap = 30,0
p2stateno=2026

[State 2021, No muteki for you]
Type = SuperPause
triggerall = EnemyNear,AuthorName= "ahuron"
Trigger1 = animelem = 17
Time = 20
movetime = 20
anim = -1
Darken = 0
UnHittAble = 1

[State 2021,2]
type = PlaySnd
trigger1 = animelem = 20
value = 7,0

[State 2023,2]
type = PlaySnd
trigger1 = animelem = 20
value = 2000,1
volume = 200

[State 2021, go x]
type = VelSet
trigger1 = animelem = 20
x = 28.3333
y = 30.6666

[State 2021]
type = playerpush
trigger1 = animelem = 20
value = 0

[State 2021, 10]
type = ChangeState
Trigger1 = vel y > 0 && pos y >= 0
value = 2022
ctrl = 1 
;---------------------------------------------------------------------------
;DISPOSTION FROG SUCCESS ANIMATION 2
[Statedef 2022]
type    = S                      
movetype= A                    
physics = S                                
ctrl = 0                       
anim = 2022 
poweradd= 0                               
sprpriority = 2 
velset=0,0

[State 2022,2]
type = PlaySnd
trigger1 = animelem = 1
value = 7,1

[State -2, Hit me]
type = AssertSpecial
trigger1 = time
flag = NoJuggleCheck

[State 2022, a]
type = StateTypeSet
trigger1 = animelem = 1
statetype = S

[State 2022,1]
type = PosAdd
trigger1 = AnimElem = 1
x = 94

[State 2022, 0]
type = PosSet
trigger1 = !time
y = 0

[State 2022, 1]
type = HitDef
trigger1 = AnimElem = 14
attr = S, HA    
animtype = hard 
damage = 20, 0 
guardflag = M                   
hitflag = MAFD 
priority = 4, Hit
pausetime = 0,15
hitsound = s5, 1               
guardsound = s6, 1    
sparkno = s6002  
sparkxy = -10, -70           
ground.slidetime = 17
ground.hittime = 17
ground.velocity = 0,-12.8421
air.velocity = 0,-12.8421
guard.velocity = -12
guard.pausetime = 11,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
yaccel = .5 
fall = 1
air.fall = 1
fall.recover = 0
getpower = 0,0
kill = 0

[State 2022,2]
type = PlaySnd
trigger1 = animelem = 12
value = 2000,2
ignorehitpause = 1
volume = 200

[State 2022, a]
type = StateTypeSet
trigger1 = animelem = 17
statetype = a

[State 2022, go x]
type = VelSet
trigger1 = animelem = 17
y = -1.95 

[State 2022, stay]
type = PosFreeze
trigger1 = animelemno(0) = [24, 172]
value = 1

[State 2022, super!]
type = Explod
trigger1 = animelem = 21
anim = 3000
postype = p1
pos = 0,0
ownpal = 1
supermove = 1
removeongethit = 1
removetime = 20
sprpriority = 1
bindtime = -1

[State 2022,2]
type = PlaySnd
trigger1 = animelem = 24
value = 2000,3
channel = 0 
ignorehitpause = 1
volume = 200

[State 2022, 1]
type = HitDef
trigger1 = animelem = 24
trigger2 = animelem = 27
trigger3 = animelem = 30
trigger4 = animelem = 33
trigger5 = animelem = 36
trigger6 = animelem = 39
trigger7 = animelem = 42
trigger8 = animelem = 45
trigger9 = animelem = 48
trigger10 = animelem = 51
trigger11 = animelem = 54
trigger12 = animelem = 57
trigger13 = animelem = 60
trigger14 = animelem = 63
trigger15 = animelem = 66
trigger16 = animelem = 69
trigger17 = animelem = 72
trigger18 = animelem = 75
trigger19 = animelem = 78
trigger20 = animelem = 81
trigger21 = animelem = 84
trigger22 = animelem = 87
trigger23 = animelem = 90
trigger24 = animelem = 93
trigger25 = animelem = 96
trigger26 = animelem = 99
trigger27 = animelem = 102
trigger28 = animelem = 105
trigger29 = animelem = 108
trigger30 = animelem = 111
trigger31 = animelem = 114
trigger32 = animelem = 117
trigger33 = animelem = 120
trigger34 = animelem = 123
trigger35 = animelem = 126
trigger36 = animelem = 129
trigger37 = animelem = 132
trigger38 = animelem = 135
trigger39 = animelem = 138
trigger40 = animelem = 141
trigger41 = animelem = 144
trigger42 = animelem = 147
trigger43 = animelem = 150
trigger44 = animelem = 153
trigger45 = animelem = 156
trigger46 = animelem = 159
trigger47 = animelem = 162
trigger48 = animelem = 165
trigger49 = animelem = 168
trigger50 = animelem = 171
attr = A, HA    
damage = 0, 0                
hitflag = MAFD
priority = 4, Hit
pausetime = 0,11  
hitsound = s5, 1                  
guardsound = s6, 0   
sparkno = s6002          
sparkxy = -10, 35
p2stateno = 2024
getpower = 0,0

[State 2022, super!]
type = Explod
trigger1 = animelem = 24
anim = 3010
postype = p1
pos = 0,0
ownpal = 1
supermove = 1
removeongethit = 1
removetime = 214
sprpriority = 1
bindtime = -1

[State y Accel a]
type = Velset
trigger1 = animelem = 173 && (animelemno(0) != [24, 172])
Y = .5

[State 2022 grav]
type = Gravity
trigger1 = animelem = 173, > 0

[State 2022, 4]
type = ChangeState
triggerall = time >= 302
Trigger1 = vel y > 0 && pos y >= 0
value = 2023
;---------------------------------------------------------------------------
;DISPOSTION FROG SUCCESS ANIMATION 3
[Statedef 2023]
type    = S                      
movetype= A                    
physics = S                                 
ctrl = 0                       
anim = 2023 
poweradd= 0                               
sprpriority = 2
velset= 0,0

[State 2023,2]
type = PlaySnd
trigger1 = animelem = 1
value = 2000,4
volume = 200
channel = 0

[State 2023,2]
type = PlaySnd
trigger1 = animelem = 49
value = 2000,5
volume = 200

[State 2023, turn]
type = Turn
trigger1 = animelem=70

[State 2023,2]
type = PlaySnd
trigger1 = time = 150
value = 5,7

[State 2023, super!]
type = Explod
trigger1 = Time = 150
anim = 3020+var(20)
postype = p2
pos = -10,-60
ownpal = 1
supermove = 1
removeongethit = 1
sprpriority = 4

[State 2023: EnvShake]
type = EnvShake
trigger1 = Time = 150
time = 40
freq = 100
ampl = 10
ignorehitpause = 1

[State 2023, 0]
type = PosSet
trigger1 = !time
y = 0

[State 2023, a]
type = StateTypeSet
trigger1 = animelem = 1
statetype = S

[State 2023, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 10000
ctrl = 1 
;---------------------------------------------------------------------------
;HIT BY DISPOSTION FROG             
[StateDef 2024]
Type = A
MoveType =  H
VelSet = 0, 0
Ctrl = 0

[State 2024, a]
type = StateTypeSet
trigger1 = !time
statetype = L

[State 2024, 0]
type = PosSet
trigger1 = !time
y = 0

[State 2024, Anim]
Type = ChangeAnim2
Trigger1 = !Time
Value = 2024

[State 2024, 2]
type = ChangeState
trigger1 = time =186
value = 2025	
;---------------------------------------------------------------------------
[StateDef 2025]
Type = A
MoveType =  H
VelSet = 6.33, -8.5; 123, 105 (49 + 56)
Ctrl = 0

[State 2025, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5050)
value = 5050

[State -2, PalFX]
type = PalFX
trigger1 = time 
time = 10
add = 40,-70,-200  
sinadd = 40,30,0,10 
invertall = 1
color = 0 
ignorehitpause = 1
persistent = 2

[State 2025, Anim 5050] 
type = lifeadd
trigger1 = Time = 0
value = -400

[State 2025, Gravity]
Type = VelAdd
Trigger1 = time
Y = .4

[State 2024, 10]
type = SelfState
Trigger1 = vel y > 0 && pos y >= 0
value = 5100
;---------------------------------------------------------------------------
[StateDef 2026]
Type = A
MoveType =  H
VelSet = -4.1, 8; 
Ctrl = 0

[State 2026 grav]
type = veladd
trigger1 = time =0
y=.6

[State 2026, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5050)
value = 5050

[State 2026: EnvShake]
type = EnvShake
Trigger1 = vel y > 0 && pos y >= 0
time = 10
freq = 50
ampl = 10
ignorehitpause = 1

[State 2026, 10]
type = changestate
Trigger1 = vel y > 0 && pos y >= 0
value = 2027

[StateDef 2027]
Type = A
MoveType =  H
VelSet = 0, -6; 
Ctrl = 0

[State 2027 grav]
type = veladd
trigger1 = time =0
y=.6

[State 2027 grav]
type = Gravity
trigger1 = time >=0

[State 2027, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5160)
value = 5160

[State 2026, 10]
type = changestate
Trigger1 = vel y > 0 && pos y >= 0
value = 5100
;---------------------------------------------------------------------------
[Statedef 2030, Henshin Super]
type    = S                      
movetype = I                      
physics = N  
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 2030 
velset=0,0

[State 2030]
type = ChangeState
trigger1 = AnimTime = 0
value = 10000
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 2040, Henshin Normal]
type    = S                      
movetype = I                      
physics = N  
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 2040 
velset=0,0

[State 2040]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; CUSTOM HIT ANIMS
;---------------------------------------------------------------------------
[Statedef 5021]; change the statedef number to 5021
type = A
movetype = H
velset = 0, 0

[State 5021, this is it]; this is the important modification. everything else here is just copied from 5020 and optimized a bit - except the other bolded part, the SelfState further down
type = HitFallSet
trigger1 = !time
value = ifelse(alive, 0, -1)

[State 5020, 1]; Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = !Time && (GetHitVar(animtype) != [3, 5])
value = ifelse((GetHitVar(airtype) = 1), 5000, 5010) + GetHitVar(animtype)

[State 5020, 2]; Anim for HIT_BACK
type = ChangeAnim
trigger1 = !Time && (GetHitVar(animtype) = [3, 5])
value = 5030

[State 5020, 3]; Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = !Time && (GetHitVar(animtype) = [4, 5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype); 5051 - 4 + type

[State 5020, 4]; Freeze anim
type = ChangeAnim
trigger1 = Time
value = anim

[State 5020, 5]; in common1.cns this is a ChangeState - but we want to put the opponent back in his own states where he belongs
type = SelfState
trigger1 = HitShakeOver
value = 5030

[State 5020, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000 || anim = 5010
persistent = 0
time = 6
waveform = square

[State 5020, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001 || anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110, -1, -.3

[State 5020, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012 || anim = 5002 || anim = 5030 || (anim = [5051, 5059])
persistent = 0
time = 15
waveform = sinesquare
ampl = 140
;---------------------------------------------------------------------------
[Statedef 6000]
type    = S
movetype= H
physics = N
velset = 0,0

[State 5000, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 5012

[State 5000, 3] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 6001

[Statedef 6001]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, Envshake]
type = envshake
Trigger1 = time = 0
time = 9
ampl = -3
freq = 110

[State 0, posadd]
type = posadd
trigger1 = Time = 0
x = -20

[State 5110,1]
type = nothitby
trigger1 = Time >= 0
value = SCA
time = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var]
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2]
type = ChangeAnim
triggerall = time = 0
trigger1 = SelfAnimExist(5102)
value = 5102

[State 5100, 2]
type = ChangeAnim
triggerall = time = 0
trigger1 = SelfAnimExist(5101)
trigger1 = !SelfAnimExist(5102)
value = 5101

[State 5100, 2]
type = ChangeAnim
triggerall = time = 0
trigger1 = !SelfAnimExist(5101)
trigger1 = !SelfAnimExist(5102)
value = 5100

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 61
pos = 0, 0
under = sysvar(1) <= 10

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, 2 ;Hit ground

[State 5100, 12]
type = selfState
trigger1 = Time = 10
value = 5101
;---------------------------------------------------------------------------
[Statedef 6005]
type    = S
movetype= H
physics = N
velset = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = 5012

[State 0, ChangeAnim] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 0, Changestate]
type = ChangeState
trigger1 = HitShakeOver
value = 6006

[Statedef 6006]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, Envshake]
type = envshake
Trigger1 = time = 0
time = 9
ampl = -3
freq = 110

[State 0, posadd]
type = posadd
trigger1 = Time = 0
x = -20

[State 0,Nothitby]
type = nothitby
trigger1 = Time = 1
value = SCA
time = 1

[State 0, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 0, Var]
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 0, 2]
type = ChangeAnim
triggerall = time = 0
trigger1 = SelfAnimExist(5102)
value = 5102

[State 0, 2]
type = ChangeAnim
triggerall = time = 0
trigger1 = SelfAnimExist(5101)
trigger1 = !SelfAnimExist(5102)
value = 5101

[State 0, 2]
type = ChangeAnim
triggerall = time = 0
trigger1 = !SelfAnimExist(5101)
trigger1 = !SelfAnimExist(5102)
value = 5100

[State 0, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 0, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 0, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 61
pos = 0, 0
under = sysvar(1) <= 10

[State 0, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 0, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, 2 ;Hit ground

[State 0, 12]
type = Changestate
trigger1 = Time = 7
value = 6007
;---------------------------------------------------------------------------
[Statedef 6007]
type    = L
movetype= H
physics = N

[State 0, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 0, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 0, 3]
type = HitFallVel
trigger1 = Time = 0

[State 0, 4]
type = PosSet
trigger1 = Time = 0
y = 20

[State 0, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .4

[State 0, 6] ;Hit ground
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 12
value = 6008

[Statedef 6008]
type    = L
movetype= H
physics = N

[State 0, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 0, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 0, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 0, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 0, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 0, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 0, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 0, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = F7, 1 ;Hit ground

[State 0, 7]
type = GameMakeAnim
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 10

[State 0, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 0, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 0, 11] ;If just died
type = SelfState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 0, GETUP] ;If just died
type = SelfState
triggerall = alive
trigger1 = time = 10
value = 5120
ctrl = 0

[State 0, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 0, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85
;---------------------------------------------------------------------------
[Statedef 6009]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 6100

[State 0, 2] ;Freeze anim
type = ChangeAnim2
trigger1 = Time > 0
value = anim

[State 0, 3]
type = ChangeState
trigger1 = HitShakeOver
value = 6010

[Statedef 6010]
type    = A ;L
movetype= H
physics = N

[State 0, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 0, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -14

[State 0, VelMul]
type = VelMul
trigger1 = time > 0
x = 1

[State 0, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 6101

[State 0, 2]
type = ChangeState
trigger1 = vel y > 0 && pos y >= 0
value = 6011

[Statedef 6011]
type    = L
movetype= H
physics = N
velset = -1,0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 12
ampl = -5
freq = 180

[State 0, posadd]
type = posset
trigger1 = Time = 0
y = 0

[State 0, posadd]
type = posadd
trigger1 = Time = 0
x = -20

[State 0, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 6102

[State 0, 2]
type = changestate
trigger1 = animtime = 0
value = 6012

[State 0, 3]
type = GameMakeAnim
trigger1 = Time = 0
value = 61
pos = 0, 0
under = SysVar(1) <= 10

[State 0, 4]
type = PlaySnd
trigger1 = Time = 1
;value = F7, 0 ;Hit ground
value = F7, (SysVar(1) > 5) + (SysVar(1) > 14)
;---------------------------------------------------------------------------
[Statedef 6012]
type    = L
movetype= H
physics = N

[State 0, posadd]
type = posadd
trigger1 = animelem = 2
y = -10
x = -5

[State 0, 3]
type = HitFallVel
trigger1 = Time = 0

[State 0, Gravity]
type = Veladd
trigger1 = Time >= 0
y = .4

[State 0, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 6103

[State 0, 2]
type = selfstate
trigger1 = vel y > 0 && pos y >= -10
value = 5110
;---------------------------------------------------------------------------
[Statedef 6013]
type = L
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time >= 0 && (selfanimexist(5092) || selfanimexist(5091))
value = ifelse(!selfanimexist(5092),5091,5092)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time >= 0 && !selfanimexist(5051) && !selfanimexist(5052)
value = 5080

[State 0, ChangeState]
type = ChangeState
trigger1 = HitShakeOver
value = 6014
;---------------------------------------------------------------------------
[Statedef 6014]
type = L
movetype = H
physics = N
velset = 0,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time <= 15 && (selfanimexist(5092) || selfanimexist(5091))
value = ifelse(!selfanimexist(5092),5091,5092)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time <= 15 && !selfanimexist(5051) && !selfanimexist(5052)
value = 5080

[State 6091, 2-1]
type = ChangeAnim
trigger1 = Time = 17 && (selfanimexist(5082) || selfanimexist(5081))
value = ifelse(!selfanimexist(5082),5081,5082)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 17 && !selfanimexist(5081) && !selfanimexist(5082)
value = 5170

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = ifelse(p2dist X >= 0, -6, 6)

[State 0, VelSet]
type = VelSet
trigger1 = time = 11
x = 0

[State 0, VelMul]
type = VelMul
trigger1 = Time <= 10
x = 0.85

[State 0, SelfState]
type = SelfState
trigger1 = time = 17
value = 5110
;---------------------------------------------------------------------------
[Statedef 6015]
type = A
movetype = H
physics = N
velset = -3,-3

[State 0, Gravity]
type = Gravity
trigger1 = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = AnimElem = 1
time = 14
ampl = 4
freq = 70

[State 0, ScreenBound]
Type = ScreenBound
trigger1 = 1
value = 0

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 1010

[State 0, SelfState]
type = SelfState
trigger1 = Vel Y> 0 && Pos Y >= 0
value = 5100
;---------------------------------------------------------------------------
[Statedef 6016]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, ChangeAnim] ;Anim for HIT_LIGHT to HIT_HARD
type = Null
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)

[State 0, ChangeAnim] ;Anim for HIT_BACK
type = Null
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5012

[State 0, ChangeAnim] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
;trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5030 ;+ GetHitVar(animtype) ;5051 - 4 + type

[State 0, ChangeAnim] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 0, ChangeState]
type = ChangeState
trigger1 = HitShakeOver
value = 6020

[Statedef 6017]
type    = A
movetype= H
physics = N

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059] ;Not if in hit up anim
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5035

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 0,ChangeState]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Anim is over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 6018 ;HITA_FALL
;---------------------------------------------------------------------------
[Statedef 6018]
type    = A
movetype= H
physics = N

[State 0, ChangeAnim] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 0, ChangeAnim] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 0, VelAdd] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 0, SelfState] ;Recover near ground
type = SelfState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 0, HitFallSet]
type = HitFallSet
trigger1 = Time = 0
value = 0

[State 0, SelfState]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 0)
value = 5100 ;HIT_BOUNCE

[Statedef 6019]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, ChangeAnim] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)

[State 0, ChangeAnim] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 0, ChangeAnim] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 0, ChangeAnim] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 0, ChangeState]
type = ChangeState
trigger1 = HitShakeOver
value = 6021

[Statedef 6020]
type    = A
movetype= H
physics = N
ctrl = 0

[State 0, ChangeAnim] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = time = 0
trigger1 = anim = 5012
value = 5030

[State 0, VelAdd]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 0, HitVelSet]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 0, ChangeState]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 6018 ;HITA_FALL

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 6017 ;HITA_UP (transition)

[Statedef 6021]
type    = A
movetype= H
physics = N
ctrl = 0

[State 0, HitFallSet]
type = HitFallSet
trigger1 = Time = 0
value = 0

[State 0, VelAdd]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 0, HitVelSet]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 0, ChangeState]
type = Changestate
triggerall = HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 6018 ;HITA_FALL

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 6017 ;HITA_UP (transition)
;---------------------------------------------------------------------------
[Statedef 6025]
type = S
physics = N
movetype = H
velset = 0,0
ctrl = 0

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 1505

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = time > 0
value = anim

[State 0, SelfState]
type = SelfState
trigger1 = time > 150
value = 5030
ctrl = 0

[Statedef 6026]
type = A
physics = N
movetype = H
ctrl = 0

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 1507

[Statedef 6027]
type = A
physics = N
movetype = H
ctrl = 0

[State 0, HitFallSet]
type = HitFallSet
trigger1 = time = 0
value = 1

[State 0, HitVelSet]
type = HitVelSet
trigger1 = time = 0
value = 1

[State 0, ChangeAnim]
type = Changeanim
trigger1 = time = 0
value = 5030

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = 40

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 50
add = 40,-70,-200
sinadd = 40,30,0,10
color = 0
invertall = 1
ignorehitpause = 1

[State 0, SelfState]
type = SelfState
trigger1 = time = 10
value = 5030
ctrl = 0
;---------------------------------------------------------------------------
[Statedef 6100]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 6100

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time > 0
value = anim

[State 0, ChangeState]
type = ChangeState
trigger1 = HitShakeOver
value = 6101

[Statedef 6101]
type    = A
movetype= H
physics = N

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 0, HitVelSet]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 6101

[State 0, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 6102

[Statedef 6102]
type    = L
movetype= H
physics = N
velset = 0,0

[State 0, HitFallDamage]
type = HitFallDamage
trigger1 = time = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 12
ampl = -5
freq = 180

[State 0, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = Time = 0
x = -20

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 6102

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 6103

[State 0, GameMakeAnim]
type = GameMakeAnim
trigger1 = Time = 0
value = 61
pos = 0, 0
under = SysVar(1) <= 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = F7, (SysVar(1) > 5) + (SysVar(1) > 14)

[Statedef 6103]
type    = L
movetype= H
physics = N
velset = -1,-6

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 2
y = -10
x = -5

[State 0, VelAdd]
type = VelAdd
trigger1 = Time > 0
y = .5

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 6103

[State 0, SelfState]
type = SelfState
trigger1 = Vel Y > 0 && Pos Y >= -10
value = 5110
;---------------------------------------------------------------------------
;Spinning Fall
[Statedef 6200]
type    = A
movetype= H
physics = N
velset = 0,0

[State 803, ChangeAnim2]
type = ChangeAnim2
trigger1 = !time
value = 6200

[State 0, ChangeState]
type = ChangeState
trigger1 = HitShakeOver
value = 6201
ctrl = 0

[Statedef 6201]
type = A
movetype = H
physics = N
velset = 0, 0
facep2 = 1

[State 0, ChangeAnim]
type = ChangeAnim2
trigger1 = time = 0
value = 6201

[State 0, VelSet]
type = VelSet
trigger1 = Time = 0
x = -2
y = -14

[State 0, VelAdd]
type = VelAdd
trigger1 = Time > 0
y = .6

[State 0, SelfState]
type = ChangeState
trigger1 = Pos Y >= -15 && Vel Y > 0
value = 6202

[Statedef 6202]
type = A
movetype = H
physics = N
velset = 0, 0

[State 0, EnvShake]
type = EnvShake
trigger1 = Time = 0
time = 20
ampl = -8

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5100+ifelse(SelfAnimexist(5101),1,0)

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 6203

[Statedef 6203]
type = A
movetype = H
physics = N
velset = 0, 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, VelSet]
type = VelSet
trigger1 = Time = 0
x = -1.5
y = -3

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5160+ifelse(SelfAnimexist(5161),1,0)

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = .525

[State 0, SelfState]
type = SelfState
trigger1 = Pos Y >= -2 && Vel Y > 0
value = 5110
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------


;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------
[Statedef -3]

[State -3, Super Afterimage]
type=afterimage
trigger1= stateno=1000 && time=2
trigger1= stateno=1005 && time=2
trigger1= stateno=1010 && time=2
trigger1= stateno=1015 && time=2
trigger1= stateno=1020 && time=2
trigger1= stateno=1025 && time=2
trigger1= stateno=1030 && time=2
trigger1= stateno=1035 && time=2
time=-1
timegap=1
framegap=4
length=9
trans=add1

[State -3, Afterimage Persist]
type=afterimagetime
trigger1= (stateno=[1000,1039])
time=2
[State -3, Afterimage Off]
type=afterimagetime
trigger1= time<=1
trigger1= (stateno=1000 || stateno=1005)
trigger1= (stateno=1010 || stateno=1015)
trigger1= (stateno=1020 || stateno=1025)
trigger1= (stateno=1030 || stateno=1035)
time=0

[State -3, GetHit Snd]
type=playsnd
triggerall= alive && time=1
triggerall= stateno=5000 || stateno=5010
trigger1= gethitvar(animtype)>=2 && random<500
trigger2= gethitvar(animtype)=1 && random<375
trigger3= gethitvar(animtype)=0 && random<250
value=5000,(random%3)
volume=200
channel=0
ignorehitpause=1
[State -3, GetHit Snd]
type=playsnd
triggerall= alive && time=1
trigger1= (stateno=5000 || stateno=5010) && numenemy
trigger2= (stateno=5020 || stateno=5070 || stateno=5080)
trigger3= (stateno=5050 || stateno=5100) && (prevstateno!=[5000,5199])
value=5000,(random%3)
volume=200
channel=0
ignorehitpause=1

[State -3, jump]
type = PlaySnd
triggerall = time = 1
trigger1 = StateNo = 50
trigger1 = var(2) && !sysvar(1)
trigger2 = StateNo = 50
trigger2 = !var(2) && !sysvar(1)
trigger3 = StateNo = 50
trigger3 = !var(2) && sysvar(1)
trigger4 = StateNo = 41
trigger4 = var(2) && !sysvar(1)
trigger5 = StateNo = 41
trigger5 = !var(2) && !sysvar(1)
trigger6 = StateNo = 41
trigger6 = !var(2) && sysvar(1)
value = 40,0

[State -3, jump]
type = PlaySnd
triggerall = time = 1
trigger1 = StateNo = 10050
trigger1 = var(2) && !sysvar(1)
trigger2 = StateNo = 10050
trigger2 = !var(2) && !sysvar(1)
trigger3 = StateNo = 10050
trigger3 = !var(2) && sysvar(1)
trigger4 = StateNo = 10041
trigger4 = var(2) && !sysvar(1)
trigger5 = StateNo = 10041
trigger5 = !var(2) && !sysvar(1)
trigger6 = StateNo = 10041
trigger6 = !var(2) && sysvar(1)
value = 40,0

[State -3, jump]
type = PlaySnd
triggerall = time = 1
trigger1 = StateNo = 52
trigger2 = StateNo = 106
trigger3 = StateNo = 1031
trigger4 = StateNo = 10125
trigger5 = stateNo = 11011
trigger6 = stateNo = 11013
value = 40,3

[state -3, p2 cannot be thrown whilst guarding]
type = varset
triggerall = numenemy
trigger1 = enemynear, stateno != [120, 155]
var(15) = 1

[state -3, p2 cannot be thrown whilst guarding]
type = varset
triggerall = numenemy
trigger1 = enemynear, stateno = [120, 155]
var(15) = 0

[State -3, opponent falling behavior]
type = TargetState
triggerall = numtarget(200)
trigger1 = target(200), alive && target(200), hitfall
value = 5021
ignorehitpause = 1

[State -3, Stop]
type = StopSnd
trigger1 = stateno != 101
trigger1 = stateno != 10101
channel = 27

[State -3, Stop]
type = StopSnd
trigger1 = stateno != 10195
channel = 7

[State -3]
type = PlaySnd
triggerall = P2stateno = 1403 && P2movetype = H && P2statetype = A
trigger1 = enemy, Vel Y > 0 && enemy, Pos Y = 0
value = 5, 6
persistent = 0

;------------------------------------------------------------------------------
;DREAMCANCEL Helper States
[Statedef 40000]
type = S
movetype = I
physics = S
ctrl = 0
velset = 0, 0
ownpal = 1
anim = 16003
sprpriority = -1

[State 7001, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000, Explod] ;DREAMCANCEL
type = Explod
trigger1 = !time
anim = 16000
ID = 16000
pos = 0,75;160     ;118 in KOFXI ...
facing = 1
postype = right
supermove = 1
supermovetime = 68
pausemovetime = 68
scale = .5,.5
sprpriority = 776
ignorehitpause = 1
persistent = 0
bindtime = 68
ownpal = 1
removeongethit = 0

[State 1000, Explod] ;Marquee
type = Explod
trigger1 = !time
anim = 16001
ID = 16001
pos = 0,75
postype = right
supermove = 1
supermovetime = 68
pausemovetime = 68
scale = .5,.5
sprpriority = 777
bindtime = 68
ignorehitpause = 1
persistent = 0

[State 1000, Explod] ;Black
type = Explod
trigger1 = !time
anim = 16002
ID = 16002
pos = 0,75
postype = right
supermove = 1
supermovetime = 68
pausemovetime = 68
scale = .5,.5
sprpriority = 775
bindtime = 68
ignorehitpause = 1
persistent = 0
trans = addalpha
alpha = 128,128

[State 65000: DestroySelf]
type = DestroySelf
trigger1 = time = 68

;DREAMCANCEL Helper States
[Statedef 11111]
type = S
movetype = I
physics = S
ctrl = 0
velset = 0, 0
ownpal = 1
anim = 16003
sprpriority = -1

[State 111111, DestroySelf]
type = DestroySelf
trigger1 = time = 80

;DREAMCANCEL Helper States
[Statedef 40005]
type = S
movetype = I
physics = S
ctrl = 0
velset = 0, 0
ownpal = 1
anim = 16003
sprpriority = -1

[State 7001, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000, Explod] ;DREAMCANCEL
type = Explod
trigger1 = !time
anim = 16004
ID = 16004
pos = 0,75;160     ;118 in KOFXI ...
facing = 1
postype = right
supermove = 1
supermovetime = 68
pausemovetime = 68
scale = .5,.5
sprpriority = 776
ignorehitpause = 1
persistent = 0
bindtime = 68
ownpal = 1
removeongethit = 0

[State 1000, Explod] ;Marquee
type = Explod
trigger1 = !time
anim = 16005
ID = 16005
pos = 0,75
postype = right
supermove = 1
supermovetime = 68
pausemovetime = 68
scale = .5,.5
sprpriority = 777
bindtime = 68
ignorehitpause = 1
persistent = 0

[State 1000, Explod] ;Black
type = Explod
trigger1 = !time
anim = 16006
ID = 16006
pos = 0,75
postype = right
supermove = 1
supermovetime = 68
pausemovetime = 68
scale = .5,.5
sprpriority = 775
bindtime = 68
ignorehitpause = 1
persistent = 0
trans = addalpha
alpha = 128,128

[State 65000: DestroySelf]
type = DestroySelf
trigger1 = time = 68

;----------------------------[2002 UM MAX2 BG]----------------------------------
[Statedef 40001]
anim = 9999

[State 40001, Tile #1-7]
type = Explod
triggerall = !numexplod(15600)
trigger1 = !time
anim = 15600
ID = 15600
pos = 0,0
postype = left  ;p2,front,back,left,right
removetime = 10
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1
persistent = 0

[State 40001, Tile #1-7]
type = Explod
triggerall = !numexplod(15601) < 2
trigger1 = !time
trigger2 = (time%10) = 0
anim = 15600
ID = 15601
pos = 320,0
postype = left  ;p2,front,back,left,right
removetime = 20
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1

[State 40001, Tile #2-6]
type = Explod
triggerall = !numexplod(15610)
trigger1 = !time
anim = 15601
ID = 15610
pos = 0,0
postype = left  ;p2,front,back,left,right
removetime = 20
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 40001, Tile #2-6]
type = Explod
triggerall = !numexplod(15611) < 2
trigger1 = !time
trigger2 = (time%20) = 0
anim = 15601
ID = 15611
pos = 320,0
postype = left  ;p2,front,back,left,right
removetime = 40
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1

[State 40001, Tile #3-5]
type = Explod
triggerall = !numexplod(15620)
trigger1 = !time
anim = 15602
ID = 15620
pos = 0,0
postype = left  ;p2,front,back,left,right
removetime = 40
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 40001, Tile #3-5]
type = Explod
triggerall = !numexplod(15621) < 2
trigger1 = !time
trigger2 = (time%40) = 0
anim = 15602
ID = 15621
pos = 320,0
postype = left  ;p2,front,back,left,right
removetime = 80
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1

[State 40001, Tile #4]
type = Explod
triggerall = !numexplod(15630)
trigger1 = !time
anim = 15603
ID = 15630
pos = 0,0
postype = left  ;p2,front,back,left,right
removetime = 80
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 40001, Tile #3-5]
type = Explod
triggerall = !numexplod(15631) < 2
trigger1 = !time
trigger2 = (time%80) = 0
anim = 15603
ID = 15631
pos = 320,0
postype = left  ;p2,front,back,left,right
removetime = 160
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1

[State 40001, Glass Break]
type = ChangeState
trigger1 = root, stateno != 12020 && root, stateno != 12021 && root, stateno != 12022
trigger2 = root, stateno = 12020 && root,animelem=25 || root, stateno = 12022 && root,animelem=19 
value = stateno+1

[Statedef 40002]
anim = 9999

[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15600
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15601
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15610
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15611
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15620
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15621
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15630
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15631

[State 40002, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S14001,0
volume = 200

[State 40001, Glass Break]
type = Explod
triggerall = !numexplod(15640)
trigger1 = !time
anim = 15604
ID = 15640
pos = 0,0
postype = left  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
scale = 1,1
sprpriority = -20
ownpal = 1
bindtime = -1
ignorehitpause = 1

[State 40001, DestroySelf]
type = DestroySelf
trigger1 = time = 1

;--------------------------[2002 UM MAX2 PORTRAIT]------------------------------
[Statedef 40003]
anim = 9999

[State 40003, VarSet]
type = VarSet
triggerall = enemy, numhelper(40003)
triggerall = !enemy, numhelper(40004)
trigger1 = enemy, authorname = "Vans"
trigger2 = enemy, authorname = "K.O.D"
trigger3 = enemy, authorname = "K.O.D & Vans"
trigger4 = enemy, authorname = "OrochiKOF97"
trigger5 = enemy, authorname = "David Demianoff"
trigger6 = enemy, authorname = "Dark Saviour"
trigger7 = enemy, authorname = "Kung Fu Man"
trigger8 = enemy, authorname = "KoopaKoot"
trigger9 = enemy, authorname = "Anjel"
trigger10 = enemy, authorname = "David Demianoff & Kung Fu Man"
var(0) = 1

[State 40003, VarSet]
type = VarSet
triggerall = teamside = 2
triggerall = enemy, numhelper(40004)
trigger1 = enemy, authorname = "Vans"
trigger2 = enemy, authorname = "K.O.D"
trigger3 = enemy, authorname = "K.O.D & Vans"
trigger4 = enemy, authorname = "OrochiKOF97"
trigger5 = enemy, authorname = "David Demianoff"
trigger6 = enemy, authorname = "Dark Saviour"
trigger7 = enemy, authorname = "Kung Fu Man"
trigger8 = enemy, authorname = "KoopaKoot"
trigger9 = enemy, authorname = "Anjel"
trigger10 = enemy, authorname = "David Demianoff & Kung Fu Man"
var(0) = 1

[State 40001, P1 BG]
type = Explod
triggerall = !numexplod(15650)
triggerall = teamside = 1
trigger1 = !time
anim = 15605
ID = 15650
pos = 0,abs((240*var(0))-81)
postype = left  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
bindtime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1

[State 40001, P2 BG]
type = Explod
triggerall = !numexplod(15651)
triggerall = teamside = 2
trigger1 = !time
anim = 15606
ID = 15651
pos = 0,abs((240*var(0))-81)
postype = right  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
bindtime = -1
scale = 1,1
facing = -1
sprpriority = -20
ownpal = 1
ignorehitpause = 1

[State 40001, P1 PORTRAIT]
type = Explod
triggerall = !numexplod(15660)
triggerall = teamside = 1
trigger1 = !time
anim = 15607
ID = 15660
pos = 0,abs((240*var(0))-81)
postype = left  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
bindtime = -1
scale = 1,1
sprpriority = -19
ownpal = 1
ignorehitpause = 1

[State 40001, P2 PORTRAIT]
type = Explod
triggerall = !numexplod(15661)
triggerall = teamside = 2
trigger1 = !time
anim = 15607
ID = 15661
pos = 0,abs((240*var(0))-81)
postype = right  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
bindtime = -1
scale = 1,1
facing = -1
sprpriority = -19
ownpal = 1
ignorehitpause = 1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 15650
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 15650
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 15650
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 15650
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 15650
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 15650
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 15650
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 15650
scale = 1,1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 15651
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 15651
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 15651
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 15651
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 15651
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 15651
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 15651
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 15651
scale = 1,1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 15660
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 15660
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 15660
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 15660
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 15660
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 15660
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 15660
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 15660
scale = 1,1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 15661
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 15661
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 15661
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 15661
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 15661
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 15661
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 15661
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 15661
scale = 1,1

[State 40001, DestroySelf]
type = DestroySelf
trigger1 = time = 60

[Statedef 40004]
anim = 9999

[State 40001, DestroySelf]
type = DestroySelf
trigger1 = time = 1




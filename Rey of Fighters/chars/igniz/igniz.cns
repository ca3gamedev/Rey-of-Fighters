[Data]
life = 1000
attack = 100
defence = 100
power = 4000
fall.defence_up = 50
liedown.time = 60
airjuggle = 15
sparkno = 2
guard.sparkno = 709
KO.echo = 0
volume = 0
IntPersistIndex = 59
FloatPersistIndex = 40

[Size]
xscale = 1           ;Horizontal scaling factor.
yscale = 1           ;Vertical scaling factor.
ground.back = 15     ;Player width (back, ground)
ground.front = 16    ;Player width (front, ground)
air.back = 12        ;Player width (back, air)
air.front = 12       ;Player width (front, air)
height = 60      ;Height of player (for opponent to jump over)
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too
head.pos = -18, -95   ;Approximate position of head
mid.pos = -5, -60    ;Approximate position of midsection
shadowoffset = 0     ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drag offset in pixels (x, y)

[Velocity]
walk.fwd  = 2.4      ;Walk forward
walk.back = -2.2     ;Walk backward
run.fwd  = 6, 0    ;Run forward (x, y)
run.back = -4.5,-3.8 ;Hop backward (x, y)
jump.neu = 0,-8    ;Neutral jumping velocity (x, y)
jump.back = -2.55    ;Jump back Speed (x, y)
jump.fwd = 2.5       ;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1 ;Running jump speeds (opt)
runjump.fwd = 4,-8.1      ;.
airjump.neu = 0,-8.1      ;.
airjump.back = -2.55      ;Air jump speeds (opt)
airjump.fwd = 2.5         ;.

[Movement]
airjump.num = 0      ;Number of air jumps allowed (opt)
airjump.height = 35  ;Minimum distance from ground before you can air jump (opt)
yaccel = .46         ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching

;---------------------------------------------------------------------------
; Format:
; [Statedef STATENO]
; type = ?      S/C/A/L  stand/crouch/air/liedown
; movetype = ?  I/A/H    idle/attack/gethit
; physics = ?   S/C/A/N  stand/crouch/air/none
; juggle = ?             air juggle points move requires
;
; [State STATENO, ?]     ? - any number you choose
; type = ?
; ...

;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
[Statedef 180]
type = S
;anim = 180

[State 191, 1]
type = varrandom
trigger1 = time = 0
v = 4
range = 1,3

[State 191, 3]
type = ChangeState
trigger1 = var(4) = 1
value = 181

[State 191, 3]
type = ChangeState
trigger1 = var(4) = 2
value = 182

[State 191, 3]
type = ChangeState
trigger1 = var(4) = 3
value = 183

[Statedef 181]
type = S
anim = 180

[State 191, 1]
type = playsnd
trigger1 = time = 0
value = S0,18

[State 181, 1]
type = AssertSpecial
trigger1 = Time = [0,300]
flag = RoundNotOver

;----------------------------------
[Statedef 182];win2
type = S
anim = 181

[State 181, 1]
type = AssertSpecial
trigger1 = Time = [0,230]
flag = RoundNotOver

;----------------------------------
[Statedef 183];win3
type = S
anim = 1

[State 191, 3]
type = Changeanim
trigger1 = time = 210
value = 182

[State 191, 1]
type = playsnd
trigger1 = time = 10
value = S0,25

[State 240, 4]
type = Explod
;trigger1 = AnimElem = 20
trigger1 = time = 194
anim = 184
postype = p1
pos = 35,-68
sprpriority = 4

[State 240, 4]
type = Explod
trigger1 = palno != 12
trigger1 = time = 242
anim = 183
postype = p1
pos = 0,0
sprpriority = -1

[State 4100,1]
type = Helper
trigger1 = time = 242
trigger1 = palno = 12
ID = 510
name = "woman"
postype = p1
pos = 0,0
sprpriority = 2
stateno = 184
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1

[State 240, 4]
type = null;Explod
trigger1 = palno = 12
trigger1 = time = 242
anim = 185
postype = p1
pos = 0,0
sprpriority = -1

[State 181, 1]
type = AssertSpecial
trigger1 = Time = [0,400]
flag = RoundNotOver

[Statedef 184];win3
type = S
anim = 185

[State 1007]
type = AfterImage
trigger1 = 1
time = 20
PalMul = 53, 53, 53
length = 2
PalAdd = 0, 0, 0
;PalContrast = 255-var(2),255-var(2),255-var(2)
;PalContrast = 250-(time*10), 250-(time*10), 250-(time*10)
trans = add1
framegap = 1

[State a]
type = AssertSpecial
trigger1 = 1
flag = Invisible

;---------------------------------------------------------------------------
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 191, 1]
type = playsnd
trigger1 = time = 3
value = S0,0
channel = 2

[State 191, 1]
type = playsnd
;trigger1 = time = 275
trigger1 = animelem = 8
value = S0,1

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3]
type = stopsnd
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
trigger4 = command = "x"
trigger5 = command = "y"
trigger6 = command = "x"
trigger7 = command = "start"
channel = 0

[State 191, 3]
type = ChangeState
triggerall = time = 0
trigger1 = p2name = "k9999"
trigger2 = p4name = "k9999"
trigger3 = p2name = "k'"
trigger4 = p4name = "k'"
trigger5 = p2name = "kula"
trigger6 = p4name = "kula"
trigger7 = p2name = "maxima"
trigger8 = p4name = "maxima"
trigger9 = p2name = "Kung Fu Man"
trigger10 = p4name = "Kung Fu Man"
value = 192

[State 191, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0

;---------------------------------------------------------------------------
[Statedef 192]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 191, 2]
type = AssertSpecial
trigger1 = 1;time = [0,250]
flag = Intro

[State 191, 1]
type = playsnd
trigger1 = time = 20
value = S0,35
channel = 2

[State 191, 3]
type = stopsnd
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
trigger4 = command = "x"
trigger5 = command = "y"
trigger6 = command = "x"
trigger7 = command = "start"
channel = 0

[State 191, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0

;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 195, 2]
type = null;ChangeState
trigger1 = Time = 0
value = 183

[State 191, 1]
type = playsnd
trigger1 = time = 3
value = S0,20
channel = 4

[State 195, 1]
type = CtrlSet
trigger1 = Time = 50
value = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 0];Stand
type = S
physics = S
sprpriority = 0
velset = 0

[State 191, 3]
type = stopsnd
trigger1 = time = 0
channel = 0

[State 0, 1]
type = ChangeAnim
triggerall = var(58) = 0
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 0

[State 0, 1]
type = ChangeAnim
triggerall = var(58) = 1
trigger1 = Anim != 2520 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 2520

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

;---------------------------------------------------------------------------
[Statedef 105];バックステップ
type = S
physics = S
anim = 105
velset = 0
ctrl = 0

[State 105, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 106

[Statedef 106]
type = A
physics = N
anim = 106
ctrl = 0

[State 170, 1]
type = NotHitBy
trigger1 = 1
trigger1 = var(5) = 1
value = SCA,AA,AP,AT
time = 2

[State -3, 5]
type = PlaySnd
trigger1 = var(5) = 0
trigger1 = Time = 0
value = S0,15
volume = 255

[State 106, 0]
type = VelSet
trigger1 = var(5) = 0
trigger1 = Time = 0
x = - 8
y = -2.7

[State 106, 0]
type = VelSet
trigger1 = var(5) = 1
trigger1 = Time = 0
x = -18
y = -2

[State 106, 0]
type = VelSet
trigger1 = var(5) = 1
trigger1 = Time = 1
x = -4.5
y = -2

[State 840, 2]
type = afterimage
trigger1 = time = 0
trigger1 = var(5) = 1
trigger1 = palno != 12
time = 20
length = 7
PalBright = 70,70,70
PalAdd = 0,0,50
FrameGap = 5
ignorehitpause = 1

[State 840, 2]
type = afterimagetime
trigger1 = 1
trigger1 = var(5) = 1
time = 2

[State 106, 0]
type = null;VelSet
trigger1 = var(5) = 1
trigger1 = Time = 3
x = -3

[State 106, 1]
type = VelAdd
trigger1 = Time > 2
trigger1 = var(5) = 0
x = .2
y = .5

[State 106, 1]
type = VelAdd
trigger1 = Time > 1
trigger1 = var(5) = 1
x = .03
y = .23

[State 106, 1]
type = VelAdd
trigger1 = Time > 9
trigger1 = var(5) = 1
x = .22

[State 106, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 107

[Statedef 107]
type = S
physics = S
anim = 107
velset = 0,0

[State 107, 0]
type = PosSet
trigger1 = Time = 0
y = 0

[State 107, 1]
type = PlaySnd
trigger1 = var(5) = 0
trigger1 = Time = 0
value = S0,16
volume = 255

[State 107, 2]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = var(5) = 1
value = 2005

[State 170, 1]
type = NotHitBy
trigger1 = 1
trigger1 = var(5) = 1
value = SCA,AA,AP,AT
time = 2

[State 107, 2]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = var(5) = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
[Statedef 5201];ダウン回避
type = S
physics = N
movetype = I
anim = 5200
ctrl = 0
facep2 = 1

[State 4000, PalFX]
type = PalFX
trigger1 = time = 0
time = 0
add = 0,0,0

[State 5201,0]
type = VelSet
trigger1 = Time = 0
x = -2.0
y = 0

[State 5201,2]
type = VelSet
trigger1 = Time > 23
trigger1 = Vel X >= 0
x = 0
y = 0

[State 5201,3]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5201,4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2

[State 5201,5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 200];弱パンチ
type    = S
movetype= A
physics = S
juggle  = 5
velset = 0,0
ctrl = 0
anim = 200
poweradd = 0
sprpriority = 2
juggle = 2

[State 821, 4]
type = playsnd
trigger1 = random <= 500
trigger1 = time = 0
value = S0,24

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 23, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 4, 3
sparkno = S500
guard.sparkno = S505
sparkxy = -10, -76
hitsound = S0,6
guardsound = S0,10
ground.type = High
ground.slidetime = 5
ground.hittime  = 4
ground.velocity = -5
airguard.velocity = -5,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12

[State 191, 1]
type = playsnd
trigger1 = time = 0
value = S0,4

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 210];強パンチ
type    = S
movetype= A
physics = S
juggle  = 5
poweradd = 0
ctrl = 0
velset = 0,0
anim = 200
sprpriority = 2
juggle = 3

[State 191, 1]
type = playsnd
trigger1 = time = 0
value = S0,21
;channel = 0

[State 191, 1]
type = playsnd
trigger1 = time = 0
value = S0,4

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = hard
damage    = 57
guardflag = MA
pausetime = 10,17
sparkno = S501
guard.sparkno = S506
sparkxy = -10,-70
hitsound   = S0,7
guardsound = S0,10
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -9.3
airguard.velocity = -5,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 230];弱キック
type    = S
movetype= A
physics = S
juggle  = 5
poweradd = 0
ctrl = 0
velset = 0,0
anim = 210
sprpriority = 2
juggle = 2

[State 821, 4]
type = playsnd
trigger1 = random <= 500
trigger1 = time = 0
value = S0,24

[State 191, 1]
type = playsnd
trigger1 = time = 0
value = S0,5

[State 230, 2]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
animtype  = Medium
damage    = 26
guardflag = MA
pausetime = 3,3
sparkno = S500
guard.sparkno = S505
sparkxy = -10,-57
hitsound   = S0,8
guardsound = S0,10
ground.type = Low
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2.5,-3.5

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 240];強キック
type    = S
movetype= A
physics = S
juggle  = 5
poweradd = 0
ctrl = 0
velset = 0,0
anim = 210
sprpriority = 2
juggle = 3

[State 191, 1]
type = playsnd
trigger1 = time = 0
value = S0,21
;channel = 0

[State 191, 1]
type = playsnd
trigger1 = time = 0
value = S0,5

[State 240, 2]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
animtype  = Medium
damage    = 63
guardflag = MA
pausetime = 3,3
sparkno = S501
guard.sparkno = S506
sparkxy = -10,-60
hitsound   = S0,9
guardsound = S0,10
ground.type = Low
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2.5,-3.5

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 500];ふっ飛ばし
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 220
sprpriority = 2
juggle = 15
poweradd = IfElse((prevstateno = 150 || prevstateno = 152),-500,0)

[State 240, 4]
type = Explod
trigger1 = Time = 0 && (prevstateno = 150 || prevstateno = 152)
anim = 514
postype = p1
pos = 0,-78
sprpriority = 4

[State 840,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 840,0]
type = envcolor
trigger1 = Time = 0 && (prevstateno = 150 || prevstateno = 152)
time = 2
value = 255,255,255

[State 820, 1]
type = notHitBy
trigger1 = Time = 0 && (prevstateno = 150 || prevstateno = 152)
value = SCA, AA, AP
time = 10

[State 820, 2]
type = Pause
trigger1 = Time = 0 && (prevstateno = 150 || prevstateno = 152)
time = 6
movetime = 6

[State 191, 1]
type = varrandom
trigger1 = 1
v = 1
range = 1,3

[State 191, 1]
type = playsnd
trigger1 = time = 0
trigger1 = var(1) = 1
value = S0,21
channel = 0

[State 191, 1]
type = playsnd
trigger1 = time = 0
value = S0,5

[State 240, 2]
type = HitDef
trigger1 = animelem = 12
attr = S, NA
animtype  = Medium
damage = IfElse((prevstateno = 150 || prevstateno = 152),0,40)
guardflag = M
pausetime = 7,15
sparkno = S502
guard.sparkno = S506
sparkxy = -10,-60
hitsound   = S0,17
guardsound = S0,10
ground.type = low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -1,-4
air.velocity = -1.2,-3.2

[State 240, 2]
type = HitDef
trigger1 = animelem = 17
attr = S, NA
animtype = Medium
damage = IfElse((prevstateno = 150 || prevstateno = 152),0,40)
guardflag = M
pausetime = 2,12
sparkno = S502
guard.sparkno = S506
sparkxy = -10,-60
hitsound   = S0,17
guardsound = S0,10
ground.type = low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -6,7
air.velocity = -6,3.5
fall = 1
fall.recover = 0

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

-----------------
;Jump Light Punch
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 600
sprpriority = 2

[State 821, 4]
type = playsnd
trigger1 = random <= 500
trigger1 = time = 0
value = S0,24

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = S0, 4

[State 600, 2]
type = HitDef
trigger1 = animelem = 1
attr = A, NA
damage    = 20
guardflag = HA
priority = 3
pausetime = 7,8
sparkno = S500
guard.sparkno = S505
sparkxy = -10,-58
hitsound   = S0,6
guardsound = S0,10
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3

;---------------------------------------------------------------------------
;Jump Strong Punch
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 600
sprpriority = 2

[State 191, 1]
type = playsnd
trigger1 = time = 0
value = S0,21
channel = 0

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = S0, 4

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 72
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = S501
guard.sparkno = S506
sparkxy = -10,-55
hitsound   = S0,7
guardsound = S0,10
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -3,-4

;---------------------------------------------------------------------------
;Jump Light Kick
; CNS difficulty: easy
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 20
ctrl = 0
anim = 600
sprpriority = 2

[State 821, 4]
type = playsnd
trigger1 = random <= 500
trigger1 = time = 0
value = S0,24

[State 630, 1]
type = PlaySnd
trigger1 = Time = 1
value = S0, 5

[State 630, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 26
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = S500
guard.sparkno = S505
sparkxy = -5,-35
hitsound   = S0,8
guardsound = S0,10
ground.type = High
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -4
air.velocity = -2,-3

;---------------------------------------------------------------------------
;Jump Strong Kick
; CNS difficulty: easy
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 600
sprpriority = 2

[State 191, 1]
type = playsnd
trigger1 = time = 0
value = S0,21
channel = 0

[State 630, 1]
type = PlaySnd
trigger1 = Time = 1
value = S0, 5

[State 640, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 70
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = S502
guard.sparkno = S506
sparkxy = -10,-40
hitsound   = S0,9
guardsound = S0,10
animtype = Med
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
air.velocity = -3,-4

;---------------------------------------------------------------------------
[Statedef 510];ジャンプふっ飛ばし
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 0
ctrl = 0
anim = 600
sprpriority = 2

[State 4100,1]
type = Helper
trigger1 = movehit
trigger1 = numhelper(510) = 0
ID = 510
name = "sound"
postype = p1
pos = 0,0
sprpriority = 2
stateno = 513
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1

[State 191, 1]
type = varrandom
trigger1 = 1
v = 1
range = 1,3

[State 191, 1]
type = playsnd
trigger1 = time = 0
trigger1 = var(1) = 1
value = S0,21
channel = 0

[State 630, 1]
type = PlaySnd
trigger1 = Time = 1
value = S0, 5

[State 640, 3]
type = HitDef
trigger1 = animelem = 2
attr = A, NA
damage    = 80
guardflag = H
priority = 4
animtype  = hard
pausetime = 15,15
sparkno = S502
guard.sparkno = S506
sparkxy = -10,-40
hitsound   = S0,17
guardsound = S0,10
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5,-5
air.velocity = 0
fall = 1
p2stateno = 511
p2facing = 1

[State 191, 1]
type = null;targetstate
trigger1 = movehit
;trigger1 = hitshakeover = 1
value = 511
ignorehitpause = 1
persistent = 0

;---------------------------------------------------------------------------
[Statedef 800];D投げ
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
pausetime = 0,0
attr = S, NT
hitflag = M-
priority = 1, Miss
sparkno = -1
sprpriority = 1
p2facing = 1
p1stateno = 801
p2stateno = 802
guard.dist = 0
fall = 1
fall.recover = 0

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 240

;---------------------------------------------------------------------------
[Statedef 801]
type    = S
movetype= A
physics = N
anim = 801
poweradd = 60

[State 701, 1]
type = Width
trigger1 = 1
edge = 60,0

[State 701, 1]
type = Width
trigger1 = 1
edge = 0,30

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 40, 0

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 10
pos = 40, -30

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 11
pos = 40, -40

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 12
pos = 0, -50

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 13
pos = -20, -65

[State 810, Bind 1]
type = Targetstate
trigger1 = AnimElem = 13
value = 803

[State 810, Bind 1]
type = Targetlifeadd
trigger1 = AnimElem = 13
value = IfElse((var(58) = 1),floor(-90*1.35),-90)

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 802]
type    = S
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 802

[State 810, ]
type = null;ChangeState
trigger1 = Time = 20
value = 803

;---------------------------------------------------------------------------
[Statedef 803]
type    = A
movetype= H
physics = N
velset = 3,-7

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 803

[State 820, 1]
type = null;lifeadd
Trigger1 = Time = 5
value = -90

[State 821, 1]
type = turn
Trigger1 = animelem = 1
value = 1

[State 821, 1] ;Gravity
type = VelAdd
Trigger1 = time > 0
y = .4
x = -.01

[State 821, 4]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100


;----------------------------------------------------------------
[Statedef 1000];飛び道具上段
type    = S
movetype= A
physics = S
juggle  = 15
poweradd= 110
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = S0,26
;channel = 0

[State 1000, 1]
type = PlaySnd
trigger1 = animelem = 4
value = S0,27

[State 1034, 2]
type = Projectile
projID = 1000
trigger1 = animelem = 4
trigger1 = palno != 12
projremove = 1
;Projremovetime = 50
projhits = 1
projremanim = 812
projhitanim = 812
;projmisstime = 2
projpriority = 5
;projremove = 1344
projanim = 1001
offset = 30,-90
velocity = 7,0
attr = S, SP
damage   = 80,10
pausetime = 0,14
animtype = Hard
hitflag = MAF
guardflag = M
sparkno = S502
guard.sparkno = S507
sparkxy = 30,0
hitsound = S0,17
guardsound = S0,10
pausetime = 0,8
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
guard.hittime = 15
ground.velocity = -5
air.velocity = -5,-4
air.fall = 1
fall.recover = 0
air.juggle = 10
getpower = 200,150

[State 1034, 2]
type = Projectile
projID = 1000
trigger1 = animelem = 4
trigger1 = palno = 12
projremove = 1
;Projremovetime = 50
projhits = 1
projremanim = 812
projhitanim = 812
;projmisstime = 2
projpriority = 5
;projremove = 1344
projanim = 1001
offset = 30,-90
velocity = 12,0
attr = S, SP
damage   = 80,10
pausetime = 0,14
animtype = Hard
hitflag = MAF
guardflag = M
sparkno = S502
guard.sparkno = S507
sparkxy = 30,0
hitsound = S0,17
guardsound = S0,10
pausetime = 0,8
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
guard.hittime = 15
ground.velocity = -5
air.velocity = -5,-4
air.fall = 1
fall.recover = 0
air.juggle = 10
getpower = 200,150

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1010];飛び道具下段
type    = S
movetype= A
physics = S
juggle  = 15
poweradd= 0
velset = 0,0
anim = 1002
ctrl = 0
sprpriority = 2

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = S0,26
channel = 0

[State 1000, 1]
type = PlaySnd
trigger1 = animelem = 4
value = S0,27

[State 1034, 2]
type = Projectile
projID = 1001
trigger1 = animelem = 5
projremove = 0
Projremovetime = 20
projhits = 1
projhitanim = -1
projmisstime = 0
projpriority = 5
;projremove = 1344
projanim = 1003
offset = 44,-13
velocity = 0,0
attr = S, SP
damage   = 60,10
getpower = 200,150
animtype = Hard
pausetime = 0,8
hitflag = MAF
guardflag = L
sparkno = S502
guard.sparkno = S507
sparkxy = 55,-4
hitsound = S0,17
guardsound = S0,10
pausetime = 0,8
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
guard.hittime = 5
ground.velocity = -3
air.velocity = -3,-4
air.fall = 1
fall.recover = 0
air.juggle = 7

[State 1034, 2]
type = Projectile
projID = 1001
trigger1 = animelem = 5,= 8
projremove = 0
Projremovetime = 20
projhits = 1
projhitanim = -1
projmisstime = 0
projpriority = 5
;projremove = 1344
projanim = 1004
offset = 44,-13
velocity = 0,0
attr = S, SP
damage   = 50,10
animtype = Hard
pausetime = 0,12
hitflag = MAF
guardflag = L
sparkno = S502
guard.sparkno = S507
sparkxy = 75,-33
hitsound = S0,17
guardsound = S0,10
pausetime = 0,8
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
guard.hittime = 5
ground.velocity = -3,-5
air.velocity = -3,-4
fall = 1
fall.recover = 0
air.juggle = 7
getpower = 200,150

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 810];C投げ
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
animtype  = Up
attr = S, NT
hitflag = M-
priority = 1, Miss
sparkno = -1
sprpriority = 1
p2facing = 1
p1stateno = 811
p2stateno = 812
guard.dist = 0
fall = 1
fall.recover = 0

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 210

;---------------------------------------------------------------------------
[Statedef 811]
type    = S
movetype= A
physics = N
anim = 810
poweradd = 60
sprpriority = 2

[State 240, 4]
type = Explod
trigger1 = AnimElem = 2
anim = 511
postype = p1
pos = 45,-78
sprpriority = 4

[State 701, 1]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 701, 1]
type = Width
trigger1 = 1
edge = 60,0

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 48,0

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 2
pos = 48,0

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 3
pos = 42,-81

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 4
pos = 38, -81

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 5
pos = 35,-98

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 6
pos = 29,-101

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 7
pos = 27,-104

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 8
pos = 26,-104

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 9
pos = 25,-106

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 10
pos = 23,-115

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 11
pos = 20,-124

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 12
pos = 15,-130

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 13
pos = 0,-126

[State 810, Bind 1]
type = Targetstate
trigger1 = AnimElem = 13
value = 814

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 14
pos = 0, -100

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 15
pos = 20,-63

[State 810, Bind 1]
type = Targetstate
trigger1 = AnimElem = 16
value = 813

[State 701, 1]
type = playsnd
trigger1 = AnimElem = 18
value = S0,13

[State 810, Bind 1]
type = Targetlifeadd
trigger1 = AnimElem = 18
value = IfElse((var(58) = 1),floor(-90*1.35),-90)

[State 240, 4]
type = Explod
trigger1 = AnimElem = 18
anim = 518
postype = p1
pos = 63,0
sprpriority = -1

[State 240, 4]
type = Explod
trigger1 = AnimElem = 18
anim = 515
postype = p1
pos = 63,0
sprpriority = 6

[State 240, 4]
type = envshake
trigger1 = AnimElem = 18
time = 20

[State 240, 4]
type = Explod
trigger1 = AnimElem = 18
anim = 516
postype = p1
pos = 63,0
sprpriority = -2

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 812]
type    = A
movetype= H
physics = N
velset = 0,0
;anim = 811
sprpriority = -1

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 5050, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 811

[Statedef 814]
type    = A
movetype= H
physics = N
velset = 0,0
;anim = 811
sprpriority = 5

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 5050, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 813


[Statedef 813]
type    = A
movetype= H
physics = N
velset = 0,0
;anim = 811
sprpriority = 4

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 5050, 1]
type = sprpriority
trigger1 = time = 0
value = 5

[State 5050, 1]
type = ChangeAnim
trigger1 = time = 0
trigger1 = AnimExist(5101)
value = 5101

[State 5050, 1]
type = ChangeAnim
trigger1 = time = 0
trigger1 = !AnimExist(5101) && AnimExist(5102)
value = 5102

[State 5050, 1]
type = ChangeAnim2
trigger1 = time = 0
trigger1 = !AnimExist(5101) && !AnimExist(5102)
value = 814;11

[State 5050, 3]
type = Velset
trigger1 = time >= 0
y = 11
x = -6

[State 5050, 3]
type = Velset
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
x = -2

[State 820, 1]
type = null;lifeadd
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = -90

[State 5050, 6]
type = selfState
trigger1 = !AnimExist(5102) ||  !AnimExist(5101)
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

[State 5050, 6]
type = selfState
trigger1 = AnimExist(5102) ||  AnimExist(5101)
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5101

;-------------------------------------------------------------
[Statedef 900];緊急回避前
type = S
movetype = I
physics = S
anim = 900
velset = 0,0
ctrl = 0
sprpriority = 1
poweradd = IfElse((prevstateno = 150 || prevstateno = 152),-500,0)

[State 240, 4]
type = Explod
trigger1 = Time = 0 && (prevstateno = 150 || prevstateno = 152)
anim = 514
postype = p1
pos = 0,-78
sprpriority = 4

[State 840,0]
type = PlayerPush
trigger1=Time >= 0
value = 0

[State 840,0]
type = envcolor
trigger1 = Time = 0 && (prevstateno = 150 || prevstateno = 152)
time = 2
value = 255,255,255

[State 820, 1]
type = notHitBy
trigger1 = Time = 0
value = SCA, AA, AP
time = 25

[State 820, 1]
type = HitBy
trigger1 = Time = 0
value = SCA, AT
time = 25

[State 820, 2]
type = Pause
trigger1 = Time = 0 && (prevstateno = 150 || prevstateno = 152)
time = 6
movetime = 6

[State 840, 1]
type = SprPriority
Trigger1 = Time = 0
value = -1

[State 840, 2]
type = afterimage
trigger1 = animelem = 1
trigger1 = palno != 12
time = 10
length = 8
PalBright   =   0,  0,  0
PalContrast = 255,255,255
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
FrameGap = 2
ignorehitpause = 1

[State 840, 1]
type = Velset
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
trigger4 = animelem = 6
x = 7.2

[State 840, 1]
type = Velset
trigger1 = animtime = 0
x = 0

[State 840, 4]
type = null;PlaySnd
trigger1 = Time = 2
value = S0,52

[State 840, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------
[Statedef 910];緊急回避後
type = S
movetype = I
physics = S
anim = 910
velset = 0,0
ctrl = 0
sprpriority = 1
poweradd = IfElse((prevstateno = 150 || prevstateno = 152),-500,0)

[State 240, 4]
type = Explod
trigger1 = Time = 0 && (prevstateno = 150 || prevstateno = 152)
anim = 514
postype = p1
pos = 0,-78
sprpriority = 4

[State 820, 1]
type = HitBy
trigger1 = Time = 0
value = SCA, AT
time = 30

[State 840,0]
type = PlayerPush
trigger1=Time >= 0
value = 0

[State 840,0]
type = envcolor
trigger1 = Time = 0 && (prevstateno = 150 || prevstateno = 152)
time = 2
value = 255,255,255

[State 820, 1]
type = notHitBy
trigger1 = Time = 0
value = SCA, AA, AP
time = 25

[State 820, 2]
type = Pause
trigger1 = Time = 0 && (prevstateno = 150 || prevstateno = 152)
time = 6
movetime = 6

[State 840, 1]
type = SprPriority
Trigger1 = Time = 0
value = -1

[State 840, 2]
type = afterimage
trigger1 = animelem = 1
trigger1 = palno != 12
time = 10
length = 8
PalBright   =   0,  0,  0
PalContrast = 255,255,255
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
FrameGap = 2
ignorehitpause = 1

[State 840, 1]
type = Velset
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
trigger4 = animelem = 6
x = -6.2

[State 840, 1]
type = Velset
trigger1 = animtime = 0
x = 0

[State 840, 4]
type = null;PlaySnd
trigger1 = Time = 2
value = S0,52

[State 840, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1020];ネガ　ジェネシス
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 65
ctrl = 0
velset = 0,0
anim = 221
sprpriority = 2

[State 170, 1]
type = varset
trigger1 = time = 0
var(10) = 0

[State 191, 1]
type = varrandom
trigger1 = 1
v = 1
range = 1,2

[State 191, 1]
type = playsnd
trigger1 = time = 0
trigger1 = var(1) = 1
value = S0,21
channel = 0

[State 191, 1]
type = playsnd
trigger1 = time = 0
value = S0,5

[State 4100,1]
type = Helper
trigger1 = Animelem = 5
ID = 1020
name = "aaa"
postype = p1
pos = 0,0
sprpriority = 2
stateno = 1023
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1

[State 191, 1]
type = envcolor
trigger1 = movecontact = 1
value = 255,255,255
time = 1
persistent = 0
ignorehitpause = 1
under = -1

[State 3021, 1]
type = Projectile
trigger1 = moveguarded
trigger1 = animelem = 12,>= 0
trigger1 = animelem = 13,<= 0
trigger1 = numprojID(1020) = 0
ProjID = 1020
attr = S, SA
guardflag = N
hitflag = M
numhits = 0
projanim = 2033
sparkno = -1
p2stateno = 1026
persistent = 0
ignorehitpause = 1
projremovetime = 1
p2facing = 1

[State 240, 2]
type = HitDef
trigger1 = animelem = 12
attr = S, NA
animtype  = Medium
damage    = 70,10
getpower = 30,10
guardflag = MA
pausetime = 7,0
sparkno = S502
guard.sparkno = S506
sparkxy = -10,-60
hitsound   = S0,17
guardsound = S0,10
ground.type = low
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
air.velocity = 0
p2facing = 1
p2stateno = 1021
fall = 1
fall.recover = 0
;snap = 20,-40
ignorehitpause = 1
absolute = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 18
trigger1 = p2stateno != 1021
trigger1 = p2stateno != 1022
trigger1 = p2stateno != 1026
attr = S, NA
getpower = 30,10
animtype  = Medium
damage    = 73,5
guardflag = MA
pausetime = 2,6
sparkno = S502
guard.sparkno = S506
sparkxy = -10,-60
hitsound   = S0,17
guardsound = S0,10
ground.type = low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -6,5
air.velocity = -6,2.5
fall = 1
fall.recover = 0
absolute = 0

[State 1034, 2]
type = null;Projectile
projID = 2029
trigger1 = Animelem = 9
projremove = 1
Projremovetime = 10
projhits = 0
projremanim = -1
projhitanim = -1
projpriority = 999999999
projanim = 2029
offset = 0,0;35,-105
velocity = 0,0
attr = S, SP
sparkno = -1

[State 1034, 2]
type = null;Projectile
projID = 2030
trigger1 = Animelem = 9
projremove = 1
Projremovetime = 10
projhits = 0
projremanim = -1
projhitanim = -1
projpriority = 999999999
projanim = 2029
offset = 0,0;35,-105
velocity = 0,0
attr = S, SP
sparkno = -1

[State 240, 4]
type = Changestate
trigger1 = var(10) = 1
triggerall = Animelem = 13 || Animelem = 14
value = 1025

[State 240, 4]
type = null;Changestate
triggerall = Animelem = 12
trigger1 = numprojID(2029) = 0
trigger2 = numprojID(2030) = 0
value = 1025

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0;1027
ctrl = 1

[Statedef 1021];相手
type    = A
movetype= H
physics = N
velset = 0,0;-13,-.5
sprpriority = -3

[State 820, 1]
type = hitfallset
Trigger1 = time = 0
value = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 913

[State 1021,0]
type = turn
Trigger1 = frontedgedist <= 0
value = 1

[State 1021,0]
type = velset
trigger1 = time = 15
x = -13
y = -.7

[State 840, 2]
type = afterimage
trigger1 = time = 5
time = 13
length = 3
PalBright   =   0,  0,  0
PalContrast = 255,255,255
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
FrameGap = 2
ignorehitpause = 1

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 821, 1]
type = VelAdd
Trigger1 = time > 19
y = .14

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 15
value = 912

[State 1021,0]
type = posadd
Trigger1 = Time = 0
y = -8

[state 190]
type = changestate
Trigger1 = backedgedist <= 0
Trigger2 = frontedgedist <= 0
value = 1022

[State 3040, 3]
type = changeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 512

[Statedef 1022];相手2
type    = A
movetype= H
physics = N
velset = 3.5,-8.2

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 912

[State 9000, 1]
type = null;ScreenBound
trigger1 = 1
movecamera = 1,0

[State 9000, 1]
type = turn
trigger1 = time = 0
value = 1

[State 821, 1]
type = VelAdd
Trigger1 = time > 3
y = .45
x = .05

[State 821, 4]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

[Statedef 1023];ヘルパー
type    = S
movetype= A
physics = S
juggle  = 5
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2029
sprpriority = 2

[State 170, 1]
type = HitBy
trigger1 = time = 0
value = SCA, AP
time = 1000
ignorehitpause = 1

[State 106, 1]
type = hitoverride
trigger1 = 1
time = 3
attr = SCA,AP
stateno = 1024
ignorehitpause = 1

[State 810, Bind 1]
type = bindtoroot
trigger1 = 1
pos = 0,0

[State 821, 4]
type = destroyself
trigger1 = parent,stateno = 1020
trigger1 = parent,animelem = 14
trigger2 = numprojID(1020) = 1
trigger3 = parent,movetype = H
trigger4 = parent,stateno = 1025
trigger4 = parent,animelem = 3
trigger5 = parent,stateno != 1020

[Statedef 1024];ヘルパー
type    = S
movetype= A
physics = S
juggle  = 5
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2029
sprpriority = 2

[State 170, 1]
type = parentvaradd
trigger1 = time = 0
var(10) = 1

[State 170, 1]
type = HitBy
trigger1 = time = 0
value = SCA, AP
time = 1000
ignorehitpause = 1

[State 106, 1]
type = hitoverride
trigger1 = 1
time = 3
attr = SCA,AP
stateno = 1024
ignorehitpause = 1

[State 810, Bind 1]
type = bindtoroot
trigger1 = 1
pos = 0,0

[State 821, 4]
type = destroyself
trigger1 = parent,stateno = 1020
trigger1 = parent,animelem = 14
trigger2 = numprojID(1020) = 1
trigger3 = parent,movetype = H
trigger4 = parent,stateno = 1025
trigger4 = parent,animelem = 3
trigger5 = parent,stateno != 1020

[Statedef 1025];ネガ　ジェネシス2
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 2031
sprpriority = 2
juggle = 15

[State 191, 1]
type = playsnd
trigger1 = time = 0
value = S0,64

[State 1034, 2]
type = Projectile
projID = 1021
trigger1 = animelem = 2
projremove = 1
projhits = 1
projremanim = -1
projhitanim = 812
;projmisstime = 2
projpriority = 5
;projremove = 1344
projanim = 2030
offset = 30,-100
velocity = 14,0
attr = S, SP
damage   = 100,10
animtype = Hard
hitflag = MAF
guardflag = M
sparkno = S502
guard.sparkno = S507
sparkxy = 30,0
hitsound = S0,17
guardsound = S0,10
pausetime = 0,10
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
guard.hittime = 15
ground.velocity = -5,-6
air.velocity = -5,-5
fall = 1
fall.recover = 0

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1026];相手ガード崩し
type    = S
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = changeanim2
Trigger1 = time = 0
value = 2032

[State 820, 1]
type = posadd
Trigger1 = time = [3,15]
x = -3

[State 240, 4]
type = selfstate
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1027];ネガ　ジェネシス2
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 222
sprpriority = 2
juggle = 15

[State 240, 4]
type = changestate
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------
[Statedef 1030];チェーンブレイド　トランスアキシャル　スライス弱
type    = S
movetype= A
physics = S
juggle  = 5
poweradd = 65
ctrl = 0
velset = 0,0
anim = 1030
sprpriority = 2

[State 240, 4]
type = playsnd
trigger1 = time = 0
value = S0,29
channel = 0

[State 240, 4]
type = playsnd
trigger1 = animelem = 7
value = S0,30
channel = 1

[State 240, 4]
type = Explod
triggerall = movehit
trigger1 = AnimElem = 7
trigger2 = AnimElem = 8
trigger3 = AnimElem = 9
trigger4 = AnimElem = 10
trigger5 = AnimElem = 11
trigger6 = AnimElem = 12
trigger7 = AnimElem = 13
anim = 510
postype = p2
pos = -10,-78
sprpriority = 4

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 8
trigger3 = AnimElem = 9
trigger4 = AnimElem = 10
trigger5 = AnimElem = 11
trigger6 = AnimElem = 12
;trigger7 = AnimElem = 13
attr = S, SA
getpower = 200,150
damage = 11, 8
animtype = hard
guardflag = M
hitflag = MAF
;priority = 3, Hit
pausetime = 3, 3
sparkno = S509
guard.sparkno = S507
sparkxy = -10, -76
hitsound = S0,31
guardsound = S0,10
ground.type = High
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -6.5
air.type = High
air.velocity = 0,-5
air.hittime = 12
air.fall = 1
absolute = 0
ground.cornerpush.veloff = -.5

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 13
attr = S, SA
getpower = 200,150
damage = 20, 8
animtype = hard
guardflag = M
hitflag = MAF
;priority = 3, Hit
pausetime = 4, 3
sparkno = S509
guard.sparkno = S507
sparkxy = -10, -76
hitsound = S0,31
guardsound = S0,10
ground.type = High
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -8.5
air.type = High
air.velocity = 0,-5
air.hittime = 12
air.fall = 1
absolute = 0
ground.cornerpush.veloff = -20

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------
[Statedef 1031];チェーンブレイド　トランスアキシャル　スライス強
type    = S
movetype= A
physics = S
juggle  = 5
poweradd = 65
ctrl = 0
velset = 0,0
anim = 1031
sprpriority = 2

[State 170, 1]
type = NotHitBy
trigger1 = time = 0
trigger1 = var(58) = 1
value = SCA
time = 10

[State 240, 4]
type = posadd
trigger1 = animelem = 7
x = 20

[State 240, 4]
type = posadd
trigger1 = animelem = 8
x = 10

[State 240, 4]
type = posadd
trigger1 = animelem = 9
x = 10

[State 240, 4]
type = playsnd
trigger1 = time = 0
value = S0,29
channel = 0

[State 240, 4]
type = playsnd
trigger1 = animelem = 7
value = S0,30
channel = 1

[State 240, 4]
type = Explod
triggerall = movehit
trigger1 = AnimElem = 7
trigger2 = AnimElem = 8
trigger3 = AnimElem = 9
trigger4 = AnimElem = 10
trigger5 = AnimElem = 11
trigger6 = AnimElem = 12
trigger7 = AnimElem = 13
anim = 510
postype = p2
pos = -10,-78
sprpriority = 4

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 8
trigger3 = AnimElem = 9
trigger4 = AnimElem = 10
trigger5 = AnimElem = 11
trigger6 = AnimElem = 12
getpower = 200,150
attr = S, SA
damage = 15, 8
animtype = hard
guardflag = M
hitflag = MAF
;priority = 3, Hit
pausetime = 2, 3
sparkno = S509
guard.sparkno = S507
sparkxy = -10, -76
hitsound = S0,31
guardsound = S0,10
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
guard.velocity = -14
airguard.velocity = -.1,-.8
air.type = High
air.velocity = -.1,-3
air.hittime = 12
air.fall = 1
fall.recover = 0
absolute = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -8

[State 191, 1]
type = envcolor
trigger1 = movehit
trigger1 = AnimElem = 13
value = 255,255,255
time = 1
persistent = 0
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 13
attr = S, SA
damage = 20, 8
animtype = up
getpower = 200,150
guardflag = MA
hitflag = MAF
;priority = 3, Hit
pausetime = 2, 3
sparkno = S502
guard.sparkno = S507
sparkxy = -10, -80
hitsound = S0,31
guardsound = S0,10
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,-11
guard.velocity = -14
air.type = High
air.velocity = 0,-10
air.hittime = 12
yaccel = .44
fall = 1
fall.recover = 0
absolute = 0

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------
[Statedef 1040];ヴォイド･ジェノサイド
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 1040
sprpriority = 1

[State 240, 4]
type = playsnd
trigger1 = Animelem = 3
value = S0,19

[State 4100,1]
type = Helper
trigger1 = Animelem = 3
trigger1 = palno != 12
ID = 1040
name = "BR"
postype = p1
pos = 23,-59
attar = S,SP
sprpriority = 2
stateno = 1041
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1

[State 4100,1]
type = Helper
trigger1 = Animelem = 1
trigger1 = palno = 12
ID = 1040
name = "BR"
postype = p1
pos = 23,-59
attar = S,SP
sprpriority = 2
stateno = 1041
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1041];ヴォイド･ジェノサイドヘルパー
type    = S
movetype= A
physics = S
juggle  = 5
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1041
sprpriority = 2

[State 810, Bind 1]
type = bindtoroot
trigger1 = 1
pos = 23,-59

[State 1015, 1]
type = ReversalDef
trigger1 = 1
trigger1 = parent,movetype != H
pausetime = 10,10
sparkno = S506
sparkxy = -1;23,-29
hitsound = S0,12
attar = S,SP
reversal.attr = SCA, NA, SA
numhits = 0
ignorehitpause = 1
p1stateno = 1043
p2stateno = 1042
p2facing = 1
;p2stateno = 1021
sprpriority = 2
fall = 1
fall.recover = 0

[State 240, 4]
type = destroyself
trigger1 = AnimTime = 0

[Statedef 1042];相手
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 5

[State 820, 1]
type = lifeadd
Trigger1 = Time = 0
value = -100

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1042

[State 240, 4]
type = null;ChangeState
trigger1 = Time = 16
value = 1021

[Statedef 1043];ヴォイド･ジェノサイドヘルパー2
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1043
sprpriority = 2

[State 240, 4]
type = playsnd
trigger1 = time = 0
value = S0,28

[State 240, 4]
type = playsnd
trigger1 = time = 0
value = S0,19

[State 810, Bind 1]
type = TargetBind
trigger1 = time = 0
pos = 20,45
time = 9

[State 240, 4]
type = targetstate
trigger1 = Time = 13
value = 1045

[State 240, 4]
type = Explod
trigger1 = Time = 13
anim = 502
postype = p2
pos = -6,-60
sprpriority = 4

[State 240, 4]
type = destroyself
trigger1 = AnimTime = 0

[Statedef 1045];相手
type    = A
movetype= H
physics = N
velset = 0,0;-13,-.5
sprpriority = -3

[State 820, 1]
type = hitfallset
Trigger1 = time = 0
value = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 913

[State 1021,0]
type = turn
Trigger1 = frontedgedist <= 0
value = 1

[State 1021,0]
type = velset
trigger1 = time = 5
x = -13
y = -.7

[State 840, 2]
type = afterimage
trigger1 = time = 5
time = 13
length = 3
PalBright   =   0,  0,  0
PalContrast = 255,255,255
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
FrameGap = 2
ignorehitpause = 1

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 821, 1]
type = VelAdd
Trigger1 = time > 19
y = .14

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 3
value = 912

[State 1021,0]
type = posadd
Trigger1 = Time = 15
y = -20

[state 190]
type = changestate
Trigger1 = backedgedist <= 0
Trigger2 = frontedgedist <= 0
value = 1022

;-------------------------------------------------------------
[Statedef 1060];チェーンブレイド　サジタルエッジ　スライス強
type    = S
movetype= A
physics = S
juggle  = 10
poweradd = 50
ctrl = 0
velset = 0,0
anim = 1060
sprpriority = 2

[State 170, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA,AA,AP,AT
time = 15

[State 240, 4]
type = playsnd
trigger1 = time = 0
value = S0,22
channel = 0

[State 240, 4]
type = playsnd
trigger1 = AnimElem = 9
value = S0,30
channel = 1

[State 240, 4]
type = stopsnd
trigger1 = movehit
channel = 1

[State 240, 4]
type = Explod
triggerall = movehit
trigger1 = AnimElem = 8
trigger2 = AnimElem = 9
trigger3 = AnimElem = 10
anim = 510
postype = p2
pos = -10,-58
sprpriority = 4

[State 240, 4]
type = Explod
triggerall = movehit
trigger1 = AnimElem = 9
anim = 502
postype = p2
pos = -10,-58
sprpriority = 5
ignorehitpause = 1
persistent = 0

[State 191, 1]
type = envcolor
trigger1 = movehit
trigger3 = AnimElem = 10
value = 255,255,255
time = 1
persistent = 0
ignorehitpause = 1
under = -1

[State 191, 1]
type = envcolor
trigger1 = movehit
trigger1 = AnimElem = 8
value = 255,255,255
time = 1
persistent = 0
ignorehitpause = 1
under = -1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 8
trigger2 = AnimElem = 9
trigger3 = AnimElem = 10
attr = S, SA
damage = 10, 8
animtype = hard
getpower = 200,150
guardflag = M
hitflag = MAF
;priority = 3, Hit
pausetime = 5, 7
sparkno = S509
guard.sparkno = S507
sparkxy = -10, -76
hitsound = S0,31
guardsound = S0,10
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
air.type = High
air.velocity = -1.4,-5
air.hittime = 12
air.fall = 1
fall.recover = 0
absolute = 0
guard.velocity = -17
air.cornerpush.veloff = 0
ground.cornerpush.veloff = -2
guard.cornerpush.veloff = -20


[State 821, 1]
type = varset
trigger1 = time = 0
var(2) = 0

[State 240, 4]
type = ChangeState
trigger1 = animTime = 0
value = 1061

[Statedef 1061];空中
type    = A
movetype= A
physics = N
poweradd = 0
ctrl = 0
velset = .5,-7
anim = 1061
sprpriority = 2

[State 240, 4]
type = Explod
triggerall = movehit
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
anim = 510
postype = p2
pos = -10,-58
sprpriority = 4

[State 240, 4]
type = Explod
triggerall = movehit
trigger1 = AnimElem = 5
anim = 503
postype = p2
pos = -10,-58
sprpriority = 4

[State 240, 4]
type = Explod
triggerall = movehit
triggerall = var(2) = 0
trigger1 = AnimElem = 9
trigger2 = AnimElem = 10
anim = 510
postype = p2
pos = -10,-58
sprpriority = 4

[State 191, 1]
type = envcolor
trigger1 = movehit
trigger1 = AnimElem = 5
value = 255,255,255
time = 1
persistent = 0
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
getpower = 200,150
attr = A, SA
damage = 10, 8
animtype = up
guardflag = M
hitflag = MAF
;priority = 3, Hit
pausetime = 2, 2
sparkno = S509
guard.sparkno = S507
sparkxy = -10, -76
hitsound = S0,31
guardsound = S0,10
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-8.5
air.type = High
air.velocity = -1,-8
air.hittime = 12
fall = 1
fall.recover = 0
guard.velocity = -15
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -13

[State 200, 1]
type = HitDef
triggerall = var(2) = 0
trigger1 = AnimElem = 9
trigger2 = AnimElem = 10
attr = A, SA
damage = 25, 8
getpower = 200,150
animtype = up
guardflag = M
hitflag = MAF
;priority = 3, Hit
pausetime = 1, 3
sparkno = S509
guard.sparkno = S507
sparkxy = -10, -76
hitsound = S0,31
guardsound = S0,10
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-8
air.type = High
air.velocity = -1,-8
air.hittime = 12
fall = 1
fall.recover = 0
yaccel = .5
absolute = 0
guard.cornerpush.veloff = -20
air.cornerpush.veloff = -20
guard.velocity = -15
guard.cornerpush.veloff = -14

[State 821, 1]
type = varset
trigger1 = movehit
trigger1 = AnimElem = 5
var(2) = 1

[State 821, 1]
type = VelAdd
Trigger1 = time > 5
y = .55

[State 821, 4]
type = changeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1062

[Statedef 1062];地上
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1062
sprpriority = 2

[State 240, 4]
type = Explod
triggerall = movehit
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
anim = 510
postype = p2
pos = 2,-48
sprpriority = 4

[State 240, 4]
type = Explod
triggerall = movehit
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
anim = 509
postype = p2
pos = 5,-48
sprpriority = 4

[State 240, 4]
type = Explod
triggerall = movehit
triggerall = var(2) = 0
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
anim = 510
postype = p2
pos = -1,-58
sprpriority = 4

[State 240, 4]
type = Explod
triggerall = movehit
triggerall = var(2) = 0
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
anim = 509
postype = p2
pos = 5,-58
sprpriority = 4

[State 200, 1]
type = HitDef
triggerall = var(2) = 0
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
attr = S, SA
getpower = 200,150
damage = 20, 8
animtype = up
guardflag = M
hitflag = AF
;priority = 3, Hit
pausetime = 2, 6
sparkno = -1;S509
guard.sparkno = S507
sparkxy = -10, -76
hitsound = S0,31
guardsound = S0,10
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-5
air.type = High
air.velocity = -2,-5
air.hittime = 12
fall = 1
fall.recover = 0
guard.velocity = -15
guard.cornerpush.veloff = -15

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
getpower = 200,150
attr = A, SA
damage = 20, 8
animtype = up
guardflag = M
hitflag = AF
;priority = 3, Hit
pausetime = 2, 6
sparkno = -1;S509
guard.sparkno = S507
sparkxy = -10, -76
hitsound = S0,31
guardsound = S0,10
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-5
air.type = High
air.velocity = -4,-4
air.hittime = 12
fall = 1
fall.recover = 0
guard.velocity = -15
guard.cornerpush.veloff = -15


[State 821, 1]
type = varset
trigger1 = AnimElem = 7
var(2) = 0

[State 240, 4]
type = playsnd
trigger1 = time = 0
value = S0,16

[State 821, 1]
type = posset
Trigger1 = time= 0
y = 0

[State 240, 4]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------
[Statedef 1050];チェーンブレイド　サジタルエッジ　スライス弱
type    = S
movetype= A
physics = S
juggle  = 10
poweradd = 50
ctrl = 0
velset = 0,0
anim = 1050
sprpriority = 2

[State 170, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA,AA,AP,AT
time = 10

[State 240, 4]
type = playsnd
trigger1 = time = 0
value = S0,22
channel = 0

[State 240, 4]
type = playsnd
trigger1 = AnimElem = 9
value = S0,30
channel = 1

[State 240, 4]
type = stopsnd
trigger1 = movehit
channel = 1

[State 240, 4]
type = Explod
triggerall = movehit
trigger1 = AnimElem = 9
trigger2 = AnimElem = 10
anim = 510
postype = p2
pos = -10,-78
sprpriority = 4

[State 200, 1]
type = HitDef
triggerall = var(58) = 0
trigger1 = AnimElem = 9
trigger2 = AnimElem = 10
attr = S, SA
damage = 20, 8
animtype = hard
guardflag = M
hitflag = MAF
;priority = 3, Hit
pausetime = 3, 3
sparkno = S509
guard.sparkno = S507
sparkxy = -10, -76
hitsound = S0,31
guardsound = S0,10
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
guard.velocity = -15
air.type = High
air.velocity = -1.4,-5
air.hittime = 12
air.fall = 1
fall.recover = 0
getpower = 200,150

[State 240, 4]
type = ChangeState
trigger1 = animTime = 0
value = 1051

[Statedef 1051];空中
type    = A
movetype= A
physics = N
poweradd = 0
ctrl = 0
velset = .4,-4.5
anim = 1051
sprpriority = 2

[State 240, 4]
type = Explod
triggerall = movehit
trigger1 = AnimElem = 1
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
anim = 510
postype = p2
pos = -10,-78
sprpriority = 4

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
attr = A, SA
damage = 20, 8
animtype = up
guardflag = M
hitflag = MAF
;priority = 3, Hit
pausetime = 2, 4
sparkno = S509
guard.sparkno = S507
sparkxy = -10, -76
hitsound = S0,31
guardsound = S0,10
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-6
air.type = High
air.velocity = -2,-6
air.hittime = 12
fall = 1
fall.recover = 0
getpower = 200,150
guard.cornerpush.veloff = -13
air.cornerpush.veloff = -4
guard.velocity = -15

[State 821, 1]
type = VelAdd
Trigger1 = time > 5
y = .5

[State 821, 4]
type = changeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1052

[Statedef 1052];地上
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1052
sprpriority = 2

[State 240, 4]
type = playsnd
trigger1 = time = 0
value = S0,16

[State 821, 1]
type = posset
Trigger1 = time= 0
y = 0

[State 240, 4]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1




;--------------------------------------------------------
;--------------------------------------------------------
[Statedef 1070];ケイオス・タイド
type    = S
movetype= A
physics = S
poweradd = -1000
ctrl = 0
velset = 0,0
anim = 1070
sprpriority = 2

[State 3000, 1]
type = PalFX
trigger1 = Time < 16 && Time % 2
trigger1 = prevstateno = [1000,1062]
time = 1
add = 255,255,255
ignorehitpause = 1

[State 170, 1]
type = notHitBy
trigger1 = time = 0
trigger1 = var(58) = 1
value = SCA, AP,AA,AT
time = 45
ignorehitpause = 1

[State 240, 4]
type = playsnd
trigger1 = time = 0
value = S0,36
volume = 100

[State 240, 4]
type = playsnd
trigger1 = time = 0
value = S0,38
volume = 100

[State 240, 4]
type = playsnd
trigger1 = time = 0
value = S0,37
channel = 0

[State 1000, 1]
type = PlaySnd
trigger1 = animelem = 17
value = S0,27

[State 240, 4]
type = envcolor
trigger1 = Time = 0
time = 3
value = 255,255,255
under = -1

[State 3100,AssertSpecial]
type = AssertSpecial
trigger1 = Time = [3,30]
flag = NoFG
flag2 = NoBG
ignorehitpause = 1

[state 190]
type = superpause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
darken = 0
unhittable = 1
sound = S0,38

[State 240, 4]
type = Explod
trigger1 = time = 0
anim = 13001
postype = p1
pos = 0,0
sprpriority = -1
supermove = 1
ownpal = 1

[State 240, 4]
type = Explod
trigger1 = time = 10
anim = 13501
postype = p1
pos = 10,-110
sprpriority = 5
supermove = 1
ownpal = 1

[State 4100,1]
type = Helper
trigger1 = Animelem = 17
ID = 1070
name = "cho"
postype = p1
pos = -3,0
sprpriority = 4
stateno = 1071
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 1034, 2]
type = null;Projectile
projID = 1070
trigger1 = animelem = 17
projremove = 0
Projremovetime = 30
projhits = 4
projremanim = -1
projhitanim = -1
projmisstime = 3
projpriority = 5
;projremove = 1344
projanim = 2230
offset = -3,0
velocity = 0,0
attr = S, HP
damage   = 74,13
animtype = Hard
pausetime = 0,8
hitflag = MAF
guardflag = M
sparkno = S502
guard.sparkno = S507
sparkxy = 90,-65
hitsound = S0,17
guardsound = S0,10
pausetime = 0,8
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
guard.hittime = 5
ground.velocity = -4,-5
air.velocity = -4,-5
fall = 1
fall.recover = 0

[State 240, 4]
type = envshake
trigger1 = AnimElem = 17
time = 20

[State 240, 4]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

[Statedef 1071];ケイオス・タイドヘルパー
type    = S
movetype= A
physics = S
poweradd = 0
juggle = 10
ctrl = 0
velset = 0,0
anim = 1071
sprpriority = 4

[State 810, Bind 1]
type = bindtoroot
trigger1 = 1
trigger1 = parent,movetype != H
pos = -3,0

[State 240, 4]
type = varset
trigger1 = time = 0
var(11) = 0

[State 240, 4]
type = varset
trigger1 = P2statetype = C
trigger1 = 1
var(11) = 30

[State 240, 4]
type = varset
trigger1 = 1
trigger1 = P2statetype != C
var(11) = -150 - (-150 - floor(p2bodydist y))

[State 1034, 2]
type = Projectile
projID = 1000
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 5, <= 0
trigger1 = 1
projremove = 0
Projremovetime = 2
projhits = 1
projremanim = -1
projhitanim = -1
projpriority = 999999999
projanim = 2230
offset = 0,0;35,-105
velocity = 0,0
attr = S, SP

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
getpower = 0,0
givepower = 20,0
attr = S, HP
damage = IfElse((parent,var(58) = 1),floor(54*1.5),54),10
animtype = hard
guardflag = M
guarddist = 200
hitflag = MAF
pausetime = 0, 20
sparkno = S503
guard.sparkno = S507
sparkxy = -15,-85 + var(11)
hitsound = S0,17
guardsound = S0,10
ground.type = High
ground.slidetime = 5
ground.hittime  = 15
guard.hittime = 5
ground.velocity = -6
air.velocity = -4,-5
air.fall = 1
fall.recover = 0
sprpriority = 4
ignorehitpause = 1
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
ground.cornerpush.veloff = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
getpower = 0,0
givepower = 20,0
attr = S, HP
damage = 54,10
animtype = hard
guardflag = M
hitflag = MAF
pausetime = 0, 20
sparkno = S503
guard.sparkno = S507
sparkxy = -10,-45 + var(11)
hitsound = S0,17
guardsound = S0,10
ground.type = High
ground.slidetime = 5
ground.hittime  = 15
guard.hittime = 5
ground.velocity = -6
air.velocity = -4,-5
air.fall = 1
fall.recover = 0
sprpriority = 4
ignorehitpause = 1
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
ground.cornerpush.veloff = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
getpower = 0,0
givepower = 20,0
attr = S, HP
damage = 74,10
animtype = hard
guardflag = M
hitflag = MAF
pausetime = 0, 10
sparkno = S503
guard.sparkno = S507
sparkxy = -20,-65 + var(11)
hitsound = S0,17
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
guard.hittime = 5
ground.velocity = -4,-5
air.velocity = -4,-5
fall = 1
fall.recover = 0
sprpriority = 4
ignorehitpause = 1
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
ground.cornerpush.veloff = 0

[State 3110, 8]
type = Pause
trigger1 = MoveHit
trigger1 = (GameTime%2) =1
;trigger1 = time <= 30
trigger1 = p2life != 0
time = 1
movetime = 0

[State 240, 4]
type = destroyself
trigger1 = animTime = 0

;--------------------------------------------------------
;--------------------------------------------------------
[Statedef 1080];イーディアンブレイド
type    = S
movetype= A
physics = S
poweradd = -1000
ctrl = 0
velset = 0,0
anim = 1080
sprpriority = 2
juggle = 0

[State 240, 4]
type = playsnd
trigger1 = time = 0
value = S0,38
volume = 100

[State 3000, 1]
type = PalFX
trigger1 = Time < 16 && Time % 2
trigger1 = prevstateno = [1000,1062]
time = 1
add = 255,255,255
ignorehitpause = 1

[State 170, 1]
type = notHitBy
trigger1 = time = 0
trigger1 = var(58) = 0
value = SCA, AP,AA,AT
time = 35
ignorehitpause = 1

[State 170, 1]
type = notHitBy
trigger1 = time = 0
trigger1 = var(58) = 1
value = SCA, AP,AA,AT
time = 55
ignorehitpause = 1

[State 1000, 1]
type = PlaySnd
trigger1 = animelem = 1
value = S0,40
channel = 0
volume = 255

[State 1000, 1]
type = null;PlaySnd
trigger1 = animelem = 1
value = S0,40
channel = 0

[State 1000, 1]
type = PlaySnd
trigger1 = animelem = 20
value = S0,41
volume = 255

[State 240, 4]
type = envcolor
trigger1 = Time = 0
time = 2
value = 255,255,255
under = -1

[State 3100,AssertSpecial]
type = AssertSpecial
trigger1 = Time = [3,30]
flag = NoFG
flag2 = NoBG
ignorehitpause = 1

[state 190]
type = superpause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
darken = 0
unhittable = 1
sound = S0,38

[State 240, 4]
type = Explod
trigger1 = time = 0
anim = 13001
postype = p1
pos = 5,-110
sprpriority = -1
supermove = 1
ownpal = 1

[State 240, 4]
type = Explod
trigger1 = time = 10
anim = 13501
postype = p1
pos = 5,-110
sprpriority = 5
supermove = 1
ownpal = 1

[State 240, 4]
type = varset
trigger1 = time = 0
var(56) = 0
persistent = 0
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, HA
damage = 50, 10
animtype = up
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 1
sparkno = S503
guard.sparkno = S507
sparkxy = 0, -76 + var(11)
hitsound = S0,17
guardsound = S0,10
ground.type = High
ground.slidetime = 5
ground.hittime  = 4
ground.velocity = -.4,-9
air.type = High
air.velocity = -.4,-8
fall = 1
juggle = 0

[State 4100,1]
type = Helper
trigger1 = Animelem = 21
ID = 1080
name = "blade"
postype = p1
pos = 0,0
sprpriority = 4
stateno = 1081
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 240, 4]
type = envshake
trigger1 = AnimElem = 21
time = 20

[State 240, 4]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

[Statedef 1081];イーディアンブレイドヘルパー
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2035
sprpriority = 4
juggle = 15

[State 1000, 1]
type = PlaySnd
;trigger1 = animelem = 1
trigger1 = Time % 7 = 0
value = S0,42
volume = 100

[State 4100,1]
type = null;Helper
trigger1 = time = 7
ID = 1080
name = "blade"
postype = p1
pos = 42,0
sprpriority = 4
stateno = 1081
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 240, 4]
type = null;Explod
trigger1 = movehit
;triggerall = p2movetype = H
anim = 503
postype = p2
pos = -10,-68
sprpriority = 5
ignorehitpause = 1
persistent = 0

[State 240, 4]
type = varset
trigger1 = time = 0
var(11) = 0

[State 240, 4]
type = varset
trigger1 = P2statetype = C
trigger1 = 1
var(11) = 130

[State 240, 4]
type = varset
trigger1 = 1
trigger1 = P2statetype != C
var(11) = -150 - (-150 - floor(p2bodydist y))

[State 1034, 2]
type = Projectile
projID = 1000
trigger1 = time >= 5
trigger1 = 1
projremove = 0
Projremovetime = 2
projhits = 1
projremanim = -1
projhitanim = -1
projpriority = 999999999
projanim = 2231
offset = 0,0;35,-105
velocity = 0,0
attr = S, SP

[State 240, 4]
type = null;Explod
trigger1 = projhit = 1
triggerall = p2movetype = H
trigger1 = 1
anim = 503
postype = p2
pos = 0, -76; + var(11)
sprpriority = 6
persistent = 0
ignorehitpause = 1

[State 240, 4]
type = varset
trigger1 = time = 0
var(56) = 0
persistent = 0
ignorehitpause = 1

[State 1021,0]
type = posadd
trigger1 = Time % 7 = 0
x = 40

[State 1034, 2]
type = Projectile
projID = 1080
;trigger1 = time = 0
trigger1 = Time % 7 = 0
;triggerall = parent,var(56) <= 2
projremove = 0
Projremovetime = 40
projhits = 1
;projmisstime = 4
projremanim = -1
;projhitanim = -1
projpriority = 9999
;projremove = 1344
projanim = 1081
offset = 0,0
velocity = 0,0
attr = S, HP
damage = 50,10
getpower = 0,0
givepower = 20,0
animtype = up
guardflag = M
hitflag = MAF
pausetime = 0,11
guard.pausetime = 0,5
sparkno = S502
guard.sparkno = S507
sparkxy = 0, -76 + var(11)
hitsound = S0,17
guardsound = S0,10
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
guard.hittime = 5
ground.velocity = -6,-6
guard.velocity = -6
air.velocity = -6,-6.5
juggle = 3
fall = 1
fall.recover = 0
sprpriority = 4
ignorehitpause = 1
air.juggle = 3
ownpal = 1

[State 1034, 2]
type = Projectile
projID = 1080
;trigger1 = time = 0
trigger1 = Time % 7 = 0
triggerall = parent,var(56) >= 3
projremove = 0
Projremovetime = 40
projhits = 1
;projmisstime = 4
projremanim = -1
;projhitanim = -1
projpriority = 9999
;projremove = 1344
projanim = 1081
offset = 0,0
velocity = 0,0
attr = S, HP
damage = 50,10
getpower = 0,0
givepower = 20,0
animtype = DiagUp
guardflag = M
hitflag = MAF
pausetime = 0,20
guard.pausetime = 0,5
sparkno = S503
guard.sparkno = S507
sparkxy = 0, -76 + var(11)
hitsound = S0,17
guardsound = S0,10
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
guard.hittime = 5
ground.velocity = -6,-7
guard.velocity = -6
air.velocity = -6,-6.5
juggle = 3
fall = 1
fall.recover = 0
sprpriority = 4
ignorehitpause = 1
air.juggle = 3
ownpal = 1

[State 240, 4]
type = destroyself
;trigger1 = Time = 30
trigger1 = FrontEdgeBodyDist < -100

;------------------------------------------------------------
[Statedef 1090];破沙羅
type    = A
physics = N
movetype = A
poweradd = 0
ctrl = 0
velset = 12,-3
anim = 1092
sprpriority = 4

[State -3, 5]
type = PlaySnd
trigger1 = Time = 0
value = S0,50

[State 106, 1]
type = VelAdd
trigger1 = Time > 0
y = .3

[State 170, 1]
type = HitBy
trigger1 = 1
value = SCA, AA, AP
time = 2
ignorehitpause = 1

[State 170, 1]
type = null;NotHitBy
trigger1 = time = 0
value = SCA, AT
time = 1000
ignorehitpause = 1

[State 106, 1]
type = hitoverride
trigger1 = 1
time = 3
attr = SCA,AA,AP
stateno = 1099
ignorehitpause = 1

[State 191, 1]
type = varrandom
trigger1 = time = 0
v = 5
range = 1,2

[State 800, 1]
type = HitDef
Trigger1 = 1
trigger1 = var(5) = 1
pausetime = 0,0
attr = A, SA
hitflag = MA
guardflag = MA
priority = 4, Miss
sparkno = -1
sprpriority = 4
p2facing = 1
p1stateno = 1092
p2stateno = 1094
fall = 1
fall.recover = 0
guardsound = S0,10

[State 800, 1]
type = HitDef
Trigger1 = 1
trigger1 = var(5) = 2
pausetime = 0,0
attr = A, SA
hitflag = MA
guardflag = MA
priority = 1, Miss
sparkno = -1
sprpriority = 4
p2facing = 1
p1stateno = 2020
p2stateno = 2023
fall = 1
fall.recover = 0
guardsound = S0,10

[State 821, 4]
type = changestate
trigger1 = moveguarded = 1
value = 1098

[State 821, 4]
type = changestate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1091

[Statedef 1091];破沙羅着地
type    = S
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1091
sprpriority = 4

[State 821, 4]
type = playsnd
trigger1 = time = 0
trigger1 = var(11) = 1
value = S0,52

[State -3, 5]
type = PlaySnd
trigger1 = Time = 0
value = S0,16

[State 106, 1]
type = posset
trigger1 = Time = 0
y = 0

[State 821, 4]
type = varset
trigger1 = time = 20
var(11) = 0

[State 821, 4]
type = changestate
trigger1 = time = 20
value = 1093

[Statedef 1092];破沙羅
type    = S
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1093
sprpriority = 4

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
;mul = 200,200,200
time = 2
add = -100,-100,-100
color = 0
invertall = 1

[State 106, 1]
type = posset
trigger1 = Time = 0
y = 0

[State 821, 4]
type = targetbind
trigger1 = time = 0
postype = p1
pos = 36,0

[State 240, 4]
type = Explod
trigger1 = AnimElem = 59,= 1
anim = 511
postype = p1
pos = 40,-110
sprpriority = 4

[State 821, 4]
type = targetstate
trigger1 = AnimElem = 52,= 1
value = 1097

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 52
value = S0,51

[State 821, 4]
type = targetstate
trigger1 = AnimElem = 59,= 1
value = 1095

[State 821, 4]
type = targetbind
trigger1 = AnimElem = 59,= 2
postype = p1
pos = 40,-120

[State 821, 4]
type = targetstate
trigger1 = AnimElem = 63,= 1
value = 1096

[State 821, 4]
type = targetbind
trigger1 = AnimElem = 63,= 2
postype = p1
pos = 35,-50
time = 1

[State 821, 4]
type = envcolor
trigger1 = AnimElem = 63
value = 255,0,0
time = 2
under = -1

[State 240, 4]
type = Explod
trigger1 = AnimElem = 4
trigger2 = AnimElem = 8
trigger3 = AnimElem = 13
trigger4 = AnimElem = 18
trigger5 = AnimElem = 24
trigger6 = AnimElem = 28
trigger7 = AnimElem = 30
trigger8 = AnimElem = 34
trigger9 = AnimElem = 44
trigger10 = AnimElem = 48
trigger11 = AnimElem = 51
anim = 510
postype = p1
pos = 40,-60
random = 10,30
sprpriority = 7

[State 240, 4]
type = Explod
trigger1 = AnimElem = 4
trigger2 = AnimElem = 8
trigger3 = AnimElem = 13
trigger4 = AnimElem = 18
trigger5 = AnimElem = 24
trigger6 = AnimElem = 28
trigger7 = AnimElem = 30
trigger8 = AnimElem = 34
trigger9 = AnimElem = 44
trigger10 = AnimElem = 43
trigger11 = AnimElem = 51
anim = 509
postype = p1
pos = 40,-60
random = 10,30
sprpriority = 7

[State 240, 4]
type = Explod
trigger1 = AnimElem = 4
trigger2 = AnimElem = 44
trigger3 = AnimElem = 30
anim = 2019
postype = p1
pos = 40,0
random = 10,30
sprpriority = 7

[State 240, 4]
type = Explod
trigger1 = AnimElem = 28
trigger2 = AnimElem = 13
anim = 2020
postype = p1
pos = 40,0
random = 10,30
sprpriority = 7

[State 240, 4]
type = Explod
trigger1 = AnimElem = 34
anim = 2021
postype = p1
pos = 40,0
random = 10,30
sprpriority = 7

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 8
trigger3 = AnimElem = 13
trigger4 = AnimElem = 18
trigger5 = AnimElem = 24
trigger6 = AnimElem = 28
trigger7 = AnimElem = 30
trigger8 = AnimElem = 34
trigger9 = AnimElem = 44
trigger10 = AnimElem = 43
trigger11 = AnimElem = 51
value = S0,55

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 10
trigger2 = AnimElem = 48
value = S0,9

[State 240, 4]
type = Explod
trigger1 = AnimElem = 10
trigger2 = AnimElem = 48
anim = 503
postype = p1
pos = 40,-5
sprpriority = 7

[State 821, 4]
type = hitadd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 8
trigger3 = AnimElem = 13
trigger4 = AnimElem = 18
trigger5 = AnimElem = 24
trigger6 = AnimElem = 28
trigger7 = AnimElem = 30
trigger8 = AnimElem = 34
trigger9 = AnimElem = 44
trigger10 = AnimElem = 48
trigger11 = AnimElem = 51
trigger12 = AnimElem = 10
trigger13 = AnimElem = 48
trigger14 = AnimElem = 63
value = 1

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 63
value = S0,14

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 59
value = S0,12

[State 240, 4]
type = Explod
trigger1 = AnimElem = 63
anim = 510
postype = p2
pos = 40,-100
sprpriority = 7

[State 240, 4]
type = Explod
trigger1 = AnimElem = 63
anim = 509
postype = p1
pos = 40,-100
sprpriority = 7

[State 240, 4]
type = Explod
trigger1 = AnimElem = 63
anim = 1094
postype = p1
pos = 0,-10
sprpriority = 7
ignorehitpause = 1

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 72
value = S0,53

[State 821, 4]
type = changestate
trigger1 = animtime = 0
value = 1093

[Statedef 1093];破沙羅帰る
type    = S
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1096
sprpriority = 4

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 1
value = S0,15

[State 106, 1]
type = velset
trigger1 = Time >= 0
y = -10
x = -10

[State 821, 4]
type = destroyself
trigger1 = time = 30

[Statedef 1094];相手
type    = S
physics = N
movetype = H
poweradd = 0
ctrl = 0
velset = 0,0
sprpriority = 3

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 821, 4]
type = changeanim2
trigger1 = time = 0
value = 1097

[Statedef 1095];相手
type    = S
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
sprpriority = 3
movetype = H

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 821, 4]
type = changeanim2
trigger1 = time = 0
value = 1098

[Statedef 1096];相手
type    = A
physics = N
poweradd = 0
ctrl = 0
velset = 0,0;-1,-15
sprpriority = 3
movetype = H

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 821, 4]
type = lifeadd
trigger1 = time = 0
value = -170

[State 821, 4]
type = changeanim2
trigger1 = time = 0
value = 1099

[State 106, 1]
type = Velset
trigger1 = Time = 1;[1,20]
x = -1
y = -8

[State 106, 1]
type = VelAdd
trigger1 = Time > 1
y = .4

[State 821, 4]
type = selfstate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

[Statedef 1097];相手
type    = A
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
sprpriority = 3
movetype = H

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 821, 4]
type = changeanim2
trigger1 = time = 0
value = 1100

[Statedef 1098];ガード後
type    = A
physics = N
poweradd = 0
ctrl = 0
velset = -3,-8
sprpriority = 4
anim = 1090

[State 106, 1]
type = VelAdd
trigger1 = Time > 1
y = .4

[State 821, 4]
type = changestate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1091

[Statedef 1099];喰らい
type    = A
physics = N
movetype = H
poweradd = 0
ctrl = 0
velset = -3,-8
sprpriority = 4
anim = 1090

[State 106, 1]
type = varset
trigger1 = Time = 0
var(11) = 1

[State 106, 1]
type = VelAdd
trigger1 = Time > 1
y = .4

[State 821, 4]
type = changestate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1091

;--------------------------------------------------------
;--------------------------------------------------------
[Statedef 2000];ブルータル･ゴッド･プロジェクト226
type    = S
movetype= A
physics = S
poweradd = -2000
ctrl = 0
velset = 0,0
anim = 2000
sprpriority = 2




[State -2, Helper]
type = Helper
triggerall = !numhelper(40001)
trigger1 = time = 20
helpertype = normal
name = "HSDM"
ID = 40001
stateno = 40001
pos = 160,120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1

[State -2, Helper]
type = Helper
triggerall = !numhelper(40003)
trigger1 = time = 6
helpertype = normal
name = "H.Port"
ID = 40003
stateno = 40003
pos = 160,120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1

[State -2, Helper]
type = Helper
triggerall = !numhelper(40004)
trigger1 = time = 6
helpertype = normal
name = "Player 1"
ID = 40004
stateno = 40004
pos = 160,120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1





[State 3000, 1]
type = PalFX
trigger1 = Time < 16 && Time % 2
trigger1 = prevstateno = [1000,1062]
time = 1
add = 255,255,255
ignorehitpause = 1

[State 240, 4]
type = envcolor
trigger1 = Time = 0
time = 2
value = 255,255,255
under = -1

[State 3100,AssertSpecial]
type = AssertSpecial
trigger1 = Time = [3,25]
flag = NoFG
flag2 = NoBG
ignorehitpause = 1

[state 190]
type = superpause
trigger1 = time = 0
time = 25
movetime = 25
anim = -1
darken = 0
unhittable = 1
sound = S0,39

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 1
value = S0,44
channel = 0

[State 240, 4]
type = Explod
trigger1 = time = 0
anim = 13003
postype = p1
pos = 0,-90
sprpriority = -1
supermove = 1
ownpal = 1

[State 240, 4]
type = Explod
trigger1 = time = 10
anim = 13503
postype = p1
pos = 0,-90
sprpriority = 5
supermove = 1
ownpal = 1

[State 3005, 1]
type = BGPalFX
trigger1 = Time >= 25
time = 20
invertall = 1
ignorehitpause = 1

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA,AA,AP,AT
time = 2

[State 240, 4]
type = ChangeState
trigger1 = animTime = 0
value = 2001

[Statedef 2001];突進
type    = S
movetype= A
physics = N
poweradd = 0
ctrl = 0
velset = 8,0
anim = 2001
sprpriority = 2
juggle = 10

[State 170, 1]
type = notHitBy
trigger1 = time = 0
trigger1 = var(58) = 1
value = SCA, AP,AA,AT
time = 6
ignorehitpause = 1

[State 701, 1]
type = null;Width
trigger1 = 1
player = 60,0

[State 840,0]
type = PlayerPush
trigger1 = 1
value = 1

[State 3005, 1]
type = BGPalFX
trigger1 = 1
time = 2
invertall = 1
ignorehitpause = 1

[State 800, 1]
type = HitDef
Trigger1 = 1
trigger1 = p2life > 0
pausetime = 0,0
damage = 0,0
guard.pausetime = 6,0
attr = S, HA
hitflag = MAF
sparkno = S502
guard.sparkno = S507
sparkxy = -10,-60
guardflag = M
priority = 3
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -5,-5
guard.velocity = 0
air.velocity = -5,-5
hitsound = S0,55;14
guardsound = S0,10
sparkno = -1
sprpriority = 4
p2facing = 1
;p1stateno = 2003
;p2stateno = 2010
fall = 1
fall.recover = 0


[State 240, 4]
type = ChangeState
trigger1 = movehit
value = 2003

[State 240, 4]
type = ChangeState
trigger1 = Time = 30
trigger2 = moveguarded = 1
;trigger1 = FrontEdgeBodyDist < 30
value = 2002

[Statedef 2003];ヒット
type    = S
movetype= A
physics = N
poweradd = 0
ctrl = 0
velset = 8,0
anim = 2001
sprpriority = 2

[State 240, 4]
type = targetState
trigger1 = time = 0
value = 2010

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA,AA,AP,AT
time = 2

[State 3005, 1]
type = BGPalFX
trigger1 = 1
time = 2
invertall = 1
ignorehitpause = 1

[State 840,0]
type = PlayerPush
trigger1 = 1
value = 0

[State 810, Bind 1]
type = TargetBind
trigger1 = 1
pos = 75, 0
postype = p1
time = 2

[State 240, 4]
type = ChangeState
trigger1 = FrontEdgeBodyDist < 83
value = 2004

[Statedef 2002];停止
type    = S
movetype= I
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2002
sprpriority = 2

[State 106, 0]
type = null;posadd
trigger1 = animelem = 1
x = 5

[State 106, 0]
type = VelSet
trigger1 = Time = [0,13]
x = 1.5

[State 106, 0]
type = VelSet
trigger1 = Time = [14,18]
x = 1

[State 106, 0]
type = VelSet
trigger1 = Time = 19
x = 0

[State 240, 4]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

[Statedef 2004];壁際
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2003
sprpriority = 2

[State 701, 1]
type = Width
trigger1 = 1
edge = 93,0

[State 3005, 1]
type = BGPalFX
trigger1 = 1
time = 2999
invertall = 1
ignorehitpause = 1

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 3
value = S0,17

[State 810, Bind 1]
type = null;TargetBind
trigger1 = time = 0
pos = 30, 0
postype = p1
time = 2

[State 810, Bind 1]
type = Targetstate
trigger1 = time = 0
value = 2011

[State 240, 4]
type = envshake
trigger1 = AnimElem = 3
time = 20
ampl = -5
freq = 100

[State 240, 4]
type = varset
trigger1 = Time = 0
var(5) = 1

[State 106, 0]
type = null;posadd
trigger1 = animTime = 0
x = 4

[State 240, 4]
type = ChangeState
trigger1 = animTime = 0
value = 106

[Statedef 2005];鎖
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2015
sprpriority = 2

[State 240, 4]
type = posadd
trigger1 = animelem = 11
x = 15

[State 240, 4]
type = posadd
trigger1 = animelem = 12
x = 10

[State 3005, 1]
type = BGPalFX
trigger1 = 1
time = 2
invertall = 1
ignorehitpause = 1

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 11
trigger2 = AnimElem = 12
value = S0,55;14

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 8
value = S0,30
;channel = 1

[State 240, 4]
type = null;stopsnd
trigger1 = AnimElem = 12
channel = 1

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 13
value = S0,14

[State 3110, 8]
type = hitadd
trigger1 = AnimElem = 12
trigger2 = AnimElem = 13
value = 1

[State 3110, 8]
type = targetlifeadd
trigger1 = AnimElem = 11
trigger2 = AnimElem = 12
value = -22
kill = 0

[State 3110, 8]
type = envcolor
trigger1 = AnimElem = 11
trigger2 = AnimElem = 12
ignorehitpause = 1
time = 1
under = -1
value = 255,255,255

[State 240, 4]
type = Explod
trigger1 = AnimElem = 11
trigger2 = AnimElem = 13
anim = 510
postype = p2
pos = 1,-76
sprpriority = 4

[State 240, 4]
type = Explod
trigger1 = AnimElem = 12
anim = 502
postype = p2
pos = -1,-58
sprpriority = 4

[State 240, 4]
type = Explod
trigger1 = AnimElem = 11
anim = 503
postype = p2
pos = -1,-58
sprpriority = 4

[State 240, 4]
type = Explod
trigger1 = AnimElem = 13
anim = 503
postype = p2
pos = -1,-63
sprpriority = 4
facing = -1

[State 240, 4]
type = Explod
trigger1 = AnimElem = 13
anim = 509
postype = p2
pos = 1,-75
sprpriority = 4
facing = -1

[State 810, Bind 1]
type = Targetstate
trigger1 = animelem = 11
value = 2012

[State 240, 4]
type = ChangeState
trigger1 = animTime = 0
value = 2006

[Statedef 2006];マント攻撃
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2004
sprpriority = 2

[State 3005, 1]
type = BGPalFX
trigger1 = 1
time = 2
invertall = 1
ignorehitpause = 1

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 4
trigger3 = AnimElem = 8
trigger4 = AnimElem = 12
trigger5 = AnimElem = 16
trigger6 = AnimElem = 20
trigger7 = AnimElem = 24
trigger8 = AnimElem = 28
trigger9 = AnimElem = 32
trigger10 = AnimElem = 36
volume = 300
value = S0,45
channel = 1

[State 821, 4]
type =null; playsnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 4
trigger3 = AnimElem = 8
trigger4 = AnimElem = 12
trigger5 = AnimElem = 16
trigger6 = AnimElem = 20
trigger7 = AnimElem = 24
trigger8 = AnimElem = 28
trigger9 = AnimElem = 32
trigger10 = AnimElem = 36
volume = 255
value = S0,45

[State 3110, 8]
type = hitadd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 4
trigger3 = AnimElem = 8
trigger4 = AnimElem = 12
trigger5 = AnimElem = 16
trigger6 = AnimElem = 20
trigger7 = AnimElem = 24
trigger8 = AnimElem = 28
trigger9 = AnimElem = 32
trigger10 = AnimElem = 36
value = 1

[State 3110, 8]
type = targetlifeadd
triggerall = var(58) = 0
triggerall = palno != 12
trigger1 = AnimElem = 1
trigger2 = AnimElem = 4
trigger3 = AnimElem = 8
trigger4 = AnimElem = 12
trigger5 = AnimElem = 16
trigger6 = AnimElem = 20
trigger7 = AnimElem = 24
trigger8 = AnimElem = 28
trigger9 = AnimElem = 32
trigger10 = AnimElem = 36
value = -5
kill = 0

[State 3110, 8]
type = targetlifeadd
triggerall = var(58) = 1
triggerall = palno != 12
trigger1 = AnimElem = 1
trigger2 = AnimElem = 4
trigger3 = AnimElem = 8
trigger4 = AnimElem = 12
trigger5 = AnimElem = 16
trigger6 = AnimElem = 20
trigger7 = AnimElem = 24
trigger8 = AnimElem = 28
trigger9 = AnimElem = 32
trigger10 = AnimElem = 36
value = -15
kill = 0
absolute = 1

[State 3110, 8]
type = targetlifeadd
triggerall = palno = 12
trigger1 = AnimElem = 1
trigger2 = AnimElem = 4
trigger3 = AnimElem = 8
trigger4 = AnimElem = 12
trigger5 = AnimElem = 16
trigger6 = AnimElem = 20
trigger7 = AnimElem = 24
trigger8 = AnimElem = 28
trigger9 = AnimElem = 32
trigger10 = AnimElem = 36
value = -20
kill = 0

[State 3110, 8]
type = envcolor
trigger1 = AnimElem = 1
trigger2 = AnimElem = 4
trigger3 = AnimElem = 8
trigger4 = AnimElem = 12
trigger5 = AnimElem = 16
trigger6 = AnimElem = 20
trigger7 = AnimElem = 24
trigger8 = AnimElem = 28
trigger9 = AnimElem = 32
trigger10 = AnimElem = 36
ignorehitpause = 1
time = 1
under = -1
value = 255,255,255

[State 240, 4]
type = Explod
trigger1 = AnimElem = 1
trigger2 = AnimElem = 7
trigger3 = AnimElem = 22
anim = 502
postype = p2
pos = 0,-28
random = 30,0
sprpriority = 4

[State 240, 4]
type = Explod
trigger1 = AnimElem = 4
trigger2 = AnimElem = 10
trigger3 = AnimElem = 18
trigger4 = AnimElem = 28
anim = 502
postype = p2
pos = 0,-68
random = 30,0
sprpriority = 4

[State 240, 4]
type = Explod
trigger1 = AnimElem = 6
trigger2 = AnimElem = 13
trigger3 = AnimElem = 25
anim = 502
postype = p2
pos = 0,-98
random = 30,0
sprpriority = 4

[State 810, Bind 1]
type = Targetstate
trigger1 = time = 0
value = 2013

[State 240, 4]
type = ChangeState
trigger1 = animTime = 0
value = 2007

[Statedef 2007];ショット
type    = S
movetype= A
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2005
sprpriority = 2

[State 3005, 1]
type = BGPalFX
trigger1 = 1
trigger1 = win = 0
time = 2
invertall = 1
ignorehitpause = 1

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 1
value = S0,46

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 1
value = S0,36
volume = 100

[State 810, Bind 1]
type = Targetstate
trigger1 = time = 0
value = 2014

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 40
value = S0,27

[State 240, 4]
type = Explod
trigger1 = AnimElem = 41,= 1
anim = 503
postype = p2
pos = 10,-98
sprpriority = 5
ignorehitpause = 1

[State 240, 4]
type = Explod
trigger1 = AnimElem = 42,= 1
anim = 503
postype = p2
pos = 10,-48
sprpriority = 5
ignorehitpause = 1

[State 240, 4]
type = Explod
trigger1 = AnimElem = 43,= 1
anim = 503
postype = p2
pos = -30,-88
sprpriority = 5
ignorehitpause = 1

[State 240, 4]
type = Explod
trigger1 = AnimElem = 44,= 1
anim = 503
postype = p2
pos = -30,-68
sprpriority = 5
ignorehitpause = 1

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 41
trigger2 = AnimElem = 42
trigger3 = AnimElem = 43
trigger4 = AnimElem = 46
value = S0,17

[State 810, Bind 1]
type = Targetstate
trigger1 = animelem = 41
;trigger1 = numprojID(1071) = 0
;trigger1 = hitshakeover = 1
value = 2015

[State 240, 4];migiue
type = Explod
trigger1 = AnimElem = 9
anim = 2505
postype = p1
pos = 40,-120
removetime = -1
sprpriority = 4

[State 240, 4];migishita
type = Explod
trigger1 = AnimElem = 9
anim = 2508
postype = p1
pos = 25,-43
removetime = -1
sprpriority = 4

[State 240, 4];hidariue
type = Explod
trigger1 = AnimElem = 9
anim = 2507
postype = p1
pos = -77,-122
removetime = -1
sprpriority = 4

[State 240, 4];hidarisita
type = Explod
trigger1 = AnimElem = 9
anim = 2506
postype = p1
pos = -40,-43
removetime = -1
sprpriority = 4

[State 240, 4]
type = removeExplod
trigger1 = AnimElem = 39

[State 3110, 8]
type = Pause
triggerall = (GameTime%3) = 1
trigger1 = AnimElem = 41, > 0
trigger1 = AnimElem = 53, < 0
trigger1 = 1
time = 1
movetime = 0
ignorehitpause = 1

[State 3110, 8]
type = envcolor
trigger1 = animelem = 41
trigger2 = animelem = 42
trigger3 = animelem = 43
ignorehitpause = 1
time = 2
under = -1
value = 255,255,255

[State 240, 4]
type = envshake
trigger1 = animelem = 41
trigger2 = animelem = 42
trigger3 = animelem = 43
trigger4 = animelem = 44
time = 3

[State 821, 4]
type = hitadd
trigger1 = animelem = 41
trigger2 = animelem = 42
trigger3 = animelem = 43
trigger4 = animelem = 44
value = 1

[State 821, 4]
type = targetlifeadd
triggerall = var(58) = 0
triggerall = palno != 12
trigger1 = animelem = 41
trigger2 = animelem = 42
trigger3 = animelem = 43
trigger4 = animelem = 44
value = -22
kill = 0

[State 821, 4]
type = targetlifeadd
triggerall = var(58) = 1
triggerall = palno != 12
trigger1 = animelem = 41
trigger2 = animelem = 42
trigger3 = animelem = 43
trigger4 = animelem = 44
value = -22
kill = 0
absolute = 1

[State 821, 4]
type = targetlifeadd
triggerall = palno = 12
trigger1 = animelem = 41
trigger2 = animelem = 42
trigger3 = animelem = 43
trigger4 = animelem = 44
value = -32
kill = 0

[State 1034, 2]
type = explod
trigger1 = animelem = 40
ID = 1072
anim = 1072
pos = -3,0
postype = p1
sprpriority = 3
;pausemovetime = 99999

[State 240, 4]
type = envshake
;trigger1 = animelem = 41
trigger1 = animelem = 67
trigger2 = animelem = 69
trigger3 = animelem = 71
trigger4 = animelem = 73
trigger5 = animelem = 75
trigger6 = animelem = 77
trigger7 = animelem = 79
;trigger8 = animelem = 81
time = 15
;ampl = -14
ignorehitpause = 1

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 51
value = S0,1

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 51
value = S0,47

[State 1034, 2]
type = explod
trigger1 = animelem = 67
anim = 2006
pos = 138,-90
postype = p1
sprpriority = 3

[State 1034, 2]
type = posfreeze
trigger1 = 1
time = 2
ignorehitpause = 1

[State 821, 4]
type = playsnd
trigger1 = animelem = 67
;trigger2 = animelem = 59
trigger2 = animelem = 71
;trigger4 = animelem = 63
trigger3 = animelem = 75
;trigger6 = animelem = 67
trigger4 = animelem = 79
;trigger8 = animelem = 71
value = S0,49

[State 821, 4]
type = explod
triggerall = p2life > 0
trigger1 = animelem = 67, = 1
trigger2 = animelem = 69, = 1
trigger3 = animelem = 71, = 1
trigger4 = animelem = 73, = 1
trigger5 = animelem = 75, = 1
trigger6 = animelem = 77, = 1
trigger7 = animelem = 79, = 1
trigger8 = animelem = 81, = 1
anim = 517
postype = p2
pos = -10,-60
sprpriority = 8

[State 191, 1]
type = targetstate
triggerall = win = 0
trigger1 = animelem = 67
trigger2 = animelem = 69
trigger3 = animelem = 71
trigger4 = animelem = 73
trigger5 = animelem = 75
trigger6 = animelem = 77
trigger7 = animelem = 79
value = 2017

[State 821, 4]
type = playsnd
triggerall = win = 0
;trigger1 = animelem = 67
trigger1 = animelem = 69
;trigger2 = animelem = 71
trigger2 = animelem = 73
;trigger3 = animelem = 75
trigger3 = animelem = 77
;trigger4 = animelem = 79
value = S0,48

[State 821, 4]
type = playsnd
triggerall = win = 0
;trigger1 = animelem = 67
trigger1 = animelem = 69
;trigger2 = animelem = 71
trigger2 = animelem = 73
;trigger3 = animelem = 75
trigger3 = animelem = 77
;trigger4 = animelem = 79
value = S0,17

[State 191, 1];トドメ
type = targetstate
trigger1 = animelem = 81
triggerall = win = 0
value = 2018

[State 191, 1];トドメ
type = targetstate
trigger1 = animelem = 67, > 0
trigger1 = win
value = 2018
persistent = 0

[State 821, 4]
type = hitadd
triggerall = win = 0
trigger1 = animelem = 67
trigger2 = animelem = 69
trigger3 = animelem = 71
trigger4 = animelem = 73
trigger5 = animelem = 75
trigger6 = animelem = 77
trigger7 = animelem = 79
trigger8 = animelem = 80
value = 1

[State 821, 4]
type = targetlifeadd
triggerall = var(58) = 0
triggerall = win = 0
triggerall = palno != 12
trigger1 = animelem = 67
trigger2 = animelem = 69
trigger3 = animelem = 71
trigger4 = animelem = 73
trigger5 = animelem = 75
trigger6 = animelem = 77
trigger7 = animelem = 78
value = -22

[State 821, 4]
type = targetlifeadd
triggerall = var(58) = 1
triggerall = win = 0
triggerall = palno != 12
trigger1 = animelem = 67
trigger2 = animelem = 69
trigger3 = animelem = 71
trigger4 = animelem = 73
trigger5 = animelem = 75
trigger6 = animelem = 77
trigger7 = animelem = 78
value = -30
absolute = 1

[State 821, 4]
type = targetlifeadd
triggerall = win = 0
triggerall = palno = 12
trigger1 = animelem = 67
trigger2 = animelem = 69
trigger3 = animelem = 71
trigger4 = animelem = 73
trigger5 = animelem = 75
trigger6 = animelem = 77
trigger7 = animelem = 78
value = -40

[State 4100,1]
type = Helper
trigger1 = animelem = 67
ID = 2007
name = "denki"
sprpriority = 5
pos = -30,-20
postype = back
stateno = 2016
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 3110, 8]
type = envcolor
triggerall = win = 0
trigger1 = animelem = 67
trigger2 = animelem = 71
trigger3 = animelem = 75
trigger4 = animelem = 79
ignorehitpause = 1
time = 2
under = -1
value = 255,255,255

[State 3110, 8]
type = null;Pause
trigger1 = MoveHit
trigger1 = (GameTime%2) = 1
trigger1 = animelem = 67,>= 0
trigger1 = animelem = 79,<= 0
trigger1 = p2life != 0
time = 1
movetime = 0

[State 3110, 8]
type = Pause
trigger1 = (GameTime%3) = 1
trigger1 = animelem = 67,>= 0
;trigger1 = animelem = 81,<= 0
trigger1 = p2life != 0
trigger1 = win = 0
time = 1
movetime = 0

[State 240, 4]
type = varset
trigger1 = Time = 0
var(5) = 0

[State 240, 4]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

[Statedef 2010];相手
type    = A
movetype= H
physics = N
velset = 0,0

[State 821, 4]
type = SelfState
trigger1 = enemy,movetype = H
value = 5300

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2009

[Statedef 2011];相手
type    = S
movetype= H
physics = N
velset = 0,0

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2010

[Statedef 2012];相手
type    = S
movetype= H
physics = S
velset = 0,0

[State 820, 1]
type = posadd
;Trigger1 = animelem = 3, = 1
Trigger1 = animelem = 4
x = 20

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2011

[Statedef 2013];相手
type    = S
movetype= H
physics = S
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2012

[Statedef 2014];相手気絶
type    = S
movetype= H
physics = S
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 810]
type = hitfallset
trigger1 = time = 0
value = 0

[State 820, 1]
type = ChangeAnim
trigger1 = AnimExist(5300)
trigger1 = time = 0
value = 5300

[State 820, 1]
type = ChangeAnim2
trigger1 = !AnimExist(5300)
trigger1 = time = 0
value = 2014

[Statedef 2015];相手
type    = S
movetype= H
physics = N
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 820, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 2013

[Statedef 2016];電気ヘルパー
type    = S
velset = 0,0
anim = 2016

[State 107, 2]
type = explod
trigger1 = time % 3 = 0
trigger1 = 1
anim = 2007
postype = p2
pos = 0,-40
random = 80,80
ownpal = 1
sprpriority = 4

[State 820, 1]
type = destroyself
trigger1 = time = 130

[Statedef 2017];相手ラスト
type    = S
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = posadd
Trigger1 = time = 0
x = -4

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 820, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 2232

[State 820, 1]
type = palfx
trigger1 = 1
time = 2
add = 22, 22,22;23,24
sinadd = 122, 122,122, 5
invertall = 1

[Statedef 2018];相手吹っ飛ぶ
type    = A
movetype = H
physics = N
velset = -5,-8.5
sprpriority = -1

[State 820, 1]
type = palfx
trigger1 = 1
time = 4
add = 22, 22,22;23,24
sinadd = 122, 122,122, 5
invertall = 1

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 821, 1]
type = VelAdd
Trigger1 = time > 0
y = .4

[State 821, 4]
type = changeanim
trigger1 = time = 0
trigger1 = selfAnimExist(5052)
value = 5052

[State 821, 4]
type = changeanim2
trigger1 = time = 0
trigger1 = !selfAnimExist(5052)
value = 2233

[State 821, 4]
type = changeanim
trigger1 = time = 20
trigger1 = selfAnimExist(5062)
value = 5062

[State 821, 4]
type = changeanim2
trigger1 = time = 20
trigger1 = !selfAnimExist(5062)
value = 2234

[State 5050, 6]
type = selfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
trigger1 = time >= 25
value = 5100

;--------------------------------------------------------------
[Statedef 2020];破沙羅乱舞2
type    = S
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2017
sprpriority = 4

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
;mul = 200,200,200
time = 2
add = -100,-100,-100
color = 0
invertall = 1
ignorehitpause = 1

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 2
value = S0,54

[State 240, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 511
postype = p1
pos = 40,-70
sprpriority = 4

[State 106, 1]
type = playsnd
trigger1 = Time = 0
value = S0,12

[State 106, 1]
type = posset
trigger1 = Time = 0
y = 0

[State 821, 4]
type = targetbind
trigger1 = time = 0
postype = p1
pos = 36,0

[State 820, 1]
type = changestate
trigger1 = animtime = 0
value = 2021

[Statedef 2021];破沙羅乱舞2
type    = S
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2016
sprpriority = 4

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
;mul = 200,200,200
time = 2
add = -100,-100,-100
color = 0
invertall = 1
ignorehitpause = 1

[State 240, 4]
type = Explod
trigger1 = Time = 0
trigger2 = Time = 10
trigger3 = Time = 20
trigger4 = Time = 30
trigger5 = Time = 40
trigger6 = Time = 50
trigger7 = Time = 60
trigger8 = Time = 70
trigger9 = Time = 80
trigger10 = Time = 90
trigger11 = Time = 100
trigger12 = Time = 110
trigger13 = Time = 120
trigger14 = Time = 130
trigger15 = Time = 140
trigger16 = Time = 150
trigger17 = Time = 160
anim = 502
postype = p1
pos = 40,-60
random = 10,30
sprpriority = 7

[State 240, 4]
type = Explod
trigger1 = Time = 0
trigger2 = Time = 10
trigger3 = Time = 20
trigger4 = Time = 30
trigger5 = Time = 40
trigger6 = Time = 50
trigger7 = Time = 60
trigger8 = Time = 70
trigger9 = Time = 80
trigger10 = Time = 90
trigger11 = Time = 100
trigger12 = Time = 110
trigger13 = Time = 120
trigger14 = Time = 130
trigger15 = Time = 140
trigger16 = Time = 150
trigger17 = Time = 160
anim = 510
postype = p1
pos = 40,-60
random = 10,30
sprpriority = 7

[State 106, 1]
type = playsnd
trigger1 = Time = 0
trigger2 = Time = 10
trigger3 = Time = 20
trigger4 = Time = 30
trigger5 = Time = 40
trigger6 = Time = 50
trigger7 = Time = 60
trigger8 = Time = 70
trigger9 = Time = 80
trigger10 = Time = 90
trigger11 = Time = 100
trigger12 = Time = 110
trigger13 = Time = 120
trigger14 = Time = 130
trigger15 = Time = 140
trigger16 = Time = 150
trigger17 = Time = 160
value = S0,7

[State 1034, 2]
type = Projectile
trigger1 = time = 1
projremove = 1
Projremovetime = 40
projpriority = 5
projanim = 2022
offset = 0,10
velocity = 1,-1

[State 1034, 2]
type = Projectile
trigger1 = time = 40
projremove = 1
Projremovetime = 40
projpriority = 5
projanim = 2023
offset = 20,-30
velocity = -1,1

[State 1034, 2]
type = Projectile
trigger1 = time = 80
projremove = 1
Projremovetime = 40
projpriority = 5
projanim = 2024
offset = -20,-60
velocity = 1,1

[State 1034, 2]
type = Projectile
trigger1 = time = 120
projremove = 1
Projremovetime = 40
projpriority = 5
projanim = 2025
offset = 20,-30
velocity = 1,-1

[State 821, 4]
type = targetstate
trigger1 = time = 0
value = 2024

[State 820, 1]
type = changestate
trigger1 = time = 160
value = 2022

[Statedef 2022];破沙羅乱舞2
type    = A
physics = N
movetype = A
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2018
sprpriority = 4

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
;mul = 200,200,200
time = 2
add = -100,-100,-100
color = 0
invertall = 1
ignorehitpause = 1

[State 821, 4]
type = envcolor
trigger1 = animelem = 2, = 1
trigger2 = animelem = 2, = 2
trigger3 = animelem = 2, = 3
trigger4 = animelem = 2, = 5
trigger5 = animelem = 2, = 7
value = 255,255,255
time = 1
under = -1

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 2
value = S0,51

[State 821, 4]
type = velset
trigger1 = time >= 5
y = -8

[State 240, 4]
type = Explod
triggerall = movehit
trigger1 = animelem = 2, = 1
trigger2 = animelem = 2, = 2
trigger3 = animelem = 2, = 3
trigger4 = animelem = 2, = 5
trigger5 = animelem = 2, = 7
anim = 510
postype = p2
pos = 0,-48
sprpriority = 4

[State 240, 4]
type = Explod
triggerall = movehit
trigger1 = animelem = 2, = 1
trigger2 = animelem = 2, = 2
trigger3 = animelem = 2, = 3
trigger4 = animelem = 2, = 5
trigger5 = animelem = 2, = 7
anim = 509
postype = p2
pos = 0,-48
sprpriority = 4

[State 1034, 2]
type = hitdef
trigger1 = animelem = 2, = 1
trigger2 = animelem = 2, = 2
trigger3 = animelem = 2, = 3
trigger4 = animelem = 2, = 5
trigger5 = animelem = 2, = 7
attr = S, SA
damage   = 34
animtype = Up
pausetime = 2,6
hitflag = MAF
guardflag = M
sparkno = -1;S502
guard.sparkno = S507
sparkxy = -1;90,-65
hitsound = S0,14
guardsound = S0,10
pausetime = 0,10
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
guard.hittime = 0
ground.velocity = 0,-11
air.velocity = 0,-11
fall = 1
fall.recover = 0

[State 821, 4]
type = targetstate
trigger1 = time = 0
value = 2025

[State 820, 1]
type = destroyself
trigger1 = time = 80

[Statedef 2023];相手
type    = S
movetype= H
physics = S
velset = 0,0

[State 820, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 2026

[Statedef 2024];相手
type    = S
movetype= H
physics = S
velset = 0,0

[State 820, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 2012

[Statedef 2025];相手
type    = S
movetype= H
physics = S
velset = 0,0

[State 820, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 1099



[Statedef 1089];ストライカー
type    = S
physics = S
moveytpe = A
anim = 2028
velset = 0,0
ctrl = 0

[State 4100,1]
type = Helper
triggerall = numhelper(1090) = 0
trigger1 = animelem = 9
ID = 1090
name = "basara"
sprpriority = 5
pos = -30,-20
postype = back
stateno = 1090
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 3, 5]
type = PlaySnd
trigger1 = Time = 0
value = S0,56

[State 240, 4]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1


;--------------------------------------------------------
;--------------------------------------------------------
[Statedef 2100];白羅滅精
type    = S
movetype= A
physics = S
poweradd = -1000
ctrl = 0
velset = 0,0
anim = 2100
sprpriority = 2

[State 240, 4]
type = playsnd
trigger1 = time = 0
value = S0,38
volume = 100

[State 3000, 1]
type = PalFX
trigger1 = Time < 16 && Time % 2
trigger1 = prevstateno = [1000,1062]
time = 1
add = 255,255,255
ignorehitpause = 1

[State 170, 1]
type = notHitBy
trigger1 = 1
value = SCA, AP,AA,AT
time = 2
ignorehitpause = 1

[State 240, 4]
type = playsnd
trigger1 = time = 0
value = S0,36
channel = 0

[State 240, 4]
type = envcolor
trigger1 = Time = 0
time = 2
value = 255,255,255
under = -1

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = Time >= 30
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3100,AssertSpecial]
type = AssertSpecial
trigger1 = Time >= 30
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 240, 4]
type = null;envcolor
trigger1 = Time >= 30
trigger1 = 1
time = 2
value = 0,0,0
under = -1

[State 3100,AssertSpecial]
type = AssertSpecial
trigger1 = Time = [3,30]
flag = NoFG
flag2 = NoBG
ignorehitpause = 1

[state 190]
type = superpause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
darken = 0
unhittable = 1
sound = S0,38

[State 240, 4]
type = Explod
trigger1 = time = 0
anim = 13001
postype = p1
pos = 0,0
sprpriority = -1
supermove = 1
ownpal = 1

[State 240, 4]
type = Explod
trigger1 = time = 10
anim =13501
postype = p1
pos = 0,-110
sprpriority = 5
supermove = 1
ownpal = 1

[State 701, 1]
type = envshake
trigger1 = AnimElem = 5
time = 10

[State 701, 1]
type = playsnd
trigger1 = AnimElem = 5
value = S0,13

[State 240, 4]
type = Explod
trigger1 = AnimElem = 5
anim = 515
postype = p1
pos = 0,0
sprpriority = 6

[State 240, 4]
type = Explod
trigger1 = AnimElem = 5
anim = 516
postype = p1
pos = 0,0
sprpriority = -2

[State 240, 4]
type = varset
trigger1 = time = 0
var(11) = 0

[State 4100,1];
type = Helper
trigger1 = AnimElem = 5
ID = 2105
name = "guard"
postype = p2
pos = 0,0
sprpriority = 2
stateno = 2105
helpertype = normal
keyctrl = 0
ownpal = 1


[State 240, 4]
type = ChangeState
trigger1 = animTime = 0
value = 2101

;--------------------------------------------------------

[Statedef 2101];白羅滅精攻撃
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2101
sprpriority = 2

[State 840,0]
type = PlayerPush
trigger1 = 1
value = 0

[State 701, 1]
type = playsnd
trigger1 = AnimElem = 1
value = S0,57
channel = 3

[State 1034, 2]
type = Projectile
projID = 1000
trigger1 = animelem = 1 >= 0
trigger1 = 1
projremove = 0
Projremovetime = 2
projhits = 0
projremanim = -1
projpriority = 9999999999
projanim = 2108
offset = 0,0;35,-105
velocity = 0,0
attr = S, SP

[State 4100,1]
type = null;Helper
trigger1 = time = 0
ID = 2100
name = "kougeki"
postype = p1
pos = 0,0
sprpriority = 2
stateno = 2103
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1

[State 4100,1];渦
type = Helper
trigger1 = time = 0
ID = 2100
name = "uzu"
postype = p1
pos = -8,-110
sprpriority = 2
stateno = 2104
helpertype = normal
keyctrl = 0
ownpal = 1

[State 240, 4];渦
type = Explod
trigger1 = time = 0
anim = 2110
ID = 2103
postype = p1
pos = -8,-110
sprpriority = -1
removetime = 200
bindtime = -1
ownpal = 1

[State 240, 4];球
type = Explod
trigger1 = time = 0
anim = 2105
ID = 2103
postype = p1
pos = -8,-110
sprpriority = 0
removetime = 120
ownpal = 1

[State 240, 4];球2
type = Explod
trigger1 = time = 0
anim = 2106
ID = 2103
postype = p1
pos = -8,-110
sprpriority = 0
removetime = 120
ownpal = 1

[State 240, 4];球3
type = Explod
trigger1 = time = 0
anim = 2107
ID = 2103
postype = p1
pos = -8,-110
sprpriority = 0
removetime = 120
ownpal = 1

[State 240, 4]
type = RemoveExplod
trigger1 = AnimTime = 0
ID = 2103

[State -3, 2.0201]
type = nothitby
trigger1 = 1
time = 2
value = SCA

[State 240, 2]
type = HitDef
trigger1 = animelem = 1
attr = S, HP
animtype  = up
damage    = 110,5
guardflag = M
hitflag = MAF
pausetime = 0,10
guard.pausetime = 0,16
sparkno = S502
guard.sparkno = S507
sparkxy = -15,-85 + var(11)
hitsound   = S0,17
guardsound = S0,10
ground.type = high
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = -19,-7
air.velocity = -19,-7
fall = 1
fall.recover = 0
;yaccel = .5
getpower = 0,0
givepower = 60,50
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 9
trigger2 = animelem = 17
trigger3 = animelem = 25
trigger4 = animelem = 33
trigger5 = animelem = 41
trigger6 = animelem = 49
attr = S, HP
animtype  = up
damage    = 20,5
guardflag = M
hitflag = MAF
pausetime = 0,11
guard.pausetime = 0,16
sparkno = S502
guard.sparkno = S507
sparkxy = -15,-85 + var(11)
hitsound   = S0,17
guardsound = S0,10
ground.type = high
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = -11,-10
air.velocity = -11,-10
fall = 1
fall.recover = 0
yaccel = .5
getpower = 0,0
givepower = 60,50
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 57
attr = S, HP
animtype  = up
damage    = 20,5
guardflag = M
hitflag = MAF
pausetime = 0,11
guard.pausetime = 0,16
sparkno = S502
guard.sparkno = S507
sparkxy = -15,-85 + var(11)
hitsound   = S0,17
guardsound = S0,10
ground.type = high
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = -6,-8
air.velocity = -6,-8
fall = 1
fall.recover = 0
yaccel = .5
getpower = 0,0
givepower = 60,50
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0

[State 240, 4]
type = varset
trigger1 = P2statetype = C
trigger1 = 1
var(11) = 30

[State 240, 4]
type = varset
trigger1 = 1
trigger1 = P2statetype != C
var(11) = -150 - (-150 - floor(p2bodydist y))

[State 240, 4]
type = varset
trigger1 = time = 0
var(14) = 0

[State 240, 4]
type = varset
trigger1 = time = 0
var(13) = 0

[State 240, 4]
type = varadd
trigger1 = movehit
var(13) = 1

[State 2100]
type = Pause
trigger1 = MoveHit
trigger1 = (GameTime%2) = 1
trigger1 = var(14) = 0
;trigger1 = 1
;trigger1 = P2movetype = H
time = 1
movetime = 0
;ignorehitpause = 1

[State 2100]
type = Pause
trigger1 = (GameTime%3) = 1
trigger1 = var(14) != 0
time = 1
movetime = 0

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3100,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 240, 4]
type = null;envcolor
trigger1 = 1
time = 5
value = 0,0,0
under = -1
ignorehitpause = 1

[State 240, 4]
type = ChangeState
trigger1 = animTime = 0
value = 2102

;-----------------------------------------------------------

[Statedef 2102];白羅滅精終了
type    = S
movetype= I
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2102
sprpriority = 2

[State 2100]
type = Pause
trigger1 = (GameTime%3) = 1
trigger1 = var(14) != 0
trigger1 = animelem = 8, <= 0
time = 1
movetime = 0

[State 2100]
type = Pause
trigger1 = (GameTime%2) = 1
trigger1 = var(13) != 0
trigger1 = var(14) = 0
trigger1 = animelem = 12, <= 0
time = 1
movetime = 0
;ignorehitpause = 1

[State 240, 4]
type = Explod
trigger1 = time = 0
anim = 2104
postype = p1
pos = -8,-110
sprpriority = -1
supermove = 1
ownpal = 1
removeongethit = 1

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 2
mul = 900,900,900
add = -250,-250,-250
ignorehitpause = 1

[State 3100,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 240, 4]
type = null;envcolor
trigger1 = 1
time = 2
value = 0,0,0
under = -1
ignorehitpause = 1

[State 701, 1]
type = stopsnd
trigger1 = Animtime = 0
channel = 3

[State 240, 4]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

[Statedef 2103];全体攻撃ヘルパー
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2109
sprpriority = 2

[State 240, 4]
type = envcolor
trigger1 = 1
time = 5
value = 0,0,0
under = -1
ignorehitpause = 1

[State 240, 4]
type = bindtoroot
trigger1 = 1
trigger1 = animelem = 16 <= 15
time = 2
ignorehitpause = 1

[State 240, 4]
type = bindtoroot
trigger1 = 1
trigger1 = animelem = 17 >= 0
pos = -8,-110
time = 2
ignorehitpause = 1

[State 2100]
type = Pause
trigger1 = MoveHit
trigger1 = (GameTime%2) = 1
trigger1 = parent,var(12) = 0
;trigger1 = 1
trigger1 = P2movetype = H
trigger1 = animelem = 35 <= 0
time = 1
movetime = 0
ignorehitpause = 1

[State 821, 4]
type = destroyself
trigger1 = animtime = 0

[Statedef 2104];渦ヘルパー
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2103
sprpriority = -2

[State 6010, 2]
type = PlayerPush
trigger1 = 1
value = 0

[State 820, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 2100]
type = Pause
;trigger1 = MoveHit
trigger1 = (GameTime%3) = 1
trigger1 = 1
;trigger1 = P2movetype != A
trigger1 = animelem = 35 <= 0
time = 1
movetime = 0
;ignorehitpause = 1

[State 240, 2]
type = HitDef
trigger1 = animelem = 2
attr = S, HP
animtype  = up
damage    = 10,10
guardflag = M
hitflag = MAF
pausetime = 0,25
guard.pausetime = 0,16
sparkno = S502
guard.sparkno = S507
sparkxy = 15,-55 + var(12)
hitsound   = S0,17
guardsound = S0,10
ground.type = high
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = -5,-5
air.velocity = -5,-5
fall = 1
fall.recover = 0
;yaccel = .5
getpower = 0,0
givepower = 60,50
sprpriority = -2

[State 240, 4]
type = bindtoroot
trigger1 = 1
pos = -8,-110
time = 2
ignorehitpause = 1

[State 240, 4]
type = parentvaradd
trigger1 = movehit
var(14) = 1
ignorehitpause = 1

[State 240, 4]
type = varset
trigger1 = time = 0
var(12) = 0

[State 240, 4]
type = varset
trigger1 = P2statetype = C
trigger1 = 1
var(12) = 30

[State 240, 4]
type = varset
trigger1 = 1
trigger1 = P2statetype != C
var(12) = -150 - (-150 - floor(p2bodydist y))

[State 821, 4]
type = destroyself
trigger1 = parent,stateno = 2102

[Statedef 2105];guardヘルパー
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2510
sprpriority = -2

[State 821, 4]
type = destroyself
trigger1 = parent,stateno = 2102

;--------------------------------------------

[Statedef 511];ふっ飛ばし相手モーション
type = A
physics = N
movetype = H
ctrl = 0
velset = 0,0
sprpriority = -1

[State 3040, 1]
type = VelAdd
trigger1 = Time = 15
trigger1 = hitshakeover = 1
x = -6
y = -3

[State 3040, 1]
type = VelAdd
trigger1 = Time > 20
trigger1 = hitshakeover = 1
y = .6

[State 107, 2]
type = Changeanim2
trigger1 = Time = 0
value = 2111

[State 3040, 3]
type = changeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 512

[Statedef 512];相手モーション
type = L
physics = N
movetype = H
ctrl = 0
velset = 0,0

[State 3040, 1]
type = posset
trigger1 = Time = 0
y = 0

[State 3040, 1]
type = Velset
trigger1 = time = [0,10]
x = -2.8

[State 3040, 1]
type = makedust
trigger1 = time = [0,26]
postype = p2
pos = 30,0

[State 3040, 1]
type = Velset
trigger1 = time = [10,17]
x = -.8

[State 3040, 1]
type = Velset
trigger1 = time = [18,26]
x = -.1

[State 107, 2]
type = Changeanim2
trigger1 = Time = 0
value = 2112

[State 107, 2]
type = null;Changeanim2
trigger1 = Time = 19
value = 2113

[State 107, 2]
type = Changeanim
trigger1 = Time = 19
value = 5110

[State 610, 4]
type = SelfState
trigger1 = alive = 0
trigger1 = Time = 49
value = 5150

[State 610, 4]
type = SelfState
trigger1 = Time = 43
trigger1 = alive = 1
value = 5120

[Statedef 513];
type = S
physics = N
movetype = I
ctrl = 0
anim = 2029
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 701, 1]
type = playsnd
trigger1 = p2stateno = 512
value = S0,58
persistent = 0
volume = 255

[State 610, 4]
type = destroyself
trigger1 = p2stateno = 5120
trigger2 = time = 60

;----------------------------------------------------------
;--------------------------------------------------------
;--------------------------------------------------------
;3プラトン
[Statedef 2200]
type    = S
movetype= A
physics = S
poweradd = -3000
ctrl = 0
velset = 0,0
anim = 2204
sprpriority = 2


[State -2, Helper]
type = Helper
triggerall = !numhelper(40001)
trigger1 = time = 20
helpertype = normal
name = "HSDM"
ID = 40001
stateno = 40001
pos = 160,120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1

[State -2, Helper]
type = Helper
triggerall = !numhelper(40003)
trigger1 = time = 6
helpertype = normal
name = "H.Port"
ID = 40003
stateno = 40003
pos = 160,120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1

[State -2, Helper]
type = Helper
triggerall = !numhelper(40004)
trigger1 = time = 6
helpertype = normal
name = "Player 1"
ID = 40004
stateno = 40004
pos = 160,120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1



[State 3000, 1]
type = PalFX
trigger1 = Time < 16 && Time % 2
trigger1 = prevstateno = [1000,1060]
time = 1
add = 255,255,255
ignorehitpause = 1

[State 170, 1]
type = notHitBy
trigger1 = time = 0
trigger1 = var(58) = 1
value = SCA, AP,AA,AT
time = 45
ignorehitpause = 1

[State 240, 4]
type = envcolor
trigger1 = Time = 1
time = 2
value = 255,255,255
under = -1

[State 3100,AssertSpecial]
type = AssertSpecial
trigger1 = Time = [3,30]
flag = NoFG
flag2 = NoBG
ignorehitpause = 1

[state 190]
type = superpause
trigger1 = time = 1
time = 30
movetime = 30
anim = -1
darken = 0
unhittable = 1
sound = S0,39

[State 240, 4]
type = Explod
trigger1 = time = 1
anim = 512
postype = p1
pos = 0,-90
sprpriority = -1
supermove = 1
ownpal = 1

[State 240, 4]
type = Explod
trigger1 = time = 10
anim = 513
postype = p1
pos = 0,-90
sprpriority = 5
supermove = 1
ownpal = 1

[State 800, 1]
type = HitDef
triggerall = enemynear,stateno != [120,153]
Trigger1 = animelem = 1
animtype  = Up
attr = S, HT
hitflag = M
guardflag = N
priority = 1, Miss
sparkno = -1
numhits = 0
sprpriority = 1
p2facing = 1
p1stateno = 2201
p2stateno = 2202
guard.dist = 0

[State 3005, 1]
type = BGPalFX
trigger1 = Time >= 25
time = 20
invertall = 1
ignorehitpause = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 2201]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2205
sprpriority = 2

[State 701, 1]
type = Width
trigger1 = 1
edge = 0,30

[State 240, 4]
type = Explod
trigger1 = AnimElem = 5
trigger1 = anim = 2205
anim = 511
postype = p1
pos = 45,-78
sprpriority = 4

[State 701, 1]
type = playsnd
trigger1 = animelem = 5
trigger1 = anim = 2205
value = S0,12

[State 240, 4]
type = envcolor
trigger1 = 1
time = 2
value = 0,0,0
under = -1
ignorehitpause = 1

[state 190]
type = superpause
trigger1 = time = 1
time = 30
movetime = 30
anim = -1
darken = 0
unhittable = 1
sound = S0,39

[State 240, 4]
type = Explod
trigger1 = time = 1
anim = 512
postype = p1
pos = 0,-90
sprpriority = -1
supermove = 1
ownpal = 1

[State 240, 4]
type = Explod
trigger1 = time = 10
anim = 513
postype = p1
pos = 0,-90
sprpriority = 5
supermove = 1
ownpal = 1

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 7, <= 0
trigger1 = anim = 2205
ignorehitpause = 1
pos = 40, 0

[State 701, 1]
type = velset
trigger1 = frontedgedist <= 160
trigger1 = AnimElem = 1, >= 0
x = -2

[State 701, 1]
type = velset
trigger1 = frontedgedist >= 160
trigger1 = AnimElem = 1, >= 0
x = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 7
attr = S, HT
damage = 50, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 4, 10
sparkno = S500
guard.sparkno = S505
sparkxy = -10, -76
hitsound = S0,6
guardsound = S0,10
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -2
airguard.velocity = 0
kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 10
attr = S, HT
damage = 50, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 4, 3
sparkno = S500
guard.sparkno = S505
sparkxy = -10, -56
hitsound = S0,9
guardsound = S0,10
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = 0
airguard.velocity = 0
air.type = High
p2stateno = 2203
kill = 0

[State 4100,1];背後
type = Helper
trigger1 = AnimElem = 13
trigger1 = anim = 2205
ID = 1
name = "basara"
postype = p2
pos = -60,0
sprpriority = 2
stateno = 2210
helpertype = normal
keyctrl = 0
ignorehitpause = 1
ownpal = 1

[State 195, 2]
type = varset
trigger1 = time = 50
var(30) = 1

[State 195, 2]
type = varset
trigger1 = time = 50
var(31) = 1

[State 195, 2]
type = playsnd
trigger1 = time = 240
value = S0,56
persistent = 0

[State 195, 2]
type = Changeanim
trigger1 = time = 230
value = 181
persistent = 0

[State 4100,1]
type = Helper
trigger1 = time = 275
name = "krizalid"
postype = back
pos = -20,0
sprpriority = 2
stateno = 2205
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1

[State 195, 2]
type = ChangeState
trigger1 = numhelper(2209) = 1
value = 2230

[Statedef 2202]
type    = A
movetype= H
physics = N
velset = 0,0
;anim = 811
sprpriority = -1

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 5050, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 2207

[Statedef 2203]
type    = S
movetype= H
physics = S
velset = 0,0
sprpriority = -1

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 5050, 1]
type = velset
trigger1 = time = 0
x = -14

[State 5050, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 2207

[Statedef 2210];破沙羅
type    = S
movetype= A
physics = S
velset = 0,0
anim = 2206
sprpriority = -2

[State 840,0]
type = palfx
trigger1 = 1
time = 2
add = var(21),var(21),var(21)

[state 190]
type = varset
trigger1 = time = 0
var(21) = -250

[state 190]
type = varadd
trigger1 = 1;time >= 70
trigger1 = var(21) <= 0
var(21) = 7

[State 191, 1]
type = playsnd
trigger1 = AnimElem = 13
value = S0,12


[State 821, 4]
type = targetbind
trigger1 = AnimElem = 13, = 1
postype = p1
pos = 40,-120

[State 240, 4]
type = Explod
trigger1 = AnimElem = 13
anim = 511
postype = p1
pos = 40,-110
sprpriority = 4

[State 191, 1]
type = playsnd
trigger1 = AnimElem = 3
value = S0,51

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 13
trigger1 = p2movetype = H
attr = S, HT
damage = 300,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1;S500
guard.sparkno = S505
;sparkxy = -10, -76
;hitsound = S0,12
numhits = 0
guardsound = S0,10
ground.type = High
ground.slidetime = 5
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0
air.type = High
p2stateno = 2204
kill = 0

[State 240, 4]
type = null;Explod
trigger1 = time = 130
anim = 2201
postype = p1
pos = 150,0
sprpriority = 4
removetime = 200
facing = -1

[State 821, 4]
type = targetstate
trigger1 = numhelper(2208) = 1
value = 2211
persistent = 0

[State 821, 4]
type = targetstate
trigger1 = numhelper(2209) = 1
value = 2212
persistent = 0

[State 5050, 1]
type = targetstate
trigger1 = numhelper(2210) = 1
value = 2220
persistent = 0

[State 107, 2]
type = playsnd
trigger1 = numhelper(2209) = 1
value = S0,52
ignorehitpause = 1
persistent = 0

[State 5050, 1]
type = Changestate
trigger1 = numhelper(2210) = 1
value = 2221
persistent = 0

[Statedef 2211];乱舞相手
type    = A
movetype= H
velset = 0,0
sprpriority = -1

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 5050, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 2210

[Statedef 2212];乱舞相手止まる
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 5050, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 2209

[Statedef 2204]
type    = A
movetype= H
physics = N
velset = 0,0
;anim = 811
sprpriority = -1

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 5050, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 2209

[Statedef 2205];クリザリッド登場
type    = S
physics = N
movetype = I
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2200
sprpriority = 5

[State 1051, 2]
type = velset
trigger1 = 1
x = 5

[State 810, 1]
type = PlayerPush
trigger1 = 1
value = 1

[State 1051, 2]
type = ChangeState
trigger1 = p2bodydist x <= 120
value = 2206

[Statedef 2206];乱舞
type    = S
physics = N
movetype = I
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2201
sprpriority = 5

[State 810, 1]
type = PlayerPush
trigger1 = 1
value = 1

[State 191, 1]
type = parentvaradd
trigger1 = animelem = 3
var(30) = 1
;persistent = 0

[State 191, 1]
type = varrandom
trigger1 = 1
v = 4
range = 502,503

[State 191, 1]
type = playsnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 7
trigger3 = AnimElem = 22
value = S0,7

[State 191, 1]
type = playsnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 10
trigger3 = AnimElem = 18
trigger4 = AnimElem = 28
value = S0,6

[State 191, 1]
type = playsnd
trigger1 = AnimElem = 6
trigger2 = AnimElem = 13
trigger3 = AnimElem = 25
value = S0,8

[State 821, 4]
type = hitadd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 7
trigger3 = AnimElem = 22
trigger4 = AnimElem = 4
trigger5 = AnimElem = 10
trigger6 = AnimElem = 18
trigger7 = AnimElem = 28
trigger8 = AnimElem = 6
trigger9 = AnimElem = 13
trigger10 = AnimElem = 25
value = 1

[State 821, 4]
type = envcolor
trigger1 = AnimElem = 2
trigger2 = AnimElem = 7
trigger3 = AnimElem = 22
trigger4 = AnimElem = 4
trigger5 = AnimElem = 10
trigger6 = AnimElem = 18
trigger7 = AnimElem = 28
trigger8 = AnimElem = 6
trigger9 = AnimElem = 13
trigger10 = AnimElem = 25
value = 255,255,255
under = -1
time = 1

[State 240, 4]
type = Explod
trigger1 = AnimElem = 2
trigger2 = AnimElem = 7
trigger3 = AnimElem = 22
anim = var(4)
postype = p1
pos = 110,-28
random = 30,0
sprpriority = 4

[State 240, 4]
type = Explod
trigger1 = AnimElem = 4
trigger2 = AnimElem = 10
trigger3 = AnimElem = 18
trigger4 = AnimElem = 28
anim = var(4)
postype = p1
pos = 110,-68
random = 30,0
sprpriority = 4

[State 240, 4]
type = Explod
trigger1 = AnimElem = 6
trigger2 = AnimElem = 13
trigger3 = AnimElem = 25
anim = var(4)
postype = p1
pos = 110,-98
random = 30,0
sprpriority = 4

[State 4100,1]
type = Helper
trigger1 = animelem = 2
name = "mu"
ID = 2208
postype = back
pos = 0,0
sprpriority = 2
stateno = 2208
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1

[State 4100,1]
type = Helper
trigger1 = time = 130
name = "mu"
ID = 2209
postype = back
pos = 0,0
sprpriority = 2
stateno = 2208
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1

[State 1051, 2]
type = ChangeState
trigger1 = time = 130
value = 2207

[Statedef 2207];トドメ
type    = S
physics = N
movetype = I
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2202
sprpriority = 4

[State 107, 2]
type = playsnd
trigger1 = animelem = 1
value = S0,62

[State 821, 4]
type = posadd
trigger1 = AnimElem = 12
x = 20

[State 821, 4]
type = hitadd
trigger1 = AnimElem = 12
value = 3

[State 240, 4]
type = Explod
trigger1 = AnimElem = 12
anim = 503
postype = p1
pos = 95,-60
sprpriority = 8
pausemovetime = 9999

[State 240, 4]
type = Explod
trigger1 = AnimElem = 12
anim = 503
postype = p2
pos = 0,-20
sprpriority = 8
pausemovetime = 9999

[State 4100,1]
type = Helper
trigger1 = animelem = 12
name = "mu"
ID = 2210
postype = back
pos = 0,0
sprpriority = 2
stateno = 2208
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1

[State 810, 1]
type = PlayerPush
trigger1 = 1
value = 1

[State 240, 4]
type = Explod
trigger1 = AnimElem = 11
anim = 2211
postype = p1
pos = 0,0
sprpriority = 5

[State 240, 4]
type = envshake
trigger1 = AnimElem = 12
time = 25

[State 240, 4]
type = envcolor
trigger1 = AnimElem = 12, = 0
value = 255,0,0
time = 4
under = -1
ignorehitpause = 1

[State 1051, 2]
type = ChangeState
trigger1 = animtime = 0
value = 2222

[Statedef 2208]
type    = S
physics = N
movetype = I
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2029
sprpriority = 4

[State 810, 1]
type = PlayerPush
trigger1 = 1
value = 1

[State 810, 1]
type = nothitby
trigger1 = 1
value = SCA
time = 2

[State 810, 1]
type = destroyself
trigger1 = p2stateno = 2220

[Statedef 2220];回転吹っ飛び
type    = A
movetype= H
physics = N
velset = 0,0

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 1281, 2]
type = PalFX
trigger1 = Time >= 30
trigger1 = 1
time = 50
add = 80,-44,-124
sinadd = 30,30,0,10
color = 0
invertall = 1
ignorehitpause = 1

[State 9020, 1]
type = ChangeAnim2
trigger1 = Time  = 0
value = 2212

[State 9020, 1]
type = posadd
trigger1 = Time = 0
y = 90
x = 10

[State 9020, 1]
type = velset
trigger1 = Time = 30
y = -15

[State 9020, 1]
type = veladd
trigger1 = Time > 33
y = .2

[State 9020, 1]
type = lifeadd
trigger1 = Pos Y >= 0 && Vel Y > 0
value = -160

[State 9020, 3]
type = SelfState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 5100

[Statedef 2221];破沙羅
type    = S
movetype= A
physics = S
velset = 0,0
anim = 2213
sprpriority = -2

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
;mul = 200,200,200
time = 2
add = -100,-100,-100
color = 0
invertall = 1
ignorehitpause = 1

[State 107, 2]
type = playsnd
trigger1 = time = 40
value = S0,49
ignorehitpause = 1

[State 191, 1]
type = envcolor
trigger1 = time = 40
trigger2 = time = 45
trigger3 = time = 50
trigger4 = time = 55
trigger5 = time = 60
value = 0,0,255
time = 2
under = -1
ignorehitpause = 1

[State 107, 2]
type = playsnd
trigger1 = time = 80
value = S0,59

[State 240, 4]
type = Explod
trigger1 = time = 80
anim = 2216
postype = p1
pos = 40,-60
sprpriority = 7

[State 820, 2]
type = targetlifeadd
trigger1 = Time = 6
value = -350
ignorehitpause = 1

[State 820, 2]
type = Pause
trigger1 = Time = 5
time = 55
movetime = 55

[State 240, 4]
type = Explod
trigger1 = AnimElem = 2
anim = 510
postype = p2
pos = 40,-80
sprpriority = 7
pausemovetime = 9999

[State 240, 4]
type = Explod
trigger1 = AnimElem = 2
anim = 509
postype = p1
pos = 40,-80
sprpriority = 7
pausemovetime = 9999

[State 240, 4]
type = Explod
trigger1 = AnimElem = 2
anim = 1094
postype = p1
pos = 0,-10
sprpriority = 7
ignorehitpause = 1
pausemovetime = 9999

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 2
value = S0,14

[State 821, 4];ふっ飛ばし
type = playsnd
trigger1 = AnimElem = 2
value = S0,17

[State 821, 4];キック
type = playsnd
trigger1 = AnimElem = 2
value = S0,9

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 9
value = S0,53

[State 821, 4]
type = changestate
trigger1 = animtime = 0
value = 2224

[Statedef 2222];クリザリッド決め
type    = S
movetype= I
physics = S
velset = 0,0
anim = 2219
sprpriority = -2

[State 107, 2]
type = playsnd
trigger1 = animelem = 5
value = S0,63

[State 821, 4]
type = changestate
trigger1 = animtime = 0
value = 2223

[Statedef 2223];クリザリッド帰る
type    = S
movetype= I
physics = N
velset = 0,0
anim = 2220
sprpriority = -2

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 3
value = S0,15

[State 821, 4]
type = velset
trigger1 = time = 7
y = -13
x = -4

[State 821, 4]
type = destroyself
trigger1 = time = 40

[Statedef 2224];破沙羅帰る
type    = S
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1096
sprpriority = 4

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 1
value = S0,15

[State 106, 1]
type = velset
trigger1 = Time >= 0
y = -13
x = -4

[State 821, 4]
type = destroyself
trigger1 = time = 40






[Statedef 2230];イグニストドメ
type    = S
movetype= A
physics = S
velset = 0,0
anim = 2214
sprpriority = -2

[State 107, 2]
type = playsnd
trigger1 = time = 0
value = S0,40
ignorehitpause = 1

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA,AA,AP,AT
time = 2

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
;mul = 200,200,200
time = 2
add = -100,-100,-100
color = 0
invertall = 1
ignorehitpause = 1

[State 9020, 1]
type = velset
trigger1 = animelem = 3
y = -15
x = 2

[State 5050, 1]
type = Changestate
trigger1 = time = 44
value = 2231

[Statedef 2231];イグニストドメ
type    = A
movetype= A
physics = N
velset = 0,0
anim = 2215
sprpriority = -2

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA,AA,AP,AT
time = 2

[State 107, 2]
type = null;playsnd
trigger1 = time = 3
value = S0,44

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
;mul = 200,200,200
time = 2
add = -100,-100,-100
color = 0
invertall = 1
ignorehitpause = 1

[State 9020, 1]
type = posset
trigger1 = time = 0
y = -120

[State 9020, 1]
type = posadd
trigger1 = time = 0
x = FrontEdgeDist - (FrontEdgeDist - p2BodyDist X) + enemynear,const(size.ground.front)-33

[State 9020, 1]
type = veladd
trigger1 = time >= 0
y = 1

[State 5050, 1]
type = Changestate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 2232

[Statedef 2232];イグニス決め
type    = S
movetype= I
physics = S
velset = 0,0
anim = 0
sprpriority = -2

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA,AA,AP,AT
time = 2

[State 4100,1]
type = Helper
trigger1 = time = 20
ID = 2222
name = "hinoko"
sprpriority = 5
pos = -30,-20
postype = back
stateno = 2233
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 4100,1]
type = Helper
trigger1 = p2stateno = 5100
ID = 2223
name = "hinoko"
sprpriority = 5
pos = -30,-20
postype = back
stateno = 2234
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 4100,1]
type = Helper
trigger1 = time = 20
ID = 2223
name = "hinoko"
sprpriority = 5
pos = -30,-20
postype = back
stateno = 2235
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 5050, 1]
type = posset
trigger1 = time = 0
y = 0

[State 5050, 1]
type = Changeanim
trigger1 = time = 150
value = 2221

[State 5050, 1]
type = Changestate
trigger1 = animtime = 0
trigger1 = time >= 180
value = 0
ctrl = 1

[Statedef 2233];火の粉ヘルパー
type    = S
velset = 0,0
anim = 2016

[State 107, 2]
type = explod
trigger1 = time % 10 = 0
trigger1 = 1
anim = 2218
postype = p2
pos = 0,-40
random = 80,80
ownpal = 1
sprpriority = 4

[State 820, 1]
type = destroyself
trigger1 = time = 150

[Statedef 2234];火の粉ヘルパー相手ダウン
type    = S
velset = 0,0
anim = 2016

[State 107, 2]
type = explod
trigger1 = time % 7 = 0
trigger1 = 1
anim = 2217
postype = p2
pos = 0,-40
random = 80,80
ownpal = 1
sprpriority = 4

[State 820, 1]
type = destroyself
trigger1 = time = 50

[Statedef 2235];
type    = S
velset = 0,0
anim = 2016

[State 107, 2]
type = explod
trigger1 = time % 8 = 0
trigger1 = 1
anim = 2225
postype = p2
pos = 0,-40
random = 80,80
ownpal = 1
sprpriority = 4

[State 820, 1]
type = destroyself
trigger1 = time = 150

;--------------------------------------------------------
;--------------------------------------------------------
[Statedef 2300];エンド･オブ･ガイア
type    = S
movetype= A
physics = S
poweradd = -2000
ctrl = 0
velset = 0,0
anim = 2222
sprpriority = 2

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[state 2]
type = PalFX
trigger1 = 1
trigger1 = animelem = 5, >= 10
time = 2
sinadd = 48,50,32,16
add = 220,100,0
ignorehitpause = 1

[State 3000, 1]
type = PalFX
trigger1 = Time < 16 && Time % 2
trigger1 = prevstateno = [1000,1062]
time = 1
add = 255,255,255
ignorehitpause = 1

[State 240, 4]
type = envcolor
trigger1 = Time = 0
time = 2
value = 255,255,255
under = -1

[State 3100,AssertSpecial]
type = AssertSpecial
trigger1 = Time = [3,25]
flag = NoFG
flag2 = NoBG
ignorehitpause = 1

[state 190]
type = superpause
trigger1 = time = 0
time = 25
movetime = 25
anim = -1
darken = 0
unhittable = 1
sound = S0,39

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 1
value = S0,44
channel = 0

[State 240, 4]
type = Explod
trigger1 = time = 0
anim = 13002
postype = p1
pos = 0,-90
sprpriority = -1
supermove = 1
ownpal = 1

[State 240, 4]
type = Explod
trigger1 = time = 10
anim = 13502
postype = p1
pos = 0,-90
sprpriority = 5
supermove = 1
ownpal = 1

[State 3005, 1]
type = null;BGPalFX
trigger1 = Time >= 25
time = 20
invertall = 1
ignorehitpause = 1

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
;mul = 200,200,200
time = 2
add = -100,-100,-100
color = 0
invertall = 1
ignorehitpause = 1

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA,AA,AP,AT
time = 2

[State 240, 4]
type = Explod
trigger1 = animelem = 5
anim = 2226
postype = p1
pos = 0,7
sprpriority = 5
supermove = 1
ownpal = 1

[State 800, 1]
type = HitDef
Trigger1 = animelem = 8
Trigger2 = animelem = 9
pausetime = 0,0
damage = 30,10
guard.pausetime = 0,10
getpower = 0,0
attr = S, HA
hitflag = MAF
hitsound = S0,61
guardsound = S0,10
sparkno = S503
guard.sparkno = S507
sparkxy = -10,-58 + var(11)
guardflag = M
animtype  = up
ground.type = High
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -1,-7
guard.velocity = -6
air.velocity = -1,-13
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
priority = 4, Miss
guardsound = S0,10
fall = 1
fall.recover = 0
sprpriority = 4
palfx.time = 40
palfx.add = 80,-44,-124
palfx.sinadd = 30,30,0,10
palfx.color = 0
palfx.invertall = 1

[State 240, 4]
type = varset
trigger1 = P2statetype = C
trigger1 = 1
var(11) = 30

[State 240, 4]
type = varset
trigger1 = 1
trigger1 = P2statetype != C
var(11) = -150 - (-150 - floor(p2bodydist y))

[State 4100,1]
type = Helper
trigger1 = time = 20
trigger1 = movehit
ID = 2222
name = "hinoko"
sprpriority = 5
pos = 0,0
postype = back
stateno = 2303
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 4100,1]
type = Helper
trigger1 = movehit
trigger1 = numhelper(2304) = 0
ID = 2304
name = "hinoko"
sprpriority = 5
pos = 0,0
postype = back
stateno = 2304
helpertype = normal
keyctrl = 0
ignorehitpause = 1
ownpal = 1

[State 107, 2]
type = playsnd
trigger1 = animelem = 5
value = S0,60

[State 107, 2]
type = playsnd
trigger1 = animelem = 24
value = S0,36

[State 107, 2]
type = playsnd
trigger1 = animelem = 24
value = S0,36

[State 107, 2]
type = explod
trigger1 = animelem = 24
anim = 2229
postype = p1
pos =-10,-90
ownpal = 1
sprpriority = 2

[State 240, 4]
type = ChangeState
trigger1 = animTime = 0
value = 2301

[Statedef 2301];突進
type    = S
movetype= A
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2223
sprpriority = 2
juggle = 10

[state 2]
type = PalFX
trigger1 = 1
time = 2
sinadd = 48,50,32,16
add = 220,100,0
ignorehitpause = 1

[State 106, 0]
type = VelSet
trigger1 = animelem = 9
x = 7

[State 170, 1]
type = notHitBy
trigger1 = time = 0
value = SCA, AP,AA,AT
time = 17
ignorehitpause = 1

[State 701, 1]
type = Width
trigger1 = 1
player = 30,0

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
;mul = 200,200,200
time = 2
add = -100,-100,-100
color = 0
invertall = 1
ignorehitpause = 1

[State 191, 1]
type = envcolor
triggerall = movehit
Trigger1 = animelem = 9
Trigger2 = animelem = 10
Trigger3 = animelem = 11
Trigger4 = animelem = 12
Trigger5 = animelem = 13
Trigger6 = animelem = 14
Trigger7 = animelem = 15
Trigger8 = animelem = 16
value = 255,255,255
time = 1
ignorehitpause = 1
;persistent = 0
under = -1

[State 800, 1]
type = HitDef
Trigger1 = animelem = 9
Trigger2 = animelem = 10
Trigger3 = animelem = 11
Trigger4 = animelem = 12
Trigger5 = animelem = 13
Trigger6 = animelem = 14
Trigger7 = animelem = 15
Trigger8 = animelem = 16
pausetime = 13,13
damage = 20,10
getpower = 0,0
guard.pausetime = 12,15
attr = S, HA
hitflag = MAFD
hitsound = S0,61
guardsound = S0,10
sparkno = S503
guard.sparkno = S507
sparkxy = -10,-60
guardflag = M
animtype  = hard
ground.type = High
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -5
guard.velocity = -12
air.velocity = -3,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
priority = 4, Miss
sprpriority = 2
guardsound = S0,10
sprpriority = 4
palfx.time = 39
palfx.add = 80,-44,-124
palfx.sinadd = 30,30,0,10
palfx.color = 0
palfx.invertall = 1
air.fall = 1
fall.recover = 0

[State 107, 2]
type = explod
trigger1 = animelem = 9
anim = 2227
ID = 2227
postype = p1
pos = 60,-54
removetime = 9999
bindtime = -1
ownpal = 1
sprpriority = 4
ignorehitpause = 1
removeongethit = 1

[State 107, 2]
type = explod
trigger1 = movehit
anim = 2217
postype = p2
pos = 0,-50
random = 60,70
ownpal = 1
sprpriority = 5

[State 107, 2]
type = explod
trigger1 = movehit
anim = 2218
postype = p2
pos = 0,-50
random = 60,70
ownpal = 1
sprpriority = 5

[State 240, 4]
type = ChangeState
trigger1 = animTime = 0
value = 2302

[Statedef 2302];終了
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2224
sprpriority = 2
juggle = 0

[State 170, 1]
type = null;NotHitBy
trigger1 = time = 0
value = SCA,AA,AP,AT
time = 15

[State 107, 2]
type = removeexplod
trigger1 = animelem = 2
ID = 2227

[State 107, 2]
type = explod
trigger1 = animelem = 4
anim = 2228
postype = p1
pos = 65,-70
ownpal = 1
sprpriority = 5
ignorehitpause = 1

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = 1
;mul = 200,200,200
time = 2
add = -100,-100,-100
color = 0
invertall = 1
ignorehitpause = 1

[State 191, 1]
type = envcolor
triggerall = movehit
Trigger1 = animelem = 4, = 1
Trigger2 = animelem = 4, = 2
Trigger3 = animelem = 5, = 1
Trigger4 = animelem = 5, = 2
value = 255,255,255
time = 1
ignorehitpause = 1
under = -1

[state 2]
type = Posadd
trigger1 = time = 0
x = 10

[state 2]
type = PalFX
trigger1 = 1
time = 2
sinadd = 48,50,32,16
add = 220,100,0
ignorehitpause = 1

[State 4100,1]
type = Helper
trigger1 = time = 20
ID = 2222
name = "hinoko"
sprpriority = 5
pos = 0,0
postype = back
stateno = 2303
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 4100,1]
type = Helper
trigger1 = movehit
trigger1 = numhelper(2304) = 0
ID = 2304
name = "hinoko"
sprpriority = 5
pos = 0,0
postype = back
stateno = 2304
helpertype = normal
keyctrl = 0
ignorehitpause = 1
ownpal = 1

[State 107, 2]
type = explod
trigger1 = movehit
trigger1 = time <= 20
anim = 2225
postype = p2
pos = 0,-50
random = 60,100
ownpal = 1
sprpriority = 5
ignorehitpause = 1

[State 3110, 8]
type = Pause
trigger1 = MoveHit
trigger1 = (GameTime%3) =1
trigger1 = time <= 60
trigger1 = p2life != 0
time = 1
movetime = 0

[State 107, 2]
type = playsnd
Trigger1 = animelem = 2
value = S0,61

[State 800, 1]
type = HitDef
Trigger1 = animelem = 5
Trigger2 = animelem = 6
pausetime = 5,5
damage = 90,20
guard.pausetime = 6,6
attr = S, HA
getpower = 0,0
hitflag = MAFD
sparkno = S503
guard.sparkno = S507
sparkxy = -10,-60
guardflag = M
hitsound = S0,61
guardsound = S0,10
animtype = DiagUp
ground.type = High
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -5,-7.5
guard.velocity = -12
air.velocity = -4,-7
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -12
priority = 4, Miss
guardsound = S0,10
sprpriority = 2
fall = 1
fall.recover = 0
palfx.time = 50
palfx.add = 80,-44,-124
palfx.sinadd = 30,30,0,10
palfx.color = 0
palfx.invertall = 1

[State 240, 4]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

[Statedef 2303];火の粉ヘルパー相手ダウン
type    = S
velset = 0,0
anim = 2016

[State 107, 2]
type = explod
triggerall = time % 12 = 0
trigger1 = p2stateno = 5110
trigger2 = p2stateno = 5101
triggerall = 1
anim = 2217
postype = p2
pos = 0,-40
random = 80,80
ownpal = 1
sprpriority = 4

[State 820, 1]
type = destroyself
trigger1 = p2statetype = S

[Statedef 2304];火
type    = S
velset = 0,0
anim = 2016

[State 107, 2]
type = explod
trigger1 = time % 10 = 0
trigger1 = 1
anim = 2218
postype = p2
pos = 0,-40
random = 80,80
ownpal = 1
sprpriority = 4

[State 820, 1]
type = destroyself
trigger1 = time = 24

;----------------------------------------------------------
;--------------------------------------------------------
;--------------------------------------------------------
;2プラトン
[Statedef 2400]
type    = S
movetype= A
physics = S
poweradd = -2000
ctrl = 0
velset = 0,0
anim = 2204
sprpriority = 2

[State 3000, 1]
type = PalFX
trigger1 = Time < 16 && Time % 2
trigger1 = prevstateno = [1000,1062]
time = 1
add = 255,255,255
ignorehitpause = 1

[State 170, 1]
type = notHitBy
trigger1 = time = 0
trigger1 = var(58) = 1
value = SCA, AP,AA,AT
time = 45
ignorehitpause = 1

[State 240, 4]
type = envcolor
trigger1 = Time = 1
time = 2
value = 255,255,255
under = -1

[State 3100,AssertSpecial]
type = AssertSpecial
trigger1 = Time = [3,30]
flag = NoFG
flag2 = NoBG
ignorehitpause = 1

[state 190]
type = superpause
trigger1 = time = 1
time = 30
movetime = 30
anim = -1
darken = 0
unhittable = 1
sound = S0,39

[State 240, 4]
type = Explod
trigger1 = time = 1
anim =13002
postype = p1
pos = 0,-90
sprpriority = -1
supermove = 1
ownpal = 1

[State 240, 4]
type = Explod
trigger1 = time = 10
anim = 13502
postype = p1
pos = 0,-90
sprpriority = 5
supermove = 1
ownpal = 1

[State 800, 1]
type = HitDef
triggerall = enemynear,stateno != [120,153]
Trigger1 = animelem = 1
animtype  = Up
attr = S, HT
hitflag = M
guardflag = N
priority = 1, Miss
sparkno = -1
numhits = 0
sprpriority = 1
p2facing = 1
p1stateno = 2401
p2stateno = 2202
guard.dist = 0

[State 3005, 1]
type = BGPalFX
trigger1 = Time >= 25
time = 20
invertall = 1
ignorehitpause = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------
[Statedef 2401]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2400
sprpriority = 2

[State 3100,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoFG
flag2 = NoBG
ignorehitpause = 1

[State 701, 1]
type = velset
trigger1 = frontedgedist <= 160
trigger1 = AnimElem = 1, >= 0
x = -4

[State 701, 1]
type = velset
trigger1 = backedgedist <= 70
trigger1 = AnimElem = 1, >= 0
x = 4

[State aaa]
type = TargetBind
trigger1 = 1
pos = 40, 0

[State 240, 4]
type = Explod
trigger1 = AnimElem = 4
anim = 511
postype = p1
pos = 45,-78
sprpriority = 4

[State 701, 1]
type = playsnd
trigger1 = animelem = 4
value = S0,12

[State 240, 4]
type = null;envcolor
trigger1 = 1
time = 2
value = 0,0,0
under = -1
ignorehitpause = 1

[state 190]
type = superpause
trigger1 = time = 1
time = 30
movetime = 30
anim = -1
darken = 0
unhittable = 1
sound = S0,39

[State 240, 4]
type = Explod
trigger1 = time = 1
anim = 512
postype = p1
pos = 0,-90
sprpriority = -1
supermove = 1
ownpal = 1

[State 240, 4]
type = Explod
trigger1 = time = 10
anim = 513
postype = p1
pos = 0,-90
sprpriority = 5
supermove = 1
ownpal = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 2402

[Statedef 2402];
type = S
movetype = I
physics = S
anim = 910
velset = 0,0
ctrl = 0
sprpriority = 1
poweradd = 0

[State 3100,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoFG
flag2 = NoBG
ignorehitpause = 1

[State 240, 4]
type = null;envcolor
trigger1 = 1
time = 2
value = 0,0,0
under = -1
ignorehitpause = 1

[State 4100,1]
type = Helper
trigger1 = time = 0
name = "krizalid"
postype = p2
pos = -120,-150
sprpriority = 2
stateno = 2410
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1

[State 820, 1]
type = notHitBy
trigger1 = 1
value = SCA, AA, AP,AT
time = 2

[State 840, 2]
type = afterimage
trigger1 = animelem = 1
time = 10
length = 8
PalBright   =   0,  0,  0
PalContrast = 255,255,255
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
FrameGap = 2
ignorehitpause = 1

[State 840, 1]
type = Velset
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
trigger4 = animelem = 6
x = -4

[State 840, 1]
type = Velset
trigger1 = animtime = 0
x = 0

[State 840, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 2403

[Statedef 2403]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2401
sprpriority = 2

[State 3100,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoFG
flag2 = NoBG
ignorehitpause = 1

[State 240, 4]
type = null;envcolor
trigger1 = 1
time = 2
value = 0,0,0
under = -1
ignorehitpause = 1

[State 840, 5]
type = targetState
trigger1 = Time = 0
value = 2420

[State 840, 5]
type = targetState
trigger1 = Time = 160
value = 2421

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 4
trigger3 = AnimElem = 8
trigger4 = AnimElem = 12
trigger5 = AnimElem = 16
trigger6 = AnimElem = 20
trigger7 = AnimElem = 24
trigger8 = AnimElem = 28
trigger9 = AnimElem = 32
trigger10 = AnimElem = 36
;trigger11 = AnimElem = 36
value = S0,45
;channel = 2

[State 3110, 8]
type = hitadd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 4
trigger3 = AnimElem = 8
trigger4 = AnimElem = 12
trigger5 = AnimElem = 16
trigger6 = AnimElem = 20
trigger7 = AnimElem = 24
trigger8 = AnimElem = 28
trigger9 = AnimElem = 32
trigger10 = AnimElem = 36
value = 1

[State 240, 4]
type = envcolor
trigger1 = AnimElem = 1
trigger2 = AnimElem = 4
trigger3 = AnimElem = 8
trigger4 = AnimElem = 12
trigger5 = AnimElem = 16
trigger6 = AnimElem = 20
trigger7 = AnimElem = 24
trigger8 = AnimElem = 28
trigger9 = AnimElem = 32
trigger10 = AnimElem = 36
time = 1
value = 250,250,250
under = -1
ignorehitpause = 1

[State 3110, 8]
type = targetlifeadd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 4
trigger3 = AnimElem = 8
trigger4 = AnimElem = 12
trigger5 = AnimElem = 16
trigger6 = AnimElem = 20
trigger7 = AnimElem = 24
trigger8 = AnimElem = 28
trigger9 = AnimElem = 32
trigger10 = AnimElem = 36
value = -14
kill = 0

[State 240, 4]
type = null;Explod
trigger1 = time = 0
anim = 2201
postype = p2
pos = -120,-2
sprpriority = 4
removetime = 200

[State 240, 4]
type = null;envcolor
trigger1 = 1
time = 2
value = 0,0,0
under = -1
ignorehitpause = 1

[State 840, 5]
type = ChangeState
trigger1 = Time = 160
value = 2404

[Statedef 2404];鎖
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 0;1060
sprpriority = 2

[State 3100,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoFG
flag2 = NoBG
ignorehitpause = 1

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 240, 4]
type = null;envcolor
trigger1 = 1
time = 2
value = 0,0,0
under = -1
ignorehitpause = 1

[State 3110, 8]
type = targetlifeadd
trigger1 = time = 46
value = -50
kill = 0

[State 3110, 8]
type = targetlifeadd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 9
trigger3 = AnimElem = 10
value = -5
kill = 0

[State 3110, 8]
type = hitadd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 10
value = 1

[State 3110, 8]
type = playsnd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 10
value = S0,55

[State 240, 4]
type = Explod
triggerall = anim = 1060
trigger1 = AnimElem = 9
trigger2 = AnimElem = 10
anim = 509
postype = p2
pos = -10,-58
sprpriority = 4

[State 240, 4]
type = Explod
triggerall = anim = 1060
trigger1 = AnimElem = 9
trigger2 = AnimElem = 10
anim = 510
postype = p2
pos = -10,-58
sprpriority = 4

[State 840, 5]
type = targetState
trigger1 = Time = 46
value = 2422

[State 240, 4]
type = Changeanim
trigger1 = Time = 50
value = 1060

[State 240, 4]
type = ChangeState
trigger1 = animTime = 0
trigger1 = anim = 1060
value = 2405

[Statedef 2405];空中
type    = A
movetype= A
physics = N
poweradd = 0
ctrl = 0
velset = .01,-7
anim = 1061
sprpriority = 2

[State 3100,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoFG
flag2 = NoBG
ignorehitpause = 1

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 240, 4]
type = null;envcolor
trigger1 = 1
time = 2
value = 0,0,0
under = -1
ignorehitpause = 1

[State 3110, 8]
type = playsnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
value = S0,55

[State 3110, 8]
type = playsnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
value = S0,14

[State 3110, 8]
type = targetlifeadd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
value = -5
kill = 0

[State 3110, 8]
type = hitadd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
value = 1

[State 240, 4]
type = Explod
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
anim = 509
postype = p2
pos = -10,-58
sprpriority = 4

[State 240, 4]
type = Explod
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
anim = 510
postype = p2
pos = -10,-58
sprpriority = 4

[State 821, 1]
type = VelAdd
Trigger1 = time > 5
y = .5

[State 821, 4]
type = changeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 2406

[Statedef 2406];地上
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2406
sprpriority = 2

[State 3100,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoFG
flag2 = NoBG
ignorehitpause = 1

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 240, 4]
type = null;envcolor
trigger1 = 1
time = 2
value = 0,0,0
under = -1
ignorehitpause = 1

[State 3110, 8]
type = hitadd
trigger1 = AnimElem = 3
value = 1

[State 191, 1]
type = playsnd
trigger1 = time = 0
value = S0,16

[State 191, 1]
type = playsnd
trigger1 = AnimElem = 3,= 0
value = S0,12

[State 191, 1]
type = playsnd
trigger1 = p2stateno = 5100 || p2stateno = 5101
value = S0,13
persistent = 0

[State 191, 1]
type = explod
trigger1 = p2stateno = 5100 || p2stateno = 5101
;trigger1 = Vel Y > 0
;trigger1 = Pos Y >= 0
anim = 515
postype = p1
pos = floor(p2dist x),0
sprpriority = 4
persistent = 0

[State 191, 1]
type = explod
trigger1 = p2stateno = 5100 || p2stateno = 5101
;trigger1 = Vel Y > 0
;trigger1 = Pos Y >= 0
anim = 516
postype = p1
pos = floor(p2dist x),0
sprpriority = -2
persistent = 0

[State 821, 1]
type = posset
Trigger1 = time = 0
y = 0

[State 840, 5]
type = targetState
trigger1 = AnimElem = 3,= 0
value = 2423

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 3,= 0
pos = 108,-120
time = 4

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 4,= 0
pos = 138,-172
time = 4

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 5,= 0
pos = 75,-172
time = 4

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 6,= 0
pos = 29,-168
time = 4

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 7,= 0
pos = -15,-158
time = 4

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 8,= 0
pos = -55,-125
time = 4

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 2420];相手
type    = S
movetype= H
physics = S
poweradd = 0
ctrl = 0
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2404

[Statedef 2421];相手気絶
type    = S
movetype= H
physics = S
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 810]
type = hitfallset
trigger1 = time = 0
value = 0

[State 820, 1]
type = ChangeAnim
trigger1 = AnimExist(5300)
trigger1 = time = 0
value = 5300

[State 820, 1]
type = ChangeAnim2
trigger1 = !AnimExist(5300)
trigger1 = time = 0
value = 2014

[Statedef 2422];回転吹っ飛び
type    = A
movetype= H
physics = N
velset = 0,0

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 9020, 1]
type = ChangeAnim2
trigger1 = Time  = 0
value = 2212

[State 9020, 1]
type = velset
trigger1 = Time = 0
y = -8

[State 9020, 1]
type = veladd
trigger1 = Time > 3
y = .2

[State 9020, 1]
type = lifeadd
trigger1 = Pos Y >= 0 && Vel Y > 0
value = -160

[State 9020, 3]
type = SelfState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 5100

[Statedef 2423];吊られ
type    = A
movetype= H
physics = N
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 9000, 1]
type = ScreenBound
trigger1 = time <= 20
movecamera = 1,0

[State 9020, 1]
type = ChangeAnim2
trigger1 = Time  = 0
value = 2405

[State 5050, 1]
type = ChangeAnim
trigger1 = time = 20
trigger1 = AnimExist(5101)
value = 5101

[State 5050, 1]
type = ChangeAnim
trigger1 = time = 20
trigger1 = selfAnimExist(5171) && !selfAnimExist(5101)
value = 5171

[State 5050, 1]
type = ChangeAnim
trigger1 = time = 20
trigger1 = selfAnimExist(5172) && !selfAnimExist(5101) && !selfAnimExist(5171)
value = 5172

[State 9020, 1]
type = velset
trigger1 = 1
x = 6
y = 8

[State 3110, 8]
type = lifeadd
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = -50
persistent = 0

[State 5050, 6]
type = selfState
trigger1 = !selfAnimExist(5172) && !selfAnimExist(5101) && !selfAnimExist(5171)
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

[State 5050, 6]
type = selfState
trigger1 = selfAnimExist(5172) ||  selfAnimExist(5101) ||  selfAnimExist(5171)
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5101

[Statedef 2410];クリザリッド
type    = A
movetype= I
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2402
sprpriority = 2

[State 821, 1]
type = VelAdd
Trigger1 = time > 0
y = .6

[State 106, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 2411

[Statedef 2411];クリザリッド着地
type    = A
movetype= I
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2403
sprpriority = 2

[State 191, 1]
type = playsnd
trigger1 = time = 0
value = S0,16

[State 821, 1]
type = posset
Trigger1 = time = 0
y = 0

[State 106, 3]
type = ChangeState
trigger1 = parent,stateno = 2403
value = 2412

[Statedef 2412];クリザリッド連打
type    = A
movetype= I
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2201
sprpriority = 2

[State 191, 1]
type = varrandom
trigger1 = 1
v = 4
range = 502,503

[State 191, 1]
type = playsnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 7
trigger3 = AnimElem = 22
value = S0,7

[State 191, 1]
type = playsnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 10
trigger3 = AnimElem = 18
trigger4 = AnimElem = 28
value = S0,6

[State 191, 1]
type = playsnd
trigger1 = AnimElem = 6
trigger2 = AnimElem = 13
trigger3 = AnimElem = 25
value = S0,9

[State 821, 4]
type = hitadd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 7
trigger3 = AnimElem = 22
trigger4 = AnimElem = 4
trigger5 = AnimElem = 10
trigger6 = AnimElem = 18
trigger7 = AnimElem = 28
trigger8 = AnimElem = 6
trigger9 = AnimElem = 13
trigger10 = AnimElem = 25
value = 1

[State 240, 4]
type = Explod
trigger1 = AnimElem = 2
trigger2 = AnimElem = 7
trigger3 = AnimElem = 22
anim = var(4)
postype = p1
pos = 110,-28
random = 30,0
sprpriority = 4

[State 240, 4]
type = Explod
trigger1 = AnimElem = 4
trigger2 = AnimElem = 10
trigger3 = AnimElem = 18
trigger4 = AnimElem = 28
anim = var(4)
postype = p1
pos = 110,-68
random = 30,0
sprpriority = 4

[State 240, 4]
type = Explod
trigger1 = AnimElem = 6
trigger2 = AnimElem = 13
trigger3 = AnimElem = 25
anim = var(4)
postype = p1
pos = 110,-98
random = 30,0
sprpriority = 4

[State 106, 3]
type = changestate
trigger1 = parent,stateno != 2403
value = 2413

[Statedef 2413];トドメ
type    = S
physics = N
movetype = I
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2202
sprpriority = 4

[State 3100,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoFG
flag2 = NoBG
ignorehitpause = 1

[State 107, 2]
type = playsnd
trigger1 = animelem = 1
value = S0,62

[State 107, 2]
type = playsnd
trigger1 = animelem = 12
value = S0,17

[State 821, 4]
type = hitadd
trigger1 = AnimElem = 12
value = 1

[State 820, 2]
type = Pause
trigger1 = AnimElem = 12
time = 30
movetime = 30

[State 240, 4]
type = null;envcolor
;trigger1 = AnimElem = 12, >= 4
trigger1 = 1
time = 2
value = 0,0,0
under = -1
ignorehitpause = 1

[State 240, 4]
type = envcolor
trigger1 = AnimElem = 12
time = 4
value = 250,0,0
under = -1
ignorehitpause = 1

[State 240, 4]
type = Explod
trigger1 = AnimElem = 12
anim = 503
postype = p1
pos = 95,-60
sprpriority = 8
pausemovetime = 9999

[State 240, 4]
type = Explod
trigger1 = AnimElem = 11
anim = 2211
postype = p1
pos = 0,0
sprpriority = 5

[State 240, 4]
type = envshake
trigger1 = AnimElem = 12
time = 25

[State 1051, 2]
type = ChangeState
trigger1 = animtime = 0
value = 2222

;--------------------------------------------------------
;--------------------------------------------------------
;--------------------------------------------------------
;--------------------------------------------------------
[Statedef 2500];自爆
type    = S
movetype= A
physics = S
poweradd = -2000
ctrl = 0
velset = 0,0
anim = 2500
sprpriority = 2

[State 3000, 1]
type = PalFX
trigger1 = Time < 16 && Time % 2
trigger1 = prevstateno = [1000,1062]
time = 1
add = 255,255,255
ignorehitpause = 1

[State 240, 4]
type = envcolor
trigger1 = Time = 0
time = 2
value = 255,255,255
under = -1

[State 3100,AssertSpecial]
type = AssertSpecial
trigger1 = Time = [3,25]
flag = NoFG
flag2 = NoBG
ignorehitpause = 1

[state 190]
type = superpause
trigger1 = time = 0
time = 25
movetime = 25
anim = -1
darken = 0
unhittable = 1
sound = S0,39

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 1
value = S0,37
channel = 0

[State 240, 4]
type = Explod
trigger1 = time = 0
anim =13002
postype = p1
pos = 0,-90
sprpriority = -1
supermove = 1
ownpal = 1

[State 240, 4]
type = Explod
trigger1 = time = 10
anim = 13502
postype = p1
pos = 0,-90
sprpriority = 5
supermove = 1
ownpal = 1

[State bg]
type = BGPalFX
trigger1 = time >= 25
time = 2
add = -100,-100,-100
color = 0
invertall = 1

[State 170, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA,AA,AP,AT
time = 33

[State 240, 4]
type = ChangeState
trigger1 = animTime = 0
value = 2501

[Statedef 2501];突進
type    = S
movetype= A
physics = N
poweradd = 0
ctrl = 0
velset = 6,0
anim = 2001
sprpriority = 2
juggle = 10

[State 170, 1]
type = notHitBy
trigger1 = time = 0
trigger1 = var(58) = 1
value = SCA, AP,AA,AT
time = 6
ignorehitpause = 1

[State 701, 1]
type = null;Width
trigger1 = 1
player = 60,0

[State 840,0]
type = PlayerPush
trigger1 = 1
value = 1

[State bg]
type = BGPalFX
trigger1 = 1
time = 2
add = -100,-100,-100
color = 0
invertall = 1

[State 840,0]
type = PlayerPush
trigger1 = 1
value = 0

[State 240, 4]
type = Explod
trigger1 = time = 0
anim = 2408
ID = 2408
postype = p1
pos = 67,-67
removetime = -1
bindtime = -1
sprpriority = -1
supermove = 1
ownpal = 1
removeongethit = 1

[State 800, 1]
type = HitDef
Trigger1 = 1
trigger1 = p2life > 0
pausetime = 0,0
damage = 0,0
guard.pausetime = 0,0
attr = S, HA
hitflag = MAF
sparkno = S502
guard.sparkno = S507
sparkxy = -10,-60
guardflag = M
priority = 4, Miss
hitsound = S0,55
guardsound = S0,10
sparkno = -1
sprpriority = 4
p2facing = 1
;p1stateno = 2503
;p2stateno = 2010

[State 240, 4]
type = ChangeState
trigger1 = movehit
value = 2503

[State 106, 1]
type = hitoverride
trigger1 = 1
time = 2
attr = SCA,AA,AP,AT
stateno = 2508
ignorehitpause = 1

[State 240, 4]
type = ChangeState
;trigger1 = Time = 30
trigger1 = moveguarded = 1
trigger2 = FrontEdgeBodyDist < 30
value = 2508

[Statedef 2503];ヒット
type    = S
movetype= A
physics = N
poweradd = 0
ctrl = 0
velset = 6,0
anim = 2001
sprpriority = 2

[State 240, 4]
type = targetState
trigger1 = time = 0
value = 2010

[State 240, 4]
type = Explod
trigger1 = animelem = 2
anim = 2407
postype = p1
pos = 70,0
sprpriority = 5
supermove = 1
ownpal = 1

[State 240, 4]
type = null;Explod
trigger1 = time = 0
anim = 2408
ID = 2408
postype = p1
pos = 67,-67
removetime = 999
bindtime = 9999
sprpriority = -1
supermove = 1
ownpal = 1

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA,AA,AP,AT
time = 2

[State bg]
type = BGPalFX
trigger1 = 1
time = 2
add = -100,-100,-100
color = 0
invertall = 1

[State 840,0]
type = PlayerPush
trigger1 = 1
value = 0

[State 810, Bind 1]
type = TargetBind
trigger1 = 1
pos = 75, 0
postype = p1
time = 2

[State 240, 4]
type = removeExplod
trigger1 = FrontEdgeBodyDist < 93
ID = 2408

[State 240, 4]
type = ChangeState
trigger1 = FrontEdgeBodyDist < 93
value = 2504

[Statedef 2504];壁際
type    = S
movetype= A
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2501
sprpriority = 2

[State 240, 4]
type = removeExplod
trigger1 = time = 0
ID = 2408

[State 701, 1]
type = Width
trigger1 = 1
edge = 93,0

[State bg]
type = BGPalFX
trigger1 = 1
time = 2
add = -100,-100,-100
color = 0
invertall = 1

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 3
value = S0,17

[State 810, Bind 1]
type = Targetstate
trigger1 = time = 0
value = 2011

[State 240, 4]
type = envshake
trigger1 = AnimElem = 3
time = 30
ampl = -30
freq = 100

[State 240, 4]
type = ChangeState
trigger1 = animTime = 0
value = 2505

[Statedef 2505];ボロボロ
type    = S
movetype= I
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2008
sprpriority = 2

[State 821, 4]
type = playsnd
trigger1 = AnimElem = 1
value = S0,18

[State bg]
type = BGPalFX
trigger1 = 1
time = 2
add = -100,-100,-100
color = 0
invertall = 1

[State 810, Bind 1]
type = Targetstate
trigger1 = time = 0
value = 2014

[State 820, 1]
type = posadd
Trigger1 = animelem = 6
x = -14

[State 240, 4]
type = ChangeState
trigger1 = Time = 170
value = 2506

[Statedef 2506];止まる
type    = S
movetype= I
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2502
sprpriority = 2

[State 240, 4]
type = envshake
trigger1 = time = 30
time = 260

[State 240, 4]
type = Explod
trigger1 = time = 150
anim = 2235
ID = 2235
postype = p2
pos = 200,-200
facing = -1
scale = 1.2,1.2
vel = -1,1
sprpriority = -1

[State 821, 4]
type = playsnd
trigger1 = time = 150
value = S0,36

[State 240, 4]
type = RemoveExplod
trigger1 = time = 290
ID = 2235

[State 821, 4]
type = playsnd
trigger1 = time = 280
trigger2 = time = 282
trigger3 = time = 286
trigger4 = time = 290
value = S0,59

[State 240, 4]
type = Explod
trigger1 = time = 280
trigger2 = time = 282
trigger3 = time = 286
trigger4 = time = 290
anim = 2216
postype = p1
pos = 60,-20
random = 80,80
pausemovetime = 9999
ownpal = 1
ignorehitpause = 1
supermove = 1
sprpriority = 6

[State 240, 4]
type = Explod
trigger1 = time = 280
trigger2 = time = 282
trigger3 = time = 286
trigger4 = time = 290
anim = 2216
postype = p1
facing = -1
pos = 60,-20
random = 80,80
pausemovetime = 9999
ownpal = 1
ignorehitpause = 1
supermove = 1
sprpriority = 6

[State 3110, 8]
type = null;Pause
trigger1 = time = 290
time = 20
movetime = 0

[State 820, 1]
type = palfx
trigger1 = time = 290
time = 40
add = 80,-44,-124
sinadd = 30,30,0,10
color = 0
invertall = 1
ignorehitpause = 1

[State 191, 1]
type = envcolor
trigger1 = time = 290
trigger2 = time = 292
trigger3 = time = 294
value = 255,0,0
time = 1
persistent = 0
ignorehitpause = 1

[State 240, 4]
type = envshake
trigger1 = Time = 290
time = 10
ampl = -50
freq = 100
ignorehitpause = 1

[State bg]
type = BGPalFX
trigger1 = 1
time = 2
add = -100,-100,-100
color = 0
invertall = 1
ignorehitpause = 1

[State 240, 4]
type = ChangeState
trigger1 = Time = 290
value = 2508

[State 191, 1]
type = targetstate
trigger1 = time = 289
value = 2507

[Statedef 2507];相手吹っ飛ぶ
type    = A
movetype = H
physics = N
velset = -2,-5
sprpriority = -1

[State 191, 1]
type = varrandom
trigger1 = time = 0
v = 4
range = 1,100

[State 191, 1]
type = lifeset
trigger1 = time = 0
trigger1 = var(4) = [1,99]
value = 0

[State 191, 1]
type = lifeset
trigger1 = time = 0
trigger1 = var(4) = 100
value = 1

[State 820, 1]
type = palfx
trigger1 = 1
time = 4
add = 80,-44,-124
sinadd = 30,30,0,10
color = 0
invertall = 1
ignorehitpause = 1

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 821, 1]
type = VelAdd
Trigger1 = time = [0,79]
y = .08

[State 821, 1]
type = VelAdd
Trigger1 = time >= 80
y = .4

[State 821, 4]
type = changeanim
trigger1 = time = 0
trigger1 = selfAnimExist(5052)
value = 5052

[State 821, 4]
type = changeanim2
trigger1 = time = 0
trigger1 = !selfAnimExist(5052)
value = 2233

[State 821, 4]
type = changeanim
trigger1 = time = 80
trigger1 = selfAnimExist(5062)
value = 5062

[State 821, 4]
type = changeanim2
trigger1 = time = 80
trigger1 = !selfAnimExist(5062)
value = 2234

[State 5050, 6]
type = selfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
trigger1 = time >= 25
value = 5100

[Statedef 2508];自分吹っ飛ぶ
type    = A
movetype = H
physics = N
velset = -2,-5
sprpriority = -1
anim = 5052

[State 821, 4]
type = playsnd
trigger1 = time = 0
value = S0,59

[State 240, 4]
type = envshake
trigger1 = Time = 0
time = 10
ampl = -50
freq = 100
ignorehitpause = 1

[State 240, 4]
type = removeExplod
trigger1 = time = 0
ID = 2408

[State 2, 1]
type = varset
trigger1 = time = 0
ignorehitpause = 1
var(22) = 130

[State 2, 1]
type = BGPalfx
trigger1 = time >= 0
ignorehitpause = 1
time = 50000
add = var(22),-50,-50
sprpriority = 5

[State 2, 1]
type = varadd
trigger1 = 1
ignorehitpause = 1
var(22) = 40

[State 240, 4]
type = Explod
trigger1 = time = 0
anim = 2216
postype = p1
facing = -1
pos = 30,-50
pausemovetime = 9999
ownpal = 1
ignorehitpause = 1
supermove = 1
sprpriority = 6

[State 191, 1]
type = varrandom
trigger1 = time = 0
v = 4
range = 1,100

[State 191, 1]
type = lifeset
trigger1 = time = 0
trigger1 = var(4) = [1,99]
value = 0

[State 191, 1]
type = lifeset
trigger1 = time = 0
trigger1 = var(4) = 100
value = 1

[State 820, 1]
type = palfx
trigger1 = 1
time = 4
add = 80,-44,-124
sinadd = 30,30,0,10
color = 0
invertall = 1
ignorehitpause = 1

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 821, 1]
type = VelAdd
Trigger1 = time = [0,79]
y = .08

[State 821, 1]
type = VelAdd
Trigger1 = time >= 80
y = .4

[State 821, 4]
type = changeanim
trigger1 = time = 80
value = 5062

[State 5050, 6]
type = selfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
trigger1 = time >= 25
value = 5100


;---------------------------------------------------------------
;---------------------------------------------------------------
[Statedef 10000];フラッシュ
type    = S
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2510
sprpriority = -1

[State 820, 2]
type = null;Pause
trigger1 = Time = 0
time = 30
movetime = 0

[State 191, 1]
type = envcolor
triggerall = Time % 2 = 0
trigger1 = time <= 30
value = 255,0,0
time = 1
ignorehitpause = 1
pausemove = 1
pausemovetime = 9999
under = -1

[Statedef 10001];音ヘルパー
type    = S
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2510
sprpriority = -1

[State 191, 1]
type = playsnd
trigger1 = p2life = 0
value = S0,67
persistent = 0
volume = 255
ignorehitpause = 1

[State 191, 1]
type = playsnd
trigger1 = p2life = 0
value = S0,67
persistent = 0
volume = 255
ignorehitpause = 1

[State 191, 1]
type = playsnd
trigger1 = p2life = 0
value = S0,67
persistent = 0
volume = 255
ignorehitpause = 1

[State 191, 1]
type = playsnd
trigger1 = p2life = 0
value = S0,67
persistent = 0
volume = 255
ignorehitpause = 1

[State 191, 1]
type = null;destroyself
trigger1 = p2life != 0
trigger1 = parent,animtime = 0
trigger1 = numproj = 0
;trigger2 = movetype != A

;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------
[Statedef 1895]
type    = L
movetype= H
physics = N
juggle  = 0
anim = 5110
ctrl = 0
sprpriority = 2

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, 1] 
type = ChangeAnim
persistent = 0
trigger1 = var(57) = 1
value = 5111

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5110, 7]
type = GameMakeAnim
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 5110, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

[State 5110, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = AnimTime = 0
value = 5150

[State 5110, 11] ;If just died
type = ChangeState
triggerall = alive
trigger1 = Time = 35
value = 5120

; ジャンプ
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0
velset = 0,0
sprpriority = 1

[State 40]
type = VarSet
trigger1 = Time = 0
sysvar(2) = command = "Hjump" || prevstateno = [100,102]

[State 40]
type = VarSet
trigger1 = Time = 0
sysvar(1) = command = "holdfwd" - command = "holdback"

[State 40, VarSet]
type = VarSet
trigger1 = Time = 0
sysvar(3) = 0

; 普通
[State 40]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1) = 0,0,ifelse(sysvar(1) = 1,const(velocity.jump.fwd.x),const(velocity.jump.back.x)))
y = const(velocity.jump.y)

; 大
[State 40]
type = VelSet
trigger1 = AnimTime = 0 && sysvar(2) && !sysvar(3)
x = ifelse(sysvar(1) = 0,0,ifelse(sysvar(1) = 1,4.1,-3.1))
y = -8.6

[State 40, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;-----------------------------
[Statedef 50]
type    = A
physics = A

[State 1020, 1]
type = PlaySnd
trigger1 = Time = 0 && sysvar(2) && !sysvar(3)
value = S0,66

[State 1020, 1]
type = PlaySnd
trigger1 = Time = 0 && !sysvar(2) && !sysvar(3)
value = S0,65

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50]
type = ChangeAnim
trigger1 = Time = 0 && sysvar(2) && !sysvar(3)
value = 41 + (vel x > 0) + (vel x < 0) * 2

[State 50, AfterImage]
type = AfterImage
trigger1 = Time = 0 && sysvar(2) && !sysvar(3); && vel x
time = 15
length = 9
framegap = 4
trans = add1
palcontrast = 100,100,100
;paladd = 0,0,0
palmul = 1,1,1

[State 50]
type = ChangeAnim
trigger1 = Time = 0
value = 41 + (vel x > 0) + (vel x < 0) * 2

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------

[Statedef -2]

[State 191, 1]
type = stopsnd
trigger1 = stateno != [191,192]
channel = 2

[State -3, 3];
type = null;PlaySnd
trigger1 = stateno = 150
trigger2 = stateno = 152
;trigger2 = anim = 150
;trigger3 = anim = 152
;trigger4 = anim = 154
triggerall = time = 0
value = S0,19
persistent = 0
ignorehitpause = 1
volume = -100

[State 0, 1]
type = ChangeAnim
triggerall = var(58) = 1
triggerall = stateno = 5900
trigger1 = Anim != 2520
value = 2520

[State -3, 3];
type = explod
triggerall = numexplod(2509) = 0
trigger1 = stateno = 150
trigger2 = stateno = 152
trigger3 = stateno = 151
trigger4 = stateno = 153
triggerall = time = 0
anim = 2509
ID = 2509
bindtime = -1
removetime = -1
postype = p1
pos = 0,0
persistent = 0
ignorehitpause = 1

[State -3, 3];
type = removeexplod
trigger1 = stateno != 150 && stateno != 152 && stateno != 151 && stateno != 153
ID = 2509

[State -3, 3];
type = PlaySnd
trigger1 = stateno = 150
trigger2 = stateno = 152
;trigger2 = anim = 150
;trigger3 = anim = 152
;trigger4 = anim = 154
triggerall = time = 0
value = S0,19
persistent = 0
ignorehitpause = 1

[State 2100]
type = Pause
triggerall = P2Life > 0
triggerall = 1
triggerall = (GameTime%4) = 1
triggerall = p2movetype = H
trigger1 = projhit1000 = 1,< 25
trigger2 = projhit1001 = 1,< 25
trigger3 = projhit1021 = 1,< 25
time = 1
movetime = 0
ignorehitpause = 1

[State -2, 4]
type = varset
trigger1 = stateno = 0
trigger2 = statetype = S
trigger1 = alive = 1
;trigger1 = 1
var(57) = 0

[State -2, 4]
type = varset
trigger1 = stateno = 5101
trigger1 = anim = 5110
trigger1 = alive = 1
var(57) = 0

[State -2, 4]
type = varset
trigger1 = stateno = 5101
trigger1 = alive = 1
trigger1 = anim = 5171 || anim = 5172  || anim = 5161 || anim = 5162
var(57) = 1

[State 1007]
type = AfterImage
trigger1 = 1
trigger1 = palno = 12
time = 20
PalMul = 53, 53, 53
length = 2
PalAdd = 0, 0, 0
;PalContrast = 255-var(2),255-var(2),255-var(2)
;PalContrast = 250-(time*10), 250-(time*10), 250-(time*10)
trans = add1
framegap = 1

[State a]
type = AssertSpecial
trigger1 = palno = 12
flag = Invisible

[State -2]
type = Helper
trigger1 = winko
trigger1 = numhelper(10000) = 0
ID = 10000
name = "winflash"
postype = back
pos = 0,0
sprpriority = 2
stateno = 10000
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1

[State -2,1]
type = Helper
trigger1 = winko
trigger1 = numhelper(10001) = 0
ID = 10001
name = "sound"
postype = back
pos = 0,0
sprpriority = 2
stateno = 10001
helpertype = normal
keyctrl = 0
persistent = 0
ignorehitpause = 1
ownpal = 1
pausemovetime = 9999

[State 191, 3]
type = stopsnd
trigger1 = movetype = H
channel = 0
ignorehitpause = 1

[State 191, 3]
type = stopsnd
trigger1 = stateno != 195
trigger2 = movetype = H
channel = 4
ignorehitpause = 1




;---------------------------------------------------------------------------


;----------------------------[2002 UM MAX2 BG]----------------------------------
[Statedef 40001]
anim = 9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG

[State 40001, Tile #1-7]
type = Explod
triggerall = !numexplod(15600)
trigger1 = !time
anim = 15600
ID = 15600
pos = 0,0
postype = left  ;p2,front,back,left,right
removetime = 10
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1
persistent = 0

[State 40001, Tile #1-7]
type = Explod
triggerall = !numexplod(15601) < 2
trigger1 = !time
trigger2 = (time%10) = 0
anim = 15600
ID = 15601
pos = 320,0
postype = left  ;p2,front,back,left,right
removetime = 20
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1

[State 40001, Tile #2-6]
type = Explod
triggerall = !numexplod(15610)
trigger1 = !time
anim = 15601
ID = 15610
pos = 0,0
postype = left  ;p2,front,back,left,right
removetime = 20
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 40001, Tile #2-6]
type = Explod
triggerall = !numexplod(15611) < 2
trigger1 = !time
trigger2 = (time%20) = 0
anim = 15601
ID = 15611
pos = 320,0
postype = left  ;p2,front,back,left,right
removetime = 40
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1

[State 40001, Tile #3-5]
type = Explod
triggerall = !numexplod(15620)
trigger1 = !time
anim = 15602
ID = 15620
pos = 0,0
postype = left  ;p2,front,back,left,right
removetime = 40
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 40001, Tile #3-5]
type = Explod
triggerall = !numexplod(15621) < 2
trigger1 = !time
trigger2 = (time%40) = 0
anim = 15602
ID = 15621
pos = 320,0
postype = left  ;p2,front,back,left,right
removetime = 80
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1

[State 40001, Tile #4]
type = Explod
triggerall = !numexplod(15630)
trigger1 = !time
anim = 15603
ID = 15630
pos = 0,0
postype = left  ;p2,front,back,left,right
removetime = 80
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 40001, Tile #3-5]
type = Explod
triggerall = !numexplod(15631) < 2
trigger1 = !time
trigger2 = (time%80) = 0
anim = 15603
ID = 15631
pos = 320,0
postype = left  ;p2,front,back,left,right
removetime = 160
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1

[State 40001, Glass Break]
type = ChangeState
trigger1 = root,stateno != 2000
trigger1 = root,stateno != 106
trigger1 = root,stateno != 107
trigger1 = root,stateno != 2001
trigger1 = root,stateno != 2002
trigger1 = root,stateno != 2003
trigger1 = root,stateno != 2004
trigger1 = root,stateno != 2005
trigger1 = root,stateno != 2006
trigger1 = root,stateno != 2007
trigger2 = root,stateno = 2007 && root,animelemtime(100) = 2
value = stateno+1

[Statedef 40002]
anim = 9999

[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15600
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15601
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15610
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15611
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15620
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15621
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15630
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15631

[State 40002, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S14001,0
volume = 1000

[State 40001, Glass Break]
type = Explod
triggerall = !numexplod(15640)
trigger1 = !time
anim = 15604
ID = 15640
pos = 0,0
postype = left  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1

[State 40001, DestroySelf]
type = DestroySelf
trigger1 = time = 1

;--------------------------[2002 UM MAX2 PORTRAIT]------------------------------
[Statedef 40003]
anim = 9999

[State 40003, VarSet]
type = VarSet
triggerall = enemy, numhelper(40003)
triggerall = !enemy, numhelper(40004)
trigger1 = enemy, authorname = "Vans"
trigger2 = enemy, authorname = "K.O.D"
trigger3 = enemy, authorname = "K.O.D & Vans"
trigger4 = enemy, authorname = "OrochiKOF97"
trigger5 = enemy, authorname = "Dark Saviour"
trigger6 = enemy, authorname = "Kung Fu Man"
trigger7 = enemy, authorname = "KoopaKoot"
trigger8 = enemy, authorname = "Anjel"
trigger9 = enemy, authorname = "Vans & Kung Fu Man"
var(0) = 1

[State 40003, VarSet]
type = VarSet
triggerall = teamside = 2
triggerall = enemy, numhelper(40004)
trigger1 = enemy, authorname = "Vans"
trigger2 = enemy, authorname = "K.O.D"
trigger3 = enemy, authorname = "K.O.D & Vans"
trigger4 = enemy, authorname = "OrochiKOF97"
trigger5 = enemy, authorname = "Dark Saviour"
trigger6 = enemy, authorname = "Kung Fu Man"
trigger7 = enemy, authorname = "KoopaKoot"
trigger8 = enemy, authorname = "Anjel"
trigger9 = enemy, authorname = "Vans & Kung Fu Man"
var(0) = 1

[State 40001, P1 BG]
type = Explod
triggerall = !numexplod(15650)
triggerall = teamside = 1
trigger1 = !time
anim = 15605
ID = 15650
pos = 0,abs((240*var(0))-81)
postype = left  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
bindtime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1

[State 40001, P2 BG]
type = Explod
triggerall = !numexplod(15651)
triggerall = teamside = 2
trigger1 = !time
anim = 15606
ID = 15651
pos = 0,abs((240*var(0))-81)
postype = right  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
bindtime = -1
scale = 1,1
facing = -1
sprpriority = -20
ownpal = 1
ignorehitpause = 1

[State 40001, P1 PORTRAIT]
type = Explod
triggerall = !numexplod(15660)
triggerall = teamside = 1
trigger1 = !time
anim = 15607
ID = 15660
pos = 0,abs((240*var(0))-81)
postype = left  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
bindtime = -1
scale = 1,1
sprpriority = -19
ownpal = 1
ignorehitpause = 1

[State 40001, P2 PORTRAIT]
type = Explod
triggerall = !numexplod(15661)
triggerall = teamside = 2
trigger1 = !time
anim = 15607
ID = 15661
pos = 0,abs((240*var(0))-81)
postype = right  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
bindtime = -1
scale = 1,1
facing = -1
sprpriority = -19
ownpal = 1
ignorehitpause = 1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 15650
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 15650
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 15650
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 15650
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 15650
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 15650
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 15650
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 15650
scale = 1,1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 15651
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 15651
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 15651
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 15651
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 15651
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 15651
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 15651
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 15651
scale = 1,1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 15660
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 15660
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 15660
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 15660
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 15660
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 15660
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 15660
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 15660
scale = 1,1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 15661
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 15661
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 15661
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 15661
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 15661
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 15661
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 15661
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 15661
scale = 1,1

[State 40001, DestroySelf]
type = DestroySelf
trigger1 = time = 60

[Statedef 40004]
anim = 9999

[State 40001, DestroySelf]
type = DestroySelf
trigger1 = time = 1

;
 ;States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]

[State -2]
Type = attackmulset
trigger1 = var(58) = 1
trigger1 = 1
Value = 1.35

[State -3]
type = varset
trigger1 = 1
trigger1 = P2statetype != C
var(11) = -150 - (-150 - floor(p2bodydist y))

[State -3]
type = varset
trigger1 = 1
trigger1 = P2statetype = S
var(11) = 0

[State -3, 3];着地
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 || stateno = 1011 || stateno = 1016
value = S0,16

[State -2]
type = AssertSpecial
trigger1 = 1
flag = NoAirGuard
ignorehitpause = 1

[State -3, 5]
type = varrandom
trigger1 = 1
v = 3
range = 1,4

[State 240, 4]
type = varadd
trigger1 = projhit1080 = 1
var(56) = 1
persistent = 0
ignorehitpause = 1

[State -3, 5];喰らい弱
type = PlaySnd
triggerall = alive = 1
trigger1 = Time = 1 && stateno = 5000 && (anim = 5000 || anim = 5010)
trigger2 = Time = 1 && stateno = 5010 && (anim = 5020)
trigger3 = Time = 1 && stateno = 5020 && (anim = 5000 || anim = 5010)
triggerall = random <= 300
value = S0,33

[State -3, 5];喰らい中
type = PlaySnd
triggerall = alive = 1
triggerall = random <= 300
trigger1 = Time = 1 && stateno = 5000 && (anim = 5001 || anim = 5011)
trigger2 = Time = 1 && stateno = 5011 && (anim = 5021)
trigger3 = Time = 1 && stateno = 5020 && (anim = 5001 || anim = 5011)
value = S0,33

[State -3, 5];喰らい強
type = PlaySnd
triggerall = alive = 1
trigger1 = Time = 1 && stateno = 5000 && (anim = 5002 || anim = 5012)
trigger2 = Time = 1 && stateno = 5010 && (anim = 5022)
trigger3 = Time = 1 && stateno = 5020 && (anim = 5002 || anim = 5012)
trigger4 = Time = 1 && stateno = 5020 && (anim = 5030 || anim = 5012)
trigger5 = Time = 1 && stateno = 5070 && (anim = 5070)
triggerall = random <= 300
value = S0,34

[State -3, 5];ふっとび
type = PlaySnd
triggerall = alive = 1
trigger1 = Time = 1 && stateno = 5020 && (anim = 5030)
trigger2 = Time = 1 && stateno = 5000 && (anim = 5030)
trigger3 = Time = 1 && stateno = 5020 && (anim = 5052 || anim = 5051)
triggerall = random <= 300
value = S0,33

[State -2, 5];ダウン
type = PlaySnd
triggerall = alive = 1
trigger1 = Time = 1 && stateno = 1895
triggerall = random <= 500
value = S0,43

[State -3, ai]
type = varset
triggerall = var(59) = 0
trigger1 = command = "cpu"
trigger2 = command = "cpu2"
trigger3 = command = "cpu3"
trigger4 = command = "cpu4"
trigger5 = command = "cpu5"
trigger6 = command = "cpu6"
trigger7 = command = "cpu7"
trigger8 = command = "cpu8"
trigger9 = command = "cpu9"
trigger10 = command = "cpu10"
trigger11 = command = "cpu11"
trigger12 = command = "cpu12"
trigger13 = command = "cpu13"
trigger14 = command = "cpu14"
trigger15 = command = "cpu15"
trigger16 = command = "cpu16"
trigger17 = command = "cpu17"
trigger18 = command = "cpu18"
trigger19 = command = "cpu19"
trigger20 = command = "cpu20"
trigger21 = command = "cpu21"
trigger22 = command = "cpu22"
trigger23 = command = "cpu23"
trigger24 = command = "cpu24"
trigger25 = command = "cpu25"
trigger26 = command = "cpu26"
trigger27 = command = "cpu27"
trigger28 = command = "cpu28"
trigger29 = command = "cpu29"
trigger30 = command = "cpu30"
trigger31 = command = "cpu31"
trigger32 = command = "cpu32"
trigger33 = command = "cpu33"
trigger33 = command = "cpu34"
var(59) = 1

[State -3, BOSS]
type = varset
trigger1 = palno = [7,12]
var(58) = 1

[State -3, BOSS]
type = powerset
trigger1 = palno = 12
trigger1 = 1
value = 4000

[State -2]
type = AssertSpecial
trigger1 = 1
trigger1 = var(58) = 1
flag = Nojugglecheck
ignorehitpause = 1

[State -2,1]
type = changestate
;trigger1 = sysvar(2) = 1
;trigger1 = time = 0
trigger1 = stateno = 5110
trigger1 = alive = 1
;trigger1 = anim = 5120
value = 1895


;-------------------------------------------------------
;AI
;立ちガード(相手立ち)
[State -3]
type = ChangeState
value = 130
triggerall = P2Life > 0
triggerall = var(59) = 1
triggerall = ctrl
triggerall = statetype != A
triggerall = inguarddist
trigger1 = inguarddist
trigger2 = Enemy, Numhelper >= 1 && P2MoveType = A
trigger3 = p2dist X < 100 && enemy, hitdefattr = SA, NA,SA , NP,SP && ctrl
trigger4 = p2dist X < 100 &&Enemy, Numproj = 1 && P2MoveType = A
Trigger5 = Enemy,NumProj > 0 || Enemy,NumHelper > 0 
trigger5 = p2movetype = A
Trigger6 = EnemyNear,numproj

;攻撃を避ける
[State -3]
type = ChangeState
value = 900
triggerall = P2Life > 0
triggerall = var(59) = 1
triggerall = ctrl
triggerall = statetype != A
TriggerAll = Time > 0
triggerall = random <= 170
triggerall = inguarddist
triggerall = Enemynear,movetype != H
trigger1 = Enemynear, Numproj >= 1 && P2MoveType = A
trigger2 = Enemynear, Numhelper >= 1 && P2MoveType = A
trigger3 = p2dist X < 100 && enemy, hitdefattr = SA, NA,SA , NP,SP && ctrl
trigger4 = p2dist X < 100 &&Enemy, Numproj = 1 && P2MoveType = A
Trigger5 = Enemynear,NumProj > 0 || Enemy,NumHelper > 0 
trigger5 = p2movetype = A
Trigger6 = EnemyNear,numproj

;--------------------------
;しゃがみガード
[State -3]
type = ChangeState
value = 131
triggerall = p2movetype = A
triggerall = P2bodydist X <= 60
triggerall = P2Life > 0
triggerall = statetype != A
triggerall = var(59) = 1
triggerall = ctrl
triggerall = statetype != A
triggerall = stateno != 191
trigger1 = p2statetype = C
trigger1 = random <= 800
trigger1 = Enemy, Numproj = 1 && P2MoveType = A

;---------------------------------------------------------------------------

;チェーンブレイド　サジタルエッジ　スライス強
[State -1]
type = ChangeState
value = 1060
triggerall = var(59) = 1
triggerall = random <= 25
triggerall = p2statetype != L
triggerall = p2life > 0
triggerall = statetype != A
trigger1 = P2BodyDist X < 60
trigger1 = P2movetype = A
trigger1 = ctrl && statetype != A
trigger1 = p2movetype != H
trigger2 = stateno = 200
trigger2 = movecontact
trigger3 = stateno = 210
trigger3 = movecontact
trigger4 = stateno = 230
trigger4 = movecontact
trigger5 = stateno = 240
trigger5 = movecontact
trigger6 = ctrl && statetype != A
trigger6 = p2stateno = 1022;ワイヤー中

trigger7 = var(58) = 1
trigger7 = movecontact
trigger7 = stateno = 1020
trigger7 = animelem = 12, >= 0
trigger7 = animelem = 14, <= 0
trigger8 = var(58) = 1
trigger8 = movecontact
trigger8 = stateno = 1030 || stateno = 1031

;チェーンブレイド　サジタルエッジ　スライス強
[State -1]
type = ChangeState
value = 1060
triggerall = var(59) = 1
triggerall = P2Life > 0
triggerall = random <= 250
;triggerall = !inguarddist
trigger1 = ctrl && statetype != A
trigger1 = P2statetype = A
trigger1 = P2BodyDist X < 75
trigger1 = enemynear,vel y < 0
trigger1 = enemynear,vel x > 0
trigger2 = ctrl && statetype != A
trigger2 = enemynear,movetype = A
trigger2 = P2BodyDist X < 60


;---------------------------------------------------------------------------

;チェーンブレイド　トランスアキシャル　スライス
[State -1]
type = ChangeState
value = 1031
triggerall = var(59) = 1
triggerall = random <= 100
triggerall = p2statetype != L
triggerall = inguarddist
triggerall = statetype != A
trigger1 = P2BodyDist X < 80
trigger1 = ctrl && statetype != A
trigger1 = p2movetype != H
trigger2 = stateno = 200
trigger2 = movecontact
trigger3 = stateno = 210
trigger3 = movecontact
trigger4 = stateno = 230
trigger4 = movecontact
trigger5 = stateno = 240
trigger5 = movecontact
trigger6 = ctrl && statetype != A
trigger6 = p2stateno = 1022;ワイヤー中
triggerall = p2life > 0
trigger6 = ctrl && statetype != A

trigger7 = var(58) = 1
trigger7 = movecontact
trigger7 = stateno = 1020
trigger7 = animelem = 12, >= 0
trigger7 = animelem = 14, <= 0
trigger8 = var(58) = 1
trigger8 = movecontact
trigger8 = stateno = 1031
trigger9 = var(58) = 1
trigger9 = movecontact
trigger9 = stateno = [1050,1062]

;---------------------------------------------------------------------------
;レッドノア
[State -1]
type = ChangeState
value = 800
triggerall = var(59) = 1
triggerall = random <= 50
triggerall = P2statetype != A
triggerall = p2stateno != [150,153]
trigger1 = enemynear,movetype != H
trigger1 = P2BodyDist X < 15
trigger1 = statetype != A && ctrl

;---------------------------------------------------------------------------
;ブルーノア
[State -1]
type = ChangeState
value = 810
triggerall = var(59) = 1
triggerall = random <= 50
triggerall = P2statetype != A
triggerall = p2stateno != [150,153]
trigger1 = enemynear,movetype != H
trigger1 = P2BodyDist X < 15
trigger1 = statetype != A && ctrl

;---------------------------------------------------------------------------

;ディバインアロー　エア
[State -1]
type = ChangeState
value = 1000
triggerall = var(59) = 1
triggerall = random <= 50
triggerall = statetype != A
triggerall = p2statetype != L
triggerall = numprojID(1000) = 0
triggerall = numprojID(1025) = 0
triggerall = !inguarddist
trigger1 = P2BodyDist X > 70
trigger1 = ctrl && statetype != A
trigger1 = p2movetype != H
trigger2 = stateno = 200
trigger2 = movecontact
trigger3 = stateno = 210
trigger3 = movecontact
trigger4 = stateno = 230
trigger4 = movecontact
trigger5 = stateno = 240
trigger5 = movecontact
trigger6 = P2BodyDist X > 20
trigger6 = P2movetype = A
trigger6 = ctrl && statetype != A
trigger6 = Enemy, Numproj = 1 && P2MoveType = A
trigger6 = p2movetype != H
trigger7 = ctrl && statetype != A
trigger7 = p2stateno = 1022;ワイヤー中
triggerall = p2life > 0
trigger7 = ctrl && statetype != A


trigger8 = movecontact && var(58) = 1
trigger8 = stateno = 1050 || stateno = [1060,1062]
trigger9 = movecontact && var(58) = 1
trigger9 = stateno = 1020
trigger9 = animelem = 12, >= 0
trigger9 = animelem = 14, <= 0
trigger10 = movecontact && var(58) = 1
trigger10 = stateno = 1030 || stateno = 1031
triggerall = p2life > 0
trigger8 = power >= 1500
trigger9 = power >= 1500
trigger10 = power >= 1500

;---------------------------------------------------------------------------

;ディバインアロー　グランド
[State -1]
type = ChangeState
value = 1010
triggerall = var(59) = 1
triggerall = p2life > 0
triggerall = random <= 70
triggerall = !inguarddist
triggerall = p2statetype != L
triggerall = numprojID(1000) = 0
triggerall = numprojID(1025) = 0
triggerall = statetype != A
trigger1 = P2BodyDist X < 120
trigger1 = P2BodyDist X > 60
trigger1 = ctrl && statetype != A
trigger1 = enemynear,statetype = S
trigger2 = stateno = 200
trigger2 = movecontact
trigger3 = stateno = 210
trigger3 = movecontact
trigger4 = stateno = 230
trigger4 = movecontact
trigger5 = stateno = 240
trigger5 = movecontact

trigger7 = movecontact && var(58) = 1
trigger7 = stateno = 1050 || stateno = [1060,1062]
trigger8 = movecontact && var(58) = 1
trigger8 = stateno = 1020
trigger8 = animelem = 12, >= 0
trigger8 = animelem = 14, <= 0
trigger9 = movecontact && var(58) = 1
trigger9 = stateno = 1030 || stateno = 1031
triggerall = p2life > 0
trigger7 = power >= 1500
trigger8 = power >= 1500
trigger9 = power >= 1500

;---------------------------------------------------------------------------
;ブルータル･ゴッド･プロジェクト
[State -1]
type = ChangeState
value = 2000
triggerall = var(59) = 1
triggerall = random <= 100
triggerall = power >= 2000
triggerall = p2statetype != L
triggerall = p2life > 0
triggerall = statetype != A
triggerall = palno != 12
trigger1 = P2BodyDist X > 20
triggerall = P2BodyDist Y > -50
;trigger1 = P2movetype = A
trigger1 = ctrl && statetype != A
trigger1 = p2movetype != H
trigger2 = stateno = 200
trigger2 = movecontact
trigger3 = stateno = 210
trigger3 = movecontact
trigger4 = stateno = 230
trigger4 = movecontact
trigger5 = stateno = 240
trigger5 = movecontact
trigger6 = ctrl && statetype != A
trigger6 = p2stateno = 1022;ワイヤー中
triggerall = p2life > 0
trigger6 = ctrl && statetype != A

trigger7 = P2BodyDist X < 50
trigger7 = P2BodyDist Y < -30
trigger7 = ctrl && statetype != A


trigger8 = movecontact && var(58) = 1
trigger8 = stateno = 1050 || stateno = [1060,1062]
trigger9 = movecontact && var(58) = 1
trigger9 = stateno = 1020
trigger9 = animelem = 12, >= 0
trigger9 = animelem = 15, <= 0
trigger10 = movecontact && var(58) = 1
trigger10 = stateno = 1030 || stateno = 1031
triggerall = p2life > 0
trigger11 = P2BodyDist X > 30
trigger11 = ctrl && statetype != A && var(58) = 1
trigger11 = p2statetype = A
trigger11 = p2movetype != H

;---------------------------------------------------------------------------
;ブルータル･ゴッド･プロジェクト
[State -1]
type = ChangeState
value = 2000
triggerall = var(59) = 1
triggerall = random <= 50
triggerall = power >= 2000
triggerall = p2statetype != L
triggerall = p2life > 0
triggerall = statetype != A
triggerall = palno = 12
trigger1 = P2BodyDist X > 20
triggerall = P2BodyDist Y > -50
;trigger1 = P2movetype = A
trigger1 = ctrl && statetype != A
trigger1 = p2movetype != H
trigger2 = stateno = 200
trigger2 = movecontact
trigger3 = stateno = 210
trigger3 = movecontact
trigger4 = stateno = 230
trigger4 = movecontact
trigger5 = stateno = 240
trigger5 = movecontact
trigger6 = ctrl && statetype != A
trigger6 = p2stateno = 1022;ワイヤー中
triggerall = p2life > 0
trigger6 = ctrl && statetype != A

trigger7 = P2BodyDist X < 50
trigger7 = P2BodyDist Y < -30
trigger7 = ctrl && statetype != A


trigger8 = movecontact && var(58) = 1
trigger8 = stateno = 1050 || stateno = [1060,1062]
trigger9 = movecontact && var(58) = 1
trigger9 = stateno = 1020
trigger9 = animelem = 12, >= 0
trigger9 = animelem = 15, <= 0
trigger10 = movecontact && var(58) = 1
trigger10 = stateno = 1030 || stateno = 1031
triggerall = p2life > 0
trigger11 = P2BodyDist X > 30
trigger11 = ctrl && statetype != A && var(58) = 1
trigger11 = p2statetype = A
trigger11 = p2movetype != H

;---------------------------------------------------------------------------

;ケイオス・タイド
[State -1]
type = ChangeState
value = 1070
triggerall = var(59) = 1
triggerall = random <= 60
triggerall = power >= 1000
triggerall = p2statetype != L
triggerall = statetype != A
trigger1 = P2BodyDist X > 30
trigger1 = P2BodyDist X < 160
trigger1 = P2BodyDist X < 160
triggerall = P2BodyDist Y > -60
trigger1 = ctrl && statetype != A
trigger1 = p2movetype != H
trigger2 = stateno = 200
trigger2 = movecontact
trigger3 = stateno = 210
trigger3 = movecontact
trigger4 = stateno = 230
trigger4 = movecontact
trigger5 = stateno = 240
trigger5 = movecontact
trigger6 = ctrl && statetype != A
trigger6 = p2stateno = 1022;ワイヤー中
triggerall = p2life > 0

trigger7 = movecontact && var(58) = 1
trigger7 = stateno = 1050 || stateno = [1060,1062]
trigger8 = movecontact && var(58) = 1
trigger8 = stateno = 1020
trigger8 = animelem = 12, >= 0
trigger8 = animelem = 15, <= 0
trigger9 = movecontact && var(58) = 1
trigger9 = stateno = 1030 || stateno = 1031
triggerall = p2life > 0

;---------------------------------------------------------------------------

;イーディアンブレイド
[State -1]
type = ChangeState
value = 1080
triggerall = var(59) = 1
triggerall = random <= 55
triggerall = power >= 1000
triggerall = p2statetype != L
triggerall = numhelper(1080) = 0
triggerall = statetype != A
trigger1 = P2BodyDist X > 30
trigger1 = ctrl && statetype != A
trigger1 = p2movetype != H
trigger2 = stateno = 200
trigger2 = movecontact
trigger3 = stateno = 210
trigger3 = movecontact
trigger4 = stateno = 230
trigger4 = movecontact
trigger5 = stateno = 240
trigger5 = movecontact
trigger6 = ctrl && statetype != A
trigger6 = p2stateno = 1022;ワイヤー中
triggerall = p2life > 0

trigger7 = movecontact && var(58) = 1
trigger7 = stateno = 1050 || stateno = [1060,1062]
trigger8 = movecontact && var(58) = 1
trigger8 = stateno = 1020
trigger8 = animelem = 12, >= 0
trigger8 = animelem = 15, <= 0
trigger9 = movecontact && var(58) = 1
trigger9 = stateno = 1030 || stateno = 1031
triggerall = p2life > 0

;---------------------------------------------------------------------------
;ヴォイド・ジェノサイド
[State -1]
type = ChangeState
value = 1040
triggerall = var(59) = 1
triggerall = random <= 200
triggerall = statetype != A
triggerall = palno != 12
trigger1  = p2bodydist X = [10, 70]
trigger1  = p2statetype != L
trigger1 =  enemynear,hitdefattr = SCA, NA, SA
trigger1 = ctrl
triggerall = p2life > 0

;ヴォイド・ジェノサイド
[State -1]
type = ChangeState
value = 1040
triggerall = var(59) = 1
triggerall = palno = 12
triggerall = random <= 200
triggerall = statetype != A
trigger1  = p2bodydist X < 80
trigger1 =  p2movetype = A
trigger1 = ctrl


;---------------------------------------------------------------------------
;ネガ･ジェネシス
[State -1]
type = ChangeState
value = 1020
triggerall = var(59) = 1
triggerall = random <= 20
triggerall = statetype != A
trigger1   = p2bodydist X <= 20
trigger1 = ctrl
trigger1 = p2movetype != H
trigger2 = stateno = 200
trigger2 = movecontact
trigger3 = stateno = 210
trigger3 = movecontact
trigger4 = stateno = 230
trigger4 = movecontact
trigger5 = stateno = 240
trigger5 = movecontact
triggerall = p2life > 0

;---------------------------------------------------------------------------
;ネガ･ジェネシス
[State -1]
type = ChangeState
value = 1020
triggerall = var(59) = 1
triggerall = var(58) = 1
triggerall = random <= 50
triggerall = statetype != A
trigger1   = p2bodydist X <= 20
trigger1 = ctrl
trigger1 = p2movetype != H
trigger2 = stateno = 200
trigger2 = movecontact
trigger3 = stateno = 210
trigger3 = movecontact
trigger4 = stateno = 230
trigger4 = movecontact
trigger5 = stateno = 240
trigger5 = movecontact
triggerall = p2life > 0

;---------------------------------------------------------------------------
;ネガ･ジェネシス
[State -1]
type = ChangeState
value = 1020
triggerall = var(59) = 1
triggerall = random <= 200
triggerall = statetype != A
trigger1   = p2bodydist X >= 150
trigger1 = Enemy, Numproj = 1
triggerall = p2life > 0
;triggerall = inguarddist
triggerall = ctrl
trigger2 = Enemynear, Numproj >= 1 && P2MoveType = A&& p2dist X > 150
trigger3 = Enemynear, Numhelper >= 1 && P2MoveType = A&& p2dist X > 150
trigger4 = p2dist X > 150 && Enemynear, hitdefattr = SCA,AP && ctrl


;---------------------------------------------------------------------------
;ジャンプふっ飛ばし
[State -1]
type = ChangeState
value = 510
triggerall = var(59) = 1
triggerall = random <= 40
triggerall = statetype = A
trigger1   = p2bodydist X <= 60
trigger1 = ctrl

;---------------------------------------------------------------------------
;受身
[State -1]
type = ChangeState
value = 5201
triggerall = var(59) = 1
triggerall = random <= 300
triggerall = Vel Y > 0
triggerall = Pos Y >= 0
trigger1 = alive
trigger1 = CanRecover
trigger1 = stateno = 5050

;---------------------------------------------------------------------------


;---------------------------------------------------------
;エンド･オブ・ガイア
[State -1]
type = null;ChangeState
value = 2300
triggerall = var(59) = 1
triggerall = var(58) = 1
triggerall = random <= 30
triggerall = power >= 2000
triggerall = p2statetype != L
triggerall = numhelper(1080) = 0
triggerall = p2life > 0
triggerall = statetype != A
trigger1 = P2BodyDist X > 30
trigger1 = ctrl && statetype != A
trigger2 = stateno = 200
trigger2 = movecontact
trigger3 = stateno = 210
trigger3 = movecontact
trigger4 = stateno = 230
trigger4 = movecontact
trigger5 = stateno = 240
trigger5 = movecontact
trigger6 = movecontact
trigger6 = stateno = 1050 || stateno = [1060,1062]
trigger7 = movecontact
trigger7 = stateno = 1020
trigger7 = animelem = 12, >= 0
trigger7 = animelem = 15, <= 0
trigger8 = movecontact
trigger8 = stateno = 1030 || stateno = 1031
trigger9 = p2movetype = A
trigger9= P2BodyDist X > 80
trigger9 = ctrl && statetype != A

[State -1]
type = ChangeState
value = 10
triggerall = var(59) = 1
triggerall = p2life > 0
triggerall = random <= 970
;triggerall = numproj = 0
;triggerall = !inguarddist
;trigger1 = p2statetype != A
trigger1 = statetype != A
trigger1 = ctrl&&stateno = 40
trigger1 animelem = 1
;trigger1 = P2BodyDist X > 20
;trigger1 time = 1

[State 2100]
type = Pause
triggerall = P2Life > 0
triggerall = 1
triggerall = (GameTime%3) = 1
trigger1 = projhit1080 = 1,< 30
;trigger1 = var(56) >= 5
time = 1
movetime = 0
ignorehitpause = 1

[State dist]
Trigger1 = 1
type = DisplayToClipboard
ignorehitpause = 1
text = "enemy bodydist X= %f pos y = %f var(59) = %d var(56) = %d"
params = p2bodydist x,pos y,var(59),var(56)
ignorehitpause = 1


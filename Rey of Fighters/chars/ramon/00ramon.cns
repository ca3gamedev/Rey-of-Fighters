;ラモン 
[Data]
life = 1000
attack = 100
defence = 100
power = 5000
fall.defence_up = 50
liedown.time = 25
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 150
IntPersistIndex = 1,3
FloatPersistIndex = 40

[Size]
xscale = 1           ;Horizontal scaling factor.
yscale = 1           ;Vertical scaling factor.
ground.back = 10     ;Player width (back, ground)
ground.front = 11   ;Player width (front, ground)
air.back = 12        ;Player width (back, air)
air.front = 12       ;Player width (front, air)
height = 60      ;Height of player (for opponent to jump over)
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too
head.pos = -5, -100   ;Approximate position of head
mid.pos = -5, -57    ;Approximate position of midsection
shadowoffset = 0     ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 3      ;Walk forward
walk.back = -3     ;Walk backward
run.fwd  = 6.6, 0    ;Run forward (x, y)
run.back = -5.5,-4.0 ;Hop backward (x, y)
jump.neu = 0,-8.5   ;Neutral jumping velocity (x, y)
jump.back = -3.5   ;Jump back Speed (x, y)
jump.fwd = 3.5       ;Jump forward Speed (x, y)
runjump.back = -2.55,-8.0 ;Running jump speeds (opt)
runjump.fwd = 4,-8.0      ;.
airjump.neu = 0,-8.0      ;.
airjump.back = -2.55      ;Air jump speeds (opt)
airjump.fwd = 2.5         ;.

[Movement]
airjump.num = 0      ;Number of air jumps allowed (opt)
airjump.height = 35  ;Minimum distance from ground before you can air jump (opt)
yaccel = .5        ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching

;---------------------------------------------------------------------------
; Lose by Time Over
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
[Statedef 180]
type = S
sprpriority=2

[State 180, 1]
type = ChangeState
;trigger1=numhelper(33)=1
trigger1=MatchOver=1
trigger1=Var(16)=1
value = 183

[State 180, 1]
type = ChangeState
trigger1 = Time = 0&&Random<=500
value = 181

[State 180, 1]
type = ChangeState
trigger1 = Time = 0&&Random<=333
value = 184

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 182

;---------------------------------------------------------------------------
; Win pose 1 - Bow
;ビバ！
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0
sprpriority=2

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181,2]
type=PlaySnd
trigger1=Animelem=2
value=0,17
channel=0
[STate 181]
type=AssertSpecial
trigger1=time<=220
flag=roundnotover

; Winquotes
[State 181, 3]
type = AssertSpecial
triggerall = Matchover
trigger1 = time = [119,610]
flag = roundnotover

[State 181, 4]
type = EnvColor
trigger1 = MatchOver && time = 120
value = 0,0,0
time = 3

[State 181, 6]
type = EnvColor
trigger1 = MatchOver && time = 124
value = 255,255,255
time = 3

[State 181, 7]
type = AssertSpecial
trigger1 = Matchover && time > 120
flag = NoMusic

[State 181, 8]; Box (up)
type = Explod
trigger1 = time = 127 && MatchOver
anim = 8650
ID = 8650
pos = 0,40
postype = left
sprpriority = 99990
ownpal = 1
removetime = 999999
scale = 2,1

[State 181, 9]; Box (down)
type = Explod
trigger1 = time = 127 && MatchOver
anim = 8651
ID = 8651
pos = 0,160
postype = left
sprpriority = 99990
ownpal = 1
removetime = 999999
scale = 2,1

[State 181, 10]; Face
type = Explod
trigger1 = time = 140 && MatchOver
anim = 8652
ID = 8652
pos = 15,240
postype = left
sprpriority = 99993
ownpal = 1
removetime = 999999
scale = .5,.5

[State 181, 11]; Box behind face
type = Explod
trigger1 = time = 148 && MatchOver
anim = 8653
ID = 8653
pos = -10,70
postype = left
sprpriority = 99991
ownpal = 1
removetime = 999999
scale = 2,.8
trans = addalpha
alpha = 256, 135

[State 181, 12]; Winner Text
type = Explod
trigger1 = time = 150 && MatchOver
anim = 8654
ID = 8654
pos = 195,73
postype = left
sprpriority = 99992
ownpal = 1
removetime = 999999
scale = .5,.5

[State 181, 13]; Box in font of face
type = Explod
trigger1 = time = 160 && MatchOver
anim = 8656
ID = 8656
pos = -5,177
postype = left
sprpriority = 99994
ownpal = 1
removetime = 999999
scale = 2,.8
trans = addalpha
alpha = 256, 135

[State 181, 14]; Kof XI Logo
type = Explod
trigger1 = time = 165 && MatchOver
anim = 8655
ID = 8655
pos = 180,101
postype = left
sprpriority = 99995
ownpal = 1
removetime = 999999
scale = .45,.45

[State 181, 15]; Winquotes
type = Explod
trigger1 = time = 165 && MatchOver
anim = 8660+(random%2)
ID = 8660
pos = -3,173
postype = left
sprpriority = 99999
ownpal = 0
ontop = 1
removetime = 999999

[State 181, 16]
type = AssertSpecial
trigger1 = MatchOver = 1 && time >= 120
flag = nobardisplay
flag2 = noFG
flag3 = invisible

[State 181, 17]
type = PlaySnd
triggerall = MatchOver
trigger1 = time = 125
value = S180,50
;---------------------------------------------------------------------------

; Win pose 1 - Bow
;サーンクス！
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0
sprpriority=2

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181,2]
type=PlaySnd
trigger1=Animelem=3
value=0,18
channel=0


[STate 181]
type=AssertSpecial
trigger1=time<=220
flag=roundnotover

; Winquotes
[State 182, 3]
type = AssertSpecial
triggerall = Matchover
trigger1 = time = [119,610]
flag = roundnotover

[State 182, 4]
type = EnvColor
trigger1 = MatchOver && time = 120
value = 0,0,0
time = 3

[State 182, 6]
type = EnvColor
trigger1 = MatchOver && time = 124
value = 255,255,255
time = 3

[State 182, 7]
type = AssertSpecial
trigger1 = Matchover && time > 120
flag = NoMusic

[State 182, 8]; Box (up)
type = Explod
trigger1 = time = 127 && MatchOver
anim = 8650
ID = 8650
pos = 0,40
postype = left
sprpriority = 99990
ownpal = 1
removetime = 999999
scale = 2,1

[State 182, 9]; Box (down)
type = Explod
trigger1 = time = 127 && MatchOver
anim = 8651
ID = 8651
pos = 0,160
postype = left
sprpriority = 99990
ownpal = 1
removetime = 999999
scale = 2,1

[State 182, 10]; Face
type = Explod
trigger1 = time = 140 && MatchOver
anim = 8652
ID = 8652
pos = 15,240
postype = left
sprpriority = 99993
ownpal = 1
removetime = 999999
scale = .5,.5

[State 182, 11]; Box behind face
type = Explod
trigger1 = time = 148 && MatchOver
anim = 8653
ID = 8653
pos = -10,70
postype = left
sprpriority = 99991
ownpal = 1
removetime = 999999
scale = 2,.8
trans = addalpha
alpha = 256, 135

[State 182, 12]; Winner Text
type = Explod
trigger1 = time = 150 && MatchOver
anim = 8654
ID = 8654
pos = 195,73
postype = left
sprpriority = 99992
ownpal = 1
removetime = 999999
scale = .5,.5

[State 182, 13]; Box in font of face
type = Explod
trigger1 = time = 160 && MatchOver
anim = 8656
ID = 8656
pos = -5,177
postype = left
sprpriority = 99994
ownpal = 1
removetime = 999999
scale = 2,.8
trans = addalpha
alpha = 256, 135

[State 182, 14]; Kof XI Logo
type = Explod
trigger1 = time = 165 && MatchOver
anim = 8655
ID = 8655
pos = 180,101
postype = left
sprpriority = 99995
ownpal = 1
removetime = 999999
scale = .45,.45

[State 182, 15]; Winquotes
type = Explod
trigger1 = time = 165 && MatchOver
anim = 8660+(random%2)
ID = 8660
pos = -3,173
postype = left
sprpriority = 99999
ownpal = 0
ontop = 1
removetime = 999999

[State 182, 16]
type = AssertSpecial
trigger1 = MatchOver = 1 && time >= 120
flag = nobardisplay
flag2 = noFG
flag3 = invisible

[State 182, 17]
type = PlaySnd
triggerall = MatchOver
trigger1 = time = 125
value = S180,50
;---------------------------------------------------------------------------

;噂どおり
[Statedef 183]
type = S
ctrl = 0
anim = 182
velset = 0,0
sprpriority=2

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181,2]
type=PlaySnd
trigger1=Animelem=3
value=0,19
channel=0
[STate 181]
type=AssertSpecial
trigger1=time<=170
flag=roundnotover

; Winquotes
[State 183, 3]
type = AssertSpecial
triggerall = Matchover
trigger1 = time = [119,610]
flag = roundnotover

[State 183, 4]
type = EnvColor
trigger1 = MatchOver && time = 120
value = 0,0,0
time = 3

[State 183, 6]
type = EnvColor
trigger1 = MatchOver && time = 124
value = 255,255,255
time = 3

[State 183, 7]
type = AssertSpecial
trigger1 = Matchover && time > 120
flag = NoMusic

[State 183, 8]; Box (up)
type = Explod
trigger1 = time = 127 && MatchOver
anim = 8650
ID = 8650
pos = 0,40
postype = left
sprpriority = 99990
ownpal = 1
removetime = 999999
scale = 2,1

[State 183, 9]; Box (down)
type = Explod
trigger1 = time = 127 && MatchOver
anim = 8651
ID = 8651
pos = 0,160
postype = left
sprpriority = 99990
ownpal = 1
removetime = 999999
scale = 2,1

[State 183, 10]; Face
type = Explod
trigger1 = time = 140 && MatchOver
anim = 8652
ID = 8652
pos = 15,240
postype = left
sprpriority = 99993
ownpal = 1
removetime = 999999
scale = .5,.5

[State 183, 11]; Box behind face
type = Explod
trigger1 = time = 148 && MatchOver
anim = 8653
ID = 8653
pos = -10,70
postype = left
sprpriority = 99991
ownpal = 1
removetime = 999999
scale = 2,.8
trans = addalpha
alpha = 256, 135

[State 183, 12]; Winner Text
type = Explod
trigger1 = time = 150 && MatchOver
anim = 8654
ID = 8654
pos = 195,73
postype = left
sprpriority = 99992
ownpal = 1
removetime = 999999
scale = .5,.5

[State 183, 13]; Box in font of face
type = Explod
trigger1 = time = 160 && MatchOver
anim = 8656
ID = 8656
pos = -5,177
postype = left
sprpriority = 99994
ownpal = 1
removetime = 999999
scale = 2,.8
trans = addalpha
alpha = 256, 135

[State 183, 14]; Kof XI Logo
type = Explod
trigger1 = time = 165 && MatchOver
anim = 8655
ID = 8655
pos = 180,101
postype = left
sprpriority = 99995
ownpal = 1
removetime = 999999
scale = .45,.45

[State 183, 15]; Winquotes
type = Explod
trigger1 = time = 165 && MatchOver
anim = 8660+(random%2)
ID = 8660
pos = -3,173
postype = left
sprpriority = 99999
ownpal = 0
ontop = 1
removetime = 999999

[State 183, 16]
type = AssertSpecial
trigger1 = MatchOver = 1 && time >= 120
flag = nobardisplay
flag2 = noFG
flag3 = invisible

[State 183, 17]
type = PlaySnd
triggerall = MatchOver
trigger1 = time = 125
value = S180,50
;---------------------------------------------------------------------------

;背向け
[Statedef 184]
type = S
ctrl = 0
anim = 184
velset = 0,0
sprpriority=2

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181,2]
type=PlaySnd
trigger1=Animelem=2
value=0,45
channel=0

[STate 181]
type=AssertSpecial
trigger1=time<=150
flag=roundnotover

; Winquotes
[State 184, 3]
type = AssertSpecial
triggerall = Matchover
trigger1 = time = [119,610]
flag = roundnotover

[State 184, 4]
type = EnvColor
trigger1 = MatchOver && time = 120
value = 0,0,0
time = 3

[State 184, 6]
type = EnvColor
trigger1 = MatchOver && time = 124
value = 255,255,255
time = 3

[State 184, 7]
type = AssertSpecial
trigger1 = Matchover && time > 120
flag = NoMusic

[State 184, 8]; Box (up)
type = Explod
trigger1 = time = 127 && MatchOver
anim = 8650
ID = 8650
pos = 0,40
postype = left
sprpriority = 99990
ownpal = 1
removetime = 999999
scale = 2,1

[State 184, 9]; Box (down)
type = Explod
trigger1 = time = 127 && MatchOver
anim = 8651
ID = 8651
pos = 0,160
postype = left
sprpriority = 99990
ownpal = 1
removetime = 999999
scale = 2,1

[State 184, 10]; Face
type = Explod
trigger1 = time = 140 && MatchOver
anim = 8652
ID = 8652
pos = 15,240
postype = left
sprpriority = 99993
ownpal = 1
removetime = 999999
scale = .5,.5

[State 184, 11]; Box behind face
type = Explod
trigger1 = time = 148 && MatchOver
anim = 8653
ID = 8653
pos = -10,70
postype = left
sprpriority = 99991
ownpal = 1
removetime = 999999
scale = 2,.8
trans = addalpha
alpha = 256, 135

[State 184, 12]; Winner Text
type = Explod
trigger1 = time = 150 && MatchOver
anim = 8654
ID = 8654
pos = 195,73
postype = left
sprpriority = 99992
ownpal = 1
removetime = 999999
scale = .5,.5

[State 184, 13]; Box in font of face
type = Explod
trigger1 = time = 160 && MatchOver
anim = 8656
ID = 8656
pos = -5,177
postype = left
sprpriority = 99994
ownpal = 1
removetime = 999999
scale = 2,.8
trans = addalpha
alpha = 256, 135

[State 184, 14]; Kof XI Logo
type = Explod
trigger1 = time = 165 && MatchOver
anim = 8655
ID = 8655
pos = 180,101
postype = left
sprpriority = 99995
ownpal = 1
removetime = 999999
scale = .45,.45

[State 184, 15]; Winquotes
type = Explod
trigger1 = time = 165 && MatchOver
anim = 8660+(random%2)
ID = 8660
pos = -3,173
postype = left
sprpriority = 99999
ownpal = 0
ontop = 1
removetime = 999999

[State 184, 16]
type = AssertSpecial
trigger1 = MatchOver = 1 && time >= 120
flag = nobardisplay
flag2 = noFG
flag3 = invisible

[State 184, 17]
type = PlaySnd
triggerall = MatchOver
trigger1 = time = 125
value = S180,50
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; Introduction
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0
sprpriority=2
[State 191, 1] ;VSヴァネッサ
type = Changestate
triggerall= time=0
trigger1=P2name="Vanessa"||P2name="DVanessa"
value = 192

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = time=0
value = 190
[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
triggerall= time=0
trigger1=P2name="ZERO"||P2name="Zero By Third"||P2name="Tin G_rugal"
trigger2=P2name="Geese Howard"||p2name="Dark Chun Li"||P2name="Grant"
trigger3=P2name="krizalid"||P2name="Goenitz"||P2name="Gouki by M.M.R."
trigger4=P2name="Shadow DIO"||P2name="Kouryu"||P2name="Musashi Akatsuki"
trigger5=P2name="justice"
value = 191

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3]
type = PlaySnd
trigger1 = animelem=2
value = 0,15
channel=0

[State 191, 3]
type = PlaySnd
trigger1 = animelem=2
value = 0,15
channel=1

[State 191, 3]
type = PlaySnd
triggerall= animelem=2
trigger1=P2name="ZERO"||P2name="Zero By Third"||P2name="Tin G_rugal"
trigger2=P2name="Geese Howard"||p2name="Dark Chun Li"||P2name="Grant"
trigger3=P2name="krizalid"||P2name="Goenitz"||P2name="Gouki by M.M.R."
trigger4=P2name="Shadow DIO"||P2name="Kouryu"||P2name="Musashi Akatsuki"
trigger5=P2name="justice"
value = 0,16
channel=0
persistent=0

[State 191, 3]
type = PlaySnd
triggerall= animelem=2
trigger1=P2name="ZERO"||P2name="Zero By Third"||P2name="Tin G_rugal"
trigger2=P2name="Geese Howard"||p2name="Dark Chun Li"||P2name="Grant"
trigger3=P2name="krizalid"||P2name="Goenitz"||P2name="Gouki by M.M.R."
trigger4=P2name="Shadow DIO"||P2name="Kouryu"||P2name="Musashi Akatsuki"
trigger5=P2name="justice"
value = 0,16
channel=1
persistent=0

[State 191, 4] ;Change to stand state
type = ChangeState
trigger1 =animTime = 0
value = 0

;---------------------------------------------------------------------------
; Introduction
[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0
sprpriority=2

[State 192]
type=PlaySnd
trigger1=Animelem=2
value=0,21

[State 192] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 192] ;Change to stand state
type = ChangeState
trigger1 =animTime = 0
value = 0


;---------------------------------------------------------------------------
; Taunt
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 1500]
type = playsnd
trigger1 = animelem = 1
value = 0,44
channel = 0

[STate 195]
type=PlaySnd
trigger1=animtime = 0
value=0,36

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Stand Light Punch
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 15
velset = 0,0
ctrl = 0
anim = 200
poweradd = 0
sprpriority = 2

[State 0]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 20
getpower = 70,35
givepower = 70,35
animtype = light
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 6,6
guard.pausetime=6,6
sparkno = s2010
guard.sparkno = s2040
sparkxy = -10, -70
hitsound = s1,7
guardsound = s1,14
ground.type = High
ground.slidetime = 5
ground.hittime  = 8
ground.velocity = -6
guard.slidetime = 10;仰け反る時間
guard.hittime = 10;仰け反り中の時間
guard.velocity = -7
airguard.velocity = -3,-4
air.type = high
air.velocity = -3,-5
air.hittime = 10
ground.cornerpush.veloff = -7
guard.cornerpush.veloff = -10
down.cornerpush.veloff = -10

[State 99,99]
type = PlaySnd
trigger1 =animelem=3
value =1,0
channel=1

[State 99,99]
type = PlaySnd
trigger1 =animelem=2
value =0,0
channel=0

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Stand Light Punch
[Statedef 205]
type    = S
movetype= A
physics = S
juggle  = 15
velset = 0,0
ctrl = 0
anim = 205
poweradd = 0
sprpriority = 2

[State 0]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 18
getpower = 70,35
givepower = 70,35
animtype = light
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 6,6
guard.pausetime=6,6
sparkno = s2010
guard.sparkno=s2040
sparkxy = -10, -76
hitsound = s1,7
guardsound = s1,14
ground.type = High
ground.slidetime = 5
ground.hittime  = 8
ground.velocity = -6
guard.slidetime = 10;仰け反る時間
guard.hittime = 10;仰け反り中の時間
guard.velocity = -7
airguard.velocity = -3,-4
air.type = high
air.velocity = -3,-5
air.hittime = 10
ground.cornerpush.veloff = -7
guard.cornerpush.veloff = -10
down.cornerpush.veloff = -10

[State 99,99]
type = PlaySnd
trigger1 =animelem=3
value =1,0
channel=1

[State 99,99]
type = PlaySnd
trigger1 =animelem=2
value =0,0
channel=0

[State 205, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 15
poweradd= 0
ctrl = 0
velset = 0,0
anim = 210
sprpriority = 2

[STate 210]
type=PosAdd
triggerall=Time=0
trigger1=Prevstateno=100 || prevstateno =20
x=10

[State 210]
type = PlaySnd
trigger1 =animelem=3
value =1,0
channel=1

[State 210]
type = PlaySnd
trigger1 =animelem=3
value =0,1
channel=0

[STate 210,0]
type=width
trigger1=Time=[7,20]
value=15,0

[State 0]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 76
getpower = 84,40
givepower = 84,40
animtype = hard
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 10,10
sparkno = s2020
guard.sparkno=s95
sparkxy = -10,-75
hitsound = s1,9
guardsound = s1,14
ground.type = High
ground.slidetime = 15
ground.hittime  = 18
ground.velocity = -7
guard.slidetime = 10;仰け反る時間
guard.hittime = 10;仰け反り中の時間
guard.velocity = -7
airguard.velocity = -3,-4
air.type = high
air.velocity = -4,-5
air.hittime = 30
ground.cornerpush.veloff = -7
guard.cornerpush.veloff = -10
down.cornerpush.veloff = -10

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 215]
type    = S
movetype= A
physics = S
juggle  = 15
poweradd= 0
ctrl = 0
velset = 0,0
anim = 215
sprpriority = 2

[State 250, 3]
type = velset
trigger1 = animelem=3
x = 4

[State 99,99]
type = PlaySnd
trigger1 =animelem=2
value =0,0
channel=0

[State 0]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 58
getpower = 84,40
givepower = 84,40
animtype = hard
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 8,12
guard.pausetime=8,8
sparkno = s2020
guard.sparkno=s95
sparkxy = -10,-70
hitsound = s1,9
guardsound = s1,14
ground.type = High
ground.slidetime = 22
ground.hittime  = 23
ground.velocity = -6
guard.slidetime = 20;仰け反る時間
guard.hittime = 20;仰け反り中の時間
guard.velocity = -6
airguard.velocity = -3,-4
air.type = high
air.velocity = -4,-5
air.hittime = 30
ground.cornerpush.veloff = -10
guard.cornerpush.veloff = -12
down.cornerpush.veloff = -10

[State 215, 5]
type = ChangeState
trigger1 =animtime=0
value = 0
ctrl=1
;---------------------------------------------------------------------------
; Standing light kick
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 15
poweradd= 0
ctrl = 0
velset = 0,0
anim = 230
sprpriority = 2

[State 99,99]
type = PlaySnd
trigger1 =animelem=3
value =1,1
channel=1

[State 99,99]
type = PlaySnd
trigger1 =animelem=2
value =0,0
channel=0

[State 0]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 28
getpower = 42,20
givepower = 42,20
animtype = med
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 6,6
guard.pausetime=6,6
sparkno = s2010
guard.sparkno=s2040
sparkxy = -10,-47
hitsound = s1,8
guardsound = s1,14
ground.type = low
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -8
guard.slidetime = 10;仰け反る時間
guard.hittime = 10;仰け反り中の時間
guard.velocity = -9
airguard.velocity = -3,-4
air.type = high
air.velocity = -4,-5
air.hittime = 10
ground.cornerpush.veloff = -9
guard.cornerpush.veloff = -12.5
down.cornerpush.veloff = -10

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing light kick
[Statedef 235]
type    = S
movetype= A
physics = S
juggle  = 15
poweradd= 0
ctrl = 0
velset = 0,0
anim = 235
sprpriority = 2

[State 99,99]
type = PlaySnd
trigger1 =animelem=2
value =1,1
channel=1

[State 99,99]
type = PlaySnd
trigger1 =time=2
value =0,0
channel=0

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 18
getpower = 42,20
givepower = 42,20
animtype = med
guardflag = L
hitflag = MAF
priority = 5, Hit
pausetime = 6,6
guard.pausetime=6,6
sparkno = s2010
guard.sparkno=s2040
sparkxy = -10,-30
hitsound = s1,8
guardsound = s1,14
ground.type = low
ground.slidetime = 6
ground.hittime  = 9
ground.velocity = -5
guard.slidetime = 10;仰け反る時間
guard.hittime = 10;仰け反り中の時間
guard.velocity = -7
airguard.velocity = -3,-4
air.type = high
air.velocity = -4,-5
air.hittime = 10
ground.cornerpush.veloff = -8
guard.cornerpush.veloff = -10
down.cornerpush.veloff = -10

[State 235, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing strong kick
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  =15
poweradd= 0
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 2

[State 240]
type = Width
trigger1 = 1
value = 0,20

[State 240, 3]
type = PosAdd
trigger1 = AnimElem = 2 && P2bodydist X>=10
x = 20

[State 240, 3]
type = PosAdd
trigger1 = AnimElem = 4&& P2bodydist X<=15
x = 15

[State 240, 3]
type = PosAdd
trigger1 = AnimElem = 4 && P2bodydist X>30
x = 10

[State 240, 3]
type = PosAdd
trigger1 = AnimElem = 4 && P2bodydist X>20
x = 10

[State 240, 3]
type = PosAdd
trigger1 = AnimElem = 4
x = 10

[State 99,99]
type = PlaySnd
trigger1 =animelem=6
value =1,1
channel=1

[State 99,99]
type = PlaySnd
trigger1 =animelem=2
value =0,0
channel=0

[State 0]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
damage = 78
getpower = 84,40
givepower = 84,40
animtype = hard
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 10,10
guard.pausetime=8,8
sparkno = s2020
guard.sparkno=s95
sparkxy = -10,-70
hitsound = s1,19
guardsound = s1,14
ground.type = High
ground.slidetime = 18
ground.hittime  = 20
ground.velocity = -8
guard.slidetime = 10;仰け反る時間
guard.hittime = 10;仰け反り中の時間
guard.velocity = -7
airguard.velocity = -3,-4
air.type = high
air.velocity = -4,-5
air.hittime = 30
ground.cornerpush.veloff = -11
guard.cornerpush.veloff = -18
down.cornerpush.veloff = -10

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing strong kick
[Statedef 245]
type    = S
movetype= A
physics = S
juggle  = 15
poweradd= 0
ctrl = 0
velset = 0,0
anim = 245
sprpriority = 2

[State 99,99]
type = PlaySnd
trigger1 =animelem=3
value =1,1
channel=1

[State 99,99]
type = PlaySnd
trigger1 =time=2
value =0,0
channel=0

[State 0]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 62
getpower = 84,40
givepower = 84,40
animtype = hard
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 10,10
guard.pausetime=8,8
sparkno = s2020
guard.sparkno=s95
sparkxy = -10,-44
hitsound = s1,19
guardsound = s1,14
ground.type = High
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = -8
guard.slidetime = 10;仰け反る時間
guard.hittime = 10;仰け反り中の時間
guard.velocity = -9
airguard.velocity = -3,-4
air.type = high
air.velocity = -4,-5
air.hittime = 30
ground.cornerpush.veloff = -9
guard.cornerpush.veloff = -14
down.cornerpush.veloff = -10

[State 245, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 15
poweradd= 0
ctrl = 0
velset = 0,0
anim = 250
sprpriority = 2

[State 99,99]
type = PlaySnd
trigger1 =animelem=8
value =1,1
channel=1

[State 99,99]
type = PlaySnd
trigger1 =animelem=2
value =0,1
channel=0

[State 0]
type = HitDef
trigger1 = AnimElem = 9
attr = S, NA
damage = 108
getpower = 112,60
givepower = 112,60
animtype = heavy
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 10,10
guard.pausetime=10,10
sparkno = s2020
guard.sparkno=s95
sparkxy = -10,-86
hitsound = s1,11
guardsound = s1,14
ground.type = High
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = -5,-5
guard.slidetime = 10;仰け反る時間
guard.hittime = 10;仰け反り中の時間
guard.velocity = -15
airguard.velocity = -3,-4
air.type = high
air.velocity = -4,-5
air.hittime = 30
ground.cornerpush.veloff = -15
guard.cornerpush.veloff = -21
down.cornerpush.veloff = -10
fall = 1

[STate 999,0];地面衝撃
type=Explod
trigger1=animelem=15
anim=2080
pos=0,0
sprpriority=-3
ownpal=1

[State 250,3]
type=PosAdd
trigger1=Animelem=20
x=20

[STate 250,4]
type=StatetypeSet
trigger1=animelem=15
movetype=I

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing strong kick
[Statedef 255]
type    = A
movetype= A
physics = A
juggle  = 15
poweradd= 0
ctrl = 0
anim = 255
sprpriority = 2

[State 99,99]
type = PlaySnd
trigger1 =animelem=3
value =1,1
channel=1

[State 99,99]
type = PlaySnd
trigger1 =time=2
value =0,1
channel=0

[State 600]
type = varSet
triggerall = var(30) = 0
trigger1 = Movecontact
var(30) = 1

[State 0]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = 88
getpower = 112,60
givepower = 112,60
animtype = heavy
guardflag = M
hitflag = MAF
priority = 7, Hit
pausetime = 10,10
guard.pausetime=10,10
sparkno = s2020
guard.sparkno=s95
sparkxy = -10,-55
hitsound = s1,11
guardsound = s1,14
ground.type = High
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = -5,-5
guard.slidetime = 10;仰け反る時間
guard.hittime = 10;仰け反り中の時間
guard.velocity = -10
airguard.velocity = -3,-4
air.type = high
air.velocity = -4,-5
air.hittime = 30
ground.cornerpush.veloff = -10
guard.cornerpush.veloff = -10
down.cornerpush.veloff = -10
fall = 1
;---------------------------------------------------------------------------
;Crouching light punch
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 15
poweradd= 0
ctrl = 0
anim = 400
sprpriority = 2
velset=0,0

[State 99,99]
type = PlaySnd
trigger1 =animelem=2
value =1,0
channel=1

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 17
getpower = 70,35
givepower = 70,35
animtype = light
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 6,6
guard.pausetime=6,6
sparkno = s2010
guard.sparkno=s2040
sparkxy = -10,-42
hitsound = s1,7
guardsound = s1,14
ground.type = High
ground.slidetime = 8
ground.hittime  = 12
ground.velocity = -6
guard.slidetime = 10;仰け反る時間
guard.hittime = 10;仰け反り中の時間
guard.velocity = -7
airguard.velocity = -3,-4
air.type = high
air.velocity = -3,-5
air.hittime = 10
ground.cornerpush.veloff = -7
guard.cornerpush.veloff = -8
down.cornerpush.veloff = -10

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl=1

;---------------------------------------------------------------------------
;Crouching strong punch
[Statedef 410]
type    = C
movetype= A
physics = S
juggle  = 10
poweradd= 0
ctrl = 0
anim = 410
sprpriority = 2
velset=0,0


[State 99,99]
type = PlaySnd
trigger1 =animelem=3
value =1,0
channel=1

[State 99,99]
type = PlaySnd
trigger1 =animelem=2
value =0,1
channel=0

[State 410, 0]
type = PosAdd
trigger1=P2bodydist X>10
trigger1 = AnimElem = 3
x = 8

[STate 440,0]
type=width
trigger1=Time=[9,23]
value=12,0

[State 0]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage = 65
getpower = 84,40
givepower = 84,40
animtype = heavy
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 10,10
guard.pausetime=10,10
sparkno = s2020
guard.sparkno=s95
sparkxy = -10,-46
hitsound = s1,11
guardsound = s1,14
ground.type = low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8
guard.slidetime = 10;仰け反る時間
guard.hittime = 10;仰け反り中の時間
guard.velocity = -9
airguard.velocity = -3,-4
air.type = high
air.velocity = -4,-5
air.hittime = 10
ground.cornerpush.veloff = -13.4
guard.cornerpush.veloff = -17
down.cornerpush.veloff = -10

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouching light kick
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 15
poweradd= 0
ctrl = 0
anim = 430
sprpriority = 2
velset=0,0

[State 99,99]
type = PlaySnd
trigger1 =animelem=2
value =1,1
channel=1

[STate 440,0]
type=width
trigger1=Time=[0,12]
value=16,0

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 22
getpower = 42,20
givepower = 42,20
animtype = hard
guardflag = L
hitflag = MAF
priority = 5, Hit
pausetime = 6,6
guard.pausetime=6,6
sparkno = s2010
guard.sparkno=s2040
sparkxy = -10,-8
hitsound = s1,8
guardsound = s1,14
ground.type = High
ground.slidetime = 5
ground.hittime  = 8
ground.velocity = -5
guard.slidetime = 10;仰け反る時間
guard.hittime = 10;仰け反り中の時間
guard.velocity = -6
airguard.velocity = -3,-4
air.type = high
air.velocity = -4,-5
air.hittime = 10
ground.cornerpush.veloff = -6
guard.cornerpush.veloff = -8
down.cornerpush.veloff = -10

[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch Strong Kick
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 15
poweradd= 0
ctrl = 0
anim = 440
sprpriority = 2
velset=0,0
[STate 440,0]
type=width
trigger1=Time=[19,24]
value=12,0
[State 440, 0]
type = PosAdd
trigger1=P2bodydist X>30
trigger1 = AnimElem = 3
x = 30

[State 99,99]
type = PlaySnd
trigger1 =animelem=7
value =1,1
channel=1
[State 99,99]
type = PlaySnd
trigger1 =animelem=2
value =0,1
channel=0

[State 0]
type = HitDef
trigger1 = AnimElem = 7
attr = C, NA
damage = 76
getpower = 91,45
givepower = 91,45
animtype = heavy
guardflag = L
hitflag = MAF
priority = 5, Hit
pausetime = 10,10
guard.pausetime=10,10
sparkno = s2020
guard.sparkno=s95
sparkxy = -5,-10
hitsound = s1,19
guardsound = s1,14
ground.type = high
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -.8,-5
guard.slidetime = 10;仰け反る時間
guard.hittime = 10;仰け反り中の時間
guard.velocity = -9
airguard.velocity = -3,-4
air.type = high
air.velocity = -4,-5
air.hittime = 10
ground.cornerpush.veloff = -8
guard.cornerpush.veloff = -15
down.cornerpush.veloff = -10
fall = 1
yaccle = .66

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Jump Light Punch
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 15
poweradd= 0
ctrl = 0
anim = 600
sprpriority = 2

[State 99,99]
type = PlaySnd
trigger1 =animelem=3
value =1,0
channel=1

[State 600]
type = varSet
triggerall = var(30) = 0
trigger1 = Movecontact
var(30) = 1

[State 600, 2]
type = HitDef
trigger1 =animelem=3
attr = A, NA
damage    = 18
getpower=42,20
givepower=42,20
guardflag = HA
priority = 7
pausetime = 10,10
sparkno = s2010
guard.sparkno=s2040
sparkxy = -10,-58
hitsound = s1,7
guardsound = s1,14
ground.type = High
ground.slidetime = 8
ground.hittime  = 12
ground.velocity = -2.5
air.velocity = -4.3,-4

;---------------------------------------------------------------------------
;Jump Light Punch
[Statedef 605]
type    = A
movetype= A
physics = A
juggle  = 15
poweradd= 0
ctrl = 0
anim = 605
sprpriority = 2

[State 99,99]
type = PlaySnd
trigger1 =animelem=3
value =1,0
channel=1

[State 600]
type = varSet
triggerall = var(30) = 0
trigger1 = Movecontact
var(30) = 1

[State 600, 2]
type = HitDef
trigger1 =animelem=3
attr = A, NA
damage    = 20
getpower=42,20
givepower=42,20
guardflag = HA
priority = 3
pausetime = 10,10
sparkno = s2010
guard.sparkno=s2040
sparkxy = -10,-58
hitsound = s1,7
guardsound = s1,14
ground.type = High
ground.slidetime = 8
ground.hittime  = 12
ground.velocity = -2.5
air.velocity = -3.3,-4

;---------------------------------------------------------------------------
;Jump Strong Punch
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 15
poweradd= 0
ctrl = 0
anim = 610
sprpriority = 2

[State 99,99]
type = PlaySnd
trigger1 =animelem=3
value =1,0
channel=1

[State 600]
type = varSet
triggerall = var(30) = 0
trigger1 = Movecontact
var(30) = 1

[State 99,99]
type = PlaySnd
trigger1 =animelem=2
value =0,1
channel=0

[State 610, 3]
type = HitDef
trigger1 =animelem=3
attr = A, NA
damage    = 66
getpower=84,40
givepower=84,40
guardflag = HA
priority = 6
pausetime = 10,10
sparkno = s2020
guard.sparkno=s95
sparkxy = -10,-65
hitsound = s1,9
guardsound = s1,14
animtype = hard
ground.type = High
ground.slidetime = 12
ground.hittime  = 14
ground.velocity = -3
air.velocity = -4,-4

;---------------------------------------------------------------------------
;Jump Strong Punch
[Statedef 615]
type    = A
movetype= A
physics = A
juggle  = 15
poweradd= 0
ctrl = 0
anim = 615
sprpriority = 2

[State 99,99]
type = PlaySnd
trigger1 =animelem=3
value =1,0
channel=1

[State 600]
type = varSet
triggerall = var(30) = 0
trigger1 = Movecontact
var(30) = 1

[State 99,99]
type = PlaySnd
trigger1 =animelem=2
value =0,1
channel=0

[State 610, 3]
type = HitDef
trigger1 =animelem=3
attr = A, NA
damage    = 64
getpower=84,40
givepower=84,40
guardflag = HA
priority = 4
pausetime = 10,10
sparkno = s2020
guard.sparkno=s95
sparkxy = -10,-55
hitsound = s1,9
guardsound = s1,14
animtype = hard
ground.type = High
ground.slidetime = 15
ground.hittime  = 17
ground.velocity = -3
air.velocity = -4,-4

;---------------------------------------------------------------------------
;Jump Light Kick
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 15
poweradd= 0
ctrl = 0
anim = 630
sprpriority = 2

[State 99,99]
type = PlaySnd
trigger1 =animelem=3
value =1,1
channel=1

[State 600]
type = varSet
triggerall = var(30) = 0
trigger1 = Movecontact
var(30) = 1

[State 99,99]
type = PlaySnd
trigger1 =animelem=2
value =0,0
channel=0

[State 630, 2]
type = HitDef
trigger1 =animelem=4
attr = A, NA
damage    = 23
getpower=42,20
givepower=42,20
guardflag = HA
priority = 5
pausetime = 10,10
sparkno = s2010
guard.sparkno=s2040
sparkxy = -5,-35
hitsound = s1,8
guardsound = s1,14
ground.type = High
ground.slidetime = 8
ground.hittime  = 12
ground.velocity = -2.5
air.velocity = -4,-4

;---------------------------------------------------------------------------
;Jump Light Kick
[Statedef 635]
type    = A
movetype= A
physics = A
juggle  = 15
poweradd= 0
ctrl = 0
anim = 635
sprpriority = 2

[State 99,99]
type = PlaySnd
trigger1 =animelem=2
value =1,1
channel=1
[State 99,99]
type = PlaySnd
trigger1 =time=2
value =0,0
channel=0

[State 600]
type = varSet
triggerall = var(30) = 0
trigger1 = Movecontact
var(30) = 1

[State 630, 2]
type = HitDef
trigger1 =animelem=2
attr = A, NA
damage    = 25
getpower=42,20
givepower=42,20
guardflag = HA
priority = 3
pausetime = 10,10
sparkno = s2010
guard.sparkno=s2040
sparkxy = -5,-35
hitsound = s1,8
guardsound = s1,14
ground.type = High
ground.slidetime = 8
ground.hittime  = 12
ground.velocity = -2.5
air.velocity = -3,-4

;---------------------------------------------------------------------------
;Jump Strong Kick
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 15
poweradd= 0
ctrl = 0
anim = 640
sprpriority = 2

[State 99,99]
type = PlaySnd
trigger1 =animelem=3
value =1,1
channel=1

[State 99,99]
type = PlaySnd
trigger1 =animelem=2
value =0,1
channel=0

[State 640, 3]
type = HitDef
trigger1 =animelem=3
attr = A, NA
damage    = 68
getpower=84,40
givepower=84,40
guardflag = HA
priority = 4
pausetime = 10,10
sparkno = s2020
guard.sparkno=s95
sparkxy = -10,-40
hitsound = s1,19
guardsound = s1,14
animtype = Med
ground.type = High
ground.slidetime = 13
ground.hittime  = 15
ground.velocity = -3
air.velocity = -4,-4

;---------------------------------------------------------------------------
;Jump Strong Kick
[Statedef 645]
type    = A
movetype= A
physics = A
juggle  = 15
poweradd= 0
ctrl = 0
anim = 645
sprpriority = 2

[State 99,99]
type = PlaySnd
trigger1 =animelem=3
value =1,1
channel=1

[State 99,99]
type = PlaySnd
trigger1 =animelem=2
value =0,1
channel=0

[State 640, 3]
type = HitDef
trigger1 =animelem=3
attr = A, NA
damage    = 64
getpower=84,40
givepower=84,40
guardflag = HA
priority = 7
pausetime = 10,10
sparkno = s2020
guard.sparkno=s95
sparkxy = -10,-60
hitsound = s1,19
guardsound = s1,14
animtype = Med
ground.type = High
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -3
air.velocity = -4,-4

;---------------------------------------------------------------------------
;避け移動
[Statedef 500]
type    = S
movetype= I
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 500
sprpriority = -2
poweradd=0

[STate 500,1]
type=PlaySnd
trigger1=Animelem=2
value=0,7
channel=0

[STate 500,2]
type=VelSet
trigger1=Time=2
x=5.1

[State 500,3]
type=VelSet
trigger1=Animtime=-4
x=0

[STate 500,4]
type=PlayerPush
trigger1=vel X!=0
value=0

[State 500,5]
type=Afterimage
trigger1=Time=2
time=12
trans=add1
length=10

[STate 500,6]
type=HitBy
trigger1=Animtime<=-5
value=SAC,NT,ST,HT

[STate 500,7]
type=Changestate
trigger1=Animtime=0
value=0
ctrl=1
;避け移動
[Statedef 510]
type    = S
movetype= I
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 500
sprpriority = -2
poweradd=0

[STate 500,1]
type=PlaySnd
trigger1=Animelem=2
value=0,7
channel=0

[STate 500,2]
type=VelSet
trigger1=Time=2
x=-5.1

[State 500,3]
type=VelSet
trigger1=Animtime=-4
x=0

[STate 500,4]
type=PlayerPush
trigger1=vel X!=0
value=0

[State 500,5]
type=Afterimage
trigger1=Time=2
time=12
trans=add1
length=10

[STate 500,6]
type=HitBy
trigger1=Animtime<=-5
value=SAC,NT,ST,HT

[STate 500,7]
type=Changestate
trigger1=Animtime=0
value=0
ctrl=1
;---------------------------------------------------------------------------
;ヘッドバット
[Statedef 350]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
anim = 350
sprpriority = 2
velset=0,0

[State 350]
type = PlaySnd
trigger1 =animelem=3
value = 0,1
channel=0

[State 350]
type = PlaySnd
trigger1 =animelem=4
value =1,1
channel=1

[State 350]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 60
getpower = 98,45
givepower = 98,45
animtype = hard
guardflag = HA
hitflag = MAF
priority = 5, Hit
pausetime = 8,10
guard.pausetime=8,8
sparkno = s2030
guard.sparkno=s95
sparkxy = -10,-25
hitsound = s1,9
guardsound = s1,14
ground.type = low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,10
guard.slidetime = 30;仰け反る時間
guard.hittime = 30;仰け反り中の時間
guard.velocity = -12
airguard.velocity = -3,-4
air.type = high
air.velocity = -3,-5
air.hittime = 10
ground.cornerpush.veloff = -15
guard.cornerpush.veloff = -15
down.cornerpush.veloff = -15
fall.recover = 0
fall = 1

[State 350]
type=Changestate
trigger1 = Movehit
trigger1 = command = "引き起こし"
trigger1 = animelem = 4,>= 0 && Animelem = 6,<= 0
value = 360
ignorehitpause = 1

[State 350]
type=Changestate
trigger1=Animtime=0
value=0
ctrl=1
;---------------------------------------------------------------------------
;ヘッドバット
[Statedef 355]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
anim = 350
sprpriority = 2
velset=0,0

[State 355]
type = PlaySnd
trigger1 =animelem=3
value = 0,1
channel=0

[State 355]
type = PlaySnd
trigger1 =animelem=4
value =1,1
channel=1

[State 355]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 60
getpower = 98,45
givepower = 98,45
animtype = hard
guardflag = HA
hitflag = MAF
priority = 5, Hit
pausetime = 8,10
guard.pausetime=8,8
sparkno = s2030
guard.sparkno=s95
sparkxy = -10,-25
hitsound = s1,9
guardsound = s1,14
ground.type = low
ground.slidetime = 32
ground.hittime  = 35
ground.velocity = -8
guard.slidetime = 32;仰け反る時間
guard.hittime = 35;仰け反り中の時間
guard.velocity = -12
airguard.velocity = -3,-4
air.type = high
air.velocity = -3,-5
air.hittime = 20
ground.cornerpush.veloff = -15
guard.cornerpush.veloff = -15
down.cornerpush.veloff = -15

[State 355]
type=Changestate
trigger1=Animtime=0
value=0
ctrl=1

;---------------------------------------------------------------------------
;ヘッドバット・追加
[Statedef 360]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 360
sprpriority = 2
velset=0,0

[State 350]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
damage = 0
getpower = 0,0
givepower = 0,0
animtype = hard
guardflag =
hitflag = MAFD
priority = 5, Hit
pausetime = 0,0
guard.pausetime=8,8
sparkno = s2061
guard.sparkno=s95
sparkxy = -10,-25
hitsound = s1,9
guardsound = s1,14
ground.type = low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,10
guard.slidetime = 30;仰け反る時間
guard.hittime = 30;仰け反り中の時間
guard.velocity = -12
airguard.velocity = -3,-4
air.type = high
air.velocity = -3,-5
air.hittime = 10
ground.cornerpush.veloff = -15
guard.cornerpush.veloff = -15
down.cornerpush.veloff = -15
fall.recover = 0
fall = 1
p1stateno = 1070

[State 360]
type=Changestate
trigger1=Animtime=0
value=0
ctrl=1

;---------------------------------------------------------------------------
;ストライカー呼び
[Statedef 700]
type    = S
movetype= I
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 700
sprpriority = 2

;獅子王♪
[State 700,0]
type=Helper
;trigger1=PalNo=1
trigger1=time=0
stateno=7000
pos=-80,0
postype=back
ownpal=1
id=7000
keyctrl=0
helpertype=Normal

[state 700,1];よろしく！
type=PlaySnd
trigger1=Time=0
value=0,20
channel=0

[STate 700,2]
type=NotHitBy
trigger1=1
trigger1=Animtime<=-15
value=SAC

[STate 700,2]
type=PlayerPush
trigger1=Animtime<=-15
value=0

[State 700,10]
type=Changestate
trigger1=Animtime=0
value=0
ctrl=1
;---------------------------------------------------------------------------
;低空ドロップキック
[Statedef 710]
type    = C
movetype= A
physics = S
juggle  = 10
poweradd= 0
ctrl = 0
anim = 710
sprpriority = 2
velset=0,0

[STate 720,1]
type=Width
trigger1=animelem=3,>=0
trigger1=Animelem=11,<=0
value=20,0

[STate 720,1]
type=Width
trigger1=animelem=12,>=0
trigger1=Animelem=17,<=0
value=40,0

[State 710,0]
type=posadd
trigger1=Animelem=1
trigger2=Animelem=2
trigger3 = animelem =6
trigger4 = animelem =8
trigger5 = animelem =9
x=5

[State 710,0]
type=posadd
trigger1=Animelem=3
trigger2 = animelem = 4
trigger3 = animelem = 5
trigger4 = animelem = 7
trigger5 = animelem =10
x=10


[State 99,99]
type = PlaySnd
trigger1 =animelem=4
value =1,26
channel=1

[State 0]
type = HitDef
trigger1 = AnimElem = 5
attr = C, NA
damage = 52
getpower = 98,45
givepower = 98,45
animtype = hard
guardflag = L
hitflag = MAF
priority = 5, Hit
pausetime = 8,10
guard.pausetime=8,8
sparkno = s2030
guard.sparkno=s95
sparkxy = -10,-25
hitsound = s1,9
guardsound = s1,14
ground.type = low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7
guard.slidetime = 10;仰け反る時間
guard.hittime = 10;仰け反り中の時間
guard.velocity = -8
airguard.velocity = -3,-4
air.type = high
air.velocity = -3,-5
air.hittime = 10
ground.cornerpush.veloff = -7
guard.cornerpush.veloff = -10
down.cornerpush.veloff = -10

[State 710,4]
type=Changestate
trigger1=Animtime=0
value=0
ctrl=1
;---------------------------------------------------------------------------
;低空ドロップキック
[Statedef 720]
type    = C
movetype= A
physics = S
juggle  = 10
poweradd= 0
ctrl = 0
anim = 720
sprpriority = 2
velset=0,0

[STate 720,1]
type=Width
trigger1=animelem=3,>=0
trigger1=Animelem=11,<=0
value=10,0

[STate 720,1]
type=Width
trigger1=animelem=12,>=0
trigger1=Animelem=17,<=0
value=40,0

[State 710,0]
type=null;posadd
trigger1=Animelem=1
trigger2=Animelem=2
x=5

[State 710,0]
type=null;VelSet
trigger1=Animelem=5
x=8

[State 710,0]
type=posadd
trigger1=Animelem=1
trigger2=Animelem=2
trigger3 = animelem =6
trigger4 = animelem =8
trigger5 = animelem =9
x=5

[State 710,0]
type=posadd
trigger1=Animelem=3
trigger2 = animelem = 4
trigger3 = animelem = 5
trigger4 = animelem = 7
trigger5 = animelem =10
x=10

[State 99,99]
type = PlaySnd
trigger1 =animelem=4
value =1,26
channel=1


[State 0]
type = HitDef
trigger1 = AnimElem = 6
attr = C, NA
damage = 52
getpower = 98,45
givepower = 98,45
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 8,10
guard.pausetime=8,8
sparkno = s2030
guard.sparkno=s95
sparkxy = -10,-25
hitsound = s1,9
guardsound = s1,14
ground.type = low
ground.slidetime = 18
ground.hittime  = 20
ground.velocity = -7
guard.slidetime = 10;仰け反る時間
guard.hittime = 10;仰け反り中の時間
guard.velocity = -9
airguard.velocity = -3,-4
air.type = high
air.velocity = -3,-5
air.hittime = 15
ground.cornerpush.veloff = -9
guard.cornerpush.veloff = -12
down.cornerpush.veloff = -10

[State 720,4]
type=Changestate
trigger1=Animtime=0
value=0
ctrl=1
;---------------------------------------------------------------------------
;GCふっとばし
[Statedef 730]
type    = S
movetype= A
physics = S
juggle  = 15
poweradd= -1000
ctrl = 0
anim = 730
sprpriority = 2
velset=0,0

[STate 720,1]
type=posadd
trigger1=animelem=2
x=20

[State 99,99]
type = PlaySnd
trigger1 =animelem=3
value =0,2
channel=0

[State 720, 3]
type = HitDef
trigger1 =animelem=4
attr = S, NA
damage = 50
getpower = 0,0
givepower = 98,45
guardflag =
priority = 7
pausetime = 10,10
sparkno = s2020
guard.sparkno=s95
sparkxy = -10,-70
hitsound = s1,11
guardsound = s1,14
animtype = digup
ground.type = high
ground.slidetime = 14
ground.hittime  = 19
ground.velocity = -4,-5
air.velocity = -4,-5
guard.cornerpush.veloff=-10
ground.cornerpush.veloff =-12
fall=1
envshake.ampl=5
envshake.time=5

[State 730,4]
type=Nothitby
trigger1=time <= 8
value=SAC

[State 730,5]
type=PalFx
trigger1=Time=1
value=255,255,255
time=8

[State 730,5]
type=envcolor
trigger1=Time=0
value=255,255,255
time=1

[State 730,6]
type=Pause
trigger1=Time=0
time=5

[STate 730,6]
type=Changestate
trigger1=Animtime=0
value=0
ctrl=1

[State 730,7]
type=AfterImage
trigger1=Time=1
trans=add1
time=15

[State 730,8]
type = PlaySnd
trigger1 =animelem=4
value =1,1
channel=1
;---------------------------------------------------------------------------
;避け移動
[Statedef 740]
type    = S
movetype= I
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 500
sprpriority = -2
poweradd=-1000

[STate 500,1]
type=PlaySnd
trigger1=Animelem=2
value=0,7
channel=0

[STate 500,2]
type=VelSet
trigger1=Time=2
x=6.6

[State 500,3]
type=VelSet
trigger1=Animtime=-4
x=0

[STate 500,4]
type=PlayerPush
trigger1=vel X!=0
value=0

[State 500,5]
type=Afterimage
trigger1=Time=2
time=12
trans=add1
length=10

[State 730,4]
type=Nothitby
trigger1=1
value=SAC

[State 730,5]
type=PalFx
trigger1=Time=1
value=255,255,255
time=10

[State 730,5]
type=envcolor
trigger1=Time=0
value=255,255,255
time=1

[State 730,6]
type=Pause
trigger1=Time=0
time=6
[STate 500,7]
type=Changestate
trigger1=Animtime=0
value=0
ctrl=1
;避け移動
[Statedef 750]
type    = S
movetype= I
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 500
sprpriority = -2
poweradd=-1000

[STate 500,1]
type=PlaySnd
trigger1=Animelem=2
value=0,7
channel=0

[STate 500,2]
type=VelSet
trigger1=Time=2
x=-6.6

[State 500,3]
type=VelSet
trigger1=Animtime=-4
x=0

[STate 500,4]
type=PlayerPush
trigger1=vel X!=0
value=0

[State 500,5]
type=Afterimage
trigger1=Time=2
time=12
trans=add1
length=10

[State 730,4]
type=Nothitby
trigger1=1
value=SAC

[State 730,5]
type=PalFx
trigger1=Time=1
value=255,255,255
time=10

[State 730,5]
type=envcolor
trigger1=Time=0
value=255,255,255
time=1

[State 730,6]
type=Pause
trigger1=Time=0
time=6

[STate 500,7]
type=Changestate
trigger1=Animtime=0
value=0
ctrl=1

;---------------------------------------------------------------------------
;アームホイップ
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 800, 1]
type = HitDef
triggerall=P2stateno!=40
triggerall=P2stateno!=[120,153]
trigger1=Time=0
attr = S, NT          ;Attributes: Standing, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
sprpriority = 1       ;Draw in front of p2
p1facing = 1;ifelse (command = "holdfwd", -1, 1) ;Turn if holding forwards
p2facing = 1          ;Force p2 to face KFM
p1stateno = 810       ;On success, KFM changes to state 810
p2stateno = 820       ;If hit, p2 changes to state 820 in KFM's cns
fall = 1              ;Force p2 into falling down

[State 800, 2]
type = ChangeState
Trigger1 = animTime = 0
value = 215
;---------------------------------------------------------------------------
[Statedef 810]
type    = S
movetype= A
physics = N
anim = 810

[State 99,99]
type = PlaySnd
trigger1 =animelem = 2
value =1,13
channel=1

[STate 810,0];掴み
type=Explod
trigger1=animelem = 2
anim=2060
pos=10,-80
sprpriority=3
ownpal=1

[STate 810]
type=PosAdd
trigger1=FrontEdgeBodydist<=50
trigger1=Time=0
x=-40

[STate 810,0]
type=targetBind
trigger1=Animelem=1,>=0
trigger1 = animelem = 2,<=0
pos=0,0
postype=p1

[STate 810,0]
type=targetBind
trigger1=Animelem=3
pos=10,-66
postype=p1

[STate 810,0]
type=targetBind
trigger1=Animelem=4
pos=2,-66
postype=p1

[STate 810,0]
type=targetBind
trigger1=Animelem=5
pos=21,-99
postype=p1

[STate 810,0]
type=targetBind
trigger1=Animelem=6
pos=66,-53
postype=p1

[STate 810,0]
type=targetBind
trigger1=Animelem=7
pos=32,-19
postype=p1

[STate 810,0]
type=targetBind
trigger1=Animelem=8
pos=40,-10
postype=p1

[STate 810,0]
type=targetstate
trigger1=Animelem=8
value=821

[State 810,2]
type=Targetlifeadd
value=-110 - var(7)*15
trigger1=Animelem=8

[STate 999,0];地面衝撃
type=Explod
trigger1=animelem=8
anim=2080
pos=0,0
sprpriority=-3
ownpal=1

[State 810, State End]
type = ChangeState
trigger1 = enemy,stateno = 825
value = 830

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 810,4]
type=sprpriority
trigger1=Animelem=5
value=-3

[State 810]
type = posadd
trigger1 = animelem = 7
x = 50

[State 810,5]
type=EnvShake
trigger1=Animelem=7
ampl=6
time=10

[STate 810,6]
type=PlaySnd
trigger1=Animelem=7
value=1,16
channel=2

[State 3310,1]
type=PlaySnd
trigger1=animelem=5
value=0,1
channel=0

;---------------------------------------------------------------------------
[Statedef 820]
type    = L
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 820

[STate 820,2]
type=Sprpriority
trigger1=Animelem=4
value=3

[STate 920,5]
type=Screenbound
trigger1=time<=20
value=0

[STate 820,2]
type=Sprpriority
trigger1=time=31
value=-2

[State 820]
type = changestate
trigger1 = time < 4
trigger1 = command ="y" || command ="z"
trigger1 = command ="holdfwd"||command="holdback"
value = 825


;相手
[Statedef 821]
type    = L
movetype= H
physics = N
juggle  = 0
velset = -5,-6
ctrl = 0
sprpriority = -2

[State 821,1]
type=Changeanim2
trigger1=Time=0
value=821

[STate 821,2]
type=veladd
trigger1=1
y=.4

[STate 821,3]
type=selfstate
trigger1=pos Y>=0&&Vel Y>0
value=5100

;---------------------------------------------------------------------------
;投げ外し相手
[Statedef 825]
type    = S
movetype= H
physics = S
velset = -10,0

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5002

[STate 821,3]
type=selfstate
trigger1=time >= 25
value=5001

;---------------------------------------------------------------------------
;投げ外しラモン
[Statedef 830]
type    = S
movetype= I
physics = S
velset = -7,0
anim = 5910

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 20
trigger1 = anim = 5910
value = 5911

[State 830]
type = playsnd
trigger1 = time = 1
value =1,11

[State 830]
type=envcolor
trigger1 =time = 1
time=1
value=255,255,255
under=0

[State 830]
type = changestate
trigger1 = anim = 5911
trigger1 = time >= 10
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;フライングメイヤー
[Statedef 900]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 900, 1]
type = HitDef
triggerall=P2stateno!=40
triggerall=P2stateno!=[120,153]
trigger1=Time=0
attr = S, NT          ;Attributes: Standing, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
sprpriority = 1       ;Draw in front of p2
p1facing = 1;ifelse (command = "holdfwd", -1, 1) ;Turn if holding forwards
p2facing = 1          ;Force p2 to face KFM
p1stateno = 910       ;On success, KFM changes to state 810
p2stateno = 920       ;If hit, p2 changes to state 820 in KFM's cns
fall = 1              ;Force p2 into falling down

[State 800, 2]
type = ChangeState
Trigger1 =animTime = 0
value = 245
;---------------------------------------------------------------------------
[Statedef 910]
type    = S
movetype= A
physics = N
anim = 910
[State 99,99]
type = PlaySnd
trigger1 =animelem = 2
value =1,13
channel=1

[STate 910,0]
type=PosAdd
trigger1=Time=0&&Backedgebodydist<=40
x=40

[STate 810,0];掴み
type=Explod
trigger1=animelem = 2
anim=2060
pos=10,-80
sprpriority=3
ownpal=1
[State 810,1]
type=PlaySnd
trigger1=animelem=6
value=1,2
channel=3

[STate 810,0]
type=targetBind
trigger1=Animelem=1
pos=10,0
postype=p1

[STate 810,0]
type=targetBind
trigger1=Animelem=3
pos=10,-80
postype=p1

[STate 810,0]
type=targetBind
trigger1=Animelem=4
pos=-30,-70
postype=p1

[STate 810,0]
type=targetBind
trigger1=Animelem=5
pos=-44,-67
postype=p1

[STate 810,0]
type=targetBind
trigger1=Animelem=6
pos=-60,-60
postype=p1

[STate 810,0]
type=targetBind
trigger1=Animelem=7
pos=-70,-30
postype=p1

[STate 810,0]
type=targetBind
trigger1=animelem = 8
pos=-120,0
postype=p1

[STate 810,0]
type=targetlifeadd
trigger1=animelem=8
value=-115 - var(7)*15

[STate 810,0]
type=targetstate
trigger1=animelem=8
value=930

[State 910,4]
type=EnvShake
trigger1=Animelem=8
ampl=6
time=10

[State 810,1]
type=PlaySnd
trigger1=animelem=8
value=1,16
channel=3

[STate 999,0];地面衝撃
type=Explod
trigger1=p2stateno=930
anim=2080
pos=0,0
postype=P2
sprpriority=-3
ownpal=1
persistent=0

[State 810, State End]
type = ChangeState
trigger1 = enemy,stateno = 825
value = 830

[State 910,5]
type=Changestate
trigger1=Animtime=0
value=915
[State 3310,1]
type=PlaySnd
trigger1=time=12
value=0,1
channel=0

;---------------------------------------------------------------------------
[Statedef 915]
type    = S
movetype= A
physics = N
anim = 11
poweradd = 0
ctrl=0

[STate 915,1]
type=turn
trigger1=time=0

[State 915,1]
type=PosAdd
trigger1=Time=0
x=30

[STate 915,2]
type=Changestate
trigger1=time=8
value=11
ctrl=1

;---------------------------------------------------------------------------
[Statedef 920]
type    = L
movetype= H
physics = N
poweradd = 30
ctrl=0

[State 920,1]
type=Changeanim2
trigger1=Time=0
value=920

[State 920,3]
type=changestate
trigger1=Animtime=0
value=930

[STate 920,4]
type=Turn
trigger1=animelem=2

[STate 920,5]
type=Screenbound
trigger1=1;time<=20
value=0
;movecamera=1,0

[State 820]
type = changestate
trigger1 = time < 3
trigger1 = command ="b" || command ="z"
trigger1 = command ="holdfwd"||command="holdback"
value = 825

;---------------------------------------------------------------------------
[Statedef 930]
type    = L
movetype= H
physics = N
poweradd = 0
ctrl=0
velset=-4,0

[State 930,1]
type=Changeanim2
trigger1=Time=0
value=930

[State 930,1]
type=VelSet
trigger1=time=3
y=-4

[State 930,1]
type=Veladd
trigger1=time>=3
y=.4

[State 930,2]
type=SelfState
trigger1=Pos Y>=0&&Vel Y>0&&Time>5
value=5110

[STate 920,5]
type=Screenbound
trigger1=time<=2
value=1
movecamera=0,1
;---------------------------------------------------------------------------
;ソバット・弱
[Statedef 1000]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 1000
poweradd = 100
sprpriority = 2
juggle = 14

[State 1070]
type = varset
trigger1 = time = 0
var(19) = 0

[State 1000]
type = posadd
trigger1 = animelem = 5
trigger2 = animelem = 9
x = 10

[State 1000]
type = posadd
trigger1 = animelem = 15
x = 5

[State 0]
type = HitDef
trigger1 = AnimElem = 12
trigger1 = enemy,movetype = A;stateno =[1000,4999]
attr = S, SA
damage = 75,1
getpower = 56,28
givepower = 56,28
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 6,6
sparkno = s2030
guard.sparkno = s2050
sparkxy = -10, -60
hitsound = s1,11
guardsound = s1,15
ground.type = High
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = -3,-4
guard.slidetime = 10;仰け反る時間
guard.hittime = 10;仰け反り中の時間
guard.velocity = -10
airguard.velocity = -3,-4
air.type = high
air.velocity = -3,-5
air.hittime = 16
ground.cornerpush.veloff = -6
guard.cornerpush.veloff = -10
down.cornerpush.veloff = -10
fall.recover=0
fall=1
p2stateno=7025
p2facing=1

[State 0]
type = HitDef
trigger1 = AnimElem = 12
trigger1 = enemy,movetype != A; !=[1000,4999]
attr = S, SA
damage = 70,1
getpower = 56,28
givepower = 56,28
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 10,10
sparkno = s2030
guard.sparkno = s2050
sparkxy = -10, -60
hitsound = s1,11
guardsound = s1,15
ground.type = High
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = -3,-4
guard.slidetime = 10;仰け反る時間
guard.hittime = 10;仰け反り中の時間
guard.velocity = -10
airguard.velocity = -3,-4
air.type = high
air.velocity = -3,-5
air.hittime = 16
ground.cornerpush.veloff = -6
guard.cornerpush.veloff = -10
down.cornerpush.veloff = -10
fall.recover=0
fall=1
;p2stateno=1020
p2facing=1

[State 1000]
type = PlaySnd
trigger1 =animelem=10
value =1,5
channel=1

[State 1000]
type = PlaySnd
trigger1 =animelem=5
value =0,11
channel=0

[STate 1000];地面衝撃
type=Explod
trigger1 = movehit
trigger1 = enemy,stateno = 1060
anim = 2080
pos=0,0
postype = p2
sprpriority=-3
ownpal=1
persistent = 0

[State 1000]
type = PlaySnd
trigger1 = movehit
trigger1 = enemy,stateno = 1060
value = 1,2
channel=1

[State 1000]
type = TargetBind
trigger1 = Movehit
trigger1 = Numtarget
trigger1 = target,stateno = 1020 && target,animElem = 2
pos = 50,-60
persistent = 0

[State 1000]
type = ChangeState
triggerall = movehit && (enemy,stateno != [7025,7050])
triggerall = Animelem = 12,>=0
triggerall = animelem = 14,<=0
trigger1 = command = "ソバットa" || command = "ソバットb"
trigger2 = var(1) && random <= 888
value = 1030

[State 1000]
type = ChangeState
triggerall = movehit && (enemy,stateno = [7025,7050])
triggerall = Animelem = 12,>=0
triggerall = animelem = 14,<=0
trigger1 = command = "ソバットa" || command = "ソバットb"
trigger2 = var(1) && random <= 888
value = 1031

[State 1000]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ソバット・強
[Statedef 1001]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 1001
poweradd = 100
sprpriority = 2
juggle = 14

[State 1070]
type = varset
trigger1 = time = 0
var(19) = 0

[State 1000]
type = posadd
trigger1 = animelem = 5
trigger2 = animelem = 9
x = 12

[State 1000]
type = posadd
trigger1 = animelem = 15
x = 5


[State 0]
type = HitDef
trigger1 = AnimElem = 12
trigger1 = enemy,movetype = A;enemy,stateno =[1000,4999]
attr = A, SA
damage = 80,1
getpower = 84,8
givepower = 84,8
animtype = hard
guardflag = HA
hitflag = MAF
priority = 5, Hit
pausetime = 6,6
sparkno = s2030
guard.sparkno = s2050
sparkxy = -10, -60
hitsound = s1,11
guardsound = s1,15
ground.type = High
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = -3,-4
guard.slidetime = 10;仰け反る時間
guard.hittime = 10;仰け反り中の時間
guard.velocity = -10
airguard.velocity = -3,-4
air.type = high
air.velocity = -3,-5
air.hittime = 16
ground.cornerpush.veloff = -6
guard.cornerpush.veloff = -10
down.cornerpush.veloff = -10
fall.recover=0
fall=1
p2stateno=7025
p2facing=1

[State 0]
type = HitDef
trigger1 = AnimElem = 12
trigger1 = enemy,movetype != A;enemy,stateno !=[1000,4999]
attr = S, SA
damage = 77,1
getpower = 84,8
givepower = 84,8
animtype = hard
guardflag = HA
hitflag = MAF
priority = 5, Hit
pausetime = 10,10
sparkno = s2030
guard.sparkno = s2050
sparkxy = -10, -60
hitsound = s1,11
guardsound = s1,15
ground.type = High
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = -3,-4
guard.slidetime = 10;仰け反る時間
guard.hittime = 10;仰け反り中の時間
guard.velocity = -10
airguard.velocity = -3,-4
air.type = high
air.velocity = -3,-5
air.hittime = 16
ground.cornerpush.veloff = -6
guard.cornerpush.veloff = -10
down.cornerpush.veloff = -10

fall.recover=0
fall=1
;p2stateno=1020
p2facing=1


[State 1000]
type = TargetBind
trigger1 = Movehit
trigger1 = Numtarget
trigger1 = target,stateno = 1020 && target,animElem = 2
pos = 50,-60
persistent = 0

[State 1000]
type = PlaySnd
trigger1 =animelem=10
value =1,5
channel=1

[State 1000]
type = PlaySnd
trigger1 =animelem=5
value =0,11
channel=0


[STate 1000];地面衝撃
type=Explod
trigger1 = movehit
trigger1 = enemy,stateno = 1060
anim = 2080
pos=0,0
postype = p2
sprpriority=-3
ownpal=1
persistent = 0

[State 1000]
type = PlaySnd
trigger1 = movehit
trigger1 = enemy,stateno = 1060
value = 1,2
channel=1

[State 1000]
type = ChangeState
triggerall = movehit && (enemy,stateno != [7025,7050])
triggerall = Animelem = 12,>=0
triggerall = animelem = 14,<=0
trigger1 = command = "ソバットa" || command = "ソバットb"
trigger2 = var(1) && random <= 888
value = 1030

[State 1000]
type = ChangeState
triggerall = movehit && (enemy,stateno = [7025,7050])
triggerall = Animelem = 12,>=0
triggerall = animelem = 14,<=0
trigger1 = command = "ソバットa" || command = "ソバットb"
trigger2 = var(1) && random <= 888
value = 1031

[State 1001]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;吹き飛び
[Statedef 1020]
type    = A
movetype= H
physics = N
poweradd= 80
ctrl = 0
sprpriority = -2
velset=0,0

[State 1020]
type = changeanim2
trigger1 = time=0
value = 1020

[State 1020]
type = velset
trigger1 = animelem=2
x=-4
y=-4

[State 1020]
type = veladd
trigger1 = animelem=2,>=0
y=.4

[State 1020]
type = changestate
trigger1 = pos Y>=0 && vel Y>0
value = 1060
;---------------------------------------------------------------------------
;吹き飛びすべりダウン
[Statedef 1040]
type    = L
movetype= H
physics = S
poweradd= 0
ctrl = 0
sprpriority = -2
velset=-9,0

[State 1040]
type = changeanim2
trigger1 = time=0
value = 1040

[State 1040]
type = posset
trigger1 = time=0
y=0

[State 1040]
type = makedust
trigger1 = time <= 10
pos = -20,0
spacing = 1

[State 1040]
type = selfstate
trigger1 = alive = 0
trigger1 = animtime=0
value = 5150

[State 1040]
type = selfstate
trigger1 = alive
trigger1 = animtime=0
value = 5120

;---------------------------------------------------------------------------
;吹き飛びノーマルダウン
[Statedef 1060]
type    = L
movetype= H
physics = N
poweradd= 0
ctrl = 0
sprpriority = -2
velset=0,0

[State 1040]
type = posset
trigger1 = time=0
y=0

[State 1020]
type = changeanim2
trigger1 = time=0
value = 1060

[State 1020]
type = velset
trigger1 = animelem=2
x=-2.5
y=-3

[State 1020]
type = veladd
trigger1 = animelem=2,>=0
y=.4

[State 1020]
type = selfstate
trigger1 = pos Y>=0 && vel Y>0
value = 5110

;---------------------------------------------------------------------------
;ソバット・ボディアタック
[Statedef 1030]
type    = A
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 1030
poweradd = 0
sprpriority = 2
juggle = 0

[State 1030]
type = TargetBind
trigger1 = Numtarget
trigger1 = target,stateno = 1020 && target,animElem = 2
pos = 50,-60
persistent = 0

[State 1030]
type = varset
trigger1 = time = 0
var(19) = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 10
attr = A, SA
damage = 30
getpower = 28,28
givepower = 28,28
animtype = hard
guardflag =
hitflag = MAFD
priority = 5, Hit
pausetime = 8,10
sparkno = s2030
guard.sparkno=s2050
sparkxy = -10, -40
hitsound = s1,11
guardsound = s1,15
ground.type = High
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = -3,-4
airguard.velocity = -3,-4
air.type = high
air.velocity = -3,-5
air.hittime = 16
getpower=120,60
fall.recover=0
fall=1
p2facing=1

[State 1030]
type = velset
trigger1 = animelem = 7
x = 6
y = -5

[State 1030]
type = veladd
trigger1 = animelem = 7,>=0
y = .4

[State 1000]
type = PlaySnd
trigger1 =animelem=7
value =1,22
channel=1

[State 1030]
type = varset
trigger1 = command = "引き起こし"
var(19) = 1

[State 1000]
type = ChangeState
triggerall = movehit
triggerall = pos Y >= 20 && vel Y>0
trigger1 = var(19) = 1
trigger2 = var(1) && random <= 777
value = 1070

[State 1001]
type = ChangeState
trigger1 = pos Y >= 20 && vel Y>0
value = 1035
;---------------------------------------------------------------------------
;ソバット・対空ボディアタック
[Statedef 1031]
type    = A
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 1030
poweradd = 0
sprpriority = 2
juggle = 0

[State 1030]
type = varset
trigger1 = time = 0
var(19) = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 10
attr = A, SA
damage = 25
getpower = 50,28
givepower = 50,28
animtype = digup
guardflag =
hitflag = MAFD
priority = 5, Hit
pausetime = 8,10
sparkno = s2030
guard.sparkno=s2050
sparkxy = -10, -40
hitsound = s1,11
guardsound = s1,15
ground.type = High
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = -3,-4
airguard.velocity = -3,-4
air.type = high
air.velocity = -4,-6
air.hittime = 16
fall.recover=0
fall=1
p2facing=1
p1stateno = 1570
p2stateno =1580

[State 1030]
type = velset
trigger1 = animelem = 7
x = 4.6
y = -8.5

[State 1030]
type = veladd
trigger1 = animelem = 7,>=0
y = .4

[State 1000]
type = PlaySnd
trigger1 =animelem=7
value =1,22
channel=1

[State 1001]
type = ChangeState
trigger1 = pos Y >= 20 && vel Y>0
value = 1035

;======================================
;ダウン
[Statedef 1035]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 1140
sprpriority = 2
poweradd=0

[State 1035]
type = posset
trigger1 = time=0
y=0

[State 1035]
type = turn
trigger1 = time=0

[STate 1035]
type=Explod
trigger1=animelem=1
anim=2080
ownpal=1
pos=0,0
postype=p1
sprpriority=-3

[State 1035]
type = playsnd
trigger1 = animelem = 1
value =1,2

[State 1035]
type = changestate
trigger1 = animtime=0
value = 0
ctrl=1

;---------------------------------------------------------------------------
;ソバット・引き起こし
[Statedef 1070]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 1070
poweradd = 0
sprpriority = 2
juggle = 0

[State 1070]
type = posset
trigger1 = time = 0
y = 0

[State 1070]
type = posadd
trigger1 = time = 0
trigger1 = frontedgebodydist <= 40
x = -50

[State 1070]
type = targetstate
trigger1 = time = 0
value = 1080

[State 1070]
type = targetbind
trigger1 = animelem=1
pos = 30,0

[State 1070]
type = targetbind
trigger1 = animelem=2
pos = 30,0

[State 1070]
type = targetbind
trigger1 = animelem=3
pos = 25,-15

[State 1070]
type = targetbind
trigger1 = animelem=5
pos = 25,-7

[State 1070]
type = targetbind
trigger1 = animelem=6
pos = 25,-40

[State 1070]
type = targetbind
trigger1 = animelem=7
pos = 15,-45

[State 1070]
type = targetbind
trigger1 = animelem=8
pos = 15,-70

[State 1070]
type = targetbind
trigger1 = animelem=9
pos = 20,-70

[State 1070]
type = targetbind
trigger1 = animelem=10
pos = 30,-70

[State 1070]
type = targetbind
trigger1 = animelem=11
pos = 35,0

[State 1070]
type = varset
trigger1 = time = 0
var(19) = 0

[State 1070]
type = HitDef
trigger1 = AnimElem = 15
attr = S, SA
damage = 25,1
getpower = 28,28
givepower = 28,28
animtype = hard
guardflag =
hitflag = MAFD
priority = 5, Hit
pausetime = 0,10
sparkno = s2030
guard.sparkno=s2050
sparkxy = -10, -80
hitsound = s1,11
guardsound = s1,15
ground.type = low
ground.slidetime = 20
ground.hittime  = 25
ground.velocity = -4
airguard.velocity = 0,0
air.type = high
air.velocity = 0,0
air.hittime = 16
getpower=100,50
p2facing=1
p2stateno = 1090

[State 1070]
type = Explod
trigger1 = Animelem = 4
anim = 2030
id = 2030
pos = 30,-5
ownpal = 1
sprpriority = 3

[State 1070]
type = Explod
trigger1 = Animelem = 5
anim = 2061
id = 2061
pos = 25,-7
ownpal = 1
sprpriority = 3

[State 1000]
type = PlaySnd
trigger1 =animelem=5
value =1,21

[State 1000]
type = PlaySnd
trigger1 =animelem=3
value =0,24

[State 1000]
type = PlaySnd
trigger1 =animelem=4
value =1,11

[State 1070]
type = envshake
trigger1 = time =0
trigger2 = animelem = 4
ampl=7
time = 8

[State 1001]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl=1

;---------------------------------------------------------------------------
;引き起こし
[Statedef 1080]
type    = S
movetype= H
physics = S
poweradd= 0
ctrl = 0
sprpriority = -2
velset=0,0

[State 1080]
type = changeanim2
trigger1 = time=0
value = 1080

[State 1090]
type=StatetypeSet
trigger1 = 1
value = S

[State 1080]
type = posset
trigger1 = animelem = 7,>=0
y = 0

[State 1080]
type = velset
trigger1 = animelem=7
x=-5

[State 1080]
type = selfstate
trigger1 = animtime=0
value = 5100
;---------------------------------------------------------------------------
;のけぞり
[Statedef 1090]
type    = S
movetype= H
physics = S
poweradd= 0
ctrl = 0
sprpriority = -2
velset=0,0

[State 1090]
type = changeanim2
trigger1 = time=0
value = 1090

[State 1090]
type = posset
trigger1 = 1
y = 0

[State 1090]
type = velset
trigger1 = animelem = 2
x = -7

[State 1090]
type = velset
trigger1 = animelem = 2
trigger1 = alive = 0
y = -4

[State 1090]
type = changeanim
trigger1 = animelem = 2
trigger1 = alive = 0
value = 5030

[State 1090]
type = selfstate
trigger1 = anim = 5030
value = 5030

[State 1090]
type = selfstate
trigger1 = animtime = 0
trigger1 = alive
value = 0
ctrl=1
;---------------------------------------------------------------------------
;フェイントステップ・初め
[Statedef 1100]
type    = S
movetype= I
physics = S
poweradd= 100
ctrl = 0
anim = 1100
sprpriority = 2
velset=-3.5,0

[State 1100]
type=varSet
trigger1=Time=0
var(21)=0

[State 1100]
type=ChangeState
trigger1=Animtime=0
value=1121
;---------------------------------------------------------------------------
;フェイントステップ・前進
[Statedef 1120]
type    = S
movetype= I
physics = N
poweradd= 0
ctrl = 0
anim = 1120
sprpriority = 2
velset=0,0

[State 1100]
type=velset
trigger1=animelem=2
x=4

[State 1100]
type=varadd
trigger1=Time=0
var(21)=1

[State 1100]
type=ChangeState
trigger1=var(21)<3
trigger1=Animtime=0
value=1121

[State 1100]
type=ChangeState
trigger1=var(21)=3
trigger1=Animtime=0
trigger2=command!="holdx"
trigger2=animelem=2,>=0
value=1130

;---------------------------------------------------------------------------
;フェイントステップ・後退
[Statedef 1121]
type    = S
movetype= I
physics = N
poweradd= 0
ctrl = 0
anim = 1121
sprpriority = 2

[State 1100]
type=velset
trigger1=animelem=2
x=-4

[State 1100]
type=ChangeState
;trigger1=var(21)<4
trigger1=Animtime=0
value=1120

[State 1100]
type=ChangeState
trigger1=command!="holdx"
trigger1=animelem=2,>=0
value=1130

;---------------------------------------------------------------------------
;フェイントステップ・ドロップキック
[Statedef 1130]
type    = A
movetype= A
physics = N
poweradd= 100
ctrl = 0
anim = 1130
sprpriority = 2
velset=0,0
juggle = 1

[State 1100]
type=varSet
trigger1=Time=0
var(21)=0

[State 1100, 3]
type = HitDef
trigger1 =animelem=8
trigger1 = enemy,movetype = A
attr = A, SA
damage = 86,1
getpower = 140,70
givepower = 140,70
guardflag = MA
priority = 4
pausetime = 8,8
sparkno = s2030
guard.sparkno=s2050
sparkxy = -10,-70
hitsound = s1,11
guardsound = s1,15
animtype = hard
ground.type = High
ground.slidetime = 16
ground.hittime  = 18
ground.velocity = -4,-4
air.velocity = -4,-4
getpower=150,75
fall=1
p2stateno =7025
p2facing = 1

[State 1100, 3]
type = HitDef
trigger1 =animelem=8
trigger1 = enemy,movetype != A
attr = A, SA
damage = 86,1
getpower = 140,70
givepower = 140,70
guardflag = HA
priority = 4
pausetime = 8,8
sparkno = s2030
guard.sparkno=s2050
sparkxy = -10,-40
hitsound = s1,11
guardsound = s1,15
animtype = hard
ground.type = High
ground.slidetime = 16
ground.hittime  = 18
ground.velocity = -4,-4
air.velocity = -4,-4
getpower=150,75
fall=1
p2stateno =1135
p2facing = 1

[State 1130]
type = velset
trigger1 = animelem= 4
x=5
y=-5

[State 1500]
type = playsnd
trigger1 = animelem = 1
value = 0,12
channel = 0

[State 1685]
type = playsnd
trigger1 = animelem = 4
value = 1,25

[State 1130]
type = veladd
trigger1 = animelem= 4,>=0
y=.3

[State 1130]
type = changestate
trigger1 = Animtime = 0
value = 1140
;---------------------------------------------------------------------------
;吹き飛び
[Statedef 1135]
type    = A
movetype= H
physics = N
poweradd= 50
ctrl = 0
sprpriority = -2
velset=0,0

[State 1135]
type = changeanim2
trigger1 = time = 0
value = 1135

[State 1135]
type = velset
trigger1 = Animelem = 3
x=-5
y=-5

[State 1135]
type = veladd
trigger1 = Animelem = 3,>= 0
y=.4

[State 1135]
type = changestate
trigger1 = pos Y>=20 && vel Y>0
value = 1040

;---------------------------------------------------------------------------
;フェイントステップ・ドロップK着地
[Statedef 1140]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
anim = 1140
sprpriority = 2
velset=0,0

[State 1140]
type=PosSet
trigger1=Time=0
y=0

[State 1140]
type=varSet
trigger1=Time=0
var(21)=0

[State 1140]
type = Explod
trigger1 = Animelem = 1
anim = 2080
id = 2080
pos = 0,0
ownpal = 1
sprpriority = -3

[State 1140]
type = playsnd
trigger1 = animelem = 1
value =1,12

[State 1140]
type=ChangeState
trigger1=Animtime=0
value=0
ctrl=1
;---------------------------------------------------------------------------
;フェイントステップ・強初め
[Statedef 1150]
type    = S
movetype= I
physics = S
poweradd= 50
ctrl = 0
anim = 1100
sprpriority = 2
velset=-3.5,0

[State 1100]
type=varSet
trigger1=Time=0
var(21)=0

[State 1100]
type=ChangeState
trigger1=Animtime=0
value=1171
;---------------------------------------------------------------------------
;フェイントステップ・前進
[Statedef 1170]
type    = S
movetype= I
physics = N
poweradd= 0
ctrl = 0
anim = 1120
sprpriority = 2
velset=0,0

[State 1100]
type=velset
trigger1=animelem=2
x=4

[State 1100]
type=varadd
trigger1=Time=0
var(21)=1

[State 1100]
type=ChangeState
trigger1=var(21)<3
trigger1=Animtime=0
value=1171

[State 1100]
type=ChangeState
trigger1=var(21)=3
trigger1=Animtime=0
trigger2=command!="holdy"
trigger2=animelem=2,>=0
value=1180

;---------------------------------------------------------------------------
;フェイントステップ・後退
[Statedef 1171]
type    = S
movetype= I
physics = N
poweradd= 0
ctrl = 0
anim = 1121
sprpriority = 2

[State 1100]
type=velset
trigger1=animelem=2
x=-4

[State 1100]
type=ChangeState
trigger1=Animtime=0
value=1170

[State 1100]
type=ChangeState
triggerall=animelem=2,>=0
trigger1=command!="holdy"
trigger2 = var(1) && var(3)
value=1180

;---------------------------------------------------------------------------
;フェイントステップ・停止
[Statedef 1180]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
anim = 1125
sprpriority = 2

[State 1100]
type=velSet
trigger1=Time=0
x=(ifelse(prevstateno=1170,0,-3))

[State 1100]
type=velSet
trigger1=Time=0
var(21)=0

[State 1100]
type=ChangeState
trigger1=Animtime=0
value=ifelse(command="holddown",11,0)
ctrl=1

;---------------------------------------------------------------------------
;タイガーネックチャンスリー
[Statedef 1200]
type=S
movetype=I
physics=S
velset=0,0
ctrl=0
anim=1200
sprpriority=2
poweradd=50

[State 1200]
type=PosAdd
trigger1=Time=0
trigger1=prevstateno =720
x=15

[State 1200]
type=PosAdd
trigger1=animelem = 5
x=20

[State 1200]
type = nothitby
trigger1 = animelem = 4,<=0
value = SAC

[State 1200]
type = statetypeset
trigger1 = animelem = 3
movetype = A

[State 1200,1]
type=HitDef
triggerall=var(30)=0
triggerall = p2bodydist X>=-8
Trigger1=Time=0
trigger1=enemy,stateno!=[120,155]
trigger1=(enemy,stateno!=[40,51])&&(enemy,stateno!=[53,60])
attr=S,ST
hitflag=M
priority=6
sparkno=-1
sprpriority=1
p1facing=1
p2facing=1
p1stateno=1210
p2stateno=1220

[State 1200,1]
type=HitDef
triggerall=var(30)=1
triggerall = p2bodydist X>=-8
Trigger1=Time=0
trigger1=enemy,stateno!=[120,155]
trigger1=(enemy,stateno!=[40,51])&&(enemy,stateno!=[53,60])
trigger1=enemy,stateno!=5001&&enemy,stateno!=5011&&enemy,stateno!=5021
attr=S,ST
hitflag=M
priority=6
sparkno=-1
sprpriority=1
p1facing=1
p2facing=1
p1stateno=1210
p2stateno=1220

[State 1200,2]
type=ChangeState
Trigger1=animTime=0
value=0
ctrl=1

;---------------------------------------------------------------------------
;タイガーネックチャンスリー
[Statedef 1210]
type=S
movetype=A
physics=S
velset=0,0
ctrl=0
anim=1210
sprpriority=2
poweradd=100

[State 1210]
type = posadd
trigger1 = time = 0
trigger1 = backedgebodydist <=50
x = 40

[State 1210]
type = posadd
trigger1 = animelem = 13
trigger1 = backedgebodydist <=60
x = 40

[State 1210]
type=TargetBind
trigger1=Animelem=1
pos=20,-80

[State 3010]
type=Explod
trigger1=Animelem=1
anim=2061
pos=20,-80
sprpriority = 1
ownpal=1

[State 1210]
type = playsnd
trigger1 = animelem = 1
value =1,21
channel = 1

[State 1210]
type = playsnd
trigger1 = animelem = 4
value = 0,13

[State 1210]
type=posadd
trigger1=Animelem=11
trigger1=backedgebodydist > 40
x=-40

[State 1210]
type=TargetBind
trigger1=Animelem=2
pos=15,-75

[State 1210]
type=TargetBind
trigger1=Animelem=3
pos=15,-70

[State 1210]
type=TargetBind
trigger1=Animelem=4
trigger2=animelem =8
pos=20,-60

[State 1210]
type=TargetBind
trigger1=Animelem=5
pos=25,-55

[State 1210]
type=TargetBind
trigger1=Animelem=6
pos=25,-50

[State 1210]
type=TargetBind
trigger1=Animelem=7
pos=25,-48

[State 1210]
type=TargetBind
trigger1=Animelem=9
pos=10,-70

[State 1210]
type=TargetBind
trigger1=Animelem=10
trigger2=Animelem=11
pos=0,-65

[State 1210]
type=TargetBind
trigger1=Animelem=12
pos=-10,-60

[State 1210]
type=TargetBind
trigger1=Animelem=13
pos=-15,-20

[State 1210]
type=TargetBind
trigger1=Animelem=14
pos=-20,-10

[State 1210]
type=Envshake
trigger1=animelem=14
ampl=8
time=10

[State 1210]
type = targetlifeadd
trigger1 = animelem=14
value = -105 - var(7)*15

[State 1210]
type=Explod
trigger1=animelem=14
anim=2110
pos=-50,0
postype=p1
sprpriority = -3
ownpal=1

[State 1210]
type=Explod
trigger1=animelem=14
anim=2111
pos=-50,0
postype=p1
sprpriority = 3
ownpal=1

[State 1210]
type=Explod
trigger1=animelem=14
anim=2030
pos=-50,0
postype=p1
sprpriority = 4
ownpal=1

[State 1210]
type = playsnd
trigger1 = animelem = 14
value = 1,11
channel = 1


[State 1210]
type=Turn
trigger1=Animtime=0

[State ]
type = changestate
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;タイガーネックチャンスリー
[Statedef 1220]
type=A
movetype=H
physics=N
velset=0,0
ctrl=0
poweradd=100
sprpriority=-2

[STate 1220]
type=ChangeAnim2
trigger1=Time=0
value=1220

[State 1220]
type=VelSet
trigger1=Animelem=10
x=3
y=-6

[State 1220]
type=Veladd
trigger1=Animelem=10,>=0
y=.4

[State 1220]
type = Screenbound
trigger1 = animelem = 9,<= 0
value = 0

[State 1220]
type=SelfState
trigger1=pos Y>=-20 && vel Y>0
value=5100

;---------------------------------------------------------------------------
;サマーソルト
[Statedef 1300]
type    = S
physics = S
anim = 1300
sprpriority = 2
velset=0,0
ctrl = 0
poweradd=50

[State 1300, 1]
type = VelSet
trigger1 = animelem = 3,>=0
x = const(velocity.run.fwd.x)

[State 1300]
type = playsnd
trigger1 = animelem = 3,>=0
trigger1 = timemod = 15,0
value =1,55
channel = 13

[State 1300, 2]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1305,2]
type=ChangeState
Trigger1=animelem =3,>=0
trigger1 = command = "急停止"|| command ="c"
value=1306

[State 1300]
type = changestate
trigger1 = time >= 40
trigger2 = animelem = 3,>=0
trigger2 = p2bodydist X <= 5
value = 1305
;---------------------------------------------------------------------------
;サマーソルト
[Statedef 1301]
type    = S
physics = S
anim = 1300
sprpriority = 2
velset=0,0
ctrl = 0
poweradd=50

[State 1300, 1]
type = VelSet
trigger1 = animelem = 3,>=0
x = const(velocity.run.fwd.x)

[State 1300]
type = playsnd
trigger1 = animelem = 3,>=0
trigger1 = timemod = 15,0
value =1,55
channel = 13

[State 1300, 2]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1305,2]
type=ChangeState
Trigger1=animelem =3,>=0
trigger1 = command = "急停止"|| command ="c"
value=1306

[State 1300]
type = changestate
trigger1 = time >= 50
trigger2 = animelem = 3,>=0
trigger2 = p2bodydist X <= 5
value = 1305

;---------------------------------------------------------------------------
;サマーソルト
[Statedef 1305]
type=S
movetype=A
physics=S
velset=0,0
ctrl=0
anim=1305
sprpriority=2
poweradd=0

[State 1300,1]
type=HitDef
triggerall=var(30)=0
Trigger1=Time=0
trigger1=enemy,stateno!=[120,155]
trigger1=(enemy,stateno!=[40,51])&&(enemy,stateno!=[53,60])
attr=S,ST
hitflag=M
priority=6,miss
sparkno=-1
sprpriority=1
p1facing=1
p2facing=1
p1stateno=1310
p2stateno=1320

[State 1300,1]
type=HitDef
triggerall=var(30)=1
Trigger1=Time=0
trigger1=enemy,stateno!=[120,155]
trigger1=(enemy,stateno!=[40,51])&&(enemy,stateno!=[53,60])
trigger1=enemy,stateno!=5001&&enemy,stateno!=5011&&enemy,stateno!=5021
attr=S,ST
hitflag=M
priority=6,miss
sparkno=-1
sprpriority=1
p1facing=1
p2facing=1
p1stateno=1310
p2stateno=1320

[State 1305,2]
type=ChangeState
Trigger1=animTime=0
value=0
ctrl=1

;急停止
[Statedef 1306]
type=S
movetype=I
physics=S
velset=0,0
anim=1306
ctrl=0

[STate 1306]
type=AfterImagetime
trigger1=Time=0
time=0

[State 1306]
type=Changestate
trigger1=animtime=0
value=0
ctrl=1
;//////////////////////////////////////
[Statedef 1310]
type    = A
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 1310
sprpriority = 2
poweradd=100

[State 1310]
type = posadd
trigger1 = time = 0
trigger1 = backedgebodydist <= 50
x = 50

[State 1310]
type = targetbind
trigger1 = time = 0
pos = 20,0

[State 1310]
type = BindToTarget
trigger1 = animelem = 5
pos = 0,0,mid

[State 1310]
type = BindToTarget
trigger1 = animelem = 6
pos = -5,0,mid

[State 1310]
type = BindToTarget
trigger1 = animelem = 7
pos = -10,0,mid

[State 1310]
type = posadd
trigger1 = animelem = 8
x = -40

[State 1310]
type = targetlifeadd
trigger1 = animelem = 6
value = -104 - var(7)*15
kill=0

[State 1310]
type = targetlifeadd
trigger1 = animelem = 8
value = -1

[State 1310]
type = velset
trigger1 = animelem = 8
x = -2
y = -4

[State 1310]
type = veladd
trigger1 = animelem = 8,>=0
y = .4

[State 1310]
type = Explod
trigger1 = Animelem = 2
anim = 2061
id = 2061
pos = 25,-35
ownpal = 1
sprpriority = 3

[State 1310]
type = Explod
trigger1 = Animelem = 6
anim = 2030
id = 2030
pos = 0,0
ownpal = 1
sprpriority = 3

[State 1800]
type = playsnd
trigger1 = animelem = 2
value =1,21

[State 1800]
type = playsnd
trigger1 = animelem = 6
value =1,11

[State 1800]
type = playsnd
trigger1 = animelem = 7
value =0,10

[State 1310]
type = changestate
trigger1 = pos Y>0 && vel Y>0
value = 1330

;======================================
;着地
[Statedef 1330]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 1330
sprpriority = 2
poweradd=0

[State 1540]
type = posset
trigger1 = time=0
y=0

[STate 1330]
type=Explod
trigger1=animelem=1
anim=2080
ownpal=1
pos=0,0
postype=p1
sprpriority=-3

[State 1330]
type = playsnd
trigger1 = animelem = 1
value =1,2

[State 1330]
type = changestate
trigger1 = animtime=0
value = 0
ctrl=1

;---------------------------------------------------------------------------
;相手
[Statedef 1320]
type    = A
movetype= H
physics = N
poweradd= 50
ctrl = 0
sprpriority = -2
velset=0,0

[State 1135]
type = changeanim2
trigger1 = time=0
value = 1320

[State 1310]
type = posadd
trigger1 = animelem = 4
trigger2 = animelem = 5
x = -5

[State 1135]
type = velset
trigger1 = animelem=6
x=-4
y=-4

[State 1135]
type = veladd
trigger1 = animelem=6,>=0
y=.4

[State 1135]
type = selfstate
trigger1 = pos Y>=25 && vel Y>0
value = 5100


;======================================
;タイガーロード・振り向き
[Statedef 1500]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 1500
sprpriority = 2
poweradd=70

[State 1500]
type = varset
trigger1 = time = 0
var(19) = 0

[State 1500]
type = playsnd
trigger1 = animelem = 1
value = 0,23
channel=0

[State 1500]
type = turn
trigger1 = animtime = 0

[State 1500]
type = changestate
trigger1 = animtime = 0
value = 1510

;======================================
;タイガーロード・ダッシュ
[Statedef 1510]
type    = S
movetype= I
physics = N
velset = 8,0
ctrl = 0
anim = 1510
sprpriority = 2
poweradd=0

[State 1510]
type=ChangeState
trigger1 = command = "急停止" || command ="c"
value=1515

[State 1510]
type = changestate
trigger1 = frontedgebodydist <= 40
trigger2 = time >= 60
value = 1520
;---------------------------------------------------------------------------
;尻
[Statedef 1515]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 100
ctrl = 0
anim = 1515
sprpriority = 2
velset=0,0

[State 1510]
type = turn
trigger1 = time = 0

[State 1510]
type=posadd
trigger1 = time = 0
x = 25

[State 1515]
type = HitDef
trigger1 =animelem=3
attr = S, SA
damage = 50,1
getpower = 70,35
givepower = 70,35
guardflag = MA
priority = 7
pausetime = 10,12
sparkno = s2030
guard.sparkno=s2050
sparkxy = -10,-60
hitsound = s1,11
guardsound = s1,15
animtype = digup
ground.type = High
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -5,-4
air.velocity = -4,-4
getpower=150,75
fall = 1

[State 1510]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;======================================
;タイガーロード・ジャンプ
[Statedef 1520]
type    = A
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 1520
sprpriority = 2
poweradd=0

[STate 1520]
type=ScreenBound
trigger1=1
value=1
movecamera=0,1

[State 1510]
type=ChangeState
trigger1 = animelem =2,<=0
trigger1 = command = "急停止" || command ="c"
value=1515

[State 1520]
type = velset
trigger1 = animelem=3
x = 4
y = -10
persistent=0

[State 1520]
type = veladd
trigger1 = animelem=3,>=0
y = .4

[State 1510]
type = changestate
trigger1 = frontedgebodydist <= 15
trigger1 = animelem =4, >=0
value = 1530

[State 1510]
type = changestate
trigger1 = pos Y>=10 && vel Y>0
value = 52
ctrl=1
facing = -1
;======================================
;タイガーロード・落下ダウン
[Statedef 1540]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 1540
sprpriority = 2
poweradd=0

[State 1540]
type = posset
trigger1 = time=0
y=0

[STate 1540]
type=Explod
trigger1=animelem=2
anim=2080
ownpal=1
pos=0,0
postype=p1
sprpriority=-3

[State 1540]
type = playsnd
trigger1 = animelem = 2
value =1,2

[STate 1540]
type=AfterImageTime
trigger1=Time=0
time=0

[State 1540]
type = changestate
trigger1 = animtime=0
value = 0
ctrl=1

;======================================
;タイガーロード・張り付き
[Statedef 1530]
type    = A
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 1530
sprpriority = 2
poweradd=0

[State 1530]
type = turn
trigger1 = time = 0

[State 1530]
type = posset
trigger1 = Animelem = 1,>=0
trigger1 = Animelem = 3,<=0
y = -60
x = ifelse(facing=1,-360,360)

[State 1500]
type = varset
trigger1 = command = "b"
trigger2 = var(1) && random < 333
var(19) = 1

[State 1500]
type = varset
trigger1 = command = "波動x"
trigger2 = var(1) && (random = [350,800])
var(19) = 2

[State 1530]
type = HitDef
trigger1 =animelem=7
attr = A, SA
damage = 80,1
getpower = 100,50
givepower = 100,50
guardflag = H
priority = 5
pausetime = 20,20
guard.pausetime = 20,25
sparkno = s2030
guard.sparkno=s2050
sparkxy = -10,-35
hitsound = s1,11
guardsound = s1,15
animtype = digup
ground.type = low
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = -7,10
air.velocity = -5,20
getpower=150,100
givepower=100,50
ground.cornerpush.veloff = -15
guard.cornerpush.veloff = -10
fall=1
fall.recover=0
envshake.time = 20
envshake.ampl = 10

[State 1530]
type = changestate
triggerall = animelem = 3
trigger1 = var(19) = 1
trigger2 = var(1) && var(3) && random <= 333
value = 1550

[State 1530]
type = changestate
triggerall = animelem = 3
trigger1 = var(19) = 2
trigger2 = var(1) && var(3) && random <= 666
value = 1560

[State 1530]
type = velset
trigger1 = animelem=3
x = 2
y = -5

[State 1530]
type = veladd
trigger1 = animelem=3,>=0
y = .4

[State 1530]
type = changestate
trigger1 = pos Y>=0 && vel Y>0
value = 1540
;======================================
;タイガーロード・クロスチョップ
[Statedef 1550]
type    = A
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 1550
sprpriority = 2
poweradd=100

[State 1550]
type = velset
trigger1 = time <= 3
y=-((p2dist Y)/60)-2.5

[State 1550]
type = velset
trigger1 = time <= 5
x=((p2dist X)/25)-1.2

[State 1550]
type = veladd
trigger1 = 1
y = .44

[State 1500]
type = playsnd
trigger1 = animelem = 1
value = 1,22

[State 1550]
type = varset
trigger1 = time =0
var(19) = 0

[State 1550]
type = HitDef
trigger1 =animelem=4
attr = A, SA
damage = 75,1
getpower = 100,50
givepower = 100,50
guardflag = H
priority = 5
pausetime = 10,10
sparkno = s2030
guard.sparkno=s2050
sparkxy = -10,-60
hitsound = s1,11
guardsound = s1,15
animtype = hard
ground.type = high
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = -5,-5
air.velocity = -5,-5
getpower=150,100
givepower=100,50
ground.cornerpush.veloff = -15
guard.cornerpush.veloff = -10
fall=1
envshake.time = 10
envshake.ampl = 6

[State 1550]
type = changestate
trigger1 = pos Y>=15 && vel Y>0
value = 1540

;======================================
;タイガーロード・ボディプレス
[Statedef 1560]
type    = A
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 1560
sprpriority = 2
poweradd=100

[State 1560]
type = velset
trigger1 = time <= 3
y=-((p2dist Y)/60)-2.5

[State 1560]
type = velset
trigger1 = time <= 5
x=((p2dist X)/25)-1.5

[State 1560]
type = veladd
trigger1 = 1
y = .44

[State 1500]
type = playsnd
trigger1 = animelem = 1
value = 1,22

[State 1560]
type = varset
trigger1 = time =0
var(19) = 0

[State 1560]
type = HitDef
trigger1 = enemy,statetype = S || enemy,statetype = C
trigger1 =animelem=4,>=0
attr = A, SA
damage = 0,0
getpower = 100,50
givepower = 100,50
guardflag =
hitflag = MAF
priority = 7,miss
pausetime = 10,10
sparkno = s2030
guard.sparkno=s2050
sparkxy = -10,-60
hitsound = s1,11
guardsound = s1,15
animtype = hard
ground.type = low
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = -7
air.velocity = -5,-4
getpower=150,100
givepower=100,50
ground.cornerpush.veloff = -15
guard.cornerpush.veloff = -10
fall=1
fall.recover=0
p1stateno = 1590
p2stateno =1595

[State 1560]
type = HitDef
trigger1 = enemy,statetype = A
trigger1 =animelem=4,>=0
attr = A, SA
damage = 0,0
getpower = 100,50
givepower = 100,50
guardflag =
hitflag = MAF
priority = 7,miss
pausetime = 0,0
sparkno = s2030
guard.sparkno=s2050
sparkxy = -10,-60
hitsound = s1,11
guardsound = s1,15
animtype = hard
ground.type = low
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = -7
air.velocity = -5,-4
getpower=150,100
givepower=100,50
ground.cornerpush.veloff = -15
guard.cornerpush.veloff = -10
fall=1
fall.recover=0
p1stateno = 1570
p2stateno =1580

[State 1560]
type = changestate
trigger1 = pos Y>=15 && vel Y>0
value = 1540

;======================================
;タイガーロードじゃねぇぞコラァ！空中
[Statedef 1570]
type    = A
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 1570
sprpriority = 2

[State 1570]
type = posadd
trigger1 = time = 0
x = 40
y = -140

[State 1570]
type = targetbind
trigger1 = animelem = 1,>=0
trigger1 = animelem = 5,<=0
pos = -10,0

[State 1570]
type = targetbind
trigger1 = animelem = 6,>=0
pos = 0,0

[State 1570]
type = veladd
trigger1 = animelem = 7,>=0
y = .55

[State 1500]
type = playsnd
trigger1 = animelem = 7
value = 0,47

[State 1570]
type = changestate
trigger1 = pos Y>=0 && vel Y>0
value = 1575

;======================================
;タイガーロードじゃねぇぞコラァ！空中
[Statedef 1575]
type    = S
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 1575
sprpriority = 2

[State 1570]
type = posset
trigger1 = time = 0
y = 0

[State 1570]
type = targetbind
trigger1 = animelem = 1
pos = -30,0

[State 1590]
type = targetlifeadd
trigger1 = animelem = 1
value = -125 - var(7)*15

[State 1570]
type = targetstate
trigger1 = time = 0
value = 1585

[State 1590]
type = envshake
trigger1 = animelem = 1
ampl = 10
time = 10

[State 1590]
type=Explod
trigger1=Animelem=1
anim=2110
postype=p1
pos=-20,10
sprpriority=-5
ownpal=1

[State 1590]
type=Explod
trigger1=Animelem=1
anim=2111
postype=p1
pos=-20,10
sprpriority=5
ownpal=1


[State 1500]
type = playsnd
trigger1 = animelem = 1
value = 1,47

[State 1575]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;じゃねぇぞ相手
[Statedef 1580]
type=A
movetype=H
physics=N
velset=0,0
ctrl=0
poweradd=100
sprpriority=1

[STate 1595]
type=ChangeAnim2
trigger1=Time=0
value=1580

[State 1595]
type = Screenbound
trigger1 = 1
value = 0

;---------------------------------------------------------------------------
;じゃねぇぞ相手
[Statedef 1585]
type=A
movetype=H
physics=N
velset=0,0
ctrl=0
poweradd=100
sprpriority=1

[STate 1585]
type=ChangeAnim2
trigger1=Time=0
value=1585

[State 1585]
type = velset
trigger1 = animelem = 2
x = 3
y = -4

[State 1585]
type = veladd
trigger1 = animelem = 2,>=0
y = .4

[State 1585]
type = SelfState
trigger1 = pos Y>0 && vel Y >0
value = 5100


;======================================
;タイガーロードじゃねぇぞコラァ！
[Statedef 1590]
type    = A
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 1590
sprpriority = 2

[State 1590]
type = posset
trigger1 = time = 0
y = 0

[State 1590]
type = sprpriority
trigger1 = animelem = 8
value = -2

[State 1590]
type = targetbind
trigger1 = animelem = 1,>=0
trigger1 = animelem = 4,<=0
pos = 0,0

[State 1590]
type = targetbind
trigger1 = animelem = 5
pos = -10,-70

[State 1590]
type = targetbind
trigger1 = animelem = 6
pos = 0,-70

[State 1590]
type = targetbind
trigger1 = animelem = 7
pos = 10,-60

[State 1590]
type = targetbind
trigger1 = animelem = 8
pos = 10,-90

[State 1590]
type = targetbind
trigger1 = animelem = 9
pos = -20,-46

[State 1590]
type = targetbind
trigger1 = animelem = 10
pos = -30,-25

[State 1590]
type = targetbind
trigger1 = animelem = 11
pos = -35,-10

[State 1590]
type = targetlifeadd
trigger1 = animelem = 11
value = -110 - var(7)*15

[State 1590]
type = envshake
trigger1 = animelem = 11
ampl = 10
time = 10

[State 1500]
type = playsnd
trigger1 = animelem = 11
value = 1,47

[State 1590]
type=Explod
trigger1=Animelem=11
anim=2110
postype=p1
pos=-20,10
sprpriority=-5
ownpal=1

[State 1590]
type=Explod
trigger1=Animelem=11
anim=2111
postype=p1
pos=-20,10
sprpriority=5
ownpal=1

[State 1500]
type = playsnd
trigger1 = animelem = 1
value = 0,46

[State 1590]
type = changestate
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;じゃねぇぞ相手
[Statedef 1595]
type=S
movetype=H
physics=N
velset=0,0
ctrl=0
poweradd=100
sprpriority=1

[STate 1595]
type=ChangeAnim2
trigger1=Time=0
value=1595

[State 1595]
type = Screenbound
trigger1 = animelem = 8,<=0
value = 0

[State 1595]
type = velset
trigger1 = animelem = 9
x = 3
y = -4

[State 1595]
type = veladd
trigger1 = animelem = 9,>=0
y = .4

[State 1595]
type = SelfState
trigger1 = pos Y>0 && vel Y >0
value = 5100

;---------------------------------------------------------------------------
;ロープ振り
[Statedef 1600]
type=S
movetype=A
physics=S
velset=0,0
ctrl=0
anim=1600
sprpriority=2
poweradd=100

[State 1600]
type=PosAdd
trigger1=Time=0
trigger1=prevstateno =720
x=15

[State 1600]
type = nothitby
trigger1 = animelem = 4,<=0
value = SAC

[State 1600]
type = changeanim
triggerall = time = 0
trigger1 = enemy,stateno = [5100,5120]
trigger2=enemy,stateno=1040&&enemy,movetype = H
value = 1605

[State 1600,1]
type=HitDef
triggerall= anim = 1605
Triggerall=Time=0
trigger1=enemy,stateno=[5100,5110]
trigger2=enemy,stateno=1040&&enemy,movetype = H
attr=S,ST
hitflag=MDF
priority=6,miss
sparkno=-1
sprpriority=1
p1facing=1
p2facing=1
p1stateno=1615
p2stateno=1616

[State 1600,1]
type=HitDef
triggerall=var(30)=0 && anim = 1600
Trigger1=Time=0
trigger1=enemy,stateno!=[120,155]
trigger1=(enemy,stateno!=[40,51])&&(enemy,stateno!=[53,60])
attr=S,ST
hitflag=M
priority=6,miss
sparkno=-1
sprpriority=1
p1facing=1
p2facing=1
p1stateno=1610
p2stateno=1620

[State 1600,1]
type=HitDef
triggerall=var(30)=1 && anim = 1600
Trigger1=Time=0
trigger1=enemy,stateno!=[120,155]
trigger1=(enemy,stateno!=[40,51])&&(enemy,stateno!=[53,60])
trigger1=enemy,stateno!=5001&&enemy,stateno!=5011&&enemy,stateno!=5021
attr=S,ST
hitflag=M
priority=6
sparkno=-1
sprpriority=1
p1facing=1
p2facing=1
p1stateno=1610
p2stateno=1620

[STate 1600]
type=PlaySNd
trigger1=Animelem=4&&anim=1600
value=0,10
channel=0

[State 1600,2]
type=ChangeState
Trigger1=animTime=0
value=0
ctrl=1

;---------------------------------------------------------------------------
;ロープ振り・成功
[Statedef 1610]
type=S
movetype=A
physics=S
velset=0,0
ctrl=0
anim=1610
sprpriority=-2
poweradd=100

[State 1610]
type=PosAdd
trigger1=Time=0
trigger1=frontedgebodydist <= 50
x=-60

[State 1610]
type=PosAdd
trigger1=Time=0
trigger1=backedgebodydist <= 50
x=20

[State 1610]
type=PosAdd
trigger1=animelem = 2
trigger1=backedgebodydist <= 30
x=10

[State 1610]
type=PosAdd
trigger1=animelem = 3
trigger1=backedgebodydist <= 20
x=10

[State 1610]
type = targetbind
trigger1 = animelem = 1
pos = 65,-80

[State 1610]
type = targetbind
trigger1 = animelem = 2
pos = 55,-60

[State 1610]
type = targetbind
trigger1 = animelem = 3
trigger2 = animelem = 4
pos = 85,-60

[State 1610]
type = targetbind
trigger1 = animelem = 5
pos = 80, -65

[State 1610]
type = targetbind
trigger1 = animelem = 6
pos = 80,-55

[State 1610]
type = targetbind
trigger1 = animelem = 7
pos = 75,-45

[State 1610]
type = targetbind
trigger1 = animelem = 8
pos = 70,-50

[State 1610]
type = targetbind
trigger1 = animelem = 9
pos = 0,-60

[State 1610]
type = targetbind
trigger1 = animelem = 10
pos = -5,-60

[State 1610]
type = targetbind
trigger1 = animelem = 11
pos = -20,0

[State 1610]
type = targetbind
trigger1 = animelem = 12
pos = -40,0

[State 1610]
type = targetstate
trigger1 = animelem = 12
value = 1625

[State 1610]
type = sprpriority
trigger1 = animelem = 9
value = 2

[State 1610]
type=Explod
trigger1=Animelem=1
anim=2061
pos=65,-80
sprpriority = 1
ownpal=1

[State 1610]
type = playsnd
trigger1 = animelem = 1
value =1,21

[STate 1610]
type=PlaySNd
trigger1=Animelem=7
value=0,49

[State 99,99]
type = PlaySnd
trigger1 =animelem=10
value =1,26
channel=1

[State 1610]
type = turn
trigger1 = animtime = 0

[State 1610]
type=PosAdd
trigger1=animelem = 11
trigger1=backedgebodydist <= 60
x=40

[State 1610]
type = changestate
trigger1 = animtime = 0
value = 1630

;---------------------------------------------------------------------------
;ロープ振り・成功
[Statedef 1615]
type=S
movetype=A
physics=S
velset=0,0
ctrl=0
anim=1615
sprpriority=-2
poweradd=100

[State 1610]
type=PosAdd
trigger1=Time=0
trigger1=frontedgebodydist <= 50
x=-60

[State 1610]
type=PosAdd
trigger1=Time=0
trigger1=backedgebodydist <= 50
x=20

[State 1610]
type=PosAdd
trigger1=animelem = 2
trigger1=backedgebodydist <= 30
x=10

[State 1610]
type=PosAdd
trigger1=animelem = 3
trigger1=backedgebodydist <= 20
x=10

[State 1070]
type = targetbind
trigger1 = animelem=1
pos = 25,-15

[State 1070]
type = targetbind
trigger1 = animelem=3
pos = 25,-17

[State 1070]
type = targetbind
trigger1 = animelem=4
pos = 25,-40

[State 1070]
type = targetbind
trigger1 = animelem=5
pos = 15,-65

[State 1070]
type = targetbind
trigger1 = animelem=6
pos = 20,-70

[State 1070]
type = targetbind
trigger1 = animelem=7
pos = 25,-70

[State 1070]
type = targetbind
trigger1 = animelem=8
pos = 30,0

[State 1070]
type = targetbind
trigger1 = animelem=9
pos = 35,0

[State 1610]
type = targetbind
trigger1 = animelem = 10
pos = 65,-80

[State 1610]
type = targetbind
trigger1 = animelem = 11
pos = 55,-60

[State 1610]
type = targetbind
trigger1 = animelem = 12
trigger2 = animelem = 13
pos = 85,-60

[State 1610]
type = targetbind
trigger1 = animelem = 14
pos = 80, -65

[State 1610]
type = targetbind
trigger1 = animelem = 15
pos = 80,-55

[State 1610]
type = targetbind
trigger1 = animelem = 16
pos = 75,-45

[State 1610]
type = targetbind
trigger1 = animelem = 17
pos = 70,-50

[State 1610]
type = targetbind
trigger1 = animelem = 18
pos = 0,-60

[State 1610]
type = targetbind
trigger1 = animelem = 19
pos = -5,-60

[State 1610]
type = targetbind
trigger1 = animelem = 20
pos = -20,0

[State 1610]
type = targetbind
trigger1 = animelem = 21
pos = -40,0

[State 1610]
type = targetstate
trigger1 = animelem = 10
value = 1620

[State 1610]
type = targetstate
trigger1 = animelem = 21
value = 1625

[State 1610]
type = sprpriority
trigger1 = animelem = 18
value = 2

[State 1610]
type=Explod
trigger1=Animelem=1
anim=2061
pos=25,-15
sprpriority = 1
ownpal=1

[State 1610]
type = playsnd
trigger1 = animelem = 1
value =1,21

[STate 1610]
type=PlaySNd
trigger1=Animelem=3
value=0,24

[State 99,99]
type = PlaySnd
trigger1 =animelem=10
value =1,26
channel=1

[State 1610]
type = turn
trigger1 = animtime = 0

[State 1610]
type=PosAdd
trigger1=animelem = 20
trigger1=backedgebodydist <= 60
x=40

[State 1610]
type = changestate
trigger1 = animtime = 0
value = 1630

;---------------------------------------------------------------------------
;ロープ振り・成功・待機
[Statedef 1630]
type=S
movetype=A
physics=S
velset=0,0
ctrl=0
anim=0
sprpriority=-2
poweradd=0

[State 1630]
type = ChangeState
value = 8000
triggerall = power >= 3000
triggerall = enemy,stateno = 1650
trigger1 = command = "タッグ"
trigger2 = var(1) &&  (p2dist X=[0,20]) && random <= 25

[State 1630]
type = ChangeState
value = 3201
triggerall = power >= 3000
triggerall = enemy,stateno = 1650
trigger1 = command = "MAXタイガースピン"
trigger2 = var(1) &&  (p2dist X=[0,20]) && random <= 55

[State 1630]
type = ChangeState
value = 3001
triggerall = power >= 2000
triggerall = enemy,stateno = 1650
trigger1 = command = "タイガースピン"
trigger2 = var(1) &&  (p2dist X=[0,20]) && random <= 55

[State 1630]
type = ChangeState
value = 3100
triggerall = power >= 2000
triggerall = enemy,stateno = 1650
trigger1 = command = "アマリロa"

[State 1630]
type = ChangeState
value = 3101
triggerall = power >= 2000
triggerall = enemy,stateno = 1650
trigger1 = command = "アマリロb"

[State 1630]
type = ChangeState
value = 3500
triggerall = power >= 2000
triggerall = enemy,stateno = [1625,1650]
trigger1 = command = "サベージ"

[State 1630]
type = changestate
triggerall = enemy,stateno = 1650
trigger1 = command = "x+y"
trigger2 = var(1) && var(3)&& (p2dist X=[50,100]) && random <= 77
value = 1655

[State 1630]
type = changestate
triggerall = enemy,stateno = 1650
trigger1 = command = "a" && command="holddown"
trigger2 = var(1) && var(3)&& (p2dist X=[50,80]) && random <= 77
value = 1670

[State 1630]
type = ChangeState
value = 1680
triggerall = command = "z"||Command="ふっとばし"
trigger1 = enemy,stateno = 1650
trigger2 = var(1) && var(3)&& (p2dist X=[80,150]) && random <= 88

[State 1630]
type = changestate
triggerall = enemy,stateno = 1650
trigger1 = command = "x"
trigger2 = var(1) && var(3)&& (p2dist X=[0,30]) && random <= 55
value = 1660

[State 1630]
type = changestate
triggerall = enemy,stateno = 1650
trigger1 = command = "a"
trigger2 = var(1)&&var(3) && (p2dist X=[40,60]) && random <= 55
value = 1665

[State 1630]
type = changestate
triggerall = enemy,stateno = 1650
trigger1 = command = "y"
trigger2 = var(1)&&var(3) && (p2dist X=[0,80]) && random <= 55
value = 1690

[State 1630]
type = changestate
triggerall = enemy,stateno = 1650
trigger1 = command = "b"
trigger2 = var(1)&&var(3) && (p2dist X=[0,40]) && random <= 555
value = 1700

[State 1630]
type = ctrlset
trigger1 = p2bodydist X <= -20
value = 1
;---------------------------------------------------------------------------
;ロープ振り
[Statedef 1616]
type=S
movetype=H
physics=N
velset=0,0
ctrl=0
poweradd=200
sprpriority=1

[STate 1220]
type=ChangeAnim2
trigger1=Time=0
value=1616

[State 1620]
type = Screenbound
trigger1 = 1
value = 0

;---------------------------------------------------------------------------
;ロープ振り
[Statedef 1620]
type=S
movetype=H
physics=N
velset=0,0
ctrl=0
poweradd=100
sprpriority=1

[STate 1220]
type=ChangeAnim2
trigger1=Time=0
value=1620

[State 1620]
type = Screenbound
trigger1 = 1
value = 0
;---------------------------------------------------------------------------
;ロープ振り・ダッシュ
[Statedef 1625]
type=S
movetype=H
physics=N
velset=0,0
ctrl=0
poweradd=100
sprpriority=2
anim = 100

[STate 1220]
type=ChangeAnim
trigger1=Time=0
trigger1=animexist(100)=0
value=20

[STate 1220]
type=ChangeAnim2
trigger1=Time=0
trigger1=name ="Tin's potemkin"
value=1625

[State 1620]
type=VelSet
trigger1=1
x=7

[State 1625]
type = changestate
trigger1 = frontedgebodydist <= 10
value = 1640

[State 1625]
type = playerpush
trigger1 = 1
value = 0
;---------------------------------------------------------------------------
;ロープ振り
[Statedef 1640]
type=S
movetype=H
physics=S
velset=0,0
ctrl=0
poweradd=0
sprpriority=2

[STate 1220]
type=ChangeAnim2
trigger1=Time=0
value=1640

[State 1640]
type = turn
trigger1 =  time = 0

[State 1620]
type=VelSet
trigger1=animelem = 2
x=-2

[State 1625]
type = changestate
trigger1 = animtime = 0
value = 1650

;---------------------------------------------------------------------------
;ロープ振り・ダッシュ戻り
[Statedef 1650]
type=S
movetype=I
physics=N
velset=0,0
ctrl=0
poweradd=0
sprpriority=2
anim = 100

[STate 1220]
type=ChangeAnim
trigger1=Time=0
trigger1=animexist(100)=0
value=20

[STate 1220]
type=ChangeAnim2
trigger1=Time=0
trigger1=name ="Tin's potemkin"
value=1625

[State 1620]
type=VelSet
trigger1=1
x=7

[State 1625]
type = playerpush
trigger1 = 1
value = 0

[State 1220]
type=SelfState
trigger1 = frontedgebodydist <= 10
value=5100

;タイガーロード・クロスチョップ
[Statedef 1655]
type    = A
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 1550
sprpriority = 2
poweradd=100

[State 1655]
type = velset
trigger1 = time <= 3
y=-((p2dist Y)/60)-3.5

[State 1655]
type = velset
trigger1 = time <= 5
x=((p2dist X)/25)

[State 1655]
type = veladd
trigger1 = 1
y = .44

[State 1500]
type = playsnd
trigger1 = animelem = 1
value = 1,22

[State 1550]
type = varset
trigger1 = time =0
var(19) = 0

[State 1655]
type = playsnd
trigger1 = movehit
value = 0,35
persistent = 0

[State 1655]
type = playsnd
trigger1 = movehit
value = 0,36
persistent = 0

[State 1550]
type = HitDef
trigger1 =animelem=4
attr = A, SA
damage = 115,1
getpower = 100,50
givepower = 100,50
guardflag = H
priority = 5
pausetime = 15,15
sparkno = s2030
guard.sparkno=s2050
sparkxy = -10,-60
hitsound = s1,11
guardsound = s1,15
animtype = hard
ground.type = high
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = -5,-5
air.velocity = -5,-5
getpower=150,100
givepower=100,50
ground.cornerpush.veloff = -15
guard.cornerpush.veloff = -10
fall=1
envshake.time = 18
envshake.ampl = 10

[State 1655]
type = changestate
trigger1 = pos Y>=15 && vel Y>0
value = 1540
;---------------------------------------------------------------------------
[Statedef 1660]
type    = S
movetype= A
physics = S
juggle  = 15
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1660
sprpriority = 2

[State 1660]
type = PlaySnd
trigger1 =animelem=3
value =1,0
channel=1

[State 1660]
type = PlaySnd
trigger1 =animelem=3
value =0,1
channel=0

[STate 1660,0]
type=width
trigger1=Time=[7,20]
value=15,0

[State 1660, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype  = hard
damage    = 80
guardflag = MA
pausetime = 15,15
sparkno = s2030
guard.sparkno=s2050
sparkxy = -10,-60
hitsound = s1,11
guardsound = s1,15
ground.type = High
ground.slidetime = 15
ground.hittime  = 18
ground.velocity = -4,-4
air.velocity = -4,-5
getpower=100,50
fall=1
envshake.ampl = 10
envshake.time = 18


[State 1660, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;キック
[Statedef 1665]
type    = S
movetype= A
physics = S
juggle  =15
poweradd= 0
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 2

[State 240, 3]
type = PosAdd
trigger1 = AnimElem = 2&&P2bodydist X>=10
x = 20

[State 240, 3]
type = PosAdd
trigger1 = AnimElem = 4&&P2bodydist X<=15
x = 15

[State 240, 3]
type = PosAdd
trigger1 = AnimElem = 4&&P2bodydist X>15
x = 30

[State 99,99]
type = PlaySnd
trigger1 =animelem=6
value =1,1
channel=1

[State 99,99]
type = PlaySnd
trigger1 =animelem=2
value =0,1
channel=0

[State 240, 2]
type = HitDef
trigger1 =animelem=6
attr = S, SA
animtype  = hard
damage    = 82
guardflag =
pausetime = 15,15
sparkno = s2030
guard.sparkno=s2050
sparkxy = -10,-70
hitsound = s1,11
guardsound = s1,14
ground.type = high
ground.slidetime = 18
ground.hittime  = 20
ground.velocity = -4,-4
air.velocity = -4.0,-4
getpower=100,50
fall=1
envshake.ampl = 10
envshake.time = 18

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;低空ドロップキック
[Statedef 1670]
type    = C
movetype= A
physics = S
juggle  = 10
poweradd= 0
ctrl = 0
anim = 720
sprpriority = 2
velset=0,0

[STate 720,1]
type=Width
trigger1=animelem=3,>=0
trigger1=Animelem=11,<=0
value=10,0

[STate 720,1]
type=Width
trigger1=animelem=12,>=0
trigger1=Animelem=17,<=0
value=40,0

[State 710,0]
type=null;posadd
trigger1=Animelem=1
trigger2=Animelem=2
x=5
[State 710,0]
type=posadd
trigger1=Animelem=1
trigger2=Animelem=2
trigger3 = animelem =6
trigger4 = animelem =8
trigger5 = animelem =9
x=5

[State 710,0]
type=posadd
trigger1=Animelem=3
trigger2 = animelem = 4
trigger3 = animelem = 5
trigger4 = animelem = 7
trigger5 = animelem =10
x=10

[State 99,99]
type = PlaySnd
trigger1 =animelem=4
value =0,7
channel=0

[State 99,99]
type = PlaySnd
trigger1 =animelem=4
value =1,26
channel=1

[State 710, 3]
type = HitDef
trigger1 = animelem = 6
attr = C, SA
damage    = 75
guardflag =
priority = 4
pausetime = 3,5
sparkno = s2030
guard.sparkno=s2050
sparkxy = -10,-25
hitsound = s1,11
guardsound = s1,14
animtype = hard
ground.type = low
ground.slidetime = 18
ground.hittime  = 20
ground.velocity = -7
air.velocity = -5,-4
getpower=80,40
givepower=100,50
ground.cornerpush.veloff = -15
guard.cornerpush.veloff = -13.8
p2stateno = 1675

[State 720,4]
type=Changestate
trigger1=Animtime=0
value=0
ctrl=1

;低空・相手
[Statedef 1675]
type    = S
movetype= H
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = -2

[State 1675]
type=Changeanim2
trigger1=Time=0
value=1675

[State 1675]
type = velset
trigger1 = animelem = 2
y = -5
x=3

[State 1675]
type = veladd
trigger1 = animelem = 2,>=0
y = .5

[State 1675]
type = selfstate
trigger1 = pos Y>= 20 && vel Y>0
value = 5100

;---------------------------------------------------------------------------
;ドロップキック
[Statedef 1680]
type    = A
movetype= A
physics = N
poweradd= 100
ctrl = 0
anim = 1130
sprpriority = 2
velset=0,0

[State 1500]
type = playsnd
trigger1 = animelem = 1
value = 0,12
channel = 0

[State 1100]
type=varSet
trigger1=Time=0
var(21)=0

[State 1100, 3]
type = HitDef
trigger1 =animelem=8
attr = A, SA
damage    = 117
guardflag =
priority = 5
pausetime = 5,5
sparkno = s2070
guard.sparkno=s2050
sparkxy = -10,-40
hitsound = s1,11
guardsound = s1,15
animtype = digup
ground.type = High
ground.slidetime = 16
ground.hittime  = 18
ground.velocity = -6,-4
air.velocity = -6,-4
getpower=150,75
fall=1
envshake.ampl=12
envshake.time=20
fall.recover = 0

[State 1630]
type = velset
trigger1 = animelem= 4
x=5
y=-4

[State 1630]
type = velset
trigger1 = movehit
x=0

[State 1630]
type = veladd
trigger1 = animelem= 4,>=0
y=.3

[State 1685]
type = playsnd
trigger1 = animelem = 4
value = 1,25

[State 1630]
type = changestate
trigger1 = movehit
trigger1 = animelem = 9
value = 1684

[State 1630]
type = changestate
trigger1 = Animtime = 0
value = 1140

;---------------------------------------------------------------------------
;ドロップキックヒット
[Statedef 1684]
type    = A
movetype= A
physics = N
poweradd= 100
ctrl = 0
anim = 1630
sprpriority = 2
velset=-1,-4

[State 1684]
type = veladd
trigger1 = 1
y=.3

[State 1500]
type = playsnd
trigger1 = animelem = 1
value = 0,10
channel = 0

[State 1685]
type = playsnd
trigger1 = animelem = 1
value = 0,35

[State 1685]
type = playsnd
trigger1 = animelem = 3
value = 0,36

[State 1130]
type = changestate
trigger1 = pos Y>=0 && vel Y>0
value = 1685

[State 1685]
type = playerpush
trigger1 = 1
value = 0
;---------------------------------------------------------------------------
;ドロップK着地
[Statedef 1685]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
anim = 1635
sprpriority = 2
velset=0,0

[State 1685]
type=PosSet
trigger1=Time=0
y=0

[State 1685]
type=varSet
trigger1=Time=0
var(21)=0

[STate 1685]
type=Explod
trigger1=animelem=1
anim=2080
ownpal=1
pos=0,0
postype=p1
sprpriority=-3

[State 1685]
type = playsnd
trigger1 = animelem = 1
value =1,2

[State 1685]
type=ChangeState
trigger1=Animtime=0
value=0
ctrl=1
;========================
;ダッシュ
[Statedef 1690]
type=S
movetype=A
physics=N
velset=0,0
anim=3130
ctrl=0

[STate 3105,1]
type=VelSet
trigger1=Animelem=2
x=8

[State 1010, 2]
type = HitDef
trigger1 =movecontact=0&&Vel X!=0
attr = S,SA
damage    = 0,0
getpower=0,0
hitflag=MAF
guardflag =
priority = 7
pausetime = 0,0
guard.pausetime=10,10
sparkno = -1
guard.sparkno=s2050
sparkxy = 0,-70
hitsound = -1
guardsound = s1,15
animtype = hard
ground.type = none
ground.slidetime = 20
ground.hittime  = 30
ground.velocity = 8
air.velocity = -2,-4
p2facing = 1
p1stateno = 1695
numhits = 0

[STate 3105,3]
type=AfterImage
trigger1=Time=0
time=1000
trans=Add1
length=10

[STate 3105,3]
type=AfterImagetime
trigger1=Time=80
time=0

[State 3105,4]
type=Changestate
trigger1=time=80
value=3108

;---------------------------------------------------------------------------
[Statedef 1695]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 215
sprpriority = 2

[STate 3105,3]
type=AfterImagetime
trigger1=Time=0
time=0

[State 1695]
type = velset
trigger1 = animelem=3
x = 12

[State 1695]
type = PlaySnd
trigger1 =animelem=2
value =0,0
channel=0

[State 0]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
damage = 70
getpower = 84,40
givepower = 84,40
animtype = digup
guardflag =
hitflag = MAF
priority = 4, Hit
pausetime = 10,10
guard.pausetime=8,8
sparkno = s2030
guard.sparkno=s95
sparkxy = -10,-70
hitsound = s1,11
guardsound = s1,14
ground.type = High
ground.slidetime = 15
ground.hittime  = 18
ground.velocity = -6,-5
guard.slidetime = 10;仰け反る時間
guard.hittime = 10;仰け反り中の時間
guard.velocity = -6
airguard.velocity = -3,-4
air.type = high
air.velocity = -4,-5
air.hittime = 10
ground.cornerpush.veloff = -7
guard.cornerpush.veloff = -15
down.cornerpush.veloff = -10
envshake.time = 10
envshake.ampl = 7
fall = 1

[State 1695]
type = ChangeState
trigger1 =animtime=0
value = 0
ctrl=1

;======================================
;ショルダースルー待機
[Statedef 1700]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 1650
sprpriority = 2
poweradd=0

[State 1700]
type = varset
trigger1 = time =0
var(19) = 0

[State 1550]
type = HitDef
trigger1 =animelem=1
attr = A, SA
damage    = 0,0
guardflag =
priority = 4
pausetime = 0,0
sparkno = -1
guard.sparkno=-1
sparkxy = -10,-60
hitsound = -1
guardsound = -1
animtype = hard
ground.type = low
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = -7
air.velocity = -5,-4
getpower=150,100
givepower=100,50
ground.cornerpush.veloff = -15
guard.cornerpush.veloff = -10
fall=1
fall.recover=0
p1stateno = 1710
p2stateno = 1720
p2facing = 1

[State 1700]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;======================================
;ショルダースルー待機
[Statedef 1710]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 1655
sprpriority = -2
poweradd=150

[State 1710]
type = targetbind
trigger1 = animelem = 1
pos = 60,-60

[State 1710]
type = targetbind
trigger1 = animelem = 2
pos = 70,-65

[State 1710]
type = targetbind
trigger1 = animelem = 3
pos = 20,-55

[State 1710]
type = targetbind
trigger1 = animelem = 4
pos = 0,-85

[State 1710]
type = playsnd
trigger1 = animelem = 4
value = 1,25

[State 1500]
type = playsnd
trigger1 = animelem = 2
value = 0,12
channel = 0

[State 1710]
type = changestate
trigger1 = Animtime = 0
value = 0
ctrl = 1
;/////////////////////////
[Statedef 1720]
type    = S
movetype= H
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 2

[State 1720,1]
type=Changeanim2
trigger1=Time=0
value=1656

[State 1720,3]
type=ScreenBound
trigger1 = animelem = 4,<0
value=0

[State 1720,5]
type=DestroySelf
trigger1=Ishelper

[State 1720]
type = velset
trigger1 = animelem=4
x=5
y=-7.5

[State 1720]
type = veladd
trigger1 = animelem = 4,>=0
y=.5

[State 1720]
type = lifeadd
trigger1 = pos Y>=-5 && vel Y>0
value = -ceil(73+const(Movement.yaccel)*6) - var(7)*25

[State 1720]
type = envshake
trigger1 = pos Y>=-5 && vel Y>0
ampl = 7
time = 7

[State 1720]
type = selfstate
trigger1 = pos Y>=-5 && vel Y>0
value = 5100

;======================================
;バードオブ
[Statedef 1800]
type    = S
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 1800
sprpriority = 2
poweradd=100

[State 1800]
type = statetypeset
trigger1 = animelem = 8
value = A
[State 1550]
type = velset
trigger1 = animelem = 8
x=1.8
y=-9

[State 1550]
type = veladd
trigger1 = animelem = 8,>=0
y = .55

[State 1550]
type = varset
trigger1 = time =0
var(19) = 0

[State 1800]
type = playsnd
trigger1 = animelem = 8
value =0,10
channel = 0

[State 1800]
type = HitDef
trigger1 =animelem=13
trigger1 = enemy,statetype = C
attr = A, SA
damage    = 70,1
guardflag = M
hitflag = MAFD
priority = 5
pausetime = 0,5
sparkno = s2030
guard.sparkno=s2050
sparkxy = -10,-30
hitsound = s1,11
guardsound = s1,15
animtype = digup
ground.type = high
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = 0,10
air.velocity = -5,-4
down.velocity = -1,-5
getpower=150,100
givepower=100,50
ground.cornerpush.veloff = -8
guard.cornerpush.veloff = -7
fall=1
fall.recover = 0
envshake.time = 12
envshake.ampl = 10

[State 1800]
type = HitDef
trigger1 =animelem=13
trigger1 = enemy,statetype != C
attr = A, SA
damage    = 70,1
guardflag = M
hitflag = MAFD
priority = 5
pausetime = 0,5
sparkno = s2030
guard.sparkno=s2050
sparkxy = -10,-30
hitsound = s1,11
guardsound = s1,15
animtype = digup
ground.type = low
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = -6,-5
air.velocity = -5,-4
down.velocity = -1,-5
getpower=150,100
givepower=100,50
ground.cornerpush.veloff = -8
guard.cornerpush.veloff = -7
fall=1
envshake.time = 12
envshake.ampl = 10

[State 1800]
type = changestate
trigger1 = pos Y>=10 && vel Y>0
value = 1810
;======================================
;バードおブ
[Statedef 1810]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 1810
sprpriority = 2
poweradd=0

[State 1810]
type = posset
trigger1 = time=0
y=0

[STate 1810]
type=Explod
trigger1=animelem=1
anim=2080
ownpal=1
pos=0,0
postype=p1
sprpriority=-3

[State 1810]
type = playsnd
trigger1 = animelem = 1
value =1,12

[State 1810]
type = playsnd
trigger1 = animelem = 1
value =1,16

[State 1810]
type = playerpush
trigger1 = time <= 10
value = 0

[State 1810]
type = changestate
trigger1 = animtime=0
value = 0
ctrl=1

;======================================
;タイガースピン・ノーマル
[Statedef 3000]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 3000
sprpriority = 2
poweradd=-1000

;///////////////////スパキャン
[STate 3000]
type=AssertSpecial
trigger1=prevstateno = 1070|| prevstateno = 1515
flag=nojugglecheck

[State 3000]
type=PalFx
trigger1=Time=0
trigger1=prevstateno = 1070 || prevstateno = 1515
time=5
add=255,255,255

[STate 3000]
type = poweradd
trigger1 = prevstateno = 1070 || prevstateno = 1515
trigger1 = time = 1
value = -1000
persistent = 0

[STate 3000]
type = changeanim
trigger1 = prevstateno = 1070 || prevstateno = 1515
trigger1 = time = 0
value = 3001

;////////////////////
[STate 3000,1]
type=envcolor
trigger1=Time=2
value=0,0,0
time=25
under=1

[State 3100,3]
type=superpause
trigger1=time=2
anim=-1
pos=10,-90
postype=p1
sound=s1,17
time=25
movetime=16
p2defmul = 1

[STate 3000,3]
type = Explod
trigger1 = time = 0
anim = 6671
pos = 10,-65
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[STate 3000,4]
type = Explod
trigger1 = time = 0
anim = 6672
pos = 10,-65
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 1200,1]
type=HitDef
triggerall = p2bodydist X>=-8
Trigger1=Time=0
trigger1=prevstateno = 1070 || prevstateno = 1515
attr=S,HT
hitflag=MAFD
priority=6
sparkno=-1
sprpriority=1
p1facing=1
p2facing=1
p1stateno=3010
p2stateno=3020

[State 1200,1]
type=HitDef
triggerall=var(30)=0
triggerall = p2bodydist X>=-8
Trigger1=Time=0
trigger1=enemy,stateno!=[120,155]
trigger1=(enemy,stateno!=[40,51])&&(enemy,stateno!=[53,60])
attr=S,HT
hitflag=M
priority=6
sparkno=-1
sprpriority=1
p1facing=1
p2facing=1
p1stateno=3010
p2stateno=3020

[State 1200,1]
type=HitDef
triggerall=var(30)=1
triggerall = p2bodydist X>=-8
Trigger1=Time=0
trigger1=enemy,stateno!=[120,155]
trigger1=(enemy,stateno!=[40,51])&&(enemy,stateno!=[53,60])
trigger1=enemy,stateno!=5001&&enemy,stateno!=5011&&enemy,stateno!=5021
attr=S,HT
hitflag=M
priority=6
sparkno=-1
sprpriority=1
p1facing=1
p2facing=1
p1stateno=3010
p2stateno=3020

[State 3000, 2]
type = ChangeState
Trigger1 =animtime=0
value = 0
ctrl=1

;======================================
;タイガースピン・SC
[Statedef 3001]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 3001
sprpriority = 2
poweradd=-1000

;///////////////////スパキャン
[STate 3000]
type=AssertSpecial
trigger1=prevstateno = 1070 || prevstateno = 1630 || prevstateno = 1515
flag=nojugglecheck

[State 3000]
type=PalFx
trigger1=Time=0
trigger1=prevstateno = 1070 || prevstateno = 1630 || prevstateno = 1515
time=5
add=255,255,255

;////////////////////
[STate 3000,1]
type=envcolor
trigger1=Time=2
value=0,0,0
time=25
under=1

[State 3100,3]
type=superpause
trigger1=time=2
anim=-1
pos=10,-90
postype=p1
sound=s1,17
time=25
movetime=16
p2defmul = 1

[STate 3000,3]
type = Explod
trigger1 = time = 0
anim = 6671
pos = 10,-65
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[STate 3000,4]
type = Explod
trigger1 = time = 0
anim = 6672
pos = 10,-65
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 1200,1]
type=HitDef
triggerall = p2bodydist X>=-8
Trigger1=Time=0
attr=S,HT
hitflag=MAF
priority=6
sparkno=-1
sprpriority=1
p1facing=1
p2facing=1
p1stateno=3010
p2stateno=3020

[State 3000, 2]
type = ChangeState
Trigger1 =animtime=0
value = 0
ctrl=1

;タイガースピン・ノーマル
[Statedef 3010]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3050
sprpriority = 2

[State 3010,0]
type=PosAdd
trigger1=BackEdgeBodyDist<=40&&Time=0
x=30

[State 3100,3]
type=superpause
trigger1=time=0
anim=-1
pos=10,-90
postype=p1
sound=s1,17
time=25
movetime=10
p2defmul = 1

[STate 3000,1]
type=envcolor
trigger1=Time=0
value=0,0,0
time=25
under=1

[STate 810,0];掴み
type=Explod
trigger1=animelem=4
anim=2061
pos=30,-80
sprpriority=3
ownpal=1

[STate 3010,1]
type=PlaySnd
trigger1=Animelem=4
value=1,21

[STate 3010,1]
type=PlaySnd
trigger1=Animelem=3
value=0,14

[STate 3010,1]
type=PlaySnd
trigger1=Animelem=3
value=1,6

[State 3010,2]
type=TargetBind
trigger1=Animelem=1,>=0
trigger1=Animelem=2,<=0
pos=15,0

[State 3010,2]
type=TargetBind
trigger1=Animelem=3,>=0
trigger1=Animelem=4,<=0
pos=15,0

[State 3010,2]
type=TargetBind
trigger1=Animelem=5,>=0
trigger1=Animelem=6,<=0
pos=-15,0

[State 3010,2]
type=TargetBind
trigger1=Animelem=7
pos=-15,0

[State 3010]
type=TargetBind
trigger1=Animelem=8,>=0
trigger1=animelem=11,<=0
pos=-20,0

[State 3010]
type=TargetBind
trigger1=Animelem=12,>=0
trigger1=animelem=15,<=0
pos=-15,0

[State 3010]
type=TargetBind
trigger1=Animelem=16,>=0
trigger1=animelem=18,<=0
pos=-20,0

[State 3010]
type=TargetBind
trigger1=Animelem=19
pos=-30,-70

[State 3010]
type=TargetBind
trigger1=Animelem=20
pos=-30,-60

[State 3010]
type=TargetBind
trigger1=Animelem=21
pos=-25,-70

[State 3010]
type=TargetBind
trigger1=Animelem=22
pos=0,-60

[State 3010]
type=TargetBind
trigger1=Animelem=23
pos=15,-30

[State 3010]
type=TargetBind
trigger1=Animelem=24
pos=20,-15

[State 3010,3]
type=Targetlifeadd
trigger1=Animelem=24
value=-220

[State 3010,2]
type=null;Targetstate
trigger1=Animelem=24
value=3030

[State 3010,10]
type=envshake
trigger1=Animelem=24
ampl=8
time=15

[State 1210,4]
type=Explod
trigger1=Animelem=24
anim=2110
postype=p1
pos=20,0
sprpriority=-5
ownpal=1

[State 1210,4]
type=Explod
trigger1=Animelem=24
anim=2111
postype=p1
pos=20,0
sprpriority=5
ownpal=1

[STate 3010,11]
type=BgpalFx
trigger1=Animelem=24
time=1
value=255,255,255

[State 3010,12]
type=PlaySnd
trigger1=Animelem=24
value=1,11
channel=2

[STate 3010,0];
type=Explod
trigger1=animelem=24
anim=2030
pos=20,0
postype=p1
sprpriority=6
ownpal=1

[State 3010,20]
type=Changestate
trigger1=Animtime=0
value=0
ctrl=1

;タイガースピン・ノーマル相手
[Statedef 3020]
type    = S
movetype= H
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = -2

[State 3020,1]
type=Changeanim2
trigger1=Time=0
value=3020

[State 3020,3]
type=ScreenBound
trigger1 = animelem = 10,<0
value=0

[State 1320,5]
type=DestroySelf
trigger1=Ishelper

[State 3020]
type = velset
trigger1 = animelem=10
x=-3
y=-5

[State 3020]
type = veladd
trigger1 = animelem = 10,>=0
y=.4

[State 3030,2]
type=Changeanim
trigger1=pos Y>=0&&Vel Y>0
trigger1=SelfAnimExist(5062)=1
value=5062

[State 3020]
type = selfstate
trigger1 = pos Y>=0 && vel Y>0
value = 5100
;---------------------------------------------------------------------------
[Statedef 3030]
type    = A
movetype= H
physics = N
poweradd = 0
ctrl=0

[State 930,1]
type=Changeanim2
trigger1=Time=0
value=3070

[State 3030,2]
type=Changestate
trigger1=time=6
value=3040

[State 3020,3]
type=ScreenBound
trigger1=1
value=0

[State 1320,5]
type=DestroySelf
trigger1=Ishelper

[Statedef 3040]
type    = A
movetype= H
physics = N
poweradd = 0
ctrl=0
velset=-4,0

;[STate 3040,0]
;type=Turn
;trigger1=Time=0

[State 930,1]
type=VelSet
trigger1=animelem=1
y=-3

[State 930,1]
type=Veladd
trigger1=1
y=.4

[State 3030,2]
type=Changeanim
trigger1=pos Y>=0&&Vel Y>0
trigger1=SelfAnimExist(5062)=1
value=5062

[State 930,2]
type=SelfState
trigger1=Pos Y>=0&&Vel Y>0
value=5100


;========================
;エル・ディアブロ・アマリロ・ラモン(ノーマル)弱
[Statedef 3100]
type=S
movetype=A
physics=N
velset=0,0
anim=3100
ctrl=0
juggle=0
poweradd=-1000

;///////////////////スパキャン
[State 3000]
type=PalFx
trigger1=Time=0
trigger1=prevstateno = 1070 || prevstateno = 1630 || prevstateno = 1515
time=5
add=255,255,255

[STate 3100]
type = poweradd
trigger1 = prevstateno = 1070 || prevstateno = 1630 || prevstateno = 1515
trigger1 = time = 1
value = -1000
persistent = 0

;////////////////////

[STate 3100,2]
type=NotHitBy
trigger1=Time<=22
value=SAC

[STate 3000,1]
type=envcolor
trigger1=Time=0
value=0,0,0
time=33
under=1

[STate 3000,3]
type = Explod
trigger1 = time = 0
anim = 6671
pos = 10,-65
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[STate 3000,4]
type = Explod
trigger1 = time = 0
anim = 6672
pos = 10,-65
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 3000,5]
type = SuperPause
trigger1 = animelem = 2
movetime = 16
time = 31
anim = -1
sound=s1,17
p2defmul = 1

[State 3100,4]
type=Changestate
trigger1=Animtime=0
value=3105

;エル・ディアブロ・アマリロ・ラモン(ノーマル)強
[Statedef 3101]
type=S
movetype=A
physics=N
velset=0,0
anim=3101
ctrl=0
juggle=0
poweradd=-1000

;///////////////////スパキャン

[State 3100]
type=PalFx
trigger1=Time=0
trigger1=prevstateno = 1070 || prevstateno = 1630 || prevstateno = 1515
time=5
add=255,255,255

[STate 3100]
type = poweradd
trigger1 = prevstateno = 1070 || prevstateno = 1630 || prevstateno = 1515
trigger1 = time = 1
value = -1000
persistent = 0

;////////////////////

[STate 3100,2]
type=NotHitBy
trigger1=Time=0
value=SAC
time = 40

;////////////////////

[STate 3000,1]
type=envcolor
trigger1=Time=0
value=0,0,0
time=33
under=1

[STate 3000,3]
type = Explod
trigger1 = time = 0
anim = 6671
pos = 10,-65
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[STate 3000,4]
type = Explod
trigger1 = time = 0
anim = 6672
pos = 10,-65
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 3000,5]
type = SuperPause
trigger1 = animelem = 4
movetime = 10
time = 25
anim = -1
sound=s1,17
p2defmul = 1

[State 3100,4]
type=Changestate
trigger1=Animtime=0
value=3106
;========================
;エル・ディアブロ・アマリロ・ラモン・ダッシュ
[Statedef 3105]
type=S
movetype=A
physics=N
velset=0,0
anim=3130
ctrl=0
juggle = 15

[STate 3105,1]
type=VelSet
trigger1=Animelem=1
x=8

[STate 3100]
type=AssertSpecial
trigger1=enemy,stateno = 1090
flag=nojugglecheck

[State 1010, 2]
type = HitDef
trigger1 =movecontact=0&&Vel X!=0
attr = S,HA
damage    = 0,0
getpower=0,0
hitflag=MAF
guardflag = MA
priority = 7
pausetime = 5,5
guard.pausetime=10,10
sparkno = s2030
guard.sparkno=s2050
sparkxy = 0,-70
hitsound = s1,10
guardsound = s1,15
animtype = hard
ground.type = high
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -3
air.velocity = -2,-4
p2facing = 1
p1stateno = 3110
p2stateno = 3140

[STate 3105,3]
type=AfterImage
trigger1=Time=0
time=1000
trans=Add1
length=10

[State 3105,4]
type=Changestate
trigger1=time=20
trigger2=P2Bodydist X<=0&&P2statetype=L
trigger3=FrontedgeBodydist<=0&&Time>=12
value=3108

[State 3105,4]
type=Changestate
trigger1=Moveguarded=1
value=3109

;エル・ディアブロ・アマリロ・ラモン・ダッシュ
[Statedef 3106]
type=S
movetype=A
physics=N
velset=0,0
anim=3130
ctrl=0
juggle = 15

[STate 3105,1]
type=VelSet
trigger1=Animelem=1
x=8

[STate 3100]
type=AssertSpecial
trigger1=enemy,stateno = 1090
flag=nojugglecheck

[State 1010, 2]
type = HitDef
trigger1 =movecontact=0&&Vel X!=0
attr = S,HA
damage    = 0,0
getpower=0,0
hitflag=MAF
guardflag = MA
priority = 7
pausetime = 5,5
guard.pausetime=10,10
sparkno = s2030
guard.sparkno=s2050
sparkxy = 0,-70
hitsound = s1,10
guardsound = s1,15
animtype = hard
ground.type = high
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -3
air.velocity = -2,-4
p2facing = 1
p1stateno = 3110
p2stateno = 3140

[STate 3105,3]
type=AfterImage
trigger1=Time=0
time=1000
trans=Add1
length=10

[State 3105,4]
type=Changestate
trigger1=time=32
trigger2=P2Bodydist X<=0&&P2statetype=L
trigger3=FrontedgeBodydist<=0&&Time>=20
trigger4=Moveguarded=1
value=3108

[State 3105,4]
type=Changestate
trigger1=Moveguarded=1
value=3109

;エル・ディアブロ・アマリロ・ラモン失敗
[Statedef 3108]
type=S
movetype=I
physics=S
velset=0,0
anim=3105
ctrl=0

[STate 3105,3]
type=AfterImagetime
trigger1=Time=0
time=0

[State 3105,4]
type=Changestate
trigger1=animtime=0
value=0
ctrl=1

;エル・ディアブロ・アマリロ・ラモン失敗
[Statedef 3109]
type=S
movetype=I
physics=S
velset=0,0
anim=3106
ctrl=0

[STate 3105,3]
type=AfterImagetime
trigger1=Time=0
time=0

[State 3105,4]
type=Changestate
trigger1=animtime=0
value=0
ctrl=1

;エル・ディアブロ・アマリロ・ラモン
[Statedef 3110]
type=S
movetype=A
physics=S
velset=0,0
anim=3110
ctrl=0

[State 3102,5]
type=NotHitBy
trigger1=1
value=SAC

[State 3110,0]
type=POsAdd
trigger1=Time=0&&Frontedgebodydist<=30
x=-30

[State 3110,0]
type=TargetBind
trigger1 = animelem = 53,<=0
pos=40,0

[State 1010, 2]
type = HitDef
trigger1 =animelem=3
trigger2=Animelem=17
trigger3=Animelem=27
trigger4=Animelem=39
trigger5=Animelem=51
attr = S,HA
damage    = 33/(hitcount+1)
getpower=0,0
hitflag=MAF
guardflag =
priority = 7
pausetime = 0,5
guard.pausetime=0,5
sparkno = s2070
guard.sparkno=s2050
sparkxy = -10,-70
hitsound = s1,7
guardsound = s1,15
animtype = hard
ground.type = high
ground.slidetime = 25
ground.hittime  = 30
ground.velocity = 0
air.velocity = -2,-4
p2facing = 1
kill=0
p2stateno = 3140

[State 1010, 2]
type = HitDef
trigger1 =animelem=7
trigger2=Animelem=12
trigger3=Animelem=23
trigger4=Animelem=32
trigger5=Animelem=37
trigger6=Animelem=43
attr = S,HA
damage    = 80/(hitcount+1)
getpower=0,0
hitflag=MAF
guardflag =
priority = 7
pausetime = 0,5
guard.pausetime=0,5
sparkno = s2070
guard.sparkno=s2050
sparkxy = -10,-30
hitsound = s1,10
guardsound = s1,15
animtype = hard
ground.type = low
ground.slidetime = 25
ground.hittime  = 30
ground.velocity = 0
air.velocity = -2,-4
p2facing = 1
kill=0
p2stateno = 3141

[State 1010, 2]
type = HitDef
trigger1 =animelem=52
attr = S,HA
damage    = 80/(hitcount+1)
getpower=0,0
hitflag=MAF
guardflag = MA
priority = 7
pausetime = 0,10
guard.pausetime=0,10
sparkno = s2070
guard.sparkno=s2050
sparkxy = -10,-80
hitsound = s1,10
guardsound = s1,15
animtype = hard
ground.type = high
ground.slidetime = 45
ground.hittime  = 50
ground.velocity = -3
air.velocity = -2,-4
p2facing = 1
kill=0
p2stateno=5300

[STate 3105,3]
type=AfterImage
trigger1=Time=0
time=1000
trans=Add1
length=8

[State 3105,4]
type=Changestate
trigger1=Animtime=0
value=3115

[State 3110,10]
type=PlayerPush
trigger1=FrontEdgebodydist>=50
value=0

[State 3110,10]
type=bgpalfx
trigger1 =animelem=3
trigger2=Animelem=17
trigger3=Animelem=27
trigger4=Animelem=39
trigger5=Animelem=51
trigger6=animelem=7
trigger7=Animelem=12
trigger8=Animelem=23
trigger9=Animelem=32
trigger10=Animelem=37
trigger11=Animelem=43
trigger12=animelem=52
time=1
value=255,255,255
under=0

;エル・ディアブロ・アマリロ・ラモン・後方歩き
[Statedef 3115]
type=S
movetype=A
physics=N
velset=-2,0
anim=3115
ctrl=0

[State 3102,5]
type=NotHitBy
trigger1=1
value=SAC

[State 3115,0]
type=VelAdd
trigger1=Time>=15
trigger1 = vel X<0
x=.1

[State 3115,0]
type=Velset
trigger1=Time>=15
trigger1 = vel X>=0
x=0

[State 3115,1]
type=Changestate
;trigger1=Time>=15
;trigger1=vel X>=0
trigger1 = animtime = 0
value=3120

;ドロップキック
[Statedef 3120]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3120
sprpriority = 2

[State 3102,5]
type=NotHitBy
trigger1=1
value=SAC

[State 1120,1]
type=Width
trigger1=1
value=10,0

[State 1120,2]
type=PlayerPush
trigger1=1
value=1

[STate 3120]
type=Velset
trigger1=animelem=5
x=5
y=-5

[STate 1050,0]
type=VelAdd
trigger1=animelem=5,>=0
y=.3

[STate 1120,3]
type=PlaySnd
trigger1=Animelem=6
value=1,1
channel=1

[STate 1120,3]
type=PlaySnd
trigger1=Animelem=5
value=0,1
channel=0

[State 1010, 2]
type = HitDef
trigger1 =animelem=9
attr = S, HA
damage    = 50
getpower=0,0
hitflag=MAF
guardflag =
priority = 7
pausetime = 25,30
guard.pausetime=30,30
sparkno = s2070
guard.sparkno=s2040
sparkxy = -10,-60
hitsound = s1,11
guardsound = s1,15
animtype =digup
ground.type = high
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -4,-6
air.velocity = -2,-6
can.recover=0
fall=1
fall.recover=0
envshake.time=20
envshake.ampl=8
p2stateno = 3150

[State 1010,1]
type=Changestate
trigger1=pos Y>10&&Vel Y>0
value=3130

[State 3110,10]
type=bgpalfx
trigger1 =animelem=9
time=1
value=255,255,255
under=0

;着地
[Statedef 3130]
type    = S
movetype= I
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3125
sprpriority = 2
[STate 3105,3]
type=AfterImagetime
trigger1=Time=0
time=0
[STate 1050,2]
type=Explod
trigger1=Time=0
anim=2080
ownpal=1
pos=0,0
postype=p1
sprpriority=-3
[STate 1330,2]
type=PlaySnd
trigger1=Time=0
value=1,12
channel=1

[STate 1130,0]
type=posset
trigger1=1
y=0

[State 1130,1]
type=Changestate
trigger1=animtime=0
value=0
ctrl=1
[State 3102,5]
type=NotHitBy
trigger1=1
value=SAC

;エル・ディアブロ・アマリロ・ラモン
[Statedef 3140]
type=S
movetype=H
physics=S
velset=0,0
anim=5002
ctrl=0

[STate 3140]
type=PosSet
trigger1 = 1
y = 0

[STate 3140]
type=statetypeset
trigger1 = 1
value = S

[State 3140]
type = selfstate
trigger1 = time = 20
value = 5100

;エル・ディアブロ・アマリロ・ラモン
[Statedef 3141]
type=S
movetype=H
physics=S
velset=0,0
anim=5012
ctrl=0

[STate 3140]
type=PosSet
trigger1 = 1
y = 0

[STate 3140]
type=statetypeset
trigger1 = 1
value = S

[State 3140]
type = selfstate
trigger1 = time = 20
value = 5100
;---------------------------------------------------------------------------
;吹き飛び
[Statedef 3150]
type    = A
movetype= H
physics = N
poweradd= 80
ctrl = 0
sprpriority = -2
velset=0,0

[State 3150]
type = changeanim2
trigger1 = time=0
value = 3145

[State 3150]
type = velset
trigger1 = animelem=2
x=-5
y=-5

[State 3150]
type = veladd
trigger1 = animelem=2,>=0
y=.4

[State 3150]
type = changestate
trigger1 = pos Y>=20 && vel Y>0
value = 3155
;---------------------------------------------------------------------------
;吹き飛びすべりダウン
[Statedef 3155]
type    = L
movetype= H
physics = S
poweradd= 0
ctrl = 0
sprpriority = -2
velset=-9,0

[State 1040]
type = changeanim2
trigger1 = time=0
value = 1040

[State 1040]
type = posset
trigger1 = time=0
y=0

[State 1040]
type = makedust
trigger1 = time <= 10
pos = -20,0
spacing = 1

[State 1040]
type = selfstate
trigger1 = alive = 0
trigger1 = animtime=0
value = 5150

[State 1040]
type = selfstate
trigger1 = alive
trigger1 = animtime=0
value = 5120

;======================================
;タイガースピン・MAX
[Statedef 3200]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 3000
sprpriority = 2
poweradd=-2000

[STate 3000,1]
type=envcolor
trigger1=Time=2
value=0,0,0
time=25
under=1

[State 3100,3]
type=superpause
trigger1=time=2
anim=-1
pos=10,-90
postype=p1
sound=s1,18
time=25
movetime=16
p2defmul = 1

[STate 3000,3]
type = Explod
trigger1 = time = 0
anim = 6673
pos = 10,-65
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[STate 3000,4]
type = Explod
trigger1 = time = 0
anim = 6674
pos = 10,-65
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 1200,1]
type=HitDef
triggerall = p2bodydist X>=-8
Trigger1=Time=0
trigger1=prevstateno = 1070 || prevstateno = 1515
attr=S,HT
hitflag=MAFD
priority=6
sparkno=-1
sprpriority=1
p1facing=1
p2facing=1
p1stateno=3210
p2stateno=3220

[State 1200,1]
type=HitDef
triggerall=var(30)=0
triggerall = p2bodydist X>=-8
Trigger1=Time=0
trigger1=enemy,stateno!=[120,155]
trigger1=(enemy,stateno!=[40,51])&&(enemy,stateno!=[53,60])
attr=S,HT
hitflag=M
priority=6
sparkno=-1
sprpriority=1
p1facing=1
p2facing=1
p1stateno=3210
p2stateno=3220

[State 1200,1]
type=HitDef
triggerall=var(30)=1
triggerall = p2bodydist X>=-8
Trigger1=Time=0
trigger1=enemy,stateno!=[120,155]
trigger1=(enemy,stateno!=[40,51])&&(enemy,stateno!=[53,60])
trigger1=enemy,stateno!=5001&&enemy,stateno!=5011&&enemy,stateno!=5021
attr=S,HT
hitflag=M
priority=6
sparkno=-1
sprpriority=1
p1facing=1
p2facing=1
p1stateno=3210
p2stateno=3220

[State 3200, 2]
type = ChangeState
Trigger1 =animtime=0
value = 0
ctrl=1
;======================================
;タイガースピン・SC
[Statedef 3201]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 3001
sprpriority = 2
poweradd=-2000

;///////////////////スパキャン
[STate 3000]
type=AssertSpecial
trigger1=prevstateno = 1070 || prevstateno = 1630 || prevstateno = 1515
flag=nojugglecheck

[State 3000]
type=PalFx
trigger1=Time=0
trigger1=prevstateno = 1070 || prevstateno = 1630 || prevstateno = 1515
time=5
add=255,255,255

;////////////////////
[STate 3000,1]
type=envcolor
trigger1=Time=2
value=0,0,0
time=25
under=1

[State 3100,3]
type=superpause
trigger1=time=2
anim=-1
pos=10,-90
postype=p1
sound=s1,18
time=25
movetime=16
p2defmul = 1

[STate 3000,3]
type = Explod
trigger1 = time = 0
anim = 6673
pos = 10,-65
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[STate 3000,4]
type = Explod
trigger1 = time = 0
anim = 6674
pos = 10,-65
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 1200,1]
type=HitDef
triggerall = p2bodydist X>=-8
Trigger1=Time=0
attr=S,HT
hitflag=MAF
priority=6
sparkno=-1
sprpriority=1
p1facing=1
p2facing=1
p1stateno=3210
p2stateno=3220

[State 3200, 2]
type = ChangeState
Trigger1 =animtime=0
value = 0
ctrl=1

;---------------------------------------------------------------------------
;タイガーネックチャンスリー
[Statedef 3210]
type    = S
movetype= A
physics = C
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3210
sprpriority = 2

[State 3310,0]
type=PosAdd
trigger1=Time=0
trigger1=backEdgeBodydist <=30
x=40

[STate 3000,1]
type=envcolor
trigger1=Time=0
value=0,0,0
time=29
under=1

[State 3100,3]
type=superpause
trigger1=time=0
anim=-1
pos=10,-90
postype=p1
sound=s1,18
time=25
movetime=10
p2defmul = 1

[STate 3000,1]
type=envcolor
trigger1=Time=0
value=0,0,0
time=25
under=1

[State 3000,0]
type=AssertSpecial
trigger1=time<=10
flag=NoFG

[STate 810,0];掴み
type=Explod
trigger1=animelem=2
anim=2061
pos=15,-80
sprpriority=3
ownpal=1
[State 3310,1]
type=PlaySnd
trigger1=animelem=2
value=0,25
channel=0
[State 3310,1]
type=PlaySnd
trigger1=animelem=2
value=1,21
channel=1

[State 1200,3]
type=posadd
trigger1=Animelem=13
x=-50
[State 1200,3]
type=posadd
trigger1=Animelem=15
x=-30

[State 1210,1]
type=TargetBind
trigger1=Animelem=1
pos=20,0
postype=p1

[State 1210,1]
type=TargetBind
trigger1=Animelem=2
pos=5,-60
postype=p1
[State 1210,1]
type=TargetBind
trigger1=Animelem=3
pos=10,-60
postype=p1

[State 1210,1]
type=TargetBind
trigger1=Animelem=4
pos=10,-55
postype=p1

[State 1210,1]
type=TargetBind
trigger1=Animelem=5
pos=13,-55
postype=p1

[State 1210,1]
type=TargetBind
trigger1=Animelem=6
pos=12,-53
postype=p1
[State 1210,1]
type=TargetBind
trigger1=Animelem=7
pos=14,-50
postype=p1

[State 1210,1]
type=TargetBind
trigger1=Animelem=8
pos=15,-60
postype=p1

[State 1210,1]
type=TargetBind
trigger1=Animelem=9
pos=-7,-60
postype=p1

[State 1210,1]
type=TargetBind
trigger1=Animelem=10
pos=-20,-60
postype=p1

[State 1210,1]
type=TargetBind
trigger1=Animelem=11
pos=-26,-70
postype=p1

[State 3310,1]
type=TargetBind
trigger1=Animelem=12
pos=-45,-45
postype=p1

[State 3310,1]
type=TargetBind
trigger1=Animelem=13
pos=-15,-10
postype=p1

[State 3310,1]
type=TargetBind
trigger1=Animelem=14
pos=-30,0
postype=p1
[State 3310,1]
type=TargetBind
trigger1=Animelem=15
pos=-30,0
postype=p1

[State 3310,1]
type=TargetBind
trigger1=Animelem=17
pos=20,0
postype=p1

;-----------------
[State 3310,1]
type=Targetlifeadd
trigger1=Animelem=15
value=-110 - var(7)*15
kill=0
[State 3310,2]
type=EnvShake
trigger1=Animelem=14
ampl=10
time=12

[STate 3010,11]
type=envcolor
trigger1=Animelem=14
time=1
value=255,255,255

[State 1210,4]
type=Explod
trigger1=Animelem=14
anim=2110
postype=p1
pos=-20,0
sprpriority=-5
ownpal=1

[State 1210,4]
type=Explod
trigger1=Animelem=14
anim=2111
postype=p1
pos=-20,0
sprpriority=5
ownpal=1

[STate 3010,0];
type=Explod
trigger1=animelem=14
anim=2070
pos=-20,0
postype=p1
sprpriority=6
ownpal=1

[STate 3310,3]
type=PlaySnd
trigger1=Animelem=14
value=1,11
channel=3
[State 1200, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 3215
;---------------------------------------------------------------------------
;タイガーネックチャンスリー
[Statedef 3215]
type    = S
movetype= A
physics = C
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3215
sprpriority = 2

[State 1200,3]
type=posadd
trigger1=Animelem=13
x=-55

[State 1200,3]
type=posadd
trigger1=Animelem=15
x=-30

[State 3315,0]
type=TargetState
trigger1=time=0
value=3220

[State 1210,1]
type=TargetBind
trigger1=Animelem=1
pos=0,0
postype=p1

[State 1210,1]
type=TargetBind
trigger1=Animelem=2
pos=5,-60
postype=p1
[State 1210,1]
type=TargetBind
trigger1=Animelem=3
pos=10,-60
postype=p1

[State 1210,1]
type=TargetBind
trigger1=Animelem=4
pos=10,-55
postype=p1

[State 1210,1]
type=TargetBind
trigger1=Animelem=5
pos=13,-55
postype=p1

[State 1210,1]
type=TargetBind
trigger1=Animelem=6
pos=12,-53
postype=p1
[State 1210,1]
type=TargetBind
trigger1=Animelem=7
pos=14,-50
postype=p1

[State 1210,1]
type=TargetBind
trigger1=Animelem=8
pos=15,-60
postype=p1

[State 1210,1]
type=TargetBind
trigger1=Animelem=9
pos=-7,-64
postype=p1

[State 1210,1]
type=TargetBind
trigger1=Animelem=10
pos=-20,-60
postype=p1

[State 1210,1]
type=TargetBind
trigger1=Animelem=11
pos=-26,-70
postype=p1

[State 3310,1]
type=TargetBind
trigger1=Animelem=12
pos=-55,-45
postype=p1

[State 3310,1]
type=TargetBind
trigger1=Animelem=13
pos=-12,-10
postype=p1

[State 3310,1]
type=TargetBind
trigger1=Animelem=14
pos=-30,0
postype=p1

[State 3310,1]
type=TargetBind
trigger1=Animelem=15
pos=0,0
postype=p1

[State 3310,1]
type=TargetBind
trigger1=Animelem=17
pos=20,0
postype=p1

[State 3310,1]
type=Targetlifeadd
trigger1=Animelem=15
value=-120
kill=0

[State 3310,2]
type=EnvShake
trigger1=Animelem=14
ampl=10
time=12
[STate 3010,11]
type=envcolor
trigger1=Animelem=14
time=1
value=255,255,255
[State 1210,4]
type=Explod
trigger1=Animelem=14
anim=2110
postype=p1
pos=-20,0
sprpriority=-5
ownpal=1

[State 1210,4]
type=Explod
trigger1=Animelem=14
anim=2111
postype=p1
pos=-20,0
sprpriority=5
ownpal=1

[STate 3010,0];
type=Explod
trigger1=animelem=14
anim=2070
pos=-20,0
postype=p1
sprpriority=6
ownpal=1

[STate 3310,3]
type=PlaySnd
trigger1=Animelem=14
value=1,11
channel=3

[State 1200, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 3230

;タイガースピン・MAX
[Statedef 3230]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3230
sprpriority = 2

[State 3010,0]
type=PosAdd
trigger1=BackEdgeBodyDist<=40&&Time=0
x=30

[STate 810,0];掴み
type=Explod
trigger1=animelem=4
anim=2061
pos=30,-80
sprpriority=3
ownpal=1

[STate 3010,1]
type=PlaySnd
trigger1=Animelem=4
value=1,21

[STate 3010,1]
type=PlaySnd
trigger1=Animelem=3
value=0,14

[STate 3010,1]
type=PlaySnd
trigger1=Animelem=3
value=1,6

[State 3010,2]
type=Targetstate
trigger1=time = 0
value = 3240

[State 3010,2]
type=TargetBind
trigger1=Animelem=1,>=0
trigger1=Animelem=2,<=0
pos=15,0

[State 3010,2]
type=TargetBind
trigger1=Animelem=3,>=0
trigger1=Animelem=4,<=0
pos=15,0

[State 3010,2]
type=TargetBind
trigger1=Animelem=5,>=0
trigger1=Animelem=6,<=0
pos=-15,0

[State 3010,2]
type=TargetBind
trigger1=Animelem=7
pos=-15,0

[State 3010]
type=TargetBind
trigger1=Animelem=8,>=0
trigger1=animelem=11,<=0
pos=-20,0

[State 3010]
type=TargetBind
trigger1=Animelem=12,>=0
trigger1=animelem=15,<=0
pos=-15,0

[State 3010]
type=TargetBind
trigger1=Animelem=16,>=0
trigger1=animelem=18,<=0
pos=-20,0

[State 3010]
type=TargetBind
trigger1=Animelem=19
pos=-30,-70

[State 3010]
type=TargetBind
trigger1=Animelem=20
pos=-30,-60

[State 3010]
type=TargetBind
trigger1=Animelem=21
pos=-25,-70

[State 3010]
type=TargetBind
trigger1=Animelem=22
pos=0,-60

[State 3010]
type=TargetBind
trigger1=Animelem=23
pos=15,-30

[State 3010]
type=TargetBind
trigger1=Animelem=24
pos=20,-15

[State 3010,3]
type=Targetlifeadd
trigger1=Animelem=24
value=-220

[State 3010,10]
type=envshake
trigger1=Animelem=24
ampl=10
time=20

[State 1210,4]
type=Explod
trigger1=Animelem=24
anim=2110
postype=p1
pos=20,0
sprpriority=-5
ownpal=1

[State 1210,4]
type=Explod
trigger1=Animelem=24
anim=2111
postype=p1
pos=20,0
sprpriority=5
ownpal=1

[STate 3010,11]
type=BgpalFx
trigger1=Animelem=24
time=1
value=255,255,255

[State 3010,12]
type=PlaySnd
trigger1=Animelem=24
value=1,11
channel=2

[State 3010,12]
type=PlaySnd
trigger1=Animelem=24
value=1,47

[STate 3010,0];
type=Explod
trigger1=animelem=24
anim=2070
pos=20,0
postype=p1
sprpriority=6
ownpal=1

[State 3010,20]
type=Changestate
trigger1=Animtime=0
value=0
ctrl=1

;---------------------------------------------------------------------------
;タイガーネックチャンスリー
[Statedef 3220]
type    = S
movetype= H
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = -2

[State 3320,1]
type=Changeanim2
trigger1=Time=0
value=3220

[State 3320,2]
type=ScreenBound
trigger1=1
value=0

[State 1320,5]
type=DestroySelf
trigger1=Ishelper

;タイガースピン・ノーマル相手
[Statedef 3240]
type    = S
movetype= H
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = -2

[State 3020,1]
type=Changeanim2
trigger1=Time=0
value=3260

[State 3020,3]
type=ScreenBound
trigger1 = animelem = 10,<0
value=0

[State 1320,5]
type=DestroySelf
trigger1=Ishelper

[State 3020]
type = velset
trigger1 = animelem=10
x=-3
y=-5

[State 3020]
type = veladd
trigger1 = animelem = 10,>=0
y=.4

[State 3030,2]
type=Changeanim
trigger1=pos Y>=0&&Vel Y>0
trigger1=SelfAnimExist(5062)=1
value=5062

[State 3020]
type = selfstate
trigger1 = pos Y>=-20 && vel Y>0
value = 5100
;========================
;エル・ディアブロ・アマリロ・ラモンMAX
[Statedef 3300]
type=S
movetype=A
physics=N
velset=0,0
anim=3100
ctrl=0
juggle=0
poweradd=-2000

;///////////////////スパキャン
[State 3300]
type=PalFx
trigger1=Time=0
trigger1=prevstateno = 1070 || prevstateno = 1630 || prevstateno = 1515
time=5
add=255,255,255

[STate 3300]
type = poweradd
trigger1 = prevstateno = 1070 || prevstateno = 1630 || prevstateno = 1515
trigger1 = time = 1
value = -1000
persistent = 0

;////////////////////

[STate 3100,2]
type=NotHitBy
trigger1=Time<=29
value=SAC

[STate 3000,1]
type=envcolor
trigger1=Time=0
value=0,0,0
time=33
under=1

[State 3000,5]
type = SuperPause
trigger1 = animelem = 4
movetime = 10
time = 25
anim = -1
sound=s1,18
p2defmul = 1

[State 3300,4]
type=Changestate
trigger1=Animtime=0
value=3305

;MAXエル・ディアブロ・アマリロ・ラモン・ダッシュ
[Statedef 3305]
type=S
movetype=A
physics=N
velset=0,0
anim=3130
ctrl=0
juggle = 15

[STate 3105,1]
type=VelSet
trigger1=Animelem=1
x=8

[STate 3300]
type=AssertSpecial
trigger1=enemy,stateno = 1090
flag=nojugglecheck

[State 3310, 2]
type = HitDef
trigger1 =movecontact=0&&Vel X!=0
attr = S,HA
damage    = 0,0
getpower=0,0
hitflag=MAF
guardflag = MA
priority = 7
pausetime = 5,5
guard.pausetime=10,10
sparkno = s2030
guard.sparkno=s2050
sparkxy = 0,-70
hitsound = s1,10
guardsound = s1,15
animtype = hard
ground.type = high
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -3
air.velocity = -2,-4
p2facing = 1
p1stateno = 3310
p2stateno = 3140

[STate 3305,3]
type=AfterImage
trigger1=Time=0
time=1000
trans=Add1
length=12
palcolor=120
palbright=183,20,20
palcontrast=200,12,2

[State 3305,4]
type=Changestate
trigger1=time=35
trigger2=P2Bodydist X<=0&&P2statetype=L
trigger3=FrontedgeBodydist<=0&&Time>=20
trigger4=Moveguarded=1
value=3108

[State 3305,4]
type=Changestate
trigger1=Moveguarded=1
value=3109

;MAXエル・ディアブロ・アマリロ・ラモン
[Statedef 3310]
type=A
movetype=A
physics=N
velset=0,0
anim=3300
ctrl=0

[State 3102,5]
type=NotHitBy
trigger1=1
value=SAC

[State 3310,0]
type=POsAdd
trigger1=Time=0&&Frontedgebodydist<=30
x=-30

[State 3310,0]
type=POsAdd
trigger1=Time=0&&backedgebodydist<=30
x=40

[State 3310,0]
type=TargetBind
trigger1 = animelem = 105,<=0
pos=40,0

[State 3310]
type = playsnd
trigger1 = animelem = 9
value =0,48

[State 1010, 2]
type = HitDef
trigger1 =animelem=4
trigger2=Animelem=20
trigger3=Animelem=31
trigger4=Animelem=44
trigger5=Animelem=55
trigger6=Animelem=64
trigger7=Animelem=69
trigger8=Animelem=75
trigger9=Animelem=86
trigger10=Animelem=95
attr = S,HA
damage    = 80/(hitcount+1)
getpower=0,0
givepower = 10,0
hitflag=MAF
guardflag =
priority = 7
pausetime = 0,5
guard.pausetime=0,5
sparkno = s2070
guard.sparkno=s2050
sparkxy = -5,-70
hitsound = s1,10
guardsound = s1,15
animtype = hard
ground.type = high
ground.slidetime = 25
ground.hittime  = 30
ground.velocity = 0
air.velocity = -2,-4
p2facing = 1
kill=0

[State 1010, 2]
type = HitDef
trigger1 =animelem=13
trigger2=Animelem=26
trigger3=Animelem=37
trigger4=Animelem=52
trigger5=Animelem=60
trigger6=Animelem=101
attr = S,HA
damage    = 120/(hitcount+1)
getpower=0,0
hitflag=MAF
guardflag =
priority = 7
pausetime = 0,5
guard.pausetime=0,5
sparkno = s2070
guard.sparkno=s2050
sparkxy = 5,-30
hitsound = s1,19
guardsound = s1,15
animtype = hard
ground.type = low
ground.slidetime = 25
ground.hittime  = 30
ground.velocity = 0
air.velocity = -2,-4
p2facing = 1
kill=0

[State 1010, 2]
type = HitDef
trigger1 =animelem=106
attr = S,HA
damage    = 60
getpower=0,0
hitflag=MAF
guardflag =
priority = 7
pausetime = 10,20
guard.pausetime=0,10
sparkno = s2070
guard.sparkno=s2050
sparkxy = -10,-60
hitsound = s1,11
guardsound = s1,15
animtype = hard
ground.type = high
ground.slidetime = 45
ground.hittime  = 50
ground.velocity = -3
air.velocity = -2,-4
p2facing = 1
kill=0
p2stateno=5310
envshake.time = 10
envshake.ampl = 6

[State 3310,10]
type=PlayerPush
trigger1=FrontEdgebodydist>=50
value=0

[State 3310,10]
type=bgpalfx
trigger1 =animelem=4
trigger2=Animelem=20
trigger3=Animelem=31
trigger4=Animelem=44
trigger5=Animelem=55
trigger6=Animelem=86
trigger7=Animelem=95
trigger8=animelem=13
trigger9=Animelem=26
trigger10=Animelem=37
trigger11=Animelem=52
trigger12=Animelem=60
trigger13=Animelem=64
trigger14=Animelem=69
trigger15=Animelem=75
trigger16=Animelem=101
trigger17=animelem=106
time=1
value=255,255,255
under=0

[State 3310]
type = playsnd
trigger1 = animelem = 113
value =1,25

[State 3310]
type = velset
trigger1 = animelem = 113
x = -5
y = -8

[State 3310]
type = veladd
trigger1 = animelem = 113,>=0
y = .5

[State 3105,4]
type=Changestate
trigger1=pos Y>=5 && vel Y>0
value=3330
;---------------------------------------------------------------------------
;着地
[Statedef 3330]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3310
sprpriority = 2

[STate 3330]
type=Explod
trigger1=Time=0
anim=2080
ownpal=1
pos=0,0
postype=p1
sprpriority=-3

[STate 3330]
type=PlaySnd
trigger1=Time=0
value=1,12

[State 3330]
type = posset
trigger1 = time = 0
y = 0

[State 3330]
type = HitDef
trigger1 =animelem=22
attr = A,HA
damage    = 50
getpower=0,0
hitflag=MAF
guardflag =
priority = 7
pausetime = 15,15
guard.pausetime=0,10
sparkno = s2070
guard.sparkno=s2050
sparkxy = -10,-80
hitsound = s1,47
guardsound = s1,15
animtype = digup
ground.type = high
ground.slidetime = 45
ground.hittime  = 50
ground.velocity = -5,-5
air.velocity = -5,-5
p2facing = 1
fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = 8

[State 3310]
type = playsnd
trigger1 = animelem = 2
value =0,44

[State 3310]
type = playsnd
trigger1 = animelem = 18
value =0,34

[State 3310]
type = playsnd
trigger1 = animelem = 18
value =0,34

[State 3310]
type = playsnd
trigger1 = animelem = 20
value =0,35

[State 3310]
type = playsnd
trigger1 = animelem = 20
value =0,36

[State 3310,10]
type=PlayerPush
trigger1=FrontEdgebodydist>=50
value=0

[State 3310,10]
type=bgpalfx
trigger1 =movehit
time=1
value=255,255,255
under=0
persistent = 0

[State 3310]
type = playsnd
trigger1 = animelem = 18
value = 1,22

[State 3310]
type = velset
trigger1 = animelem = 18
x = 10
y = -6.6

[State 3310]
type = veladd
trigger1 = animelem = 18,>=0
y = .5

[State 3105,4]
type=Changestate
trigger1=pos Y>=15 && vel Y>0
value=1540


;---------------------------------------------------------------------------
;アピール・ラモン
[Statedef 3400]
type    = S
movetype= I
physics = S
poweradd = -1000
ctrl=0
sprpriority=-2
velset=0,0
anim=3400

[STate 3400]
type=PlaySnd
trigger1=Time=6
value=0,15
channel=0

[State 3400]
type=PlaYsnd
trigger1=Animelem=11
channel=0
value=0,18

[STate 3000,3]
type = Explod
trigger1 = time = 0
anim = 6671
pos = 10,-65
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[STate 3000,4]
type = Explod
trigger1 = time = 0
anim = 6672
pos = 10,-65
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 3310,10]
type=envcolor
trigger1=Time=5
time=22
value=0,0,0
under=1

[State 3400]
type = SuperPause
trigger1 = Time = 5
movetime = 22
time = 22
anim = -1
sound=s1,17
p2defmul = 1

[STate 3400]
type=PlaySnd
trigger1=animelem=4
value=0,35
channel=3
[STate 3400]
type=PlaySnd
trigger1=animelem=4
value=0,35
channel=4

[State 3400]
type = ReversalDef
trigger1 =animelem=4
trigger1 =Enemy,Statetype!=A
attr = S, HT
reversal.attr = SAC,NA,SA,HA
numhits = 0
pausetime = 0,50
sparkno = s2020
sparkxy = 40,0
hitsound = 6,0
p1stateno=3410
p2stateno=3420
p1facing=1
p2facing=1
sprpriority=-2

[State 3400]
type = ReversalDef
trigger1 =animelem=4
trigger1 =Enemy,Statetype=A
attr = S, HT
reversal.attr = SCA,NA,SA,HA
numhits = 0
pausetime = 0,50
sparkno = s2020
sparkxy = 40,0
hitsound = 6,0
p1stateno=3410
p2stateno=3421
p1facing=1
p2facing=1
sprpriority=-2

[STate 3400]
type=NotHitBy
trigger1=Time<=30
value=SAC

[STate 3400]
type=null;HitOverRide
trigger1=Var(15)=0
trigger1=Time>30
stateno=3401
attr=SAC,NA,SA,HA,NP,SP,HP

[STate 3400]
type=VarSet
trigger1=Animelem=11
var(15)=100

[STate 3400]
type=VarSet
trigger1=Animelem=11
var(7)=1

[State 3400]
type=Changestate
trigger1=Animtime=0
value=0
ctrl=1
;---------------------------------------------------------------------------
;アピール・ラモン・失敗
[Statedef 3401]
type    = S
movetype= H
physics = S
poweradd = 0
ctrl=0
sprpriority=-2
anim=5030
velset=-4,-7

[STate 3401]
type=PlaySnd
trigger1=Time=0
value=0,37
channel=3

[STate 3401]
type=PlaySnd
trigger1=Time=0
value=0,37
channel=4

[STate 3401]
type=Changestate
trigger1=Time=1
value=5070
;---------------------------------------------------------------------------
;アピール・ラモン
[Statedef 3420]
type    = S
movetype= H
physics = S
poweradd = 0
ctrl=0
sprpriority=-2
velset=0,0

[STate 3420]
type=NotHitBy
trigger1=1
value=SAC

[State 3420]
type=selfstate
trigger1=time>=2&&P2Bodydist X<=15
trigger2=Time=100
trigger3 = enemy,stateno = 3431
value=5001

[State 3420]
type=PosSet
trigger1=1
y=0
[STate 3420]
type=DestroySelf
trigger1=Ishelper
;---------------------------------------------------------------------------
;アピール・ラモン
[Statedef 3421]
type    = A
movetype= H
physics = N
poweradd = 0
ctrl=0
sprpriority=-2
velset=0,0

[STate 3420]
type=NotHitBy
trigger1=1
value=SAC

[State 3420]
type=selfstate
trigger1=time>=2&&P2Bodydist X<=15
value=5030

[State 3420]
type=selfstate
trigger1=pos Y>=10&&Vel Y>0
value=52

[State 3420]
type=changeanim
trigger1=time=30
value=41

[State 3420]
type=veladd
trigger1=time>=40
y=.4

[STate 3420]
type=DestroySelf
trigger1=Ishelper
;---------------------------------------------------------------------------
;アピール・ラモン・
[Statedef 3425]
type    = S
movetype= H
physics = S
poweradd = 0
ctrl=0
sprpriority=-2
velset=0,0

[State 3425]
type = changeanim2
trigger1 = time = 0
value = 3425

[State 3425]
type = selfstate
trigger1 = time = 120
value = 5100

;---------------------------------------------------------------------------
;アピール・ラモン
[Statedef 3410]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl=0
sprpriority=-2
velset=-10,0
anim=3409
[STate 3410]
type=PlaySnd
trigger1=Time=0
value=0,4
channel=0

[STate 3410]
type=NotHitBy
trigger1=1
value=SAC

[STate 3410]
type=Pause
trigger1=Timemod=3,0
time=2
movetime = 1

[State 3410]
type=Changestate
trigger1=Vel X>=0
value=3415

;---------------------------------------------------------------------------
;アピール・ラモン
[Statedef 3415]
type    = S
movetype= A
physics = C
poweradd = 0
ctrl=0
sprpriority=2
velset=11,0
anim=3410

[State 3415]
type=VelSet
trigger1=Time=0&&Backedgebodydist<=20
x=2

[State 3102,5]
type=NotHitBy
trigger1=1
value=SAC

[STate 3410]
type=PlaySnd
trigger1=animelem=4
value=0,1
channel=0

[State 3415]
type = HitDef
trigger1 =animelem=4
attr = S, HA
damage    = 60
getpower=0,0
hitflag=MAF
guardflag = MA
priority = 7
pausetime = 35,35
guard.pausetime=10,10
sparkno = s2070
guard.sparkno=s2040
sparkxy = -10,-60
hitsound = s1,11
guardsound = s1,15
animtype = heavy
ground.type = high
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -4,-7
air.velocity = -2,-7
can.recover=0
envshake.time=25
envshake.ampl=10
kill=0
p2stateno=3425

[State 3415]
type=Changestate
trigger1=Movehit
trigger1=Animtime=0
value=3430

[State 3415]
type=Changestate
trigger1=Movehit=0
trigger1=Animtime=0
value=3431

;---------------------------------------------------------------------------
;アピール・ラモン
[Statedef 3430]
type=S
movetype=A
physics=N
velset=-3,0
anim=3130
ctrl=0
[State 3102,5]
type=NotHitBy
trigger1=1
value=SAC
[STate 3460]
type=AfterImage
trigger1=Animelem=1
time=200
trans=Add1

[State 1300,0]
type=VelSet
trigger1=Animelem=2
x=6.7

[State 50,4]
type=PlaySnd
trigger1=vel X!=0
trigger1=Timemod=10,3
value=1,55
channel=6

[State 1300, 1]
type = HitDef
Trigger1 =Vel X!=0
attr = S, HT          ;Attributes: Standing, Normal Throw
hitflag = MAFD         ;Affect only ground people who are not being hit
priority = 7, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
sprpriority = 2       ;Draw in front of p2
p1facing = 1;ifelse (command = "holdfwd", -1, 1) ;Turn if holding forwards
p2facing = 1          ;Force p2 to face KFM
p1stateno = 3435      ;On success, KFM changes to state 810
p2stateno = 3440       ;If hit, p2 changes to state 820 in KFM's cns
getpower=0,0

[State 1300, 2]
type = ChangeState
Trigger1 = Time = 30
trigger2=P2bodydist X<=2&&P2movetype=H&&Time>=8
trigger3=Moveguarded=1
value = 3431
;---------------------------------------------------------------------------
;アピール・ラモン・ブーイング
[Statedef 3431]
type=S
movetype=I
physics=S
velset=1,0
anim=3431
ctrl=0

[STate 3400]
type=PlaySnd
trigger1=animelem=1
value=0,37
channel=3
[STate 3460]
type=AfterImagetime
trigger1=animtime=0
time=0

[State 3431]
type=Changestate
trigger1=Animtime=0
value=0
ctrl=1

;---------------------------------------------------------------------------
;サマーソルト
[Statedef 3435]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3135
sprpriority = 2
[STate 3400]
type=PlaySnd
trigger1=animelem=1
value=0,35
channel=3
[STate 3400]
type=PlaySnd
trigger1=animelem=4
value=0,36
channel=4

[STate 1310,0]
type=NotHitBy
trigger1=1
value=SAC
[State 1310,1]
type=targetbind
trigger1=Animelem=1
pos=30,0
postype=p1
[State 1310,1]
type=targetbind
trigger1=Animelem=2
pos=20,0

[State 1310,1]
type=bindtotarget
trigger1=Animelem=4
pos=0,0,head
[State 1310,1]
type=bindtotarget
trigger1=Animelem=7
pos=20,10,head

[State 1310,1]
type=targetlifeadd
trigger1=Animelem=7
value=-30
kill=0

[State 1310,1]
type=hitadd
trigger1=Animelem=7
value=1
[State 1310,3]
type=VelSet
trigger1=Animelem=7
x=-2
y=-3.6

[STate 3435]
type=VelSet
trigger1=BackEdgeBodydist<=0
x=0

[State 1310,4]
type=EnvShake
trigger1=Animelem=7
ampl=5
time=7
[STate 3410]
type=PlaySnd
trigger1=animelem=7
value=0,10
channel=0

[State 1310,4]
type=playsnd
trigger1=Animelem=7
value=1,11
channel=2
[State 1310,4]
type=Explod
trigger1=Animelem=7
anim=2030
pos=20,0
postype=p1
sprpriority=5

[State 3310,10]
type=envcolor
trigger1=Time=0
trigger2=animelem=7
time=1
value=255,255,255
under=0

[State 1310,4]
type=VelAdd
trigger1=Time>=21
y=.4
[State 1310,4]
type=posadd
trigger1=animelem=2
x=15
[State 3438]
type=ScreenBound
trigger1=1
value=1
movecamera=1,0

[State 1320,4]
type=changeState
Trigger1 = pos Y>=-50&&Vel Y>0
trigger1=Time>=29
value=3439

[State 1300, 2]
type = ChangeState
Trigger1 = target,movetype!=H
value = 3431

[STatedef 3439]
type=A
movetype=A
physics=N
anim=100
ctrl=0
sprpriority=2
velset=0,0
[State 3438]
type=ScreenBound
trigger1=1
value=1
movecamera=1,0

[STate 3439]
type=PosSet
trigger1=Time=0
y=0

[STate 3439]
type=NotHitBy
trigger1=1
value=SAC

[STate 3439]
type=PlayerPush
trigger1=1
value=0

[STate 3439]
type=Turn
trigger1=Animelem=2
persistent=0

[STate 3439]
type=VelSet
trigger1=Animelem=2&&Anim=100
x=6.7

[State 3439]
type=VelSet
trigger1=FrontEdgeBodydist <=50
x=0

[State 3439]
type=Changeanim
trigger1=Anim=100&&FrontEdgeBodydist <=50
value=40

[STate 3410]
type=PlaySnd
trigger1=Anim=100&&timemod=10,0
value=1,55
channel=1

[STate 3410]
type=PlaySnd
trigger1=Anim=40&&Animtime=0
value=1,4
channel=1

[STate 3439]
type=Changestate
trigger1=Anim=40&&Animtime=0
value=3438

[STatedef 3437];足場
type=S
movetype=I
physics=N
anim=3458
ctrl=0
sprpriority=-2
velset=5,0

[STate 3437]
type=VelSet
trigger1=BackEdgeBodydist>=0
x=0

[STate 3437]
type=VelSet
trigger1=Parent,Stateno=3460&&parent,Vel Y!=0
x=-3
[STate 3400]
type=PlaySnd
trigger1=time=0
value=0,35
channel=5

[State 3437]
type=DestroySelf
triggerall=Vel X<0
trigger1=FrontEdgeBodydist<=-30
trigger2=BackEdgeBodydist<=-30
[STatedef 3438]
type=A
movetype=A
physics=N
anim=3460
ctrl=0
sprpriority=2
velset=0,0
[State 3438]
type=ScreenBound
trigger1=1
value=1
movecamera=1,0

[STate 3438]
type=Turn
trigger1=Time=0

[STate 3438]
type=VelSet
trigger1=Animelem=4
x=-5
y=-8

[STate 3439]
type=NotHitBy
trigger1=1
value=SAC

[STate 3439]
type=PlayerPush
trigger1=1
value=0

[State 3438]
type=VelAdd
trigger1=time>=5
y=.45

[STate 3438]
type=Helper
trigger1=animelem=13&&Numhelper(3437)=0
pos=-50,0
postype=back
keyctrl=0
ownpal=1
id=3437
stateno=3437

[State 1320,4]
type=changeState
trigger1=pos Y>=-70&&Vel Y>0
value=3450

[State 1320,5]
type=DestroySelf
trigger1=Ishelper
[STate 3455]
type=NotHitBy
trigger1=1
value=SAC

;---------------------------------------------------------------------------
;サマーソルト
[Statedef 3440]
type    = S
movetype= H
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = -2

[State 1320,1]
type=Changeanim2
trigger1=Time=0
value=3140

[State 1320,4]
type=changeState
trigger1=animelem=3
value=3441

[State 1320,5]
type=DestroySelf
trigger1=Ishelper
;---------------------------------------------------------------------------
;サマーソルト
[Statedef 3441]
type    = A
movetype= H
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = -2

[STate 3441]
type=ScreenBound
trigger1=1
value=1
movecamera=1,0

[State 1320,1]
type=Changeanim2
trigger1=Time=0
value=3443

[State 1320,1]
type=Changeanim2
trigger1=vel Y>0&&Anim=3901
value=3442

[State 1320,2]
type=VelSet
trigger1=time=0
x=-2
y=-8.5

[STate 3441]
type=VelAdd
trigger1=1
y=.4
[STate 3441]
type=posAdd
trigger1=time=0
y=-20

[State 1320,4]
type=changeState
trigger1=pos Y>=0&&Vel Y>0
value=3442


;---------------------------------------------------------------------------
;サマーソルト
[Statedef 3442]
type    = L
movetype= H
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = -2

[State 3442]
type=PosSet
trigger1=Time=0
y=0

[State 3442]
type=ChangeAnim
trigger1=Time=0&&Anim!=5100;&&SelfAnimExist(5102)=0
value=5100

;[State 3442]
;type=ChangeAnim
;trigger1=Time=0&&SelfAnimExist(5102)=1&&Anim!=5102
;value=5102

[State 3442]
type=ChangeAnim
trigger1=vel Y>0&&Anim!=5160;&&SelfAnimExist(5162)=0
value=5160

;[State 3442]
;type=ChangeAnim
;trigger1=vel Y>0&&SelfAnimExist(5162)=1&&Anim!=5162
;value=5162

[State 3442]
type=VelSet
trigger1=time=0
y=-3

[State 3442]
type=velAdd
trigger1=1
y=.4

[STate 3442]
type=Changestate
trigger1=(anim=[5160,5162])&&pos Y>=10&&Vel Y>0
value=3443
;---------------------------------------------------------------------------
; HIT_LIEDOWN
[Statedef 3443]
type    = L
movetype= H
physics = N

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, var] ;Get fall velocity
type = varSet
trigger1 = Time = 0
trigger1 = GetHitvar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !Sysvar(0)
;value = F7, 0 ;Hit ground
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5110, 7]
type = GameMakeAnim
trigger1 = Time = 0
trigger1 = !Sysvar(0)
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 10

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = Sysvar(0) ;Sysvar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = Sysvar(0) ;Sysvar(0) = 1 avoids hit ground frame
value = 5110

[State 5110, 11] ;If just died
type = selfState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = Sysvar(0) ;Sysvar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5110, 11] ;If just died
type = selfState
triggerall = alive
trigger1 = Time = 200
trigger2=Time>=50
trigger2=Enemy,stateno!=[3400,3499]
;trigger2 = Sysvar(0) ;Sysvar(0) = 1 avoids hit ground frame
;trigger3 = Anim = [5110,5119]
value = 5120

[State 5110, 12]
type = varSet
trigger1 = Sysvar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 5110, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

[State 3900,6]
type=DefenceMulSet
trigger1=1
value=1

;---------------------------------------------------------------------------
;サマーソルト着地
[Statedef 3450]
type    = A
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1330
sprpriority = 2
[State 3438]
type=ScreenBound
trigger1=1
value=1
movecamera=1,0
[State 1310,1]
type=Width
trigger1=time<=1
value=0,-10
[STate 1050,2]
type=Explod
trigger1=Time=0
anim=2080
ownpal=1
pos=0,0
postype=p1
sprpriority=-3
[STate 1330,2]
type=PlaySnd
trigger1=Time=0
value=1,12
channel=1

[STate 3450]
type=PosSet
trigger1=1
y=-62
[STate 3450]
type=Posadd
trigger1=time=0
x=5

;[State 3450]
;type=Turn
;trigger1=Animtime=0
[STate 3460]
type=AfterImagetime
trigger1=animtime=0
time=0

[State 1330,2]
type=Changestate
trigger1=Animtime=0
value=3455
[STate 3455]
type=NotHitBy
trigger1=1
value=SAC

;---------------------------------------------------------------------------
;サマーソルト・アピール・二回目
[Statedef 3455]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 2
[STate 3400]
type=PlaySnd
trigger1=time=0
value=0,35
channel=4
[STate 3400]
type=PlaySnd
trigger1=time=3
value=0,36
channel=3
[State 3438]
type=ScreenBound
trigger1=1
value=1
movecamera=1,0

[State 3450]
type=ChangeAnim
trigger1=Time=0
elem=10
value=3465
[STate 3455]
type=NotHitBy
trigger1=1
value=SAC
[State 3455]
type=EnvColor
trigger1=Animelem=13
time=46
value=0,0,0
under=1
[STate 3450]
type=removeExplod
trigger1=time=46
id=3
[STate 3455]
type=PlaySnd
trigger1=Animelem=13
value=1,6
channel=0
[STate 3455]
type=PlaySnd
trigger1=Animelem=13
value=1,6
channel=1

[STate 3000,3]
type = Explod
trigger1 = time = 0
anim = 6671
pos = 10,-65
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[STate 3000,4]
type = Explod
trigger1 = time = 0
anim = 6672
pos = 10,-65
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1
[State 3455]
type=PlayErPush
trigger1=1
value=0

[STate 3455]
type=Changestate
trigger1=Animtime=0
value=3460

[STatedef 3460];ボディプレス開始
type=A
physics=N
movetype=A
anim=3430
velset=0,0
ctrl=0
[State 3438]
type=ScreenBound
trigger1=1
value=1
movecamera=1,0

[STate 3400]
type=PlaySnd
trigger1=animelem=1
value=0,35
channel=2
[STate 3400]
type=PlaySnd
trigger1=animelem=1
value=0,35
channel=3

[STate 3455]
type=NotHitBy
trigger1=1
value=SAC
[state 3460]
type=PlaySnd
trigger1=animelem=7
value=1,22
channel=1
[state 3460]
type=PlaySnd
trigger1=animelem=7
value=1,22
channel=4
[STate 3410]
type=PlaySnd
trigger1=animelem=5
value=0,9
channel=0

[State 3460]
type=velSet
trigger1=Animelem=4
x= ((p2dist X)/70*1.73)
y=-7
[STate 3460]
type=AfterImage
trigger1=Animelem=4
time=30
trans=Add1

[STate 3460]
type=VelADd
trigger1=Animelem=4,>=0
y=.5

[State 7000, 2]
type = HitDef
trigger1 =time=0
attr = A, HA
damage    = 180
getpower=0,0
hitflag=MAFD
guardflag =
priority = 7
pausetime = 0,0
guard.pausetime=5,6
sparkno = s2020
guard.sparkno=s2040
sparkxy = -10,-30
hitsound   =s1,11
guardsound = s1,15
animtype = hard
ground.type = low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -2
air.velocity = -1,-4
can.recover=0
p2stateno=3465
envshake.time=15
envshake.ampl=12
priority=6,miss

[State 3460]
type=Changestate
trigger1=Pos Y>=50&&Vel Y>0
value=3470

[STatedef 3470];アピール・最後
type=S
physics=N
anim=3440
velset=0,0
ctrl=0
[STate 3455]
type=NotHitBy
trigger1=1
value=SAC
[STate 3455]
type=PlaySnd
trigger1=Animelem=12
value=0,17
channel=0
[STate 3400]
type=PlaySnd
trigger1=animelem=1
value=0,36
channel=2
[STate 3400]
type=PlaySnd
trigger1=animelem=5
value=0,36
channel=3
[STate 3400]
type=PlaySnd
trigger1=animelem=1
value=0,36
channel=8
[STate 3400]
type=PlaySnd
trigger1=animelem=5
value=0,36
channel=9

[STate 3400]
type=PlaySnd
trigger1=animelem=12
value=0,36
channel=2
[STate 3400]
type=PlaySnd
trigger1=animelem=13
value=0,36
channel=3
[STate 3400]
type=PlaySnd
trigger1=animelem=12
value=0,36
channel=8
[STate 3400]
type=PlaySnd
trigger1=animelem=13
value=0,36
channel=9

[State 3470]
type=PosSet
trigger1=1
y=0

[State 3470]
type=Changestate
trigger1=Animtime=0
value=0
ctrl=1

;---------------------------------------------------------------------------
;空中の相手
[Statedef 3465]
type    = A
movetype= H
physics = N
poweradd= 30
ctrl = 0
sprpriority = -1
velset=0,0

[State 3456]
type=ScreenBound
trigger1=1
value=1
movecamera=1,0
[State 3900,1]
type=Changeanim
trigger1=Time=0
value=5070

;[State 3900,1]
;type=Changeanim
;trigger1=Time=0&&SelfAnimExist(5051)
;value=5051
;[State 3900,1]
;type=Changeanim
;trigger1=Time=0&&SelfAnimExist(5052)
;value=5052

[State 3900,2]
type=Velset
trigger1=Time=8
x=-5.5
y=-8.8

[State 3900,4]
type=VelAdd
trigger1=time>=8
y=.4

[State 3900,5]
type=changestate
trigger1=Vel Y>0
value=3466

[State 3900,6]
type=DefenceMulSet
trigger1=1
value=1

;---------------------------------------------------------------------------
;空中の相手
[Statedef 3466]
type    = L
movetype= H
physics = N
poweradd= 0
ctrl = 0
sprpriority = -1
[State 3456]
type=ScreenBound
trigger1=1
value=1
movecamera=1,0

[State 3900,2]
type=VelAdd
trigger1=1
y=.4

[STate 3900,2]
type=NotHitBy
trigger1=1
value=SAC

;[State 3030,2]
;type=Changeanim
;trigger1=pos Y>=0&&Vel Y>0
;trigger1=SelfAnimExist(5062)=1
;value=5062

[State 930,2]
type=changeState
trigger1=Pos Y>=0&&Vel Y>0
value=3467;5100

[State 3900,4]
type=DefenceMulSet
trigger1=1
value=.6

;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 3467]
type    = L
movetype= H
physics = N

[STate 3467]
type=EnvShake
trigger1=Time=0
ampl=10
time=10

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitvar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, var] ;Save fall velocity
type = varSet
trigger1 = Time = 0
;trigger1 = GetHitvar(fall.yvel) = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitvar(fall.yvel) = 0
value = 3468 ;HIT_LIEDOWN

[State 5100, 8]
type = GameMakeAnim
trigger1 = Time = 1
;value = 61
;pos = 0, 0
;under = 1
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 10

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
;value = F7, 0 ;Hit ground
value = F7;, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 3468

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 3468]
type    = L
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 3]
type = HitFallVel
trigger1 = Time = 0

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = 20

[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .4

[State 5101, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 12
type = ChangeState
value = 3443
;======================================
;サベージファイアーキャット・振り向き
[Statedef 3500]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 1500
sprpriority = 2
poweradd=-1000

[State 1500]
type = varset
trigger1 = time = 0
var(19) = 0

;///////////////////スパキャン

[State 3400]
type=PalFx
trigger1=Time=0
trigger1=prevstateno = 1070 || prevstateno = 1630 || prevstateno = 1515
time=5
add=255,255,255

[STate 3100]
type = poweradd
trigger1 = prevstateno = 1070 || prevstateno = 1630 || prevstateno = 1515
trigger1 = time = 1
value = -1000
persistent = 0

;////////////////////

[State 1500]
type = playsnd
trigger1 = animelem = 1
value = 0,23
channel=0

[State 1500]
type = turn
trigger1 = animtime = 0

[State 1500]
type = changestate
trigger1 = animtime = 0
value = 3510

;======================================
;タイガーロード・ダッシュ
[Statedef 3510]
type    = S
movetype= I
physics = N
velset = 10,0
ctrl = 0
anim = 1510
sprpriority = 2
poweradd=0

[State 3510]
type = changestate
trigger1 = frontedgebodydist <= 40
trigger2 = time >= 60
value = 3520
;======================================
;タイガーロード・ジャンプ
[Statedef 3520]
type    = A
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 1520
sprpriority = 2
poweradd=0

[STate 1520]
type=ScreenBound
trigger1=1
value=1
movecamera=0,1

[State 1520]
type = velset
trigger1 = animelem=3
x = 4
y = -10
persistent=0

[State 1520]
type = veladd
trigger1 = animelem=3,>=0
y = .4

[State 1510]
type = changestate
trigger1 = frontedgebodydist <= 15
trigger1 = animelem =4, >=0
value = 3530

[State 1510]
type = changestate
trigger1 = pos Y>=10 && vel Y>0
value = 52
ctrl=1
facing = -1
;======================================
;タイガーロード・張り付き
[Statedef 3530]
type    = A
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 3530
sprpriority = 2
poweradd=0

[State 1530]
type = turn
trigger1 = time = 0

[STate 3000,1]
type=envcolor
trigger1=Time=0
value=0,0,0
time=25
under=1

[STate 3000,3]
type = Explod
trigger1 = time = 0
anim = 6671
pos = 10,-65
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[STate 3000,4]
type = Explod
trigger1 = time = 0
anim = 6672
pos = 10,-65
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 3000,5]
type = SuperPause
trigger1 = Time = 0
movetime = 13
time = 25
anim = -1
sound=s1,17
p2defmul = 1

[State 1530]
type = posset
trigger1 = Animelem = 1,>=0
trigger1 = Animelem = 3,<=0
y = -60
x = ifelse(facing=1,-360,360)

[State 1530]
type = velset
trigger1 = animelem=3
x = 2
y = -5

[State 1530]
type = veladd
trigger1 = animelem=3,>=0
y = .4

[State 1530]
type = changestate
trigger1 = animtime = 0
value = 3550

[State 1530]
type = changestate
trigger1 = pos Y>=0 && vel Y>0
value = 1540
;======================================
;サベージ・クロスチョップ
[Statedef 3550]
type    = A
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 1550
sprpriority = 2
poweradd=0

[State 1550]
type = velset
trigger1 = time <= 3
y=-((p2dist Y)/60)-2

[State 1550]
type = velset
trigger1 = time <= 5
x=((p2dist X)/25)+.5

[State 1550]
type = veladd
trigger1 = 1
y = .5

[State 1500]
type = playsnd
trigger1 = animelem = 1
value = 1,22

[State 1550]
type = varset
trigger1 = time =0
var(19) = 0

[State 1550]
type = HitDef
trigger1 =animelem=4
attr = A, HA
damage    = 0,1
guardflag =
priority = 5
pausetime = 10,10
sparkno = s2030
guard.sparkno=s2050
sparkxy = -10,-60
hitsound = s1,11
guardsound = s1,15
animtype = hard
ground.type = low
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = -7
air.velocity = -5,-4
getpower=0,0
givepower=100,50
ground.cornerpush.veloff = -15
guard.cornerpush.veloff = -10
fall=1
fall.recover=0
p1stateno = 3560

[State 3500]
type=Afterimage
trigger1=Time=0
time=1000
trans=add1
length=10

[State 1550]
type = changestate
trigger1 = pos Y>=15 && vel Y>0
value = 1540

;======================================
;サベージ・ヒット
[Statedef 3560]
type    = A
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 3500
sprpriority = 2

[State 3560]
type = targetBind
trigger1 = time = 0
pos = 10,-30

[State 3560]
type = playsnd
trigger1 = animelem = 1
value =0,48

[State 3550]
type = HitDef
trigger1 =animelem=3
trigger2 = animelem = 10
trigger3 = animelem = 19
trigger4 = animelem = 32
trigger5 = animelem = 36
trigger6 = animelem = 45
trigger7 = animelem = 51
attr = A, HA
damage    = 70/(hitcount+1)
guardflag =
priority = 7
pausetime = 0,4
sparkno = s2070
guard.sparkno=s2050
sparkxy = -10,-75
hitsound = s1,9
guardsound = s1,15
animtype = hard
ground.type = high
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = 0,-2
air.velocity = 0,-1.5
getpower=0,0
givepower=10,5
fall=1
fall.recover=0
kill = 0

[State 3550]
type = HitDef
trigger1 =animelem=14
trigger2 = animelem = 10
trigger3 = animelem = 25
trigger4 = animelem = 40
attr = A, HA
damage    = 70/(hitcount+1)
guardflag =
priority = 7
pausetime = 0,4
sparkno = s2070
guard.sparkno=s2050
sparkxy = 15,-50
hitsound = s1,19
guardsound = s1,15
animtype = hard
ground.type = low
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = 0,-2
air.velocity = 0,-1.5
getpower=0,0
givepower=10,5
fall=1
fall.recover=0
kill = 0

[State 3550]
type = HitDef
trigger1 =animelem=58
attr = A, HA
damage    = 50
guardflag =
priority = 7
pausetime = 8,12
sparkno = s2070
guard.sparkno=s2050
sparkxy = -15,-60
hitsound = s1,11
guardsound = s1,15
animtype = digup
ground.type = high
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = -5,-5
air.velocity = -6,-5
getpower=0,0
givepower=10,5
fall=1
fall.recover=0
envshake.time = 12
envshake.ampl = 10

[State 3510]
type = velset
trigger1 = animelem = 59
x = 2

[State 3510]
type = veladd
trigger1 = animelem = 59,>=0
y = .5

[State 3310,10]
type=envcolor
trigger1 =animelem=3
trigger2 = animelem = 10
trigger3 = animelem = 19
trigger4 = animelem = 32
trigger5 = animelem = 36
trigger6 = animelem = 45
trigger7 = animelem = 51
trigger8 =animelem=14
trigger9 = animelem = 10
trigger10 = animelem = 25
trigger11 = animelem = 40
trigger12 =animelem=58
time=1
value=255,255,255
under=0

[State 3510]
type = changestate
trigger1 = pos Y >10 && vel Y>0
value = 3570
;---------------------------------------------------------------------------
;着地
[Statedef 3570]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
anim = 3510
sprpriority = 2
velset=0,0

[State 3570]
type=PosSet
trigger1=Time=0
y=0

[State 3570]
type=varSet
trigger1=Time=0
var(21)=0

[STate 3570]
type=Explod
trigger1=animelem=1
anim=2080
ownpal=1
pos=0,0
postype=p1
sprpriority=-3

[State 3570]
type = playsnd
trigger1 = animelem = 1
value =1,12

[State 3570]
type=Afterimagetime
trigger1=Time=0
time=0

[State 3570]
type=ChangeState
trigger1=Animtime=0
value=0
ctrl=1
;========================
;潜在
[Statedef 3700]
type=S
movetype=A
physics=N
velset=0,0
anim=3700
ctrl=0
juggle=0
poweradd=-3000

[STate 3700,2]
type=NotHitBy
trigger1=time = 0
value=SAC
time = 55

[STate 3700,1]
type=envcolor
trigger1=Time=0
value=0,0,0
time=42
under=1

[STate 3700,3]
type = Explod
trigger1 = time = 0
anim = 6669
pos = 10,-65
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[STate 3700,4]
type = Explod
trigger1 = time = 0
anim = 6670
pos = 10,-65
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 3700]
type = playsnd
trigger1 = animelem = 1
value =0,17

[State 3700,5]
type = SuperPause
trigger1 = animelem = 7
movetime = 30
time = 30
anim = -1
sound=s1,43
p2defmul = 1

[State 3700]
type = velset
trigger1 = animelem = 11
x = 9

[State 1000, ヘルパーを出す]
type = Helper
trigger1 = time = 30
name = "MAX3"
stateno = 6667
ID = 6667
helpertype = normal
pos = -320,-220
postype = front
keyctrl = 0
ownpal = 1
ignorehitpause = 1
size.yscale = 1.025

[State 1000, ヘルパーを出す]
type = Helper
trigger1 = Animtime = 0
name = "MAX3END"
stateno = 6668
ID = 6668
helpertype = normal
pos = 0,0
postype = front
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0
size.yscale = 1.025

[State 2000]
type = Explod
trigger1 = time = 0
anim = 8050
pos = ifelse(facing=1,-320,320),0
ownpal = 1
postype = front
bindtime = -1
supermove = 1
sprpriority = -15
facing = ifelse(facing=-1,-1,1)

[State 2000]
type = Explod
trigger1 = time = 0
anim = 8060
pos = ifelse(facing=1,-320,320),0
ownpal = 1
postype = front
bindtime = -1
supermove = 1
sprpriority = -10
facing = ifelse(facing=-1,-1,1)

[State 3550]
type = HitDef
trigger1 =animelem=11
attr = S, HA
damage    = 0,10
guardflag = M
priority = 7,miss
pausetime = 5,5
sparkno = s2070
guard.sparkno=s2050
sparkxy = -15,-60
hitsound = s1,19
guardsound = s1,15
animtype = high
ground.type = high
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = 0
air.velocity = -.5,-5
getpower=0,0
givepower=10,5
p1stateno = 3710
p2facing = 1

[State 3700]
type=Changestate
trigger1=time>=68
trigger2=P2Bodydist X<=0&&P2statetype=L
trigger3=FrontedgeBodydist<=0&&vel X>0
value=3108

[State 3700]
type=Changestate
trigger1=Moveguarded=1
value=3109

;========================
;潜在
[Statedef 3710]
type=S
movetype=A
physics=N
velset=0,0
anim=3710
ctrl=0

[State 3710]
type = posadd
trigger1 = time = 0
trigger1 = backedgebodydist <=60
x = 70

[State 3710]
type = targetbind
trigger1 = animelem = 140,<=0
pos = 30,0

[State 3710]
type = velset
trigger1 =animelem=5
x = .4

[State 3500]
type=Explod
trigger1=time=0
anim=2091
pos=0,0
postype=Back
sprpriority = -50
bindtime=-1
id=2091
supermove=1
supermovetime = 25

[State 3710]
type = HitDef
trigger1 =animelem=5
trigger2 =animelem=22
trigger3 =animelem=33
trigger4 =animelem=39
trigger5 =animelem=59
trigger6 =animelem=64
trigger7 =animelem=77
trigger8 =animelem=93
trigger9 =animelem=109
attr = S, HA
damage    = 170/(hitcount+1)
guardflag =
priority = 7
pausetime = 0,5
sparkno = s2070
guard.sparkno=s2050
sparkxy = -10,-70
hitsound = s1,19
guardsound = s1,15
animtype = heavy
ground.type = high
ground.slidetime = 50
ground.hittime  = 60
ground.velocity = 0
air.velocity = -.5,-5
getpower=0,0
givepower=10,5
kill = 0

[State 3710]
type = HitDef
trigger1 =animelem=3
trigger2 =animelem=13
trigger3 =animelem=45
trigger4 =animelem=52
trigger5 =animelem=123
trigger6 =animelem=130
trigger7 =animelem=134
attr = S, HA
damage    = 70/(hitcount+1)
guardflag =
priority = 7
pausetime = 0,5
sparkno = s2070
guard.sparkno=s2050
sparkxy = 0,-40
hitsound = s1,19
guardsound = s1,15
animtype = heavy
ground.type = low
ground.slidetime = 50
ground.hittime  = 60
ground.velocity = 0
air.velocity = -.5,-5
getpower=0,0
givepower=10,5
kill = 0

;/////////////////////////////
[State 3710]
type = velset
trigger1 =animelem=73
trigger2 = frontedgebodydist <= 40
x = 0

[State 1610]
type = targetstate
trigger1 = animelem = 141
value = 3720

[State 1610]
type = targetbind
trigger1 = animelem = 141
pos = 55,-70

[State 1610]
type = targetbind
trigger1 = animelem = 142
pos = 55,-60

[State 1610]
type = targetbind
trigger1 = animelem = 143
trigger2 = animelem = 144
pos = 65,-60

[State 1610]
type = targetbind
trigger1 = animelem = 145
pos = 60, -65

[State 1610]
type = targetbind
trigger1 = animelem = 146
pos = 60,-55

[State 1610]
type = targetbind
trigger1 = animelem = 147
pos = 55,-45

[State 1610]
type = targetbind
trigger1 = animelem = 148
pos = 10,-50

[State 1610]
type = targetbind
trigger1 = animelem = 149
pos = 0,-60

[State 1610]
type = targetbind
trigger1 = animelem = 150
pos = -5,-60

[State 1610]
type = targetbind
trigger1 = animelem = 151
pos = -20,0

[State 1610]
type = targetbind
trigger1 = animelem = 152
pos = -40,0

[State 1610]
type = targetstate
trigger1 = animelem = 152
value = 3760

[State 1610]
type = sprpriority
trigger1 = animelem = 149
value = 2

[State 1610]
type=Explod
trigger1=Animelem=142
anim=2061
pos=55,-60
sprpriority = 1
ownpal=1

[State 1610]
type = playsnd
trigger1 = animelem = 142
value =1,21

[STate 1610]
type=PlaySNd
trigger1=Animelem=55
value=0,48

[STate 1610]
type=PlaySNd
trigger1=Animelem=146
value=0,49

[State 99,99]
type = PlaySnd
trigger1 =animelem=150
value =1,26
channel=1

[State 1610]
type = turn
trigger1 = animtime = 0

[State 3730]
type = null;changestate
trigger1 = enemy,stateno = 3770
trigger1 = p2bodydist X <= 150
value = 3735

[State 1610]
type = changestate
trigger1 = animtime = 0
value = 3730

;---------------------------------------------------------------------------
;ロープ振り
[Statedef 3720]
type=S
movetype=H
physics=N
velset=0,0
ctrl=0
poweradd=0
sprpriority=1

[STate 3720]
type=ChangeAnim2
trigger1=Time=0
value=3720

[State 3720]
type = Screenbound
trigger1 = 1
value = 0
;---------------------------------------------------------------------------
;ロープ振り・成功・待機
[Statedef 3730]
type=S
movetype=A
physics=S
velset=0,0
ctrl=0
anim=0
sprpriority=-2
poweradd=0

[State 3730]
type = changestate
trigger1 = enemy,stateno = 3770
;trigger1 = p2bodydist X <= 150
trigger2 = time >= 10
trigger2 = enemy,stateno = 3765
trigger2 = p2bodydist X <= 70
value = 3800

[State 3730]
type = null;changestate
trigger1 = time >= 5
trigger1 = enemy,stateno = 3765
trigger1 = p2bodydist X <= 70
value = 3750

[State 1630]
type = ctrlset
trigger1 = p2bodydist X <= -20
value = 1

;---------------------------------------------------------------------------
;ドロップキック
[Statedef 3750]
type    = A
movetype= A
physics = N
poweradd= 0
ctrl = 0
anim = 3750
sprpriority = 2
velset=0,0

[State 1000, ヘルパーを出す]
type = Helper
trigger1 = time = 30
name = "MAX3"
stateno = 6667
ID = 6667
helpertype = normal
pos = -320,-220
postype = front
keyctrl = 0
ownpal = 1
ignorehitpause = 1
size.yscale = 1.025

[State 1000, ヘルパーを出す]
type = Helper
trigger1 = Animtime = 0
name = "MAX3END"
stateno = 6668
ID = 6668
helpertype = normal
pos = 0,0
postype = front
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0
size.yscale = 1.025

[State 1100]
type=varSet
trigger1=Time=0
var(21)=0

[State 1100, 3]
type = HitDef
trigger1 =animelem=8
attr = A, HA
damage    = 80
guardflag = HA
priority = 4
pausetime = 8,8
sparkno = s2020
guard.sparkno=s2040
sparkxy = -10,-40
hitsound = s1,11
guardsound = s1,15
animtype = digup
ground.type = High
ground.slidetime = 16
ground.hittime  = 18
ground.velocity = -4,-4
air.velocity = -4,-4
getpower=150,75
fall=1
fall.recover = 0

[State 1130]
type = velset
trigger1 = animelem= 4
x=5
y=-5

[State 1500]
type = playsnd
trigger1 = animelem = 1
value = 0,12
channel = 0

[State 1685]
type = playsnd
trigger1 = animelem = 4
value = 1,25

[State 1130]
type = veladd
trigger1 = animelem= 4,>=0
y=.3

[STate 3750]
type=AfterImagetime
trigger1=animTime=0
time=0

[State 3750]
type = changestate
trigger1 = Animtime = 0
value = 1140

;---------------------------------------------------------------------------
;ロープ振り・ダッシュ
[Statedef 3760]
type=S
movetype=H
physics=N
velset=0,0
ctrl=0
poweradd=100
sprpriority=2
anim = 100

[STate 1220]
type=ChangeAnim
trigger1=Time=0
trigger1=animexist(100)=0
value=20

[STate 1220]
type=ChangeAnim2
trigger1=Time=0
trigger1=name ="Tin's potemkin"
value=1625

[State 1620]
type=VelSet
trigger1=1
x=10

[State 1625]
type = changestate
trigger1 = frontedgebodydist <= 10
value = 3765

[State 1625]
type = playerpush
trigger1 = 1
value = 0
;---------------------------------------------------------------------------
;ロープ振り
[Statedef 3765]
type=S
movetype=H
physics=S
velset=0,0
ctrl=0
poweradd=0
sprpriority=2

[STate 1220]
type=ChangeAnim2
trigger1=Time=0
value=1640

[State 1640]
type = turn
trigger1 =  time = 0

[State 1620]
type=VelSet
trigger1=animelem = 2
x=-2

[State 1625]
type = changestate
trigger1 = animtime = 0
value = 3770

;---------------------------------------------------------------------------
;ロープ振り・ダッシュ戻り
[Statedef 3770]
type=S
movetype=H
physics=N
velset=0,0
ctrl=0
poweradd=0
sprpriority=2
anim = 100

[STate 1220]
type=ChangeAnim
trigger1=Time=0
trigger1=animexist(100)=0
value=20

[STate 1220]
type=ChangeAnim2
trigger1=Time=0
trigger1=name ="Tin's potemkin"
value=1625

[State 1620]
type=VelSet
trigger1=1
x=5.5

[State 1620]
type=Veladd
trigger1=time >= 15
x=1

[State 1625]
type = playerpush
trigger1 = 1
value = 0

[State 3770]
type=SelfState
trigger1 = frontedgebodydist <= 10
value=5100

;========================
;ダッシュ
[Statedef 3800]
type=S
movetype=A
physics=N
velset=0,0
anim=3810
ctrl=0

[State 3105,1]
type=VelSet
trigger1=Animelem=1
x=8

[State 1625]
type = changestate
trigger1 = (p2bodydist X=[80,130]) && random <= 80 && time >= 3
value = 3750
persistent = 0

[State 1010, 2]
type = HitDef
trigger1 =movecontact=0
attr = S,HA
damage    = 0,0
getpower=0,0
hitflag=MAF
guardflag =
priority = 7
pausetime = 5,5
guard.pausetime=10,10
sparkno = s2030
guard.sparkno=s2050
sparkxy = 0,-70
hitsound = s1,10
guardsound = s1,15
animtype = hard
ground.type = high
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -3
air.velocity = -2,-4
p2facing = 1
p1stateno = 3810
p2stateno = 3820
numhits = 0

[STate 3105,3]
type=AfterImage
trigger1=Time=0
time=1000
trans=Add1
length=10

[State 3105,4]
type=Changestate
trigger1=time=80
value=3108

[State 3105,4]
type=Changestate
trigger1=Moveguarded=1
value=3109
[State 1000, ヘルパーを出す]
type = Helper
trigger1 = time = 30
name = "MAX3"
stateno = 6667
ID = 6667
helpertype = normal
pos = -320,-220
postype = front
keyctrl = 0
ownpal = 1
ignorehitpause = 1
size.yscale = 1.025

;//////////////////////////////////////
[Statedef 3810]
type    = A
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 3800
sprpriority = 2
poweradd=0

[State 1000, ヘルパーを出す]
type = Helper
trigger1 = time = 30
name = "MAX3"
stateno = 6667
ID = 6667
helpertype = normal
pos = -320,-220
postype = front
keyctrl = 0
ownpal = 1
ignorehitpause = 1
size.yscale = 1.025

[State 1000, ヘルパーを出す]
type = Helper
trigger1 = Animtime = 0
name = "MAX3END"
stateno = 6668
ID = 6668
helpertype = normal
pos = 0,0
postype = front
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0
size.yscale = 1.025

[State 1310]
type = posadd
trigger1 = time = 0
trigger1 = backedgebodydist <= 50
x = 50

[State 1310]
type = targetbind
trigger1 = time = 0
pos = 20,0

[State 1310]
type = BindToTarget
trigger1 = animelem = 5
pos = 0,0,mid

[State 1310]
type = BindToTarget
trigger1 = animelem = 6
pos = -5,0,mid

[State 1310]
type = BindToTarget
trigger1 = animelem = 7
pos = -10,0,mid

[State 1310]
type = posadd
trigger1 = animelem = 8
x = -40

[State 1310]
type = targetlifeadd
trigger1 = animelem = 6
value = -50 - var(7)*15
kill=0

[State 1310]
type = velset
trigger1 = animelem = 8
y = -7

[State 1310]
type = veladd
trigger1 = animelem = 8,>=0
y = .4

[State 1310]
type = Explod
trigger1 = Animelem = 2
anim = 2061
id = 2061
pos = 25,-35
ownpal = 1
sprpriority = 3

[State 1310]
type = Explod
trigger1 = Animelem = 6
anim = 2030
id = 2030
pos = 0,0
ownpal = 1
sprpriority = 3

[State 1800]
type = playsnd
trigger1 = animelem = 2
value =1,21

[State 1800]
type = playsnd
trigger1 = animelem = 6
value =1,11

[State 1800]
type = playsnd
trigger1 = animelem = 7
value =0,10

[State 1310]
type = changestate
trigger1 =  animtime = 0 && random <= 700
value = 3830

[State 1310]
type = changestate
trigger1 =  animtime = 0
value = 3835
;========================
;ボディプレス
[Statedef 3830]
type=A
movetype=A
physics=N
anim=3830
ctrl=0

[STate 3105,1]
type=Veladd
trigger1=1
y = .4

[State 3830]
type = playsnd
trigger1 = time = 0
value =1,6

[State 1010, 2]
type = HitDef
trigger1 =movecontact=0
attr = S,HA
damage    = 100,0
getpower=0,0
hitflag=MAF
guardflag =
priority = 7
pausetime = 15,15
guard.pausetime=10,10
sparkno = s2030
guard.sparkno=s2050
sparkxy = 0,-50
hitsound = s1,11
guardsound = s1,15
animtype = digup
ground.type = high
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -5,-5
air.velocity = -5,-5
p2facing = 1
envshake.time = 10
envshake.ampl = 8
fall = 1
fall.recover = 0

[State 3830]
type = changestate
trigger1 = pos Y>=15 && vel Y>0
value = 1540
persistent = 0

;========================
;頭突き
[Statedef 3835]
type=A
movetype=A
physics=N
velset=.5,-2
anim=3835
ctrl=0

[STate 3105,1]
type=posadd
trigger1=time = 0
x = 15
y = -15

[STate 3105,1]
type=Veladd
trigger1=1
y = .4

[State 3830]
type = playsnd
trigger1 = time = 0
value =1,6

[State 1010, 2]
type = HitDef
trigger1 =movecontact=0
attr = S,HA
damage    = 120,0
getpower=0,0
hitflag=MAF
guardflag =
priority = 7
pausetime = 15,15
guard.pausetime=10,10
sparkno = s2030
guard.sparkno=s2050
sparkxy = 0,-40
hitsound = s1,11
guardsound = s1,15
animtype = digup
ground.type = high
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -5,-5
air.velocity = -5,-5
p2facing = 1
envshake.time = 12
envshake.ampl = 15
fall = 1
fall.recover = 0

[State 3830]
type = changestate
trigger1 = pos Y>=15 && vel Y>0
value = 1540
persistent = 0
;---------------------------------------------------------------------------
;相手
[Statedef 3820]
type    = A
movetype= H
physics = N
poweradd= 50
ctrl = 0
sprpriority = -2
velset=0,0

[State 1135]
type = changeanim2
trigger1 = time=0
value = 3820

[State 1310]
type = posadd
trigger1 = animelem = 4
trigger2 = animelem = 5
x = -5
;---------------------------------------------------------------------------
;ダウン回避
[Statedef 3999]
type    = C
movetype= I
physics = C
poweradd= 0
ctrl = 0
anim = 3999
sprpriority = 2

[State 3999,0]
type=PosSet
trigger1=1
y=0

[state 3999,1]
type=VelSet
trigger1=Time=0
y=0

[State 3999,2]
type=NotHitBy
trigger1=1
value=SAC,NT,ST,HT

[State 3999,3]
type=Changestate
trigger1=Animtime=0
value=0
ctrl=1

[State 3999,4]
type=PalFx
trigger1=Time=0
add=255,255,255
time=5

[STate 3999,5]
type=PlaySnd
trigger1=Time=0
value=0,8

[State 3999,6]
type=VelAdd
trigger1=Time=0
trigger1=Vel X>0
x=8

[State 3999,7]
type=VelAdd
trigger1=Time=0
trigger1=Vel X<=0
x=-8

[STate 3999,8]
type=PlaySnd
trigger1=Time=0
value=1,12
channel=1
;//////////////////////////////////////////////////
;タイガーコンビネーション
[Statedef 4100]
type=S
movetype=A
physics=S
velset=0,0
anim=4105
ctrl=0
juggle=15
poweradd=100

;////////////////////
[State 1540]
type = posadd
trigger1 = animelem = 5
x = 10

[State 1540]
type = playsnd
trigger1 = animelem = 5
value =1,1

[State 1540]
type = playsnd
trigger1 = animelem = 5
value =0,1
channel = 0

[State 1500,1]
type = ReversalDef
trigger1 = Enemy,Movetype != H
trigger1 =animelem=3
attr = S, ST
reversal.attr = SA,NA,SA,HA,NP,SP.HP
numhits = 0
pausetime = 10,10
sparkno = s85
sparkxy = -1;80,0
hitsound = s1,15

[State 3000]
type=MoveHitReset
trigger1=Animelem=4

[State 1010, 2]
type = HitDef
trigger1 =animelem = 6
attr = S,SA
damage    = 20,0
getpower=20,0
hitflag=MAF
guardflag = M
priority = 7
pausetime = 2,50
guard.pausetime=10,10
sparkno = s2030
guard.sparkno=s2050
sparkxy = -10,-80
hitsound = s1,11
guardsound = s1,15
animtype = hard
ground.type = high
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = 0
air.velocity = -2,-4
p2facing = 1
envshake.time = 5
envshake.ampl = 5

[State 4115]
type = targetbind
trigger1 = movehit
pos = 20,0
persistent = 0

[State 3100,4]
type=Changestate
trigger1=movehit
trigger1=Animtime=0
value=4105

[State 3100,4]
type=Changestate
trigger1=Animtime=0
value=0
ctrl = 1

;//////////////////////////////////////////////////
;タイガーコンビネーション
[Statedef 4105]
type=S
movetype=A
physics=S
velset=0,0
anim=4100
ctrl=0
poweradd=100

;////////////////////
[State 1540]
type = targetbind
trigger1 = time = 0
pos = 30,0
;////////////////////
[State 1540]
type = velset
trigger1 = animelem = 5
x = 6

[State 1010, 2]
type = HitDef
trigger1 =animelem = 6
attr = S,SA
damage    = 20,0
getpower=0,0
hitflag=MAF
guardflag = MA
priority = 7
pausetime = 5,8
guard.pausetime=10,10
sparkno = s2030
guard.sparkno=s2050
sparkxy = -10,-80
hitsound = s1,11
guardsound = s1,15
animtype = hard
ground.type = high
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -3
air.velocity = -2,-4
p2facing = 1
p2stateno = 5315
envshake.time = 5
envshake.ampl = 5

[State 3100,4]
type=Changestate
trigger1=movehit
trigger1=Animtime=0
value=4110

[State 3100,4]
type=Changestate
trigger1=Animtime=0
value=0
ctrl = 1

;---------------------------------------------------------------------------
;サマーソルト
[Statedef 4110]
type=S
movetype=A
physics=N
velset=6,0
ctrl=0
anim=3130
sprpriority=2
poweradd=0

[State 1300,1]
type=HitDef
Trigger1=Time=0
attr=S,ST
hitflag=M
priority=6
sparkno=-1
sprpriority=1
p1facing=1
p2facing=1
p1stateno=4115
p2stateno=4120

[State 4110,2]
type=ChangeState
Trigger1=Time>=15
value=0
ctrl=1

;//////////////////////////////////////
[Statedef 4115]
type    = A
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 1310
sprpriority = 2
poweradd = 50

[State 4115]
type = posadd
trigger1 = time = 0
trigger1 = backedgebodydist <= 50
x = 50

[State 4115]
type = targetbind
trigger1 = time = 0
pos = 20,0

[State 4115]
type = BindToTarget
trigger1 = animelem = 5
pos = 0,0,mid

[State 4115]
type = BindToTarget
trigger1 = animelem = 6
pos = -5,0,mid

[State 4115]
type = BindToTarget
trigger1 = animelem = 7
pos = -10,0,mid

[State 4115]
type = posadd
trigger1 = animelem = 8
x = -40

[State 4115]
type = hitadd
trigger1 = animelem = 6
value = 1

[State 4115]
type = envshake
trigger1 = animelem = 6
ampl = 8
time = 10

[State 4115]
type = targetlifeadd
trigger1 = animelem = 6
value = -20
kill=0

[State 4115]
type = velset
trigger1 = animelem = 8
x = -2
y = -4

[State 4115]
type = veladd
trigger1 = animelem = 8,>=0
y = .4

[State 4115]
type = Explod
trigger1 = Animelem = 2
anim = 2061
id = 2061
pos = 25,-35
ownpal = 1
sprpriority = 3

[State 4115]
type = Explod
trigger1 = Animelem = 6
anim = 2030
id = 2030
pos = 0,0
ownpal = 1
sprpriority = 3

[State 1800]
type = playsnd
trigger1 = animelem = 2
value =1,21

[State 1800]
type = playsnd
trigger1 = animelem = 6
value =1,11

[State 1800]
type = playsnd
trigger1 = animelem = 7
value =0,10

[State 4115]
type = changestate
trigger1 = pos Y>0 && vel Y>0
value = 4130

;======================================
;着地
[Statedef 4130]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 4130
sprpriority = 2
poweradd=0

[STate 3105,3]
type=AfterImagetime
trigger1=Time=0
time=0

[State 1540]
type = posset
trigger1 = time=0
y=0

[STate 1330]
type=Explod
trigger1=animelem=1
anim=2080
ownpal=1
pos=0,0
postype=p1
sprpriority=-3

[State 1330]
type = playsnd
trigger1 = animelem = 1
value =1,12

[State 1070]
type = varset
trigger1 = time = 0
var(19) = 0

[State 1000]
type = null;posadd
trigger1 = animelem = 27
trigger2 = animelem = 31
x = 10

[State 1000]
type = posadd
trigger1 = animelem = 34
x = 5

[State 1800]
type = playsnd
trigger1 = animelem = 5
value =0,15
channel = 0

[State 1800]
type = playsnd
trigger1 = animelem = 29
value =0,12
channel = 0

[State 1800]
type = playsnd
trigger1 = animelem = 16
trigger1 = time%8 = 0
value =0,36

[State 1800]
type = playsnd
trigger1 = animelem = 31,>= 0
trigger1 = time%8 = 0
trigger1 = movehit
value =0,36

[State 0]
type = HitDef
trigger1 = AnimElem = 31
attr = S, HA
damage = 80,10
getpower = 120,0
givepower = 100,50
animtype = digup
guardflag = HA
hitflag = MAF
priority = 5, Hit
pausetime = 5,5
sparkno = s2030
guard.sparkno = s2050
sparkxy = -10, -60
hitsound = s1,11
guardsound = s1,15
ground.type = High
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = -4,-5
guard.slidetime = 10;仰け反る時間
guard.hittime = 10;仰け反り中の時間
guard.velocity = -10
airguard.velocity = -3,-4
air.type = high
air.velocity = -3,-5
air.hittime = 16
ground.cornerpush.veloff = -6
guard.cornerpush.veloff = -10
down.cornerpush.veloff = -10
fall.recover=0
fall=1
p2facing=1
envshake.time = 10
envshake.ampl = 5

[State 1000]
type = PlaySnd
trigger1 =animelem=29
value =1,5
channel=1

[State 1330]
type = changestate
trigger1 = animtime=0
value = 0
ctrl=1

;---------------------------------------------------------------------------
;相手
[Statedef 4120]
type    = A
movetype= H
physics = N
poweradd= 50
ctrl = 0
sprpriority = -2
velset=0,0

[State 1135]
type = changeanim2
trigger1 = time=0
value = 1320

[State 4115]
type = posadd
trigger1 = animelem = 4
trigger2 = animelem = 5
x = -5

[State 1135]
type = changestate
trigger1 = animelem=6
value = 5320

;////////////////////////////////
;ジャンプ認識へるぱ
[Statedef 4000]
type    = A
movetype= I
physics = N
poweradd= 0
ctrl = 0
velset=0,0
anim=3150

[State 4000,2]
type=ParentVarSet
trigger1=parent,statetype=A&&Parent,var(4)=1
var(4)=0

[State 4000,2]
type=ParentVaradd
trigger1=Parent,var(15)!=0
trigger1=Parent,Stateno!=3400
trigger1=TimeMod=10,0
var(15)=-1

[State 4000,3]
type=Changestate
trigger1=Parent,command="holddown"
value=4001

[State 4000,3]
type=Changestate
triggerall = root,movetype = A
trigger1=Parent,stateno=[3200,3201]
trigger2=parent,stateno=3700
trigger3=parent,stateno=3300
trigger4=parent,stateno=[8000,8001]
value=4002

;ジャンプ認識へるぱ
[Statedef 4001]
type    = A
movetype= I
physics = N
poweradd= 0
ctrl = 0
velset=0,0

[State 4000,2]
type=ParentVarSet
trigger1=time=0
var(4)=1

[State 4000,2]
type=ParentVaradd
trigger1=Parent,var(15)!=0
trigger1=Parent,Stateno!=3400
trigger1=TimeMod=10,0
var(15)=-1

[State 4000,3]
type=Changestate
triggerall=parent,command!="holddown"
trigger1=stateno!=40
trigger1=Stateno!=[10,12]
value=4000

[State 4000,3]
type=Changestate
triggerall = root,movetype = A
trigger1=Parent,stateno=[3200,3201]
trigger2=parent,stateno=3700
trigger3=parent,stateno=3300
trigger4=parent,stateno=[8000,8001]
value=4002

;MAX認識
[Statedef 4002]
type    = A
movetype= I
physics = N
poweradd= 0
ctrl = 0
velset=0,0

[State 4000,2]
type=ParentVaradd
trigger1=Parent,var(15)!=0
trigger1=Parent,Stateno!=3400
trigger1=TimeMod=10,0
var(15)=-1

time=1
add=-160,-166,-166
sinadd =150,10,10,1
invertall =1

[STate 4102]
type=Changestate
trigger1=Root,movetype!=A
value=4000
;---------------------------------------------------------------------------
;獅子王・後方出現
[Statedef 7000]
type=S
movetype=A
physics=N
velset=12,0
anim=7000
sprpriority=-3
ctrl=0
[STate 7000,1]
type=parentvaradd
trigger1=Time=0
var(20)=1

[STate 7000,1]
type=PlaySnd
trigger1=Time=0
value=1,24

[STate 7000,1]
type=HitOverride
trigger1=1
attr= SCA,NA,SA,HA,NP,SP,HP
stateno=7040
;time=-1

[STate 7000,2]
type=NotHitBy
trigger1=1
value=SCA,NT,ST,HT

[State 7000,3]
type=Changestate
trigger1=BackEdgeBodydist>=-10
trigger1=enemy,Stateno=7026
trigger1=p2bodydist X=[-120,120]
value=7200

[State 7000, 2]
type = HitDef
trigger1 =1&&Movecontact=0
attr = S, SP
damage    = 90,15
getpower=0,0
guardflag = MA
hitflag=MA
priority = 7
pausetime = 0,0
guard.pausetime=5,6
sparkno = s2020
guard.sparkno=s2040
sparkxy = -10,-30
hitsound   =s1,19
guardsound = s1,15
animtype = hard
ground.type = low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -2
air.velocity = -1,-4
can.recover=0
p1stateno=7030
p2stateno=3960
priority=6,miss

[State 7000,3]
type=Changestate
trigger1=Movecontact=0
trigger1=vel X<=0
trigger2=FrontEdgeBodyDist<=130
value=7010
[State 7110,4]
type=Playerpush
trigger1=1
value=0
[State 7000,3]
type=Changestate
trigger1=Moveguarded=1
value=7070
;獅子王・前方出現
[Statedef 7001]
type=S
movetype=A
physics=N
velset=-12,0
anim=7000
sprpriority=-3
ctrl=0
[STate 7000,1]
type=parentvaradd
trigger1=Time=0
var(20)=1

[State 7001,0]
type=Turn
trigger1=Time=0

[STate 7000,1]
type=PlaySnd
trigger1=Time=0
value=1,24

[STate 7000,1]
type=HitOverride
trigger1=1
attr= SCA,NA,SA,HA,NP,SP,HP
stateno=7040
;time=-1

[STate 7000,2]
type=NotHitBy
trigger1=1
value=SCA,NT,ST,HT

[State 7000,3]
type=Changestate
trigger1=BackEdgeBodydist>=-10
trigger1=enemy,Stateno=7026
trigger1=p2bodydist X=[-120,120]
value=7200

[State 7000, 2]
type = HitDef
trigger1 =1&&Movecontact=0
attr = S, SP
damage    = 50,10
getpower=0,0
guardflag = MA
priority = 7
pausetime = 0,0
guard.pausetime=5,6
sparkno = s2020
guard.sparkno=s2040
sparkxy = -10,-30
hitsound   =s1,19
guardsound = s1,15
animtype = hard
ground.type = low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = 0
guard.ground.velocity=0,0
air.velocity = -1,-4
can.recover=0
p1stateno=7030
p2stateno=3990
priority=6,miss

[State 7000,3]
type=Changestate
trigger1=Movecontact=0
trigger1=vel X<=0
trigger2=FrontEdgeBodyDist<=130
value=7010

[State 7000,3]
type=Changestate
trigger1=Moveguarded=1
value=7070
[State 7110,4]
type=Playerpush
trigger1=1
value=0
;---------------------------------------------------------------------------
;獅子王・構え
[Statedef 7010]
type=S
movetype=I
physics=S
velset=0,0
anim=7010
sprpriority=-3
ctrl=0

[STate 7040,4]
type=PlaySnd
trigger1=Time=2
value=0,30
channel=30
[STate 7010,1]
type=HitOverride
trigger1=1
attr= SCA,NA,SA,HA,NP,SP,HP
stateno=7040
;time=-1

[STate 7010,2]
type=HitBy
trigger1=1
value=SCA,NA,SA,HA,NP,SP,HP
[State 7010,1]
type=Turn
trigger1=animtime=0&&P2Dist X<0

[State 7010,2]
type=Changestate
trigger1=Animtime=0
value=7020
[State 7110,4]
type=Playerpush
trigger1=1
value=0

;---------------------------------------------------------------------------
;獅子王・キングストレート
[Statedef 7020]
type=S
movetype=A
physics=S
velset=0,0
anim=7020
sprpriority=-3
ctrl=0

[State 7020]
type = sprpriority
trigger1 = animelem = 4
value = 3

[STate 7020,1]
type=HitOverride
trigger1=time<=10
attr= SCA,NA,SA,HA,NP,SP,HP
stateno=7040
;time=-1

[STate 7020,2]
type=NotHitBy
trigger1=1
value=SCA,NT,ST,HT

[STate 7040,4]
type=PlaySnd
trigger1=Time=8
value=1,25
channel=31

[State 7000, 2]
type = HitDef
trigger1 =(time=[11,21])&&Movecontact=0
trigger1 = Enemy,Movetype!=A
attr = S, SP
damage    = 120,10
getpower=0,0
guardflag = MA
priority = 7
pausetime = 2,12
guard.pausetime=5,15
sparkno = s2020
guard.sparkno=s2050
sparkxy = -10,-65
hitsound   =s1,11
guardsound = s1,15
animtype = digup
ground.type = high
ground.slidetime = 20
ground.hittime  = 30
ground.velocity = -6,-5
air.velocity = -6,-5
can.recover=0
fall.recover=0
fall=1
sprpriority=1
envshake.time=10
envshake.ampl=5
id=2

[State 7000, 2]
type = HitDef
trigger1 =(time=[11,21])&&Movecontact=0
trigger1 = Enemy,Movetype=A
attr = S, SP
damage    = 160,20
getpower=0,0
guardflag = MA
priority = 7
pausetime = 2,12
guard.pausetime=5,15
sparkno = s2020
guard.sparkno=s2050
sparkxy = -10,-65
hitsound   =s1,11
guardsound = s1,15
animtype = digup
ground.type = high
ground.slidetime = 20
ground.hittime  = 30
ground.velocity = -6,-5
air.velocity = -6,-5
can.recover=0
fall.recover=0
fall=1
sprpriority=1
envshake.time=10
envshake.ampl=5
id=2
p2stateno=7025
p1facing=1
p2facing=1
priority=6,miss

[State 7000,3]
type=Changestate
trigger1=animtime=0
value=7100
[State 7110,4]
type=Playerpush
trigger1=1
value=0
;---------------------------------------------------------------------------
;獅子王・ビーストブロー・ワイヤー
[Statedef 7025]
type=A
movetype=H
physics=N
velset=0,-1
sprpriority=-2
ctrl=0

[State 7025]
type = velset
trigger1 = time = 4
x = -20

[STate 7025]
type=ChangeAnim2
trigger1=Time=0
value=7025

[STate 7025]
type=ChangeAnim
triggerall=SelfAnimexist(5900)&&Time=0
trigger1=authorname="Tin"
trigger2=authorname="H”"
trigger3=authorname="M.M.R."
trigger4=authorname="Mouser"
value=5900

[STate 7025]
type=selfstate
trigger1=Time>=50
value=5050

[STate 7025]
type=ChangeState
trigger1=BackEdgeboDyDist =[-20,20]
trigger2=frontEdgeboDyDist =[-20,20]
value=7026

;---------------------------------------------------------------------------
;獅子王・ビーストブロー・ワイヤー
[Statedef 7026]
type=A
movetype=H
physics=N
velset=0,0
sprpriority=-2
ctrl=0

[STate 7026]
type=Turn
trigger1=Time=0

[STate 7025]
type=ChangeAnim2
trigger1=Time=0
value=7026

[STate 7026]
type=EnvShake
trigger1=Time=0
ampl=10
time=10

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
;value = F7, 0 ;Hit ground
value = F7,3; (sysvar(1) > 5) + (sysvar(1) > 14)

[State 7025]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, -90
postype = p1
sprpriority = -3

[State 7026]
type=VelSet
trigger1=Time=3
x=-5
y=-10

[STate 7026]
type=VelAdd
trigger1=Time>=6
y=.5

[State 7026]
type=ChangeAnim
trigger1=Pos Y>=0&&Vel Y>0
trigger1=SelfAnimExist(5062)
value=5062

[State 7026]
type=selfState
trigger1=Pos Y>=0&&Vel Y>0
value=5100

;---------------------------------------------------------------------------
;獅子王・ビーストブロー
[Statedef 7030]
type=S
movetype=A
physics=S
velset=0,0
anim=7030
sprpriority=-3
ctrl=0
[State 7030,0]
type=TargetBind
trigger1=Time=0&&backedgebodydist>=30
pos=50,0
postype=p1

[STate 7030,1]
type=HitOverride
trigger1=animelem=1
attr= SCA,NA,SA,HA,NP,SP,HP
stateno=7040
;time=-1

[STate 7030,2]
type=NotHitBy
trigger1=1
value=SCA,NT,ST,HT

[STate 7040,4]
type=PlaySnd
trigger1=animelem=2
trigger2=Animelem=4
trigger3=Animelem=6
trigger4=Animelem=8
trigger5=Animelem=9
value=1,0
channel=31

[State 7030, 2]
type = HitDef
trigger1 =animelem=2
attr = S, SP
damage    = 10,5
getpower=0,0
guardflag = MA
priority = 7
pausetime = 8,8
guard.pausetime=8,10
sparkno = s2020
guard.sparkno=s2050
sparkxy = 0,-80
hitsound   =s1,10
guardsound = s1,15
animtype = hard
ground.type = high
ground.slidetime = 20
ground.hittime  = 30
ground.velocity = -.2
air.velocity = -.3,-1
p2stateno=3990
sprpriority=-3
envshake.ampl=5
envshake.time=5
[State 7030, 2]
type = HitDef
trigger1 =animelem=4
attr = S, SP
damage    = 20,5
getpower=0,0
guardflag = MA
priority = 7
pausetime = 8,8
guard.pausetime=8,10
sparkno = s2020
guard.sparkno=s2050
sparkxy = -10,-50
hitsound   =s1,10
guardsound = s1,15
animtype = hard
ground.type = low
ground.slidetime = 20
ground.hittime  = 30
ground.velocity = -.2
air.velocity = -.3,-1
p2stateno=3980
sprpriority=-3
envshake.ampl=5
envshake.time=5

[State 7030, 2]
type = HitDef
trigger1 =animelem=6
attr = S, SP
damage    = 20,5
getpower=0,0
guardflag = MA
priority = 7
pausetime = 8,8
guard.pausetime=8,10
sparkno = s2020
guard.sparkno=s2050
sparkxy = -5,-70
hitsound   =s1,10
guardsound = s1,15
animtype = hard
ground.type = high
ground.slidetime = 20
ground.hittime  = 30
ground.velocity = -.2
air.velocity = -.3,-1
p2stateno=3980
sprpriority=-3
envshake.ampl=5
envshake.time=5

[State 7030, 2]
type = HitDef
trigger1 =animelem=8
attr = S, SP
damage    = 20,5
getpower=0,0
guardflag = MA
priority = 7
pausetime = 3,3
guard.pausetime=3,3
sparkno = s2020
guard.sparkno=s2050
sparkxy = 0,-80
hitsound   =s1,10
guardsound = s1,15
animtype = hard
ground.type = high
ground.slidetime = 20
ground.hittime  = 30
ground.velocity = -.2
air.velocity = -.3,-1
p2stateno=3990
sprpriority=-3
envshake.ampl=5
envshake.time=5

[State 7030, 2]
type = HitDef
trigger1 =animelem=9
attr = S, SP
damage    = 30,5
getpower=0,0
guardflag = MA
priority = 7
pausetime = 2,12
guard.pausetime=5,12
sparkno = s2020
guard.sparkno=s2050
sparkxy = 0,-100
hitsound   =s1,11
guardsound = s1,15
animtype = hard
ground.type = high
ground.slidetime = 20
ground.hittime  = 30
ground.velocity = -.2
air.velocity = -.3,-1
p2stateno=3901
sprpriority=-3
envshake.ampl=7
envshake.time=5

[STate 7040,4]
type=PlaySnd
trigger1=animelem=9
value=0,31
channel=30
[State 7030,3]
type=Changestate
trigger1=animtime=0
value=7100
[State 7110,4]
type=Playerpush
trigger1=1
value=0

;---------------------------------------------------------------------------
;獅子王・ガード時
[Statedef 7070]
type=S
movetype=A
physics=S
velset=0,0
anim=7070
sprpriority=-3
ctrl=0

[STate 7070,1]
type=HitOverride
trigger1=animelem=1||Animelem=2
attr= SCA,NA,SA,HA,NP,SP,HP
stateno=7040
;time=-1

[STate 7070,2]
type=NotHitBy
trigger1=1
value=SCA,NT,ST,HT

[STate 7040,4]
type=PlaySnd
trigger1=animelem=3
value=0,32
channel=30

[STate 7040,4]
type=PlaySnd
trigger1=Time=2
value=1,1
channel=31

[State 7070, 2]
type = HitDef
trigger1=Enemy,Movetype!=A
trigger1 =animelem=3
attr = S, SP
damage    = 90,10
getpower=0,0
guardflag = MA
priority = 7
pausetime = 10,12
guard.pausetime=10,12
sparkno = s2020
guard.sparkno=s2050
sparkxy = 0,-90
hitsound   =s1,11
guardsound = s1,15
animtype = up
ground.type = high
ground.slidetime = 20
ground.hittime  = 30
ground.velocity = -.2,-9
air.velocity = -.3,-8
can.recover=0
fall.recover=0
fall=1
sprpriority=-3
[State 7070, 2]
type = HitDef
trigger1=Enemy,Movetype=A
trigger1 =animelem=3
attr = S, SP
damage    = 110,15
getpower=0,0
guardflag = MA
priority = 7
pausetime = 10,12
guard.pausetime=10,12
sparkno = s2020
guard.sparkno=s2050
sparkxy = 0,-90
hitsound   =s1,11
guardsound = s1,15
animtype = up
ground.type = high
ground.slidetime = 20
ground.hittime  = 30
ground.velocity = -.2,-9
air.velocity = -.3,-8
can.recover=0
fall.recover=0
fall=1
sprpriority=-3
p2stateno=7025
p1facing=1
p2facing=1
[State 7070,3]
type=Changestate
trigger1=animtime=0
value=7100
[State 7110,4]
type=Playerpush
trigger1=1
value=0

;---------------------------------------------------------------------------
;獅子王・喰らい
[Statedef 7040]
type=A
movetype=H
physics=N
velset=0,0
anim=7040
sprpriority=-3
ctrl=0

[State 7040,1]
type=VelSet
trigger1=Animelem=2
x=-3
y=-4

[State 7040,2]
type=VelAdd
trigger1=Time>=9
y=.4

[State 7040,3]
type=Changestate
trigger1=Vel Y>0&&Pos Y>=0
value=7050

[STate 7040,4]
type=PlaySnd
trigger1=Time=2
value=0,33
channel=30
[State 7110,4]
type=Playerpush
trigger1=1
value=0

;---------------------------------------------------------------------------
;獅子王・喰らいダウン
[Statedef 7050]
type=L
movetype=H
physics=N
velset=0,0
anim=7050
sprpriority=-3
ctrl=0

[State 7050,0]
type=PosSet
trigger1=Time=0
y=0

[State 7050,1]
type=EnvShake
trigger1=Time=0
time=7
ampl=5

[State 7050,2]
type=Explod
trigger1=Time=0
trigger2=Vel Y>0&&Pos Y>=0&&Time>=6
anim=30
pos=0,0
postype=P1
sprpriority=-4
ownpal=1

[State 7040,1]
type=VelSet
trigger1=Animelem=2
x=-1
y=-3

[State 7040,2]
type=VelAdd
trigger1=Time>=6
y=.4

[State 7040,3]
type=Changestate
trigger1=Vel Y>0&&Pos Y>=0&&Time>=6
value=7060
[State 7110,4]
type=Playerpush
trigger1=1
value=0

;---------------------------------------------------------------------------
;獅子王・喰らいダウン起き上がり
[Statedef 7060]
type=L
movetype=H
physics=N
velset=0,0
anim=7060
sprpriority=-3
ctrl=0

[State 7050,0]
type=PosSet
trigger1=1
y=0

[State 7040,3]
type=Changestate
trigger1=animtime=0
value=7100
[State 7110,4]
type=Playerpush
trigger1=1
value=0

;---------------------------------------------------------------------------
;獅子王・去る1
[Statedef 7100]
type=A
movetype=I
physics=N
velset=0,0
anim=7100
sprpriority=-3
ctrl=0

[State 7100,1]
type=VelSet
trigger1=animelem=3
x=14
y=-10

[State 7100,2]
type=ScreenBound
trigger1=1
value=0

[State 7100,3]
type=PlaySNd
trigger1=Animelem=3
value=1,24
channel=31

[STate 7100,4]
type=DestroySelf
trigger1=Time>=70&&Frontedgebodydist<-10
;---------------------------------------------------------------------------
;獅子王・追い討ち・K投げ・最初
[Statedef 7110]
type=A
movetype=A
physics=N
velset=0,14
anim=7005
sprpriority=-3
ctrl=0
[STate 7000,1]
type=parentvaradd
trigger1=Time=0
var(20)=1

[STate 7110,1]
type=velset
trigger1=time=0
x=((p2dist X)/20)

[State 7110,0]
type=Turn
triggerall=Time=0
trigger1=vel X<0

[STate 7000,1]
type=PlaySnd
trigger1=Time=0
value=0,32
channel=30
[STate 7110,1]
type=PlaySnd
trigger1=Time=0
value=1,24
channel=31

[STate 7020,2]
type=NotHitBy
trigger1=1
value=SCA

[State 7000, 2]
type = HitDef
trigger1 =Movecontact=0
trigger1=P2stateno!=3901
attr = S, SP
damage    = 60,5
getpower=0,0
hitflag=MAFD
guardflag =
priority = 7
pausetime = 15,15
guard.pausetime=15,10
sparkno = s2020
guard.sparkno=s2040
sparkxy = -10,-80
hitsound   =s1,11
guardsound = s1,15
animtype = heavy
ground.type = high
ground.slidetime = 20
ground.hittime  = 30
ground.velocity = -8,-4
air.velocity = -8,-4
can.recover=0
fall.recover=0
fall=1
sprpriority=-3
p2stateno=3901
envshake.ampl=8
envshake.time=8
[State 7000,3]
type=Changestate
trigger1=pos Y>=15&&Vel Y>0
value=7120
[State 7110,4]
type=Playerpush
trigger1=1
value=0
;---------------------------------------------------------------------------
;獅子王・追い討ち・K投げ・915
[Statedef 7111]
type=A
movetype=A
physics=N
velset=0,14
anim=7005
sprpriority=-3
ctrl=0
[STate 7000,1]
type=parentvaradd
trigger1=Time=0
var(20)=1

[STate 7110,1]
type=velset
trigger1=time=0
x=((p2dist X)/20)

[State 7110,0]
type=Turn
triggerall=Time=0
trigger1=vel X<0

[STate 7000,1]
type=PlaySnd
trigger1=Time=0
value=0,32
channel=30
[STate 7110,1]
type=PlaySnd
trigger1=Time=0
value=1,24
channel=31

[STate 7020,2]
type=NotHitBy
trigger1=1
value=SCA

[State 7000, 2]
type = HitDef
trigger1 =Movecontact=0
trigger1=P2stateno!=3901
attr = S, SP
damage    = 60,5
getpower=0,0
hitflag=MAFD
guardflag =
priority = 7
pausetime = 15,15
guard.pausetime=15,10
sparkno = s2020
guard.sparkno=s2040
sparkxy = -10,-80
hitsound   =s1,11
guardsound = s1,15
animtype = heavy
ground.type = high
ground.slidetime = 20
ground.hittime  = 30
ground.velocity = -8,-4
air.velocity = -8,-4
can.recover=0
fall.recover=0
fall=1
sprpriority=-3
p2stateno=3901
envshake.ampl=8
envshake.time=8
[State 7000,3]
type=Changestate
trigger1=pos Y>=15&&Vel Y>0
value=7120
[State 7110,4]
type=Playerpush
trigger1=1
value=0

;---------------------------------------------------------------------------
;獅子王・追い討ち
[Statedef 7113]
type=A
movetype=A
physics=N
velset=0,14
anim=7005
sprpriority=-3
ctrl=0
[STate 7000,1]
type=parentvaradd
trigger1=Time=0
var(20)=1

[STate 7110,1]
type=velset
trigger1=time=0
x=((p2dist X)/20)

[State 7110,0]
type=Turn
triggerall=Time=0
trigger1=vel X<0

[STate 7000,1]
type=PlaySnd
trigger1=Time=0
value=0,32
channel=30
[STate 7111,1]
type=PlaySnd
trigger1=Time=0
value=1,24
channel=31

[STate 7020,2]
type=NotHitBy
trigger1=1
value=SCA

[State 7000, 2]
type = HitDef
trigger1 =Movecontact=0
trigger1=P2stateno!=3901
attr = S, SP
damage    = 60,5
getpower=0,0
hitflag=MAFD
guardflag =
priority = 7
pausetime = 15,15
guard.pausetime=15,10
sparkno = s2020
guard.sparkno=s2040
sparkxy = -10,-80
hitsound   =s1,11
guardsound = s1,15
animtype = heavy
ground.type = high
ground.slidetime = 20
ground.hittime  = 30
ground.velocity = -8,-4
air.velocity = -8,-4
can.recover=0
fall.recover=0
fall=1
sprpriority=-3
p2stateno=3901
envshake.ampl=8
envshake.time=8
[State 7000,3]
type=Changestate
trigger1=pos Y>=15&&Vel Y>0
value=7120
[State 7111,4]
type=Playerpush
trigger1=1
value=0
;---------------------------------------------------------------------------
;獅子王・吼える
[Statedef 7112]
type=S
movetype=I
physics=S
velset=0,0
anim=7071
sprpriority=-3
ctrl=0

[STate 7070,2]
type=NotHitBy
trigger1=1
value=SCA

[STate 7110,2]
type=PlaySnd
trigger1=animelem=3
value=0,34
channel=30

[STate 7040,4]
type=PlaySnd
trigger1=Time=2
value=1,1
channel=31

[State 7070,3]
type=Changestate
trigger1=animtime=0
value=7100
[State 7110,4]
type=Playerpush
trigger1=1
value=0

;---------------------------------------------------------------------------
;獅子王・着地
[Statedef 7120]
type=S
movetype=I
physics=S
velset=0,0
anim=7006
sprpriority=-3
ctrl=0

[STate 7110,1]
type=PosSet
trigger1=1
y=0
[State 7110,3]
type=Changestate
trigger1=animtime=0
value=7112
[State 7110,4]
type=Playerpush
trigger1=1
value=0
[STate 1050,2]
type=Explod
trigger1=Time=0
anim=2080
ownpal=1
pos=0,0
postype=p1
sprpriority=-3
[STate 1330,2]
type=PlaySnd
trigger1=Time=0
value=1,12
channel=31
;---------------------------------------------------------------------------
;獅子王・キングアッパー
[Statedef 7200]
type=S
movetype=A
physics=S
velset=0,0
anim=7200
sprpriority=-3
ctrl=0
[STate 7000,1]
type=parentvaradd
trigger1=Time=0
var(20)=1

[STate 7020,1]
type=HitOverride
trigger1=time<=10
attr= SCA,NA,SA,HA,NP,SP,HP
stateno=7040
;time=-1

[STate 7020,2]
type=NotHitBy
trigger1=1
value=SCA,NT,ST,HT

[STate 7040,4]
type=PlaySnd
trigger1=time=0
value=0,32
channel=30
persistent=0

[STate 7040,4]
type=PlaySnd
trigger1=movehit
value=0,31
channel=30
persistent=0

[STate 7040,4]
type=PlaySnd
trigger1=Time=8
value=1,25
channel=31

[State 7200]
type=pause
trigger1=Movehit
time=5
persistent=0

[State 7000, 2]
type = HitDef
trigger1 =Movecontact=0
attr = S, SP
damage    = 90,10
getpower=0,0
guardflag = MA
priority = 7
pausetime = 8,18
guard.pausetime=5,15
sparkno = s2020
guard.sparkno=s2050
sparkxy = 10,-125
hitsound   =s1,11
guardsound = s1,15
animtype = digup
ground.type = high
ground.slidetime = 20
ground.hittime  = 30
ground.velocity = -6,-5
air.velocity = -6,-5
can.recover=0
fall.recover=0
fall=1
sprpriority=1
envshake.time=12
envshake.ampl=10
id=2
p2stateno=3901
p2facing=1

[State 7000,3]
type=Changestate
trigger1=animtime=0
value=7112
[State 7110,4]
type=Playerpush
trigger1=1
value=0

;気絶
[Statedef 5300]
type=S
movetype=H
physics=S
velset=0,0
anim=5300
ctrl=0

[State 5300]
type = posset
trigger1 = time=0
y=0

[State 5300]
type = selfstate
trigger1 = time >= 120
value = 5100

;気絶
[Statedef 5310]
type=S
movetype=H
physics=S
velset=-8,0
anim=5300
ctrl=0

[State 5300]
type = posset
trigger1 = time=0
y=0

[State 5300]
type = selfstate
trigger1 = time >= 200
value = 5100

;気絶
[Statedef 5315]
type=S
movetype=H
physics=S
velset=-6,0
anim=5002
ctrl=0

[State 5300]
type = posset
trigger1 = time=0
y=0

[State 5300]
type = changestate
trigger1 = animtime = 0
value = 5320

;気絶
[Statedef 5320]
type=S
movetype=H
physics=S
velset=-2,0
anim=5300
ctrl=0

[State 5300]
type = posset
trigger1 = time=0
y=0

[State 5300]
type = changestate
trigger1 = enemy,animelem = 25
value = 3770

;---------------------------------------------------------------------------
;相手認識ヘルパー
[Statedef 33]
type=A
movetype=I
physics=N
velset=0,0
anim=3150
ctrl=0

[STate 33,0]
type=DestroySelf
trigger1=Root,Alive=0
;---------------------------------------------------------------------------
;AI
[Statedef 34]
anim=3150
sprpriority=-1000
ctrl=0
[State 4100,0]
type=Changeanim
trigger1=Anim!=3150
value=3150
[STate 34,5]
type=NotHitBy
trigger1=1
value=SAC
[State 5999,1]
type =ParentVarSet
triggerall=Var(14)=0
triggerall=parent,RoundState=2
trigger1=parent,command="x"
trigger2=parent,command="y"
trigger3=parent,command="a"
trigger4=parent,command="b"
trigger5=parent,command="start"
trigger6=parent,command="holdfwd"
trigger7=parent,command="holdback"
trigger8=parent,command="holdup"
trigger9=parent,command="holddown"
var(1)=1

[State 5999,2]
type=ParentVarSet
triggerall=(parent, var(1) =1) && (parent, RoundState =2)
trigger1=(command="x" &&parent,command="x")
trigger2=(command="y" &&parent,command="y")
trigger3=(command="a" &&parent,command="a")
trigger4=(command="b" &&parent,command="b")
trigger5=(command="start" &&parent,command="start")
trigger6=(command="holdfwd" &&parent,command="holdfwd")
trigger7=(command="holdback" &&parent,command="holdback")
trigger8=(command="holdup" &&parent,command="holdup")
trigger9=(command="holddown" &&parent,command="holddown")
var(1)=0

[State 5999,4]
type=Varset
trigger1=var(2)=1
var(2)=0

[State 5999,5]
type=Varset
triggerall=Var(2)=0
triggerall=parent,RoundState=2
trigger1=parent,command="x"
trigger2=parent,command="y"
trigger3=parent,command="a"
trigger4=parent,command="b"
trigger5=parent,command="start"
trigger6=parent,command="holdfwd"
trigger7=parent,command="holdback"
trigger8=parent,command="holdup"
trigger9=parent,command="holddown"
var(2)=1

[State 5998,0]
type=parentVarSet
trigger1=Time=0
var(2)=1

[State 5999,0]
type=destroyself;Changestate
trigger1=root,p2dist X<=0
trigger2=Root,Var(1)=1
trigger3=RoundState=3
[State 5999,0]
type=destroyself;Changestate
trigger1=(command="x" &&parent,command="x")
trigger2=(command="y" &&parent,command="y")
trigger3=(command="a" &&parent,command="a")
trigger4=(command="b" &&parent,command="b")
trigger5=(command="start" &&parent,command="start")
trigger6=(command="holdfwd" &&parent,command="holdfwd")
trigger7=(command="holdback" &&parent,command="holdback")
trigger8=(command="holdup" &&parent,command="holdup")
trigger9=(command="holddown" &&parent,command="holddown")

;======================================
;タッグ投げ
[Statedef 8000]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 3000
sprpriority = 2
poweradd = -2000

[State 8000]
type = changestate
trigger1 = time = 0
trigger1 = prevstateno = 1070 || prevstateno = 1515
value = 8001

[STate 8000,1]
type=envcolor
trigger1=Time=2
value=0,0,0
time=25
under=1

[State 8000,3]
type=superpause
trigger1=time=2
anim=-1
pos=10,-90
postype=p1
sound=s1,18
time=25
movetime=16
p2defmul = 1

[STate 8000,2]
type=Explod
trigger1=time=2
anim=2100
pos=40,-90
postype=p1
supermove=-1
ownpal=1
bindtime=-1
sprpriority=-3

[STate 8000,2]
type=Explod
trigger1=time=12
anim=2090
pos=40,-90
postype=p1
supermove=-1
ownpal=1
bindtime=-1
sprpriority=3

[State 8000,1]
type=HitDef
triggerall = p2bodydist X>=-8
Trigger1=Time=0
trigger1=prevstateno = 1070 || prevstateno = 1515
attr=S,HT
hitflag=MAFD
priority=6
sparkno=-1
sprpriority=1
p1facing=1
p2facing=1
p1stateno=8010
p2stateno=8020

[State 8000,1]
type=HitDef
triggerall=var(30)=0
triggerall = p2bodydist X>=-8
Trigger1=Time=0
trigger1=enemy,stateno!=[120,155]
trigger1=(enemy,stateno!=[40,51])&&(enemy,stateno!=[53,60])
attr=S,HT
hitflag=M
priority=6
sparkno=-1
sprpriority=1
p1facing=1
p2facing=1
p1stateno=8010
p2stateno=8020

[State 8000,1]
type=HitDef
triggerall=var(30)=1
triggerall = p2bodydist X>=-8
Trigger1=Time=0
trigger1=enemy,stateno!=[120,155]
trigger1=(enemy,stateno!=[40,51])&&(enemy,stateno!=[53,60])
trigger1=enemy,stateno!=5001&&enemy,stateno!=5011&&enemy,stateno!=5021
attr=S,HT
hitflag=M
priority=6
sparkno=-1
sprpriority=1
p1facing=1
p2facing=1
p1stateno=8010
p2stateno=8020

[State 8000, 2]
type = ChangeState
Trigger1 =animtime=0
value = 0
ctrl=1
;======================================
;タッグ投げ
[Statedef 8001]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 3001
sprpriority = 2
poweradd = 0

[STate 8000,1]
type=envcolor
trigger1=Time=2
value=0,0,0
time=25
under=1

[State 8000,3]
type=superpause
trigger1=time=2
anim=-1
pos=10,-90
postype=p1
sound=s1,18
time=25
movetime=16
p2defmul = 1

[STate 8000,2]
type=Explod
trigger1=time=2
anim=2100
pos=40,-90
postype=p1
supermove=-1
ownpal=1
bindtime=-1
sprpriority=-3

[STate 8000,2]
type=Explod
trigger1=time=12
anim=2090
pos=40,-90
postype=p1
supermove=-1
ownpal=1
bindtime=-1
sprpriority=3

[State 8000,1]
type=HitDef
Trigger1=Time=0
attr=S,HT
hitflag=MAFD
priority=6
sparkno=-1
sprpriority=1
p1facing=1
p2facing=1
p1stateno=8010
p2stateno=8020

[State 8000, 2]
type = ChangeState
Trigger1 =animtime=0
value = 0
ctrl=1
;======================================
;タッグ投げ
[Statedef 8010]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 8010
sprpriority = 2
poweradd = 0

[State 8010]
type = Posadd
trigger1 = time = 0
trigger1 = frontedgebodydist <= 50
x = -50

[State 8010]
type = TargetBind
trigger1 = animelem = 20,<= 0
pos = 0,0

[State 3100,3]
type=superpause
trigger1=time=0
anim=-1
pos=10,-90
postype=p1
sound=s1,18
time=25
movetime=10
p2defmul = 1

[STate 3000,1]
type=envcolor
trigger1=Time=0
value=0,0,0
time=25
under=1

[STate 3000,2]
type=Explod
trigger1=time=0
anim=2100
pos=20,-90
postype=p1
supermove=-1
ownpal=1
bindtime=-1
sprpriority=-3

[STate 3000,2]
type=Explod
trigger1=time=10
anim=2090
pos=20,-90
postype=p1
supermove=-1
ownpal=1
bindtime=-1
sprpriority=3

[STate 810,0];掴み
type=Explod
trigger1=animelem=1
anim=2061
pos=30,-80
sprpriority=3
ownpal=1
supermovetime = 20

[STate 3010,1]
type=PlaySnd
trigger1=Animelem=1
value=1,21

[State 8010]
type = TargetBind
trigger1 = animelem = 21
pos = 30,0

[State 8010]
type = TargetLifeAdd
trigger1 = animelem = 6
trigger2 = animelem = 21
value = -105
kill = 0

[State 8010]
type = EnvShake
trigger1 = animelem = 6
trigger2 = animelem = 21
ampl = 10
time = 15

[State 8010]
type = HitAdd
trigger1 = animelem = 6
trigger2 = animelem = 21
value = 1

[State 8010]
type = PlaySnd
trigger1 = animelem = 8
value = 0,24
channel = 0

[State 8010]
type = PlaySnd
trigger1 = animelem = 18
value = 0,1
channel = 0

[State 8010]
type = PlaySnd
trigger1 = animelem = 6
trigger2 = animelem = 21
value = 1,11
channel = 4

[State 8010]
type = Explod
trigger1 = Animelem = 6
anim = 2070
id = 2070
pos = -68,0
postype = p1
sprpriority = 3
bindtime = -1
facing = 1
ownpal = 1
removeongethit = 1

[State 8010]
type = Explod
trigger1 = Animelem = 21
anim = 2070
id = 2070
pos = 46,0
postype = p1
sprpriority = 3
bindtime = -1
facing = 1
ownpal = 1
removeongethit = 1

[State 8010]
type = Targetstate
trigger1 = animtime = 0
value = 8040

[State 8010]
type = ChangeState
Trigger1 = animtime = 0
value = 8030

;======================================
;タッグ投げ
[Statedef 8030];待機
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 8030
sprpriority = 3
poweradd = 0

[State 8010]
type = PlaySnd
trigger1 = time = 0
value = 0,20

[State 8010]
type = Helper
trigger1 = Time = 0
stateno = 8100
id = 8100
pos = 360,0
postype = p1
ownpal = 1
sprpriority = 2
;pausemovetime = 0
;supermovetime = 0
facing = -1

[State 8030]
type = ChangeState
Trigger1 = animtime = 0
trigger2 = animelem = 5,>= 0
trigger2 = helper(8100),stateno = 8110
value = 8090

;======================================
;タッグ投げ
[Statedef 8090];攻撃
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 8090
sprpriority = 2
poweradd = 0

[State 8120]
type = sprpriority
trigger1 = animelem = 9
value = -3

[State 8110]
type = PlaySnd
trigger1 = animelem = 7
value = 1,6
channel = 1


[State 8090]
type = TargetLifeAdd
trigger1 = animelem = 11
value = -225

[State 8090]
type = EnvShake
trigger1 = animelem = 11
ampl = 12
time = 20

[State 8090]
type = HitAdd
trigger1 = animelem = 11
value = 2

[State 8110]
type = PlaySnd
trigger1 = animelem = 11
value = 1,11
channel = 3

[State 8110]
type = PlaySnd
trigger1 = animelem = 11
value = 0,35
channel = 4

[State 8110]
type = PlaySnd
trigger1 = animelem = 11
value = 0,36
channel = 5


[State 8090]
type = Explod
trigger1 = Animelem = 11
anim = 2070
id = 2070
pos = 15,-87
postype = p1
sprpriority = 3
bindtime = -1
facing = 1
ownpal = 1
removeongethit = 1

[State 8090]
type = TargetState
trigger1 = animelem = 11
value = 8060

[State 8090]
type = Targetstate
trigger1 = animelem = 13
value = 8080

[State 8090]
type = ChangeState
Trigger1 = animtime = 0
value = 0
ctrl = 1

;======================================
;タッグ投げ
[Statedef 8020]
type    = A
movetype= H
physics = N
velset = 0,0
ctrl = 0
sprpriority = -2
poweradd = 100

[State 8020]
type = ChangeAnim2
trigger1 = time = 0
value = 8020

;======================================
;タッグ投げ
[Statedef 8040]
type    = L
movetype= H
physics = N
velset = 0,0
ctrl = 0
sprpriority = -2
poweradd = 0

[State 8040]
type = Posset
trigger1 = 1
y = 0

[State 8020]
type = ChangeAnim
trigger1 = time = 0
value = 5120

[State 8020]
type = ChangeAnim
trigger1 = animtime = 0
trigger1 = anim = 5120
value = 5300

;======================================
;タッグ投げ
[Statedef 8060]
type    = A
movetype= H
physics = N
velset = 0,0
ctrl = 0
sprpriority = -2
poweradd = 0

[State 8060]
type = ChangeAnim2
trigger1 = time = 0
value = 8060

;======================================
;タッグ投げ
[Statedef 8080]
type    = A
movetype= H
physics = N
velset = 0,0
ctrl = 0
sprpriority = -2
poweradd = 0

[State 8080]
type = ChangeAnim2
trigger1 = time = 0
value = 8080

[State 8080]
type = ChangeAnim
triggerall = animelem = 2 && anim = 8080
triggerall = SelfAnimExist(5950) = 1
trigger1 = AuthorName = "Tin" || AuthorName = "Mouser" || AuthorName = "H”" || AuthorName = "adamskie"
trigger2 = AuthorName = "M.M.R." || AuthorName = "ryokucha" || AuthorName = "Bad Darkness" || AuthorName = "Third"
trigger3 = AuthorName = "CAMRAT Type KOF" || AuthorName = "keyu" || AuthorName = "Warusaki3"
value = 5950

[State 8080]
type = NotHitBy
trigger1 = 1
value = SAC

[State 8080]
type = Selfstate
trigger1 = Alive
trigger1 = Time > 100
value = 5120

[State 8080]
type = Selfstate
trigger1 = Alive = 0
trigger1 = Time > 100
value = 5150
;======================================
;タッグ投げ
[Statedef 8100];獅子王登場
type    = S
movetype= A
physics = N
velset = 10,0
ctrl = 0
anim = 7000
sprpriority = -2
poweradd = 0

[State 8100]
type = PlaySnd
trigger1 = time = 0
value = 1,24

[State 8100]
type = Changestate
trigger1 = ParentDist X <= 80
value = 8110

;======================================
;タッグ投げ
[Statedef 8110];獅子王ポーズ
type    = S
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 8110
sprpriority = -2
poweradd = 0

[State 8110]
type = ChangeAnim
trigger1 = root,stateno != 8090
value = 8110
elem = 1

[State 8110]
type = PlaySnd
trigger1 = animelem = 2
value = 0,32

[State 8110]
type = ChangeState
trigger1 = animtime = 0
value = 8120

;======================================
;タッグ投げ
[Statedef 8120];獅子王ポーズ
type    = S
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 8120
sprpriority = -2
poweradd = 0

[State 8120]
type = sprpriority
trigger1 = animelem = 3
value = 3

[State 8110]
type = PlaySnd
trigger1 = animelem = 1
value = 0,30

[State 8110]
type = PlaySnd
trigger1 = animelem = 13
value = 0,31

[State 8110]
type = PlaySnd
trigger1 = animelem = 4
value = 1,47
channel = 2

[State 8120]
type = Explod
trigger1 = Animelem = 4
anim = 2070
id = 2070
pos = 85,-81
postype = p1
sprpriority = 3
bindtime = -1
facing = 1
ownpal = 1
removeongethit = 1

[State 8100]
type = PlaySnd
trigger1 = animelem = 18
value = 1,24

[State 8120]
type = VelSet
trigger1 = Animelem = 18
x = 18

[State 8110]
type = destroyself
trigger1 = Animelem = 18,>= 0
trigger1 = frontedgebodydist <= -100


;///////////////////////////////////////////////////////

[Statedef -2]
[State -2]
type=Helper
trigger1=Numhelper(1)=0&&Roundstate=2
stateno=4000
id=1
pos=0,-9999
postype=p1
ownpal=1
sprpriority=-1000
keyctrl=0

[STate -2]
type=varSet
trigger1=command="cpu"
var(1)=1

[State -3]
type = VarSet
trigger1 = IsHomeTeam && Roundstate = 0 && Pos X > 0
var(1) = 1

[STate -1]
type=varSet
trigger1=roundstate!=2
var(2)=0

[State -2]
type = Helper
triggerall=(Stateno=[189,194])
trigger1=Var(1)=0
trigger1=NumHelper(34)=0
trigger1=Var(2)=0
name="AI"
id=34
helpertype=normal
pos=0,-9999
postype=p1
stateno=34
keyctrl=1

[State -2]
type=VarSet
triggerall=var(4)=1
trigger1=Stateno=[54,56]
trigger2=MoveType=A||Movetype=H
trigger3=stateno=11||Stateno=20||Stateno=0
trigger3=Time>=6
trigger4=prevstateno=12
trigger4=time>=6
var(4)=0

[STate -2]
type=AfterImagetime
trigger1=Movetype=H
time=0

[STate -2];ヒット確認
type=varSet
triggerall=MoveContact=0
trigger1=enemy,movetype=A
var(21)=1
persistent=0

[STate -2];カウンターヒット時のみ
type=AssertSpecial
trigger1=numexplod(92)=1
flag=nojugglecheck
persistent=0

[State -2];カウンター
type=Explod
triggerall=var(18)=(Stateno)
triggerall=var(21)=1
triggerall=TeamSide=1
triggerall=Stateno!=[800,1010]
triggerall=Stateno!=[1300,1810]
triggerall=Stateno!=[3000,3999]
triggerall=Stateno!=8700
trigger1=Movehit=1
id=92
pos=40,200
postype=left
ontop=1
persistent=0
ownpal=1
anim=92
bindtime=22
sprpriority=9999
under=0

[State -2];カウンター
type=Explod
triggerall=var(18)=(Stateno)
triggerall=var(21)=1
triggerall=TeamSide=2
triggerall=Stateno!=[800,1010]
triggerall=Stateno!=[1300,1810]
triggerall=Stateno!=[3000,3999]
triggerall=Stateno!=8700
trigger1=Movehit=1
id=92
pos=-40,200
postype=right
ontop=1
persistent=0
ownpal=1
anim=92
bindtime=22
sprpriority=9999
under=0

[STate -2]
type=EnvColor
triggerall=var(18)=(Stateno)
triggerall=NumExplod(92)=1
triggerall=Stateno!=[800,1010]
triggerall=Stateno!=[1300,1810]
triggerall=Stateno!=[3000,3999]
triggerall=Stateno!=8700
triggerall=var(21)=1
trigger1=Movehit=1
time=1
under=0
value=255,255,255
persistent=0
sprpriority=9999

[STate -2];ヒット確認
type=varSet
trigger1=enemy,movetype!=A
trigger2=Numexplod(92)=1
var(21)=0

[STate -2];ヒット確認
type=varSet
trigger1=Alive=0
trigger2=hitcount=1
trigger3=Movetype=H
trigger4=enemy,movetype!=A
var(21)=0

[State -2];ジャンプ攻撃リセット
type = varSet
trigger1 = stateno = [600,650]
trigger2 = stateno = 255
trigger3 = movetype = H
var(17) = 0

[STate -3]
type=varSet
trigger1=Alive
var(18)=(STateno)

;----------------
;ダメージ
[State -2]
type=PlaySnd
triggerall=time=1
triggerall=stateno=5000
triggerall=random <= 200
triggerall=alive
trigger1=Anim=5000
trigger2=Anim=5010
trigger3=Anim=5020
value=S0,3
[State -2]
type=PlaySnd
triggerall=time=1
triggerall=stateno=5000
triggerall=random <= 200
triggerall=alive
trigger1=Anim=5000
trigger2=Anim=5010
trigger3=Anim=5020
value=S0,4

[State -2]
type=PlaySnd
triggerall=time=1
triggerall=stateno=5000
triggerall=random <= 200
triggerall=alive
trigger1=Anim=5001
trigger2=Anim=5011
trigger3=Anim=5021
value=S0,4

[State -2]
type=PlaySnd
triggerall=time=1
triggerall=stateno=5000
triggerall=random <= 200
triggerall=alive
trigger1=Anim=5002
trigger2=Anim=5012
trigger3=Anim=5022
value=S0,5

[State -2]
type=PlaySnd
triggerall=time=1
triggerall=stateno=5000
triggerall=random <= 200
triggerall=alive
trigger1=Anim=5002
trigger2=Anim=5012
trigger3=Anim=5022
value=S0,6

[State -2]
type=PlaySnd
triggerall=stateno=5070
triggerall=random <= 200
triggerall=alive
trigger1=Time=1
value=S0,3

[State -2]
type=PlaySnd
triggerall=stateno=5070
triggerall=random <= 200
triggerall=alive
trigger1=Time=1
value=S0,4

[State -2]
type=stopSnd
trigger1=stateno!=100
trigger1 = stateno != [1300,1301]
channel=13

[STate -2]
type=Width
trigger1=Stateno=[5100,5110]
trigger1=BackEdgeBodyDist<=12
value=0,-12
persistent=0

[State -2]
type=PalFx
trigger1=Alive
trigger1=Var(15)!=0
trigger1=(GameTime%2)=0
add=220,46,46
time=1
ignorehitpause=1

[STate -2]
type=Explod
trigger1=Stateno=3455
trigger1=Animelem=13
anim=3456
pos=-20,40
postype=Back
supermovetime=24
ownpal=1
sprpriority=-3
id=3
;vel=1,0
ignorehitpause=1
removeongethit=1

[STate -2]
type=Explod
trigger1=Stateno=3455
trigger1=Animelem=13
anim=3457
pos=0,40
postype=Back
supermovetime=24
ownpal=1
sprpriority=-3
id=3
ignorehitpause=1
removeongethit=1

[STate -2]
type=Explod
trigger1=Stateno=3455
trigger1=Animelem=13
anim=3457
pos=110,40
postype=Back
supermovetime=24
ownpal=1
sprpriority=-3
id=3
ignorehitpause=1
removeongethit=1

[STate -2]
type=Explod
trigger1=Stateno=3455
trigger1=Animelem=13
anim=3457
pos=220,40
postype=Back
supermovetime=24
ownpal=1
sprpriority=-3
id=3
ignorehitpause=1
removeongethit=1

[State -2]
type=removeExplod
trigger1=stateno!=[3700,3900]
id=2091

[State -2]
type=playsnd
trigger1=numenemy
trigger1=enemy,movetype = H
trigger1=enemy,stateno = 1040 && enemy,time = 1
trigger2=numenemy
trigger2=enemy,movetype = H
trigger2=enemy,stateno = 3155 && enemy,time = 1
value = 1,57
persistent = 0

[Statedef -3]

[STate -3]
type=VarSet
trigger1=Var(10)=1
trigger1=movetype!=A
var(10)=0

[STate -3]
type=VarSet
trigger1=Var(11)=1
trigger1=P2movetype!=H
var(11)=0

[State -3]
type = VarSet
trigger1 = IsHomeTeam && Roundstate = 0 && Pos X > 0
var(1) = 1

[state -3]
type=DisplayToClipboard
trigger1=1
text="var(1):%d,Movecontact:%d,var(25):%d,P2bodydist X=%.0f,P2bodydist Y=%.0f";,frontedgebodydist=%d"
params=var(1),Movecontact,var(25),p2bodydist x,p2bodydist y;,frontedgebodydist


[State -3]
type = VarSet
trigger1 = var(15) = 0
var(7) = 0

[State -3]
type=attackMulSet
trigger1=Var(15)=0
trigger1=stateno<3000
trigger2=stateno>=3000
value=1

[State -3]
type=attackMulSet
trigger1=Var(15) > 0
trigger1 = stateno<3000
value=1.25

[State -3]
type=VarSet
triggerall=Var(16)=0
trigger1=P2name="ZERO"||P2name="Zero By Third"||P2name="Tin G_rugal"||P2name="Tin A_rugal"
trigger2=P2name="Geese Howard"||p2name="Dark Chun Li"||P2name="Grant"||P2name="justice"
trigger3=P2name="krizalid"||P2name="Goenitz"||P2name="Gouki by M.M.R."
trigger4=P2name="Shadow DIO"||P2name="Kouryu"||P2name="Musashi Akatsuki"
var(16)=1

[State -3]
type=varSet
triggerall = var(30) != 0
trigger1=Enemy,stateno=0||(Enemy,stateno=[20,21])||(Enemy,stateno=[10,12])||(Enemy,stateno=[5100,5120])
trigger2 = movehit
trigger2 = (stateno=[200,205])|| stateno = 235 || stateno = 261
trigger3 = movehit
trigger3 = stateno = 400 || stateno = 410|| stateno = 215
var(30) = 0

;////////////////////////////////////////////////////////////
;連続技・デバッグ
[State -3]
type = ChangeState
value = 3000
triggerall = statetype != A
triggerall = power >= 1000
triggerall = movecontact
triggerall=Roundstate=2
triggerall= var(1)=1 && random <= 230
trigger1 = stateno =720

[State -3]
type = ChangeState
value = 3101
triggerall = statetype != A
triggerall = power >= 1000
triggerall = movehit
triggerall=Roundstate=2
triggerall= var(1)=1 && random <= 277
trigger1 = stateno =720

[State -3]
type = ChangeState
value = 720
triggerall = statetype != A
triggerall = movecontact
triggerall=Roundstate=2
triggerall= var(1)=1 && random <= 888
trigger1 = stateno = 215||stateno =410

[State -3]
type = ChangeState
value = 1150
triggerall = statetype != A
triggerall = movecontact
triggerall=Roundstate=2
triggerall= var(1)=1 && random <= 888
trigger1 = stateno =720 && animelem = 6,>= 0 && animelem = 9 ,<= 0

[State -3]
type = ChangeState
value = 100
triggerall = statetype != A
triggerall=Roundstate=2
triggerall= var(1)=1 && random <= 888
trigger1 = prevstateno =1180 && stateno = 0

[State -3]
type = ChangeState
value = 410
triggerall = statetype != A
triggerall=Roundstate=2
triggerall= var(1)=1 && random <= 888
trigger1 = stateno =100&&time>=1&&enemy,movetype = H

;/////////////////////////////////////////////////////
;
[State -1]
type = ChangeState
value = 1600
triggerall = statetype != A
triggerall = enemynear,stateno = [5100,5112]
triggerall = Roundstate=2
triggerall = p2bodydist X = [0,50]
triggerall = var(1)=1
trigger1 = random <= 222
trigger1 = ctrl

;"タイガーネックチャンスリー"
[State -1]
type = ChangeState
value = 1200
triggerall = statetype != A
triggerall = ctrl
triggerall=Roundstate=2
triggerall = p2bodydist X = [0,50]
triggerall = var(1)=1
trigger1 = random <= 22
trigger1 = ctrl

;"タイガーネックチャンスリー"
[State -1]
type = ChangeState
value = 1200
triggerall = statetype != A
triggerall = movehit
triggerall=Roundstate=2
triggerall = p2bodydist X = [0,50]
triggerall = var(1)=1
trigger1 = random <= 222
trigger1 = (stateno = [200,205]) && (animelem = 4,>= 0)
trigger2 = random <= 333
trigger2 = movecontact && animelem = 3,>= 0 && animelem = 4,<= 0
trigger2 = stateno = 215 || stateno =245 || stateno =410
trigger3 = random <= 777
trigger3 = stateno =720 && animelem = 6,>= 0 && animelem = 9 ,<= 0

[State -3]
type = ChangeState
value = 1100
triggerall = statetype != A
triggerall = movecontact
triggerall=Roundstate=2
triggerall= var(1)=1 && random <= 111
triggerall = p2bodydist X = [30,100]
trigger1 = stateno =720 || stateno =215
;/////////////////////////////////////////////////////
;バードオブパラダイス
[State -1]
type = ChangeState
value = 1800
triggerall = statetype != A
triggerall = movehit
triggerall=Roundstate=2
triggerall = var(1)=1 && random <= 222
trigger1 = stateno = 440 && animelem = 8, <= 0

;/////////////////////////////////////////////////////
;ソバット
[State -1]
type = ChangeState
value = 1001
triggerall = statetype != A
triggerall = movecontact
triggerall=Roundstate=2
triggerall = p2bodydist X = [0,50]
triggerall = var(1)=1 && random <= 777
trigger1 =  animelem = 3 ,>= 0
trigger1 = stateno = 235 || stateno = 430
trigger2 = stateno = 440 && animelem = 8, <= 0

;/////////////////////////////////////////////////////
;SC関連
;
[State -1]
type = ChangeState
value = 1130
triggerall = statetype != A
triggerall=Roundstate=2
triggerall = var(1)=1 && random <= 555
triggerall = power <= 1200
trigger1 = movecontact && animelem = 15,>= 0 && animelem = 17,< 0
trigger1 = stateno = 1070

;タッグ投げ
[State -1]
type = ChangeState
value = 8000
triggerall = statetype != A
triggerall=Roundstate=2
triggerall = var(1)=1 && random <= 22
triggerall = power >= 3000
trigger1 = movecontact && animelem = 15,>= 0 && animelem = 17,< 0
trigger1 = stateno = 1070
trigger2 = movecontact && animelem = 3,>= 0 && animelem = 4,< 0
trigger2 = stateno = 1515

;SCタイガースピン
[State -1]
type = ChangeState
value = 3001
triggerall = statetype != A
triggerall=Roundstate=2
triggerall = var(1)=1 && random <= 333
triggerall = power >= 2000
trigger1 = movecontact && animelem = 15,>= 0 && animelem = 17,< 0
trigger1 = stateno = 1070
trigger2 = movecontact && animelem = 3,>= 0 && animelem = 4,< 0
trigger2 = stateno = 1515

;SCエルディアブロアマリロ
[State -1]
type = ChangeState
value = 3101
triggerall = statetype != A
triggerall=Roundstate=2
triggerall = var(1)=1 && random <= 444
triggerall = power >= 2000
trigger1 = movecontact && animelem = 15,>= 0 && animelem = 17,< 0
trigger1 = stateno = 1070
trigger2 = movecontact && animelem = 3,>= 0 && animelem = 4,< 0
trigger2 = stateno = 1515

;SCサベージファイアーキャット
[State -1]
type = ChangeState
value = 3500
triggerall = statetype != A
triggerall=Roundstate=2
triggerall = var(1)=1 && random <= 33
triggerall = power >= 2000
trigger1 = movecontact && animelem = 15,>= 0 && animelem = 17,< 0
trigger1 = stateno = 1070
trigger2 = movecontact && animelem = 3,>= 0 && animelem = 4,< 0
trigger2 = stateno = 1515


;-------------------------------------------------
;---------------------------------------------------------------------------
;立ち弱パンチ
[State -1, Stand Light Punch]
type = ChangeState
value = ifelse((p2bodydist X = [-15,20]),205,200)
triggerall = statetype != A && ctrl
triggerall = enemynear,statetype = A && enemy,movetype != A
triggerall=Roundstate=2
triggerall = p2bodydist X = [0,50]
triggerall = var(1)=1
trigger1 = random <= 44

;---------------------------------------------------------------------------
;立ち強パンチ
[State -1, Stand Strong Punch]
type = ChangeState
value = ifelse((p2bodydist X = [-20,15]),215,210)
triggerall = statetype != A && ctrl
triggerall = enemynear,statetype != L && enemy,movetype != A
triggerall=Roundstate=2
triggerall = p2bodydist X = [0,50]
triggerall = var(1)=1
trigger1 = random <= 23
;---------------------------------------------------------------------------
;立ち弱キック
[State -1, Stand Light Kick]
type = ChangeState
value = ifelse((p2bodydist X = [-10,10]),235,230)
triggerall = statetype != A && ctrl
triggerall = enemynear,statetype != L && enemy,movetype != A
triggerall=Roundstate=2
triggerall = p2bodydist X = [0,70]
triggerall = var(1)=1
trigger1 = random <= 22

;---------------------------------------------------------------------------
;立ち強キック
[State -1, Standing Strong Kick]
type = ChangeState
value = ifelse((p2bodydist X = [-15,15]),245,240)
triggerall = statetype != A && ctrl
triggerall = enemynear,statetype != L && enemy,movetype != A
triggerall=Roundstate=2
triggerall = p2bodydist X = [0,90]
triggerall = var(1)=1
trigger1 = random <= 22
;-------------------------------------------------
;Crouching Light Punch
;しゃがみ弱パンチ
[State -1, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = statetype = C && ctrl
triggerall = enemynear,statetype != L && enemy,movetype != A
triggerall=Roundstate=2
triggerall = p2bodydist X = [0,40]
triggerall = var(1)=1
trigger1 = random <= 33

;---------------------------------------------------------------------------
;Crouching Strong Punch
;しゃがみ強パンチ
[State -1, Crouching Strong Punch]
type = ChangeState
value = 410
triggerall = statetype = C && ctrl
triggerall = enemynear,statetype != L && enemy,movetype != A
triggerall=Roundstate=2
triggerall = p2bodydist X = [0,80]
triggerall = var(1)=1
trigger1 = random <= 55
;---------------------------------------------------------------------------
;Crouching Strong Kick
;しゃがみ強キック
[State -1, Crouching Strong Kick]
type = ChangeState
value = 440
triggerall = statetype != A && ctrl
triggerall = enemynear,statetype != L && enemy,statetype != A
triggerall=Roundstate=2
triggerall = p2bodydist X = [0,80]
triggerall = var(1)=1
trigger1 = random <= 22

 
; GUARD (start) 
[Statedef 120]
type = U    ;Leave state type unchanged
physics = U ;Leave physics unchanged

[State 120, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 120 + (statetype = C) + (statetype = A)*2

[State 120, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 120, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 120, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 120, 5]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 120, 6]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 120, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 130 + (statetype = C) + (statetype = A)*2



;-------------------------------------------------------
; STAND GUARD (guarding)
[Statedef 130]
type    = S
physics = S

[State 130, 1]
type = ChangeAnim
trigger1 = Anim != 130
value = 130

;---------------------------CPUぶろ
[State 130];地上
type = Helper
trigger1 = var(1) && fvar(24) && (random = [200,300])
trigger1 = numhelper(2250) = 0 && fvar(25) != 1
trigger1 = enemynear,statetype != C
trigger1 = var(10) != 1
trigger1 = time = 0
stateno = 2250
id = 2250
pos = 0,0
postype = p1
ownpal=1
sprpriority = -3
pausemovetime = 99999999999999999999
supermovetime = 99999999999999999999
ignorehitpause = 1

[State 130];しゃがみ
type = Helper
trigger1 = var(1) && fvar(24) && (random = [200,300])
trigger1 = numhelper(2251) = 0 && fvar(25) != 1
trigger1 = enemynear,statetype = C
trigger1 = var(10) != 1
trigger1 = time = 0
stateno = 2251
id = 2251
pos = 0,0
postype = p1
ownpal=1
sprpriority = -3
pausemovetime = 99999999999999999999
supermovetime = 99999999999999999999
ignorehitpause = 1
;---------------------------

[State 130]
type = ChangeState
trigger1 = Command = "holddown"
value = 131

[State 130]
type = ChangeState
trigger1 = Command != "holdback"
value = 0
ctrl = 1

;-------------------------------------------------------
; CROUCH GUARD (guarding)
[Statedef 131]
type    = C
physics = C

[State 131, 1]
type = ChangeAnim
trigger1 = Anim != 131
value = 131

;---------------------------CPUぶろ
[State 131];地上
type = Helper
trigger1 = var(1) && fvar(24) && (random = [200,300])
trigger1 = numhelper(2250) = 0 && fvar(25) != 1
trigger1 = enemynear,statetype != C
trigger1 = var(10) != 1
trigger1 = time = 0
stateno = 2250
id = 2250
pos = 0,0
postype = p1
ownpal=1
sprpriority = -3
pausemovetime = 99999999999999999999
supermovetime = 99999999999999999999
ignorehitpause = 1

[State 131];しゃがみ
type = Helper
trigger1 = var(1) && fvar(24) && (random = [200,300])
trigger1 = numhelper(2251) = 0 && fvar(25) != 1
trigger1 = enemynear,statetype = C
trigger1 = var(10) != 1
trigger1 = time = 0
stateno = 2251
id = 2251
pos = 0,0
postype = p1
ownpal=1
sprpriority = -3
pausemovetime = 99999999999999999999
supermovetime = 99999999999999999999
ignorehitpause = 1
;---------------------------

[State 131]
type = ChangeState
trigger1 = Command != "holddown"
value = 130

[State 130]
type = ChangeState
trigger1 = Command != "holdback"
value = 11
ctrl = 1
;---------------------------------------------------------------------------
; SGUARDHIT (shaking)
[Statedef 150]
type    = S
movetype= H
physics = N
velset = 0,0

[State 150, 1]
type = ChangeAnim
trigger1 = 1
value = 150

[State 150, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 151

[State 150, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 3

;---------------------------------------------------------------------------
; SGUARDHIT2 (knocked back)
[Statedef 151]
type    = S
movetype= H
physics = S
anim = 150

[State 151, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 151, 2]
type = VelSet
trigger1 = Time = GetHitvar(slidetime)
trigger2 = Time >= GetHitvar(hittime)
x = 0

[State 151, 3]
type = CtrlSet
trigger1 = Time = GetHitvar(ctrltime)
value = 1


;---------------------------------------------

[State 151, 4]
type = ChangeState
trigger1 = Time >= GetHitvar(hittime)
value = ifelse(command="holddown",11,0);なんとなくテスト
ctrl = 1

;---------------------------------------------------------------------------
; CGUARDHIT (shaking)
[Statedef 152]
type    = C
movetype= H
physics = N
velset = 0,0

[State 152, 1]
type = ChangeAnim
trigger1 = 1
value = 151

[State 152, 3]
type = ChangeState
trigger1 = HitShakeOver
value = 153

[State 152, 4]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

;---------------------------------------------------------------------------
; CGUARDHIT2 (knocked back)
[Statedef 153]
type    = C
movetype= H
physics = C
anim = 151

[State 153, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 153, 2]
type = VelSet
trigger1 = Time = GetHitvar(slidetime)
trigger2 = Time >= GetHitvar(hittime)
x = 0

[State 153, 3]
type = CtrlSet
trigger1 = Time = GetHitvar(ctrltime)
value = 1

[State 153, 4]
type = ChangeState
trigger1 = Time >= GetHitvar(hittime)
value = 11
ctrl = 1

;---------------------------------------------------------------------------------
; MAX3演出用ヘルパー

[Statedef 6667]
type     = A
movetype = I
physics  = N
juggle   = 0
ctrl     = 0
anim     = 6667
sprpriority = -50
velset = -15,0

[State 200,]
type = null;Posset
trigger1 = 1
y = -218

[State 1000, ヘルパーを出す]
type = Helper
trigger1 = facing = 1
trigger1 = pos X <= 0
trigger2 = facing = -1
trigger2 = pos X >= 0
name = "MAX3"
stateno = 6667
ID = 6667
helpertype = normal
pos = 320,0
postype = P1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 181, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
flag3 = noshadow

[State 800, ステート変更]
type = DestroySelf
triggerall = time > 0
trigger1 = time = 50
trigger2 = root,stateno != [3700,3750]
trigger3 = root,stateno = 3750
trigger3 = root,AnimElem = 38

;---------------------------------------------------------------------------------
; MAX3演出用ヘルパー
; パリーン

[Statedef 6668]
type     = A
movetype = I
physics  = N
juggle   = 0
ctrl     = 0
anim     = 9999
sprpriority = -50

[State 200,]
type = Posset
trigger1 = time = 0
x = 0
y = 0

[State 181, 特殊効果]
type = AssertSpecial
trigger1 = time = [0,6]
flag = noBG

[State 181, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = noFG
flag2 = noshadow

[State 2000]
type = Explod
trigger1 = time = 0
anim = 6668
ID = 6668
pos = ifelse(facing=1,-320,0),0
ownpal = 1
postype = front
supermove = 1
sprpriority = -15
vel = 0,0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 7
value = s126,4

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = time = 8

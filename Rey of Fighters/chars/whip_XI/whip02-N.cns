;=====================================================================
;  CNS File For "whip"	                                Made By H"
;                                       Ver. 1.05           
;=====================================================================

;---------------------------------------------------------------------
; 変数表

;	Var(1)	 : 
;	Var(2)	 : 
;	Var(3)	 : 
;	Var(4)	 : 
;	Var(5)	 : 
;	Var(6)	 : 
;	Var(7)	 : 
;	Var(8)	 : 
;	Var(10) : ボタン入力フラグ
;	Var(11) : ウィップショットヒットカウンタ
;	Var(12) : ストリングス・ショット技判別
;	Var(13) : キャラ判別フラグ(勝利ポーズ)
;	Var(14) : 投げ抜けコマンド入力フラグ
;	Var(15) : ガードキャンセルフラグ
;	Var(16) : カウンターヒット用フラグ
;	Var(17) : ガードクラッシュ判別
;	Var(18) : カウンターヒット表示フラグ
;	Var(19) : デザートイーグル弾カウンタ
;	Var(20) : アーマーモード用AnimNo保存
;	Var(21) : アーマーモード用ヒットポーズ時間計測
;	Var(22) : アーマーモード用StateNo保存
;	Var(23) : 削りダメージ無効化フラグ
;	Var(24) : パワーゲージ増加禁止フラグ
;	Var(25) : モード判別（1:アーマーモード　2:カウンターモード 3:パワーMAXモード）
;	Var(26) : 大ジャンプフラグ
;	Var(27) : 大ジャンプ中のレバー入力管理
;	Var(28) : 大ジャンプフラグ２
;	Var(29) : 小or中ジャンプフラグ
;	Var(30) : どこでもキャンセル判定
;	Var(31) : パワーゲージ量計測
;	Var(32) : アーマー用HITフラグ
;	Var(33) : フックショット移動量フラグ
;	Var(34) : 銃器表示判別（0:日本版（有り）　1:ヨーロッパ版（無し））
;	Var(35) : ダウンヒット判定
;	Var(36) : 
;	Var(37) : 
;	Var(38) : システムバージョン判別（0:2k 1:2k2）

;	FVar(1) : 
;	FVar(2) : 
;	FVar(3) : 特殊モード時間計測
;	FVar(4) : 
;---------------------------------------------------------------------

;---------------------------------------------------------------------

[Data]
life = 1000         
attack = 100        
defence = 100        
fall.defence_up = 100 
liedown.time = 30    
airjuggle = 20        
sparkno = 2        
guard.sparkno = 40 
KO.echo = 1          
volume = 255  
power = 9000        

[Size]
xscale = 1          
yscale = 1           ; 垂直サイズ倍率
ground.back = 16     ; キャラ幅（地上、後ろ側）
ground.front = 16    ; キャラ幅（地上、前側）
air.back = 16        ; キャラ幅（空中、後ろ側）
air.front = 16       ; キャラ幅（空中、前側）
z.width = 10         ; キャラ幅（ｚ軸）
height = 204	     ; キャラの高さ（ジャンプで飛び越せる高さ）64
attack.width = 4,4   ;Default attack width: back, front
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too   
head.pos = 5,-95    ; 頭部座標
mid.pos = 0,-65     ; 体中心部座標
shadowoffset = 0     ; キャラの影・オフセット値

[Velocity]
walk.fwd  = 2.7		; 前進速度
walk.back = -2.7		; 後退速度
run.fwd  = 6.3, 0		; 前ダッシュ速度（y<0の場合、ホップステップ）
run.back = -7,-1		; バックステップ速度（y=0の場合、走り）
jump.neu = 0,-10		; 垂直ジャンプ速度
jump.back = -2.7		; 後方ジャンプ速度
jump.fwd = 2.7		; 前方ジャンプ速度
runjump.back = -4.0,-7	; 後方ジャンプ速度（ダッシュ中）
runjump.fwd = 4.0,-7		; 前方ジャンプ速度（ダッシュ中）
airjump.neu = 0,0		; 空中垂直ジャンプ速度0,0
airjump.back = 0,0		; 空中後方ジャンプ速度
airjump.fwd = 0,0		; 空中前方ジャンプ速度

[Movement]
airjump.num = 0       ; 空中ジャンプ回数
airjump.height = 35  ; 空中ジャンプ最低高度
yaccel = .60	        ; キャラ重力加速度
stand.friction = .85  ; 摩擦係数（85立ち状態）
crouch.friction = .82 ; 摩擦係数（82しゃがみ状態）

;===============================================================================
; Definition of the Basic Action
;===============================================================================

;-------------------------------------------------------------------------------
; ダッシュ
[Statedef 100]
type    = S
movetype = I
physics = N
anim = 100
ctrl = 0

[State 100,0]
type = VelSet
trigger1 = AnimElem = 2
x = Const(velocity.run.fwd.x)

[State 100,1]
type = PlaySnd
trigger1 = TimeMod = 70, 0
value = 1, 0

[State 100,2]
type = PlaySnd
trigger1 = TimeMod = 70, 21
value = 1, 1

[State 100,3]
type = PlaySnd
trigger1 = TimeMod = 70, 47
value = 1, 2

[State 100,4]
type = ChangeState
trigger1 = Command != "holdfwd" && Time >= 10
value = 101
ctrl = 1

[State 100,5]
type = ChangeState
trigger1 = Command = "holdupfwd"
value = 40

[State 100,6]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

;------------------------ 停止
[Statedef 101]
type = S
movetype = I
physics = S
anim = 101
velset = 0, 0

[State 101,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; バックステップ
;------------------------ 開始
[Statedef 105]
type = S
movetype = I
physics = S
anim = 105
ctrl = 0
velset = 0, 0

[State 105,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 2
statetype = A
physics = N

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = Const(velocity.run.back.x)
y = Const(velocity.run.back.y)

[State 105,VelAdd]
type = VelAdd
trigger1 = AnimElem = 2, > 0
y = .12

[State 105, VelMul]
type = VelMul
trigger1 = AnimElem = 2, > 0
x = .94

[State 105,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 3

[State 105,VelAdd]
type = VelSet
trigger1 = AnimElem = 2, > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
x = 0

[State 106,PosSet]
type = PosSet
trigger1 = AnimElem = 2, > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
y = 0

[State 105,End]
type = ChangeState
trigger1 = AnimElem = 2, > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 106

;------------------------ 停止
[Statedef 106]
type = S
movetype = I
physics = S
anim = 106
velset = 0, 0

[State 101,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;===============================================================================
; Definition of the Win/Lose/Intro Pause
;===============================================================================

;-------------------------------------------------------------------------------
; 時間切れ負け
[Statedef 170]
type = S
ctrl = 0
anim = 175
velset = 0,0

[State 192,1]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 170,3]
type = AssertSpecial
trigger1 = Time = [0,270]
flag = RoundNotOver

;-------------------------------------------------------------------------------
; 時間切れ引き分け
[Statedef 175]
type = S
ctrl = 0
velset = 0,0

[State 192,1]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 175,2]
type = ChangeState
trigger1 = Time = 0
value = 170

;-------------------------------------------------------------------------------
; 勝利


[Statedef 180]
type = s


[State 192,1]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 190, ChangeState]
type = ChangeState
trigger1 = Time = 0 && Var(13) != 0
value = IfElse(Var(13) = 1,183,184)

[State 180,ChangeState]
type = ChangeState
triggerall = Time = 0 && Var(13) = 0
trigger1 = Command = "hold_y"
value = 182

[State 180,ChangeState]
type = ChangeState
triggerall = Time = 0 && Var(13) = 0
trigger1 = Command = "hold_a"
value = 181

[State 180,ChangeState]
type = ChangeState
trigger1 = Time = 1
value = IfElse((Random=[0,499]),181,182)

;-------------------------------------------------------------------------------
; 勝利１
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0,0

[State 183, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4,=1 || AnimElem = 12,=1
value = 2,0

[State 183, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6,=1
value = 0,1
channel = 0

[State 192,1]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 181,3]
type = AssertSpecial
trigger1 = Time = [0,230]
flag = RoundNotOver

;-------------------------------------------------------------------------------
; 勝利２
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0,0

[State 192,1]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 182,3]
type = AssertSpecial
trigger1 = Time = [0,230]
flag = RoundNotOver

;-------------------------------------------------------------------------------
; 勝利（ネスツ）
[Statedef 183]
type = S
ctrl = 0
anim = 183
velset = 0,0,0
sprpriority = 3

[State 183, PlaySnd]
type = PlaySnd
trigger1 = Time = 2
value = 0,0
channel = 0

[State 183, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 183, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,260]
flag = RoundNotOver

;-------------------------------------------------------------------------------
; 勝利（怒チーム）
[Statedef 184]
type = S
ctrl = 0
anim = 184
velset = 0,0
sprpriority = 3

[State 184, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 184, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,270]
flag = RoundNotOver

;---------------------------------------------------------------------------
; プレイントロ
[Statedef 190]
type = S
ctrl = 0
velset = 0,0

[State 190, ChangeState]
type = ChangeState
triggerall = Time = 0
trigger1 = P2Name = "Fliz" || P4Name = "Fliz" || P2Name = "Fliz" || P4Name = "Fliz"
value = 8010

[State 190, ChangeState]
type = ChangeState
triggerall = Time = 0
trigger1 = P2Name = "Kula" || P4Name = "Kula"
value = 8000

[State 190, ChangeState]
type = ChangeState
triggerall = Time = 0
trigger1 = P2Name = "k'" || P4Name = "k'"
value = 193

[State 190, ChangeState]
type = ChangeState
triggerall = Time = 0
trigger1 = P2Name = "Athena Asamiya" || P4Name = "Athena Asamiya" || P2Name = "Athena Asamiya" || P4Name = "Athena Asamiya"
trigger2 = P2Name = "Tin's Clark" || P4Name = "Tin's Clark" || P2Name = "Clark Steel" || P4Name = "Clark Steel" || P2Name = "Clark" || P4Name = "Clark" 
trigger3 = P2Name = "Ralf Jones" || P4Name = "Ralf Jones" || P2Name = "Ralf" || P4Name = "Ralf"
value = 194

[State 190, ChangeState]
type = ChangeState
triggerall = Time = 0
trigger1 = P2Name = "Heidern By Third" || P4Name = "Heidern By Third" || P2Name = "Heidern" || P4Name = "Heidern"
value = 192

[State 190, ChangeState]
type = ChangeState
triggerall = Time = 0
trigger1 = P2Name = "Tin's Leona" || P4Name = "Tin's Leona" || P2Name = "Leona" || P4Name = "Leona"
trigger2 = P2Name = "Tin's Clark" || P4Name = "Tin's Clark" || P2Name = "Clark Steel" || P4Name = "Clark Steel" || P2Name = "Clark" || P4Name = "Clark" 
trigger3 = P2Name = "Ralf Jones" || P4Name = "Ralf Jones" || P2Name = "Ralf" || P4Name = "Ralf"
value = 194

[State 180,ChangeState]
type = ChangeState
trigger1 = Time = 0
value = 191

;-------------------------------------------------------------------------------
; イントロ（通常）
[Statedef 191]
type = S
ctrl = 0
anim = 191
velset = 0,0,0

[State 183, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5,=1
value = 0,2
channel = 0

[State 183, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 16,=1 || AnimElem = 24,=1
value = 2,0

[State 191,1]
type = AssertSpecial
trigger1 = Time = [0,220]
flag = Intro
flag2 = nobardisplay

[State 191,4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;-------------------------------------------------------------------------------
; イントロ（対ハイデルン）
[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0,0

[State 191,1]
type = AssertSpecial
trigger1 = Time = [0,470]
flag = Intro
flag2 = nobardisplay

[State 191,4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;-------------------------------------------------------------------------------
; イントロ（対K'）
[Statedef 193]
type = S
ctrl = 0
anim = 193
velset = 0,0,0

[State 183, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3,=1
value = 0,3
channel = 0

[State 183, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4,=1 || AnimElem = 8,=1
value = 2,1

[State 191,1]
type = AssertSpecial
trigger1 = Time = [0,350]
flag = Intro
flag2 = nobardisplay

[State 191,4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;-------------------------------------------------------------------------------
; イントロ（対怒チーム）
[Statedef 194]
type = S
ctrl = 0
anim = 194
velset = 0,0,0

[State 191,1]
type = AssertSpecial
trigger1 = Time = [0,330]
flag = Intro
flag2 = nobardisplay

[State 191,4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;-------------------------------------------------------------------------------
; イントロ（クリザリッド第二形態）
[Statedef 8000]
type = S
ctrl = 0
anim = 8000
velset = 0,0,0

[State 183, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 10,=1
value = 6,2

[State 183, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 14,=73
value = 0,30
channel = 0

[State 191,1]
type = AssertSpecial
trigger1 = Time = [0,280]
flag = Intro
flag2 = nobardisplay

[State 191,4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;-------------------------------------------------------------------------------
; イントロ（ゼロクローン）
[Statedef 8010]
type = S
ctrl = 0
anim = 8010
velset = 0,0,0

[State 183, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2,=1
value = 0,31
channel = 0

[State 183, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3,=1 || AnimElem = 7,=1 || AnimElem = 12,=1
value = 2,0

[State 183, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 17,=1
value = 0,32
channel = 0

[State 191,1]
type = AssertSpecial
trigger1 = Time = [0,320]
flag = Intro
flag2 = nobardisplay

[State 191,4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;-------------------------------------------------------------------------------
; 挑発
[Statedef 195]
type = S
movetype = I
physics = S
anim = 195
velset = 0, 0
ctrl = 0

[State 183, PlaySnd]
type = PlaySnd
trigger1 = Time =1
value = 0,4
channel = 0

[State 195,End]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = Time >= 32 && (command = "holdfwd" || command = "holdback" || command = "holdup" || command = "holddown")
value = 0
ctrl = 1

;===============================================================================
; Definition of the Basic Arts
;===============================================================================

;-------------------------------------------------------------------------------
; 遠距離・立ち弱パンチ
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 8
velset = 0,0
ctrl = 0
poweradd = 0

[State 200, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && prevstateno != 10000
value = 200

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0 && prevstateno != 10000
var(32) = 0

[State 200,VarSet(32)]
type = VarSet
trigger1 = MoveContact
var(32) = 1
ignorehitpause = 1

[State -2,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6,=0
value = 2, 0

[State 200,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 11
movetype = I

[State 200,HitDef]
type = HitDef
trigger1 = var(32) = 0
attr = S, NA
animtype = Light
damage    = IfElse(Var(16)=1,48,40)
getpower = 32,32
guardflag = M
hitflag = MAF
pausetime = 5,14+IfElse((Var(25)=1 || Var(25)=2),3,0)
sparkno = S2000
guard.sparkno = S2050
sparkxy = 10,-45
hitsound = S3, 7
guardsound = S4, 0
ground.type = Low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -5-(Var(25)=1 || Var(25)=2)*1.5
air.hittime = 13
air.velocity = -4,-7-(Var(25)=1 || Var(25)=2)*1.5
air.cornerpush.veloff = 0
yaccel = .5

[State 200,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; 近距離・立ち弱パンチ
[Statedef 205]
type    = S
movetype= A
physics = S
juggle  = 8
velset = 0,0
ctrl = 0
poweradd = 0

[State 200, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && prevstateno != 10000
value = 205

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0 && prevstateno != 10000
var(32) = 0

[State 200,VarSet(32)]
type = VarSet
trigger1 = MoveContact
var(32) = 1
ignorehitpause = 1

[State -2,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3,=0
value = 2, 2

[State 200,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 205,HitDef]
type = HitDef
trigger1 = var(32) = 0
trigger1 = AnimElem = 4
attr = S, NA
animtype = Light
damage    = IfElse(Var(16)=1,48,40)
getpower = 32,32
guardflag = M
hitflag = MAF
pausetime = 12,12+IfElse((Var(25)=1 || Var(25)=2),3,0)
sparkno = S2000
guard.sparkno = S2050
sparkxy = 5,-89
hitsound = S3, 0
guardsound = S4, 0
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -5-(Var(25)=1 || Var(25)=2)*1.5
air.hittime = 13
air.velocity = -4,-7-(Var(25)=1 || Var(25)=2)*1.5
air.cornerpush.veloff = 0
yaccel = .5

[State 200,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; 遠距離・立ち強パンチ
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 10
poweradd= 0
ctrl = 0
velset = 0,0,0

[State 250, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && prevstateno != 10000
value = 210

[State 700,MoveHitReset]
type = MoveHitReset
trigger1 = MoveHit

[State 200,VarSet(32)]
type = VarSet
trigger1 = MoveContact
var(32) = 1
ignorehitpause = 1

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0 && prevstateno != 10000
trigger2 = AnimElem = 11
var(32) = 0
ignorehitpause = 1

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2,=1
value = 0,8
channel = 0

[State -2,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5,=0 || AnimElem = 10,=0
value = 2, 1

[State 250,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 13
movetype = I

[State 245,HitDef]
type = HitDef
trigger1 = var(32) = 0
trigger1 = AnimElem = 7
attr = S, NA
animtype  = Hard
damage    = Ceil(IfElse(Var(16)=1,96,80) / (2 ** HitCount))
getpower = 80,80
guardflag = M
hitflag = MAF
pausetime = 8,12
sparkno = S2010
guard.sparkno = S2060
sparkxy = 15,-89
hitsound = S3, 7
guardsound = S4, 0
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
air.hittime = 13
air.velocity = -4,-7-(Var(25)=1 || Var(25)=2)*1.5
air.cornerpush.veloff = 0
yaccel = .5

[State 245,HitDef]
type = HitDef
trigger1 = NumTarget
trigger1 = Target,StateType = A
trigger1 = var(32) = 0 && var(16) = 0
trigger1 = AnimElem = 11 || AnimElem = 12
attr = S, NA
animtype  = Hard
damage    = Ceil(IfElse(Var(16)=1,96,80) / (2 ** HitCount))
getpower = 80,80
guardflag = M
hitflag = M
pausetime = 10,14
sparkno = S2010
guard.sparkno = S2060
sparkxy = 15,-45
hitsound = S3, 7
guardsound = S4, 0
ground.type = Low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -10-(Var(25)=1 || Var(25)=2)*1.5
air.hittime = 13
air.velocity = -4,-7-(Var(25)=1 || Var(25)=2)*1.5
air.cornerpush.veloff = 0
yaccel = .5

[State 245,HitDef]
type = HitDef
triggerall = var(32) = 0 && (AnimElem = 11 || AnimElem = 12)
trigger1 = NumTarget
trigger1 = Target,Statetype != A
trigger2 = var(16) = 1
trigger3 = NumTarget=0
attr = S, NA
animtype  = Hard
damage    = Ceil(IfElse(Var(16)=1,96,80) / (2 ** HitCount))
getpower = 80,80
guardflag = M
hitflag = MAF
pausetime = 10,14
sparkno = S2010
guard.sparkno = S2060
sparkxy = 15,-45
hitsound = S3, 7
guardsound = S4, 0
ground.type = Low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -10-(Var(25)=1 || Var(25)=2)*1.5
air.hittime = 13
air.velocity = -4,-7-(Var(25)=1 || Var(25)=2)*1.5
air.cornerpush.veloff = 0
yaccel = .5

[State 210,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; 近距離・立ち強パンチ
[Statedef 215]
type    = S
movetype= A
physics = S
juggle  = 10
poweradd= 0
ctrl = 0
velset = 0,0,0

[State 220, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && prevstateno != 10000
value = 215

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0 && prevstateno != 10000
var(32) = 0

[State 200,VarSet(32)]
type = VarSet
trigger1 = MoveContact
var(32) = 1
ignorehitpause = 1

[State 220,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 240,PlaySnd]
type = PlaySnd
trigger1 =Time =1
value = 0,8
channel = 0

[State -2,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4,=0
value = 2, 2

[State 215,HitDef]
type = HitDef
trigger1 = var(32) = 0
trigger1 = AnimElem = 5
attr = S, NA
animtype  = Hard
damage    = IfElse(Var(16)=1,128,104)
getpower = 80,80
guardflag = M
hitflag = MAF
pausetime = 12,12
sparkno = S2010
guard.sparkno = S2060
sparkxy = 0,-45
hitsound = S3, 2
guardsound = S4, 0
ground.type = Low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -6-(Var(25)=1 || Var(25)=2)*1.5
air.hittime = 13
air.velocity = -4,-7-(Var(25)=1 || Var(25)=2)*1.5
air.cornerpush.veloff = 0
yaccel = .5

[State 220,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; 遠距離・立ち弱キック
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 0
ctrl = 0
velset = 0,0,0

[State 230, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && prevstateno != 10000
value = 230

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0 && prevstateno != 10000
var(32) = 0

[State 200,VarSet(32)]
type = VarSet
trigger1 = MoveContact
var(32) = 1
ignorehitpause = 1

[State -2,PlaySnd]
type = PlaySnd
trigger1 = Time =1
value = 2, 3

[State 230,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 230,HitDef]
type = HitDef
trigger1 = var(32) = 0
trigger1 = AnimElem = 4
attr = S, NA
animtype = Light
damage    = IfElse(Var(16)=1,48,40)
getpower = 32,32
guardflag = M
hitflag = MAF
pausetime = 9,12+IfElse((Var(25)=1 || Var(25)=2),3,0)
sparkno = S2000
guard.sparkno = S2050
sparkxy = 10,-70
hitsound = S3, 1
guardsound = S4, 0
ground.type = Low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4-(Var(25)=1 || Var(25)=2)*1.5
air.hittime = 13
air.velocity = -4,-7-(Var(25)=1 || Var(25)=2)*1.5
air.cornerpush.veloff = 0
yaccel = .5

[State 230,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; 近距離・立ち弱キック
[Statedef 235]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 0
ctrl = 0
velset = 0,0,0

[State 235, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && prevstateno != 10000
value = 235

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0 && prevstateno != 10000
var(32) = 0

[State 200,VarSet(32)]
type = VarSet
trigger1 = MoveContact
var(32) = 1
ignorehitpause = 1

[State -2,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2,=0
value = 2, 3

[State 235,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 235,HitDef]
type = HitDef
trigger1 = var(32) = 0
trigger1 = AnimElem = 3
attr = S, NA
animtype = Light
damage    = IfElse(Var(16)=1,48,40)
getpower = 32,32
guardflag = L
hitflag = MAF
pausetime = 11,12+IfElse((Var(25)=1 || Var(25)=2),3,0)
sparkno = S2000
guard.sparkno = S2050
sparkxy = 0,-45
hitsound = S3, 1
guardsound = S4, 0
ground.type = Low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4-(Var(25)=1 || Var(25)=2)*1.5
air.hittime = 13
air.velocity = -4,-7-(Var(25)=1 || Var(25)=2)*1.5
air.cornerpush.veloff = 0
yaccel = .5

[State 235,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; 遠距離・立ち強キック
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 10
poweradd= 0
ctrl = 0
velset = 0,0

[State 240, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && prevstateno != 10000
value = 240

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0 && prevstateno != 10000
var(32) = 0

[State 200,VarSet(32)]
type = VarSet
trigger1 = MoveContact
var(32) = 1
ignorehitpause = 1

[State 240,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2,=1
value = 0,8
channel = 0

[State -2,PlaySnd]
type = PlaySnd
trigger1 = Time =1
value = 2, 3

[State 240,HitDef]
type = HitDef
trigger1 = var(32) = 0
trigger1 = AnimElem = 5
attr = S, NA
animtype  = Hard
damage    = IfElse(Var(16)=1,168,136)
getpower = 80,80
guardflag = M
hitflag = MAF
pausetime = 10,12
sparkno = S2010
guard.sparkno = S2060
sparkxy = 15,-89
hitsound = S3, 3
guardsound = S4, 0
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -9-(Var(25)=1 || Var(25)=2)*1.5
air.hittime = 13
air.velocity = -4,-7-(Var(25)=1 || Var(25)=2)*1.5
air.cornerpush.veloff = 0
yaccel = .5

[State 230,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; 近距離・立ち強キック
[Statedef 245]
type    = S
movetype= A
physics = S
juggle  = 10
poweradd= 0
ctrl = 0
velset = 0,0

[State 250, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && prevstateno != 10000
value = 245

[State 200,VarSet(32)]
type = VarSet
trigger1 = MoveContact
var(32) = 1
ignorehitpause = 1

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0 && prevstateno != 10000
var(32) = 0
ignorehitpause = 1

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3,=1
value = 0,8
channel = 0

[State -2,PlaySnd]
type = PlaySnd
trigger1 = Time =1
value = 2, 3

[State 250,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 245,HitDef]
type = HitDef
trigger1 = var(32) = 0
trigger1 = AnimElem = 5
attr = S, NA
animtype  = Hard
damage    = IfElse(Var(16)=1,128,104)
getpower = 80,80
guardflag = M
hitflag = MAF
pausetime = 7,15
sparkno = S2410
guard.sparkno = S2060
sparkxy = 5,-89
hitsound = S3, 3
guardsound = S4, 0
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -8-(Var(25)=1 || Var(25)=2)*1.5
air.hittime = 13
air.velocity = -4,-7-(Var(25)=1 || Var(25)=2)*1.5
air.cornerpush.veloff = 0
yaccel = .5

[State 250,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; しゃがみ弱パンチ
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 8
poweradd= 0
ctrl = 0
velset = 0,0

[State 400, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && prevstateno != 10000
value = 400

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0 && prevstateno != 10000
var(32) = 0
ignorehitpause = 1

[State 200,VarSet(32)]
type = VarSet
trigger1 = MoveContact
var(32) = 1
ignorehitpause = 1

[State -2,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5,=0
value = 2, 0

[State 400,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 8
movetype = I

[State 200,HitDef]
type = HitDef
trigger1 = var(32) = 0 && var(35) = 0
trigger1 = AnimElem = 7
attr = C, NA
animtype = Light
damage    = IfElse(Var(16)=1,56,48)
getpower = 32,32
guardflag = L
hitflag = MAFD
pausetime = 3,14+IfElse((Var(25)=1 || Var(25)=2),3,0)
sparkno = S2000
guard.sparkno = S2050
sparkxy = 13,-17
hitsound = S3, 7
guardsound = S4, 0
ground.type = Low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4-(Var(25)=1 || Var(25)=2)*1.5
air.hittime = 13
air.velocity = -4,-7-(Var(25)=1 || Var(25)=2)*1.5
air.cornerpush.veloff = 0
yaccel = .5
down.velocity = 0,0
down.hittime = 6

[State 200,HitDef]
type = HitDef
trigger1 = var(32) = 0 && var(35) = 1
trigger1 = AnimElem = 7
attr = C, NA
animtype = Light
damage    = IfElse(Var(16)=1,56,48)
getpower = 32,32
guardflag = L
hitflag = MAF
pausetime = 3,14+IfElse((Var(25)=1 || Var(25)=2),3,0)
sparkno = S2000
guard.sparkno = S2050
sparkxy = 13,-17
hitsound = S3, 7
guardsound = S4, 0
ground.type = Low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4-(Var(25)=1 || Var(25)=2)*1.5
air.hittime = 13
air.velocity = -4,-7-(Var(25)=1 || Var(25)=2)*1.5
air.cornerpush.veloff = 0
yaccel = .5

[State 400,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;-------------------------------------------------------------------------------
; しゃがみ強パンチ
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 10
poweradd= 0
ctrl = 0
velset = 0,0

[State 250, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && prevstateno != 10000
value = 410

[State 700,MoveHitReset]
type = MoveHitReset
trigger1 = MoveHit

[State 200,VarSet(32)]
type = VarSet
trigger1 = MoveContact
var(32) = 1
ignorehitpause = 1

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0 && prevstateno != 10000
trigger2 = AnimElem = 5
var(32) = 0
ignorehitpause = 1

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2,=1
value = 0,8
channel = 0

[State 250,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 15
movetype = I

[State 245,HitDef]
type = HitDef
trigger1 = var(32) = 0
trigger1 = AnimElem = 3
attr = C, NA
animtype  = Hard
damage    = Ceil(IfElse(Var(16)=1,104,88) / (2 ** HitCount))
getpower = 80,80
guardflag = M
hitflag = MAF
pausetime = 9,12
guard.pausetime = 12,12
sparkno = S2410
guard.sparkno = S2060
sparkxy = 0,-45
hitsound = S3, 6
guardsound = S4, 0
ground.type = Low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
air.hittime = 13
air.velocity = -1.8,-9-(Var(25)=1 || Var(25)=2)*1.5
air.cornerpush.veloff = 0
yaccel = .5

[State 245,HitDef]
type = HitDef
trigger1 = NumTarget
trigger1 = Target,StateType = A
trigger1 = var(32) = 0 && var(16) = 0
trigger1 = AnimElem = 5 || AnimElem = 7 || AnimElem = 8 || AnimElem = 10 || AnimElem = 12 || AnimElem = 14
attr = C, NA
animtype  = Back
damage    = Ceil(IfElse(Var(16)=1,104,88) / (2 ** HitCount))
getpower = 80,80
guardflag = M
hitflag = M
pausetime = 9,12
guard.pausetime = 12,12
sparkno = S2410
guard.sparkno = S2060
sparkxy = 0,-77
hitsound = S3, 6
guardsound = S4, 0
ground.type = Low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -1.8,-9-(Var(25)=1 || Var(25)=2)*1.5
guard.velocity = -8
air.hittime = 13
air.cornerpush.veloff = 0
yaccel = .5
down.velocity = -3.5,-2
fall = 1
fall.recover = 1
fall.recovertime = 37

[State 245,HitDef]
type = HitDef
triggerall = var(32) = 0
triggerall = AnimElem = 5 || AnimElem = 7 || AnimElem = 8 || AnimElem = 10 || AnimElem = 12 || AnimElem = 14
trigger1 = NumTarget
trigger1 = Target,Statetype != A
trigger2 = var(16) = 1
trigger3 = NumTarget=0
attr = C, NA
animtype  = Back
damage    = Ceil(IfElse(Var(16)=1,104,88) / (2 ** HitCount))
getpower = 80,80
guardflag = M
hitflag = MAF
pausetime = 9,12
guard.pausetime = 12,12
sparkno = S2410
guard.sparkno = S2060
sparkxy = 0,-77
hitsound = S3, 6
guardsound = S4, 0
ground.type = Low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -1.8,-9-(Var(25)=1 || Var(25)=2)*1.5
guard.velocity = -8
air.hittime = 13
air.cornerpush.veloff = 0
yaccel = .5
down.velocity = -3.5,-2
fall = 1
fall.recover = 1
fall.recovertime = 37

[State 410,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;-------------------------------------------------------------------------------
; しゃがみ弱キック
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 8
poweradd= 0
ctrl = 0
velset = 0, 0

[State 430, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && prevstateno != 10000
value = 430

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0 && prevstateno != 10000
var(32) = 0

[State 200,VarSet(32)]
type = VarSet
trigger1 = MoveContact
var(32) = 1
ignorehitpause = 1

[State -2,PlaySnd]
type = PlaySnd
trigger1 = Time=1
value = 2, 3

[State 430,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 430,HitDef]
type = HitDef
trigger1 = var(32) = 0
trigger1 = AnimElem = 4 || AnimElem = 5
attr = C, NA
animtype = Light
damage    = IfElse(Var(16)=1,40,32)
getpower = 32,32
hitflag = MA
guardflag = L
pausetime = 9,12+IfElse((Var(25)=1 || Var(25)=2),3,0)
sparkno = S2400
guard.sparkno = S2050
sparkxy = 0,-13
hitsound = S3, 5
guardsound = S4, 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -4-(Var(25)=1 || Var(25)=2)*1.5
air.hittime = 13
air.velocity = -4,-7-(Var(25)=1 || Var(25)=2)*1.5
air.cornerpush.veloff = 0
yaccel = .5

[State 210,posadd]
type = posadd
trigger1 = AnimElem = 1,=0 || AnimElem = 2,=0 || AnimElem = 3,=0
x = 8

[State 210,posadd]
type = posadd
trigger1 = AnimElem = 6,=0 || AnimElem = 7,=0 || AnimElem = 8,=0
x = -8

[State 430,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;-------------------------------------------------------------------------------
; しゃがみ強キック
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 10
poweradd= 0
ctrl = 0

[State 440, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && prevstateno != 10000
value = 440

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0 && prevstateno != 10000
var(32) = 0

[State 200,VarSet(32)]
type = VarSet
trigger1 = MoveContact
var(32) = 1
ignorehitpause = 1

[State 440,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3,=1
value = 0,8
channel = 0

[State -2,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2,=0
value = 2, 3

[State 440, HitDef]
type = HitDef
triggerall = var(32) = 0
trigger1 = AnimElem = 6
attr = C, NA
damage    = IfElse(Var(16)=1,160,128)
getpower = 80,80
animtype = Hard
hitflag = MA
guardflag = L
pausetime = 9,12
guard.pausetime = 12,12
sparkno = S2010
guard.sparkno = S2060
sparkxy = 0,-15
hitsound = S3, 3
guardsound = S4, 0
ground.type = Trip
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -1.8,-7.5-(Var(25)=1 || Var(25)=2)*1.5
air.hittime = 13
air.velocity = -1.8,-7.5-(Var(25)=1 || Var(25)=2)*1.5
guard.velocity = -10-(Var(25)=1 || Var(25)=2)*1.5
air.cornerpush.veloff = 0
fall = 1
fall.recover = 1
fall.recovertime = 38
yaccel = .55

[State 210,posadd]
type = posadd
trigger1 = AnimElem = 2,=0 || AnimElem = 3,=0 || AnimElem = 4,=0
x = 8

[State 210,posadd]
type = posadd
trigger1 = AnimElem = 6,=0 || AnimElem = 7,=0 || AnimElem = 8,=0
x = -8

[State 440,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;-------------------------------------------------------------------------------
; 垂直ジャンプ弱パンチ
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 8
poweradd= 0
ctrl = 0

[State 600, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && prevstateno != 10000
value = 600

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0 && prevstateno != 10000
var(32) = 0

[State 200,VarSet(32)]
type = VarSet
trigger1 = MoveContact
var(32) = 1
ignorehitpause = 1

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6,=1
value = 2,0

[State 610,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 10
movetype = I

[State 600,HitDef]
type = HitDef
trigger1 = var(32) = 0
trigger1 = AnimElem = 7 || AnimElem = 8 || AnimElem = 9
attr = A, NA
animtype = Light
damage    = IfElse(Var(16)=1,56,48)
getpower = 32,32
guardflag = HA
pausetime = 10,12
sparkno = S2000
guard.sparkno = S2050
sparkxy = 0,-IfElse((AnimElem = 7),48,15)
hitsound = S3, 0
guardsound = S4, 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -4-(Var(25)=1 || Var(25)=2)*1.5
ground.cornerpush.veloff = -8
air.hittime = 13
air.velocity = -3.5,-6-(Var(25)=1 || Var(25)=2)*1.5
air.cornerpush.veloff = 0
yaccel = .5

;-------------------------------------------------------------------------------
; 斜めジャンプ弱パンチ
[Statedef 605]
type    = A
movetype= A
physics = A
juggle  = 8
poweradd= 0
ctrl = 0

[State 600, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && prevstateno != 10000
value = 605

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0 && prevstateno != 10000
var(32) = 0

[State 200,VarSet(32)]
type = VarSet
trigger1 = MoveContact
var(32) = 1
ignorehitpause = 1

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3,=1
value = 2,2

[State 610,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 600,HitDef]
type = HitDef
trigger1 = var(32) = 0
trigger1 = AnimElem = 4 || AnimElem = 5
attr = A, NA
animtype = Light
damage    = IfElse(Vel X>0,IfElse(Var(16)=1,64,56),IfElse(Var(16)=1,48,40))
getpower = 32,32
guardflag = HA
pausetime = 10,12
sparkno = S2000
guard.sparkno = S2050
sparkxy = 0,-15
hitsound = S3, 0
guardsound = S4, 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -4-(Var(25)=1 || Var(25)=2)*1.5
ground.cornerpush.veloff = -8
air.hittime = 13
air.velocity = -3.5,-6-(Var(25)=1 || Var(25)=2)*1.5
air.cornerpush.veloff = 0
yaccel = .5

;-------------------------------------------------------------------------------
; 垂直ジャンプ強パンチ
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 8
poweradd= 0
ctrl = 0

[State 610, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && prevstateno != 10000
value = 610

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0 && prevstateno != 10000
var(32) = 0

[State 200,VarSet(32)]
type = VarSet
trigger1 = MoveContact
var(32) = 1
ignorehitpause = 1

[State 610,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 8
movetype = I

[State 240,PlaySnd]
type = PlaySnd
trigger1 = Time =1
value = 0,8
channel = 0

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5,=1
value = 2,1

[State 610,HitDef]
type = HitDef
trigger1 = var(32) = 0
trigger1 = AnimElem = 6 || AnimElem = 7
attr = A, NA
animtype = Hard
damage    = IfElse(Var(16)=1,112,96)
getpower = 96,96
guardflag = HA
pausetime = 6,8+IfElse((Var(25)=1 || Var(25)=2),3,0)
sparkno = S2010
guard.sparkno = S2060
sparkxy = 0,-38
hitsound = S3, 7
guardsound = S4, 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -4-(Var(25)=1 || Var(25)=2)*1.5
air.hittime = 13
air.cornerpush.veloff = -8
air.velocity = -3.5,-6-(Var(25)=1 || Var(25)=2)*1.5
air.cornerpush.veloff = 0
yaccel = .5

;-------------------------------------------------------------------------------
; 斜めジャンプ強パンチ
[Statedef 615]
type    = A
movetype= A
physics = A
juggle  = 8
poweradd= 0
ctrl = 0

[State 610, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && prevstateno != 10000
value = 615

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0 && prevstateno != 10000
var(32) = 0

[State 200,VarSet(32)]
type = VarSet
trigger1 = MoveContact
var(32) = 1
ignorehitpause = 1

[State 610,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 10
movetype = I

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2,=1
value = 0,8
channel = 0

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5,=1
value = 2,1

[State 610,HitDef]
type = HitDef
trigger1 = var(32) = 0
trigger1 = AnimElem = 6 || AnimElem = 7 || AnimElem = 8 || AnimElem = 9
attr = A, NA
animtype = Hard
damage    = IfElse(Vel X>0,IfElse(Var(16)=1,112,96),IfElse(Var(16)=1,120,96))
getpower = 80,80
guardflag = HA
pausetime = 6,8+IfElse((Var(25)=1 || Var(25)=2),3,0)
sparkno = S2010
guard.sparkno = S2060
sparkxy = 0,-22
hitsound = S3, 7
guardsound = S4, 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -4-(Var(25)=1 || Var(25)=2)*1.5
air.hittime = 13
air.cornerpush.veloff = -8
air.velocity = -3.5,-6-(Var(25)=1 || Var(25)=2)*1.5
air.cornerpush.veloff = 0
yaccel = .5

;-------------------------------------------------------------------------------
; 垂直ジャンプ弱キック
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 8
poweradd= 0
ctrl = 0

[State 630, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && prevstateno != 10000
value = 630

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0 && prevstateno != 10000
var(32) = 0

[State 200,VarSet(32)]
type = VarSet
trigger1 = MoveContact
var(32) = 1
ignorehitpause = 1

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2,=0
value = 2,3
channel = 0

[State 630,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 12
movetype = I

[State 610,HitDef]
type = HitDef
trigger1 = var(32) = 0
trigger1 = AnimElem = 4 || AnimElem = 5 || AnimElem = 6 || AnimElem = 7 || AnimElem = 8 || AnimElem = 9 || AnimElem = 10 || AnimElem = 11
attr = A, NA
animtype = Light
damage    = IfElse(Var(16)=1,64,56)
getpower = 32,32
guardflag = HA
pausetime = 10,12
sparkno = S2010
guard.sparkno = S2060
sparkxy = 0,-34
hitsound = S3, 1
guardsound = S4, 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -4-(Var(25)=1 || Var(25)=2)*1.5
air.hittime = 13
air.cornerpush.veloff = -8
air.velocity = -3.5,-6-(Var(25)=1 || Var(25)=2)*1.5
air.cornerpush.veloff = 0
yaccel = .5

;-------------------------------------------------------------------------------
; 垂直ジャンプ強キック
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 8
poweradd= 0
ctrl = 0

[State 250, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && prevstateno != 10000
value = 640

[State 700,MoveHitReset]
type = MoveHitReset
trigger1 = MoveHit

[State 200,VarSet(32)]
type = VarSet
trigger1 = MoveContact
var(32) = 1
ignorehitpause = 1

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0 && prevstateno != 10000
var(32) = 0
ignorehitpause = 1

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2,=1
value = 0,8
channel = 0

[State 250,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 15
movetype = I

[State 245,HitDef]
type = HitDef
trigger1 = var(32) = 0
trigger1 = AnimElem = 5 || AnimElem = 6
attr = A, NA
animtype = Hard
damage    = Ceil(IfElse(Var(16)=1,160,128) / (2 ** HitCount))
getpower = 80,80
hitflag = MAF
guardflag = HA
pausetime = 10,12+IfElse((Var(25)=1 || Var(25)=2),3,0)
sparkno = S2010
guard.sparkno = S2060
sparkxy = 0,-59
hitsound = S3, 3
guardsound = S4, 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -4-(Var(25)=1 || Var(25)=2)*1.5
air.hittime = 13
air.cornerpush.veloff = -8
air.velocity = -3.5,-6-(Var(25)=1 || Var(25)=2)*1.5
air.cornerpush.veloff = 0
yaccel = .5

;-------------------------------------------------------------------------------
; 斜めジャンプ強キック
[Statedef 645]
type    = A
movetype= A
physics = A
juggle  = 8
poweradd= 0
ctrl = 0

[State 640, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && prevstateno != 10000
value = 645

[State 700,MoveHitReset]
type = MoveHitReset
trigger1 = MoveHit

[State 200,VarSet(32)]
type = VarSet
trigger1 = MoveContact
var(32) = 1
ignorehitpause = 1

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0 && prevstateno != 10000
trigger2 = AnimElem = 7
var(32) = 0
ignorehitpause = 1

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2,=0
value = 2,3

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3,=0
value = 0,8
channel = 0

[State 250,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 9
movetype = I

[State 245,HitDef]
type = HitDef
trigger1 = var(32) = 0
trigger1 = AnimElem = 4
attr = A, NA
animtype  = Hard
damage    = IfElse(Vel X>0,IfElse(Var(16)=1,104,88),IfElse(Var(16)=1,120,96))
getpower = 80,80
guardflag = HA
hitflag = MAF
pausetime = 10,12+IfElse((Var(25)=1 || Var(25)=2),3,0)
sparkno = S2010
guard.sparkno = S2060
sparkxy = 0,-42
hitsound = S3, 3
guardsound = S4, 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -4-(Var(25)=1 || Var(25)=2)*1.5
air.hittime = 13
air.cornerpush.veloff = -8
air.velocity = -3.5,-6-(Var(25)=1 || Var(25)=2)*1.5
air.cornerpush.veloff = 0
yaccel = .5

[State 245,HitDef]
type = HitDef
trigger1 = NumTarget
trigger1 = Target,StateType = A
trigger1 = var(32) = 0 && var(16) = 0
trigger1 = AnimElem = 7 || AnimElem = 8
attr = A, NA
animtype  = Hard
damage    = IfElse(Vel X>0,IfElse(Var(16)=1,104,88),IfElse(Var(16)=1,120,96))
getpower = 80,80
guardflag = HA
hitflag = M
pausetime = 10,12+IfElse((Var(25)=1 || Var(25)=2),3,0)
sparkno = S2010
guard.sparkno = S2060
sparkxy = 0,-42
hitsound = S3, 3
guardsound = S4, 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -4-(Var(25)=1 || Var(25)=2)*1.5
air.hittime = 13
air.cornerpush.veloff = -8
air.velocity = -3.5,-6-(Var(25)=1 || Var(25)=2)*1.5
air.cornerpush.veloff = 0
yaccel = .5

[State 245,HitDef]
type = HitDef
triggerall = var(32) = 0
triggerall = AnimElem = 7 || AnimElem = 8
trigger1 = NumTarget
trigger1 = Target,Statetype != A
trigger2 = var(16) = 1
attr = A, NA
animtype  = Hard
damage    = IfElse(Vel X>0,IfElse(Var(16)=1,104,88),IfElse(Var(16)=1,120,96))
getpower = 80,80
guardflag = HA
hitflag = MAF
pausetime = 10,12+IfElse((Var(25)=1 || Var(25)=2),3,0)
sparkno = S2010
guard.sparkno = S2060
sparkxy = 0,-42
hitsound = S3, 3
guardsound = S4, 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -4-(Var(25)=1 || Var(25)=2)*1.5
air.hittime = 13
air.cornerpush.veloff = -8
air.velocity = -3.5,-6-(Var(25)=1 || Var(25)=2)*1.5
air.cornerpush.veloff = 0
yaccel = .5

;-------------------------------------------------------------------------------
; 地上ふっとばし攻撃
[Statedef 500]
type = S
movetype = A
physics = S
juggle = 8
poweradd= 0
ctrl = 0
velset = 0,0

[State 500, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && prevstateno != 10000
value = 500

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0 && prevstateno != 10000
var(32) = 0

[State 200,VarSet(32)]
type = VarSet
trigger1 = MoveContact
var(32) = 1
ignorehitpause = 1

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2,=0
value = 0,7
channel = 0

[State 240,PlaySnd]
type = PlaySnd
trigger1 = Time =1
value = 2,3

[State 500,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 8
movetype = I

[State 440, HitDef]
type = HitDef
trigger1 = var(32) = 0
trigger1 = AnimElem = 7
attr = S, NA
damage    = IfElse(Var(16)=1,152,136)
getpower = 128,128
animtype = Hard
hitflag = MAF
guardflag = M
pausetime = 12,12
sparkno = S2010
guard.sparkno = S2060
sparkxy = 5,-45
hitsound = S3, 8
guardsound = S4, 1
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -4.5,-6-(Var(25)=1 || Var(25)=2)*1.5
air.hittime = 13
air.velocity = -4.5,-6-(Var(25)=1 || Var(25)=2)*1.5
guard.velocity = -10
down.velocity = -3.5,-2-(Var(25)=1 || Var(25)=2)*1.5
fall = 1
fall.recover = 0
air.cornerpush.veloff = 0
yaccel = .5

[State 510,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; 空中ふっとばし攻撃
[Statedef 510]
type    = A
movetype= A
physics = A
juggle  = 10
poweradd = 0
ctrl = 0

[State 510, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && prevstateno != 10000
value = 510

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0 && prevstateno != 10000
var(32) = 0

[State 200,VarSet(32)]
type = VarSet
trigger1 = MoveContact
var(32) = 1
ignorehitpause = 1

[State 240,PlaySnd]
type = PlaySnd
trigger1 = Time =1
value = 2,3

[State 510,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 9
movetype = I

[State 440, HitDef]
type = HitDef
trigger1 = var(32) = 0
trigger1 = AnimElem = 6 || AnimElem = 7 || AnimElem = 8
attr = A, NA
damage    = IfElse(Var(29)=1,IfElse(Var(16)=1,120,96),112)
getpower = 128,128
animtype = Back
hitflag = MAF
guardflag = HA
pausetime = 10,12
sparkno = S2410
guard.sparkno = S2060
sparkxy = 0,-67
hitsound = S3, 6
guardsound = S4, 1
ground.type = Low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -4.5,-6-(Var(25)=1 || Var(25)=2)*1.5
air.hittime = 13
air.velocity = -4.5,-6-(Var(25)=1 || Var(25)=2)*1.5
guard.velocity = -10-(Var(25)=1 || Var(25)=2)*1.5
down.velocity = -3.5,-2
fall = 1
fall.recover = 0
air.cornerpush.veloff = 0
yaccel = .5

;===============================================================================
; Definition of the (Dir + Button) attack
;===============================================================================

;-------------------------------------------------------------------------------
; ウィップショット（→＋X）
;------------------------ 其の一
[Statedef 700]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
poweradd = 0
juggle = 5

[State 200,VarSet(32)]
type = Varset
trigger1 = Time = 0 && prevstateno != 10000
var(11) = 1
ignorehitpause = 1

[State 700, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && prevstateno != 10000
value = 700

[State 700,MoveHitReset]
type = MoveHitReset
trigger1 = MoveHit

[State 200,VarSet(32)]
type = VarSet
trigger1 = MoveContact
var(32) = 1
ignorehitpause = 1

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0 && prevstateno != 10000
var(32) = 0
ignorehitpause = 1

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6,=1
value = 2,1

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,=1
value = 0,10
channel = 0

[State 700,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 10
movetype = I

[State 700,HitDef]
type = HitDef
trigger1 = var(32) = 0
trigger1 = AnimElem = 7
attr = S, NA
animtype = Hard
damage    = IfElse(Var(16)=1,88,72)
getpower = 64,64
guardflag = M
hitflag = MAF
pausetime = 5,14
sparkno = S2010
guard.sparkno = S2060
sparkxy = 0,-89
hitsound =  S3, 8
guardsound = S4, 0
ground.type = High
ground.slidetime = 15
ground.hittime  = 18
ground.velocity = -9
air.hittime  = 13
air.velocity = -6,-10-(Var(25)=1 || Var(25)=2)*1.5
air.fall = 1
fall.recover = 1
fall.recovertime = 39
air.cornerpush.veloff = 0
yaccel = .5

[State 700,HitDef]
type = HitDef
trigger1 = var(32) = 0
trigger1 = AnimElem = 9
attr = S, NA
animtype = Hard
damage    = IfElse(Var(16)=1,88,72)
getpower = 64,64
guardflag = M
hitflag = MAF
pausetime = 5,14
sparkno = S2010
guard.sparkno = S2060
sparkxy = 0,-89
hitsound =  S3, 8
guardsound = S4, 0
ground.type = High
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = 0
air.hittime  = 13
air.velocity = -6,-10-(Var(25)=1 || Var(25)=2)*1.5
fall.recover = 1
fall.recovertime = 39
air.cornerpush.veloff = 0
yaccel = .5

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0
trigger2 = AnimElem = 15,>0
var(10) = 0

[State 200,VarSet(32)]
type = VarSet
trigger1 = command = "hold_x" && AnimElem = 9,>0 && AnimElem = 15,<0
var(10) = 1
ignorehitpause = 1

[State 700,End]
type = ChangeState
trigger1 = AnimElem = 15,=0 && Var(10) = 1
value = 701
ctrl = 0

[State 210,posadd]
type = posadd
trigger1 = AnimElem = 15,=0 
x = 16

[State 210,posadd]
type = posadd
trigger1 = AnimElem = 16,=0 || AnimElem = 17,=0 || AnimElem = 18,=0
x = 8

[State 210,posadd]
type = posadd
trigger1 = AnimElem = 2,=0 || AnimElem = 3,=0 || AnimElem = 4,=0
x = -8

[State 700,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------ 其の二
[Statedef 701]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
poweradd = 0
juggle = 5

[State 700, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && prevstateno != 10000
value = 701

[State 200,VarSet(32)]
type = Varadd
trigger1 = MoveContact
var(11) = 1

[State 700,MoveHitReset]
type = MoveHitReset
trigger1 = MoveHit

[State 200,VarSet(32)]
type = VarSet
trigger1 = MoveContact
var(32) = 1
ignorehitpause = 1

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0 && prevstateno != 10000
var(32) = 0
ignorehitpause = 1

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4,=0
value = 2,1

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2,=0
value = 0,11
channel = 0

[State 700,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 8
movetype = I

[State 700,HitDef]
type = HitDef
trigger1 = var(32) = 0
trigger1 = AnimElem = 6 || AnimElem = 7
attr = S, NA
animtype = Hard
damage    = Ceil(IfElse(Var(16)=1,88,72) / (2 ** Var(11)))
getpower = 64,64
guardflag = M
hitflag = MAF
pausetime = 5,14
sparkno = S2010
guard.sparkno = S2060
sparkxy = 0,-45
hitsound =  S3, 8
guardsound = S4, 0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 18
ground.velocity = 0
air.hittime  = 13
air.velocity = -6,-10-(Var(25)=1 || Var(25)=2)*1.5
fall.recover = 1
fall.recovertime = 39
air.cornerpush.veloff = 0
yaccel = .5

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0
trigger2 = AnimElem = 15,>0
var(10) = 0

[State 200,VarSet(32)]
type = VarSet
trigger1 = command = "hold_x" && AnimElem = 8,>0 && AnimElem = 11,<0
var(10) = 1
ignorehitpause = 1

[State 700,End]
type = ChangeState
trigger1 = AnimElem = 11,=0 && Var(10) = 1
value = 702
ctrl = 0

[State 210,posadd]
type = posadd
trigger1 = AnimElem = 11,=0 || AnimElem = 12,=0 
x = 16

[State 700,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------ 其の三
[Statedef 702]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
poweradd = 0
juggle = 5

[State 700, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && prevstateno != 10000
value = 702

[State 200,VarSet(32)]
type = Varadd
trigger1 = MoveContact
var(11) = 1

[State 700,MoveHitReset]
type = MoveHitReset
trigger1 = MoveHit

[State 200,VarSet(32)]
type = VarSet
trigger1 = MoveContact
var(32) = 1
ignorehitpause = 1

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0 && prevstateno != 10000
var(32) = 0
ignorehitpause = 1

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3,=0
value = 2,1

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2,=0
value = 0,12
channel = 0

[State 700,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 700,HitDef]
type = HitDef
trigger1 = var(32) = 0
trigger1 = AnimElem = 4 || AnimElem = 6
attr = S, NA
animtype = Hard
damage    = Ceil(IfElse(Var(16)=1,88,72) / (2 ** Var(11)))
getpower = 64,64
guardflag = M
hitflag = MAF
pausetime = 5,14
sparkno = S2010
guard.sparkno = S2060
sparkxy = 0,-89
hitsound =  S3, 8
guardsound = S4, 0
ground.type = High
ground.slidetime = 15
ground.hittime  = 18
ground.velocity = 0
air.hittime  = 13
air.velocity = -6,-10-(Var(25)=1 || Var(25)=2)*1.5
fall.recover = 1
fall.recovertime = 39
air.cornerpush.veloff = 0
yaccel = .5

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0
trigger2 = AnimElem = 15,>0
var(10) = 0

[State 200,VarSet(32)]
type = VarSet
trigger1 = command = "hold_x" && AnimElem = 7,>0 && AnimElem = 11,<0
var(10) = 1
ignorehitpause = 1

[State 700,End]
type = ChangeState
trigger1 = AnimElem = 11,=0 && Var(10) = 1
value = 703
ctrl = 0

[State 210,posadd]
type = posadd
trigger1 = AnimElem = 12,=0 || AnimElem = 13,=0 
x = 16

[State 700,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------ 其の四
[Statedef 703]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
poweradd = 0
juggle = 5

[State 700, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && prevstateno != 10000
value = 703

[State 200,VarSet(32)]
type = Varadd
trigger1 = MoveContact
var(11) = 1

[State 700,MoveHitReset]
type = MoveHitReset
trigger1 = MoveHit

[State 200,VarSet(32)]
type = VarSet
trigger1 = MoveContact
var(32) = 1
ignorehitpause = 1

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0 && prevstateno != 10000
var(32) = 0
ignorehitpause = 1

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4,=0
value = 2,1

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2,=0
value = 0,13
channel = 0

[State 700,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 700,HitDef]
type = HitDef
trigger1 = var(32) = 0
trigger1 = AnimElem = 6 || AnimElem = 7
attr = S, NA
animtype = Hard
damage    = Ceil(IfElse(Var(16)=1,88,72) / (2 ** Var(11)))
getpower = 64,64
guardflag = M
hitflag = MAF
pausetime = 5,14
sparkno = S2010
guard.sparkno = S2060
sparkxy = 0,-45
hitsound =  S3, 8
guardsound = S4, 0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 18
ground.velocity = 0
air.hittime  = 13
air.velocity = -6,-10-(Var(25)=1 || Var(25)=2)*1.5
fall.recover = 1
fall.recovertime = 39
air.cornerpush.veloff = 0
yaccel = .5

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0
trigger2 = AnimElem = 15,>0
var(10) = 0

[State 200,VarSet(32)]
type = VarSet
trigger1 = command = "hold_x" && AnimElem = 8,>0 && AnimElem = 11,<0
var(10) = 1
ignorehitpause = 1

[State 700,End]
type = ChangeState
trigger1 = AnimElem = 11,=0 && Var(10) = 1
value = 704
ctrl = 0

[State 210,posadd]
type = posadd
trigger1 = AnimElem = 11,=0 || AnimElem = 12,=0 
x = 16

[State 700,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------ 其の五
[Statedef 704]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
poweradd = 0
juggle = 5

[State 700, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && prevstateno != 10000
value = 704

[State 200,VarSet(32)]
type = VarSet
trigger1 = MoveContact
var(32) = 1
ignorehitpause = 1

[State 200,VarSet(32)]
type = VarSet
trigger1 = Time = 0 && prevstateno != 10000
var(32) = 0
ignorehitpause = 1

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3,=0
value = 2,1

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2,=0
value = 0,14
channel = 0

[State 700,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 700,HitDef]
type = HitDef
trigger1 = var(32) = 0
trigger1 = AnimElem = 4 || AnimElem = 6
attr = S, NA
animtype = Hard
damage    = Ceil(IfElse(Var(16)=1,88,72) / (2 ** Var(11)))
getpower = 64,64
guardflag = M
hitflag = MAF
pausetime = 5,14
sparkno = S2010
guard.sparkno = S2060
sparkxy = 0,-89
hitsound =  S3, 8
guardsound = S4, 0
ground.type = Trip
ground.slidetime = 15
ground.hittime  = 18
guard.velocity = -10
ground.velocity = -1.8,-10-(Var(25)=1 || Var(25)=2)*1.5
air.hittime  = 35
air.velocity = -1.8,-10-(Var(25)=1 || Var(25)=2)*1.5
fall.recover = 1
fall.recovertime = 39
air.cornerpush.veloff = 0
yaccel = .5

[State 210,posadd]
type = posadd
trigger1 = AnimElem = 12,=0 || AnimElem = 13,=0 
x = 16

[State 700,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;===============================================================================
; Definition of the Basic Throws
;===============================================================================

;-------------------------------------------------------------------------------
; ツェット（Ｐ通常投げ）
[Statedef 800]
type = S
movetype = A
physics = S
ctrl = 0
anim = 800
velset = 0, 0
juggle  = 10

[State 800,HitDef]
type = Hitdef
trigger1 = Time = 0
trigger1 = P2MoveType != H
trigger1 = P2StateNo != [150,155]
attr = S, NT
priority = 3,Miss
getpower = 0
hitflag = M-
numhits = 0
sparkno = -1
p1facing = 1
p2facing = 1
p1stateno = 810
p2stateno = 820
p2getp1state = 1
hitsound = -1
fall = 1
fall.recover = 0

[State 800,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 215

;-------------------------------------------------------------------------------
; ツェット（成功）
[Statedef 810]
type = S
movetype = A
physics = N
anim = 810
velset = 0, 0
poweradd = 0
sprpriority = 3

[State 10000, 1]
type = VarSet
trigger1 = Time = 0
var(14) = 0

[State 10000, 1]
type = VarSet
trigger1 = Time < 0 && !var(14)
trigger1 = (Target,Command = "holdfwd" || Target,Command = "holdback" && Target,Command = "holdup" && Target,Command = "holddown") && Target,Command = "y"
var(14) = 1

[State 810,TargetBind]
type = TargetBind
trigger1 = Time < 16 && Time > 8 && var(14)
pos = 50, 0

[State 810,TargetBind]
type = ChangeState
trigger1 = Time < 16 && Time > 8 && var(14)
value = 950

[State 4150,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 810,Width]
type = Width
trigger1 = AnimElem = 1 && FrontEdgeDist < 50
edge = 50,0

[State 810,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 810,Explod]
type = Explod
trigger1 = Time = 2
anim = 2100
pos = 56,-78
postype = P1
sprpriority = 1
bindtime = 1
ownpal = 1

[State 240,PlaySnd]
type = PlaySnd
trigger1 = Time = 3
value = 5,0

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4,=1
value = 1,5

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4,=3
value = 0,15

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 15,=2
value = 3,4

[State 40,VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = 1.6
y = -11

[State 40,VelAdd]
type = VelAdd
trigger1 = AnimElem = 4,> 0 && AnimElem = 11,< 0 
y = .58

[State 40,VelSet]
type = VelSet
trigger1 = AnimElem = 11,>= 0 
x = 0
y = 0

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElem = 1
pos = 53,0

[State 810,TargetBind]
type = BindToTarget
trigger1 = AnimElem = 11
pos = 30,-(Target,const(Size.height))+50

[State 810,TargetBind]
type = BindToTarget
trigger1 = AnimElem = 12,=1
pos = 15,-(Target,const(Size.height))+45

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
trigger2 = AnimElem = 13,=0
y = 0

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElem = 13,=0
pos = -4,0

[State 810,TargetBind]
type = TargetState
trigger1 = AnimElem = 13
value = 821

[State 810,TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 13
value = -144

[State 810,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; ツェット（投げられ側）
;------------------------ 1
[Statedef 820]
type = A
movetype = H
physics = N
ctrl = 0

[State 820,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 820, screenbound]
type = screenbound
Trigger1 = AnimElem = 3,>=0
value = 1
movecamera = 0,0

[State 820,ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 820

;------------------------ 2
[Statedef 821]
type = L
movetype = H
physics = N
ctrl = 0

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 4150,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 4150,2]
type = PlayerPush
trigger1 = Time <= 10
value = 0

[State 3057, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = 5100

[State 3057, ChangeAnim]
type = ChangeAnim
trigger1 = Time > 0
value = 5110

[State 5101, 6]
trigger1 = Time > 70
type = SelfState
value = 5120

;-------------------------------------------------------------------------------
; ツェット（K通常投げ）
[Statedef 850]
type = S
movetype = A
physics = S
ctrl = 0
anim = 850
velset = 0, 0
juggle  = 10

[State 800,HitDef]
type = Hitdef
trigger1 = Time = 0
trigger1 = P2MoveType != H
trigger1 = P2StateNo != [150,155]
attr = S, NT
priority = 3,Miss
getpower = 0
hitflag = M-
numhits = 0
sparkno = -1
p1facing = 1
p2facing = 1
p1stateno = 860
p2stateno = 870
p2getp1state = 1
hitsound = -1
fall = 1
fall.recover = 0

[State 800,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 245

;-------------------------------------------------------------------------------
; ツェット（成功）
[Statedef 860]
type = S
movetype = A
physics = S
anim = 860
velset = 0, 0
poweradd = 0
sprpriority = 3

[State 10000, 1]
type = VarSet
trigger1 = Time = 0
var(14) = 0

[State 10000, 1]
type = VarSet
trigger1 = Time < 16 && !var(14)
trigger1 = (Target,Command = "holdfwd" || Target,Command = "holdback" && Target,Command = "holdup" && Target,Command = "holddown") && Target,Command = "y"
var(14) = 1

[State 810,TargetBind]
type = TargetBind
trigger1 = Time < 16 && Time >8 && var(14)
pos = 50, 0

[State 810,TargetBind]
type = ChangeState
trigger1 = Time < 16 && Time > 8 && var(14)
value = 950

[State 810,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 810,Width]
type = Width
trigger1 = AnimElem = 7 && BackEdgeDist < 90
edge = 0,90

[State 810,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2,=1
value = 5,0

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5,=1
value = 0,7

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 9,=1
value = 5,1

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimTime = 0
value = 5,2

[State 810,Explod]
type = Explod
trigger1 = AnimElem = 2,=0
anim = 2100
pos = 56,-78
postype = P1
sprpriority = 1
bindtime = 1
ownpal = 1

[State 810,Explod]
type = Explod
trigger1 = AnimElem = 9
anim = 2700
pos = -38,0
postype = P1
sprpriority = -1
bindtime = 1
ownpal = 1

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElem = 1
pos = 35,0

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElem = 2
pos = 30,-90

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElem = 3
pos = 25,-95

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElem = 4
pos = 10,-90

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElem = 5
pos = -30,-75

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElem = 6
pos = -50,-70

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElem = 7
pos = -50,-45

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElem = 8
pos = -50,-30

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElem = 9
pos = -33,0

[State 810,TargetBind]
type = TargetState
trigger1 = AnimElem = 9
value = 871

[State 810,TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 9
value = -72

[State 1020,EnvShake]
type = EnvShake
trigger1 = AnimElem = 9
time = 10

[State 210,posadd]
type = posadd
trigger1 = AnimElem = 2
x = -8

[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 4
value = -2

[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 210,posadd]
type = posadd
trigger1 = AnimElem = 3 || AnimElem = 4 || AnimElem = 5
x = 8

[State 820,Turn]
type = Turn
trigger1 = AnimElem = 11

[State 810,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; ツェット（投げられ側）
;------------------------ 1
[Statedef 870]
type = A
movetype = H
physics = N
ctrl = 0

[State 820,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 810,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 820, screenbound]
type = screenbound
Trigger1 = 1
value = 1
movecamera = 0,0

[State 820,ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 870

;------------------------ 2
[Statedef 871]
type    = A
movetype= H
physics = N
velset = 0, 0

[State 5101, 1]
type = ChangeAnim
trigger1 = 1
value = 5100
persistent = 0

[State 810,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5100, 4]
type = PosSet
trigger1 = time = 0
y = 0

[State 5101, 6]
type = ChangeState
trigger1 = Time >= 18
value = 872

;------------------------ 3
[Statedef 872]
type    = L
movetype= H
physics = N

[State 5101, 1]
type = ChangeAnim
trigger1 = time = 0
value = 5160

[State 5101, 3]
type = VelSet
trigger1 = Time = 0
y = -3.5

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = 20

[State 5101, 5]
type = VelAdd
trigger1 = 1
y = .4

[State 5101, 6]
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 12
type = SelfState
value = 5110

;-------------------------------------------------------------------------------
; ツェット（K通常投げ）
[Statedef 900]
type = S
movetype = A
physics = S
ctrl = 0
anim = 800
velset = 0, 0
juggle  = 10

[State 800,HitDef]
type = Hitdef
trigger1 = Time = 0
trigger1 = P2MoveType != H
trigger1 = P2StateNo != [150,155]
attr = S, NT
priority = 3,Miss
getpower = 0
hitflag = M-
numhits = 0
sparkno = -1
p1facing = 1
p2facing = 1
p1stateno = 910
p2stateno = 920
p2getp1state = 1
hitsound = -1
fall = 1
fall.recover = 0

[State 800,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 215

;-------------------------------------------------------------------------------
; ツェット（成功）
[Statedef 910]
type = S
movetype = A
physics = S
anim = 910
velset = 0, 0
poweradd = 0
sprpriority = 3

[State 10000, 1]
type = VarSet
trigger1 = Time = 0
var(14) = 0

[State 10000, 1]
type = VarSet
trigger1 = Time < 16 && !var(14)
trigger1 = (Target,Command = "holdfwd" || Target,Command = "holdback" && Target,Command = "holdup" && Target,Command = "holddown") && Target,Command = "y"
var(14) = 1

[State 810,TargetBind]
type = TargetBind
trigger1 = Time < 16 && Time > 8 && var(14)
pos = 50, 0

[State 810,TargetBind]
type = ChangeState
trigger1 = Time < 16 && Time > 8 && var(14)
value = 950

[State 810,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 810,Width]
type = Width
trigger1 = AnimElem = 3 && FrontEdgeDist < 20
edge = 20,0

[State 810,Width]
type = Width
trigger1 = AnimElem = 5 && FrontEdgeDist < 45
edge = 45,0

[State 810,Width]
type = Width
trigger1 = AnimElem = 10 && FrontEdgeDist < 65
edge = 65,0

[State 810,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1,=4
value = 5,0

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6,=1
value = 0,7

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6,=4
value = 5,4

[State 240,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 11,=1
value = 5,1

[State 810,Explod]
type = Explod
trigger1 = AnimElem = 1,=3
anim = 2100
pos = 26,-82
postype = P1
sprpriority = 1
bindtime = 1
ownpal = 1

[State 810,Explod]
type = Explod
trigger1 = AnimElem = 11
anim = 2700
pos = 38,0
postype = P1
sprpriority = -1
bindtime = 1
ownpal = 1

[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 2
value = -2

[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 4
value = 2

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElem = 1
pos = 28,0

[State 810,TargetBind]
type = BindtoTarget
trigger1 = AnimElem = 2
pos = 20,0

[State 810,TargetBind]
type = BindtoTarget
trigger1 = AnimElem = 3
pos = -28,0

[State 1120, PosSet]
type = PosAdd
trigger1 = AnimElem = 3
x = 19

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElem = 4
pos = -10,-90

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElem = 5
pos = 0,-90

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElem = 7
pos = 35,-75

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElem = 8
pos = 40,-65

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElem = 9
pos = 45,-55

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElem = 10
pos = 40,-25

[State 810,TargetBind]
type = TargetBind
trigger1 = AnimElem = 11
pos = 35,0

[State 810,TargetBind]
type = TargetState
trigger1 = AnimElem = 11
value = 921

[State 810,TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 11
value = -72

[State 1020,EnvShake]
type = EnvShake
trigger1 = AnimElem = 11
time = 10

[State 810,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; ツェット（投げられ側）
;------------------------ 1
[Statedef 920]
type = A
movetype = H
physics = N
ctrl = 0

[State 820,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 810,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 820, screenbound]
type = screenbound
Trigger1 = 1
value = 1
movecamera = 0,0

[State 820,ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 920

;------------------------ 2
[Statedef 921]
type    = L
movetype= H
physics = N

[State 810,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = vel x > 1
x = 1

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = !SelfAnimExist(5101)
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = SelfAnimExist(5101)
value = 5101

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6]
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = Time = 4
value = 922

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;------------------------ 3
[Statedef 922]
type    = L
movetype= H
physics = N

[State 810,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 3]
type =VelSet
trigger1 = Time = 0
x = -4
y = -6.5

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = 20

[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .45

[State 5101, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 12
type = SelfState
value = 5110

;=====================================================================
; 特殊動作
;=====================================================================
;
;---------------------------------------------------------------------
; ガードキャンセル吹っ飛ばし攻撃
[Statedef 4500]
type = S
movetype = A
physics = S
ctrl = 0
anim = 4500
velset = 0, 0
poweradd = -1000

[State 4500,1]
type = SuperPause
trigger1 = Time = 0
time = 10
movetime = 2
anim = S2300
pos = 0,-65

[State 4500,3]
type = AfterImage
trigger1 = Time = 0
time = 29
length = 20
timegap = 2
framegap = 4
palbright = 80,80,80
palcontrast = 150,100,150
paladd = 20,20,20
palmul = .25,.25,.25
trans = add

[State 4500,0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 9

[State 4500,4]
type = VarSet
trigger1 = Time = 0
v = 4
value = 0

[State 1010,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 8
movetype = I

[State 440, HitDef]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
damage    = 40
getpower = 0
animtype = Hard
hitflag = MAF
guardflag = M
pausetime = 12,12
sparkno = S2010
guard.sparkno = S2060
sparkxy = 5,-45
hitsound = S3, 5
guardsound = S4, 1
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -4.5,-6-(Var(25)=1 || Var(25)=2)*1.5
air.hittime = 13
air.velocity = -4.5,-6-(Var(25)=1 || Var(25)=2)*1.5
guard.velocity = -10
down.velocity = -3.5,-2-(Var(25)=1 || Var(25)=2)*1.5
fall = 1
fall.recover = 0
yaccel = .5

[State 4500,6]
type = PosAdd
trigger1 = AnimElem = 5 || AnimElem = 6
x = 12

[State 4500,7]
type = PosAdd
trigger1 = AnimElem = 9 || AnimElem = 10
x = -12

[State 4500,8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; 緊急回避動作（前）
[Statedef 4000]
type = S
movetype = I
physics = N
ctrl = 0
anim = 4000
velset = 0, 0

[State 4050,0]
type = NotHitBy
trigger1 = AnimElem = 8, < 0
value = SCA

[State 4050,1]
type = HitBy
trigger1 = 1
value = SC, NT, ST, HT

[State 4050,2]
type = PlayerPush
trigger1 = AnimElem = 8, < 0
value = 0

[State 4050,3]
type = VelSet
trigger1 = AnimElem = 3
x = 5

[State 4050,4]
type = VelSet
trigger1 = AnimElem = 8
x = 0

[State -2,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2,=1
value = 0, 5
channel = 0

[State 4050, 6]
type = AfterImage
trigger1 = Time = 0
time = 15
length = 10
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 4050,7]
type = Turn
trigger1 = AnimTime = 0 && P2BodyDist X < -5

[State 4050,8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; 緊急回避動作（後）
[Statedef 4010]
type = S
movetype = I
physics = N
ctrl = 0
anim = 4010
velset = 0, 0

[State 4150,0]
type = NotHitBy
trigger1 = AnimElem = 8, < 0
value = SCA

[State 4150,1]
type = HitBy
trigger1 = 1
value = SC, NT, ST, HT

[State 4150,2]
type = PlayerPush
trigger1 = AnimElem = 8, < 0
value = 0

[State 4100,5]
type = VelSet
trigger1 = AnimElem = 3
x = -5

[State -2,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2,=1
value = 0, 5
channel = 0

[State 4150,4]
type = VelSet
trigger1 = AnimElem = 8
x = 0

[State 4150, 6]
type = AfterImage
trigger1 = Time = 0
time = 15
length = 10
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 4150,7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; ガードキャンセル緊急回避動作（前）
[Statedef 4050]
type = S
movetype = I
physics = N
ctrl = 0
anim = 4000
velset = 0, 0
poweradd = -1000

[State 4000,ChangeState]
type = ChangeState
trigger1 = Time = 0
trigger1 = Command = "holdback"
value = 4060

[State 4000,SuperPause]
type = SuperPause
trigger1 = Time = 0
time = 10
movetime = 2
anim = S2300
pos = 0,-50

[State 4000,EnvColor]
type = EnvColor
trigger1 = Time = 0
value = 248,248,248
time = 2
under = 1

[State -2,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2,=1
value = 0, 5
channel = 0

[State 4000,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 4000,PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 4000,VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = 5.25

[State 4000,VelSet]
type = VelSet
trigger1 = AnimElem = 8
x = 0

[State 830, 1]
type = AfterImage
trigger1 = Time = 0
time = 30
length = 12
framegap = 3
palcolor = 0
trans = add1
palbright = 96,96,128
palcontrast = 96,64,160
paladd = 0,0,0
palmul = 1,1,1

[State 4000,VarSet]
type = VarSet
trigger1 = Time = 0
v = 4
value = 0

[State 4000,Turn]
type = Turn
trigger1 = AnimTime = 0 && P2BodyDist X < -5

[State 4000,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; ガードキャンセル緊急回避動作（後）
[Statedef 4060]
type = S
movetype = I
physics = N
ctrl = 0
anim = 4010
velset = 0, 0

[State 4000,SuperPause]
type = SuperPause
trigger1 = Time = 0
time = 10
movetime = 2
anim = S2300
pos = 0,-50

[State 4000,EnvColor]
type = EnvColor
trigger1 = Time = 0
value = 248,248,248
time = 2
under = 1

[State 4100,2]
type = PlaySnd
trigger1 = AnimElem = 2,=1
value = 0, 5
channel = 0

[State 4100,3]
type = NotHitBy
trigger1 = 1
value = SCA

[State 4100,4]
type = PlayerPush
trigger1 = 1
value = 0

[State 4100,5]
type = VelSet
trigger1 = AnimElem = 3
x = -5.25

[State 4100,6]
type = VelSet
trigger1 = AnimElem = 8
x = 0

[State 830, 1]
type = AfterImage
trigger1 = Time = 0
time = 30
length = 12
framegap = 3
palcolor = 0
trans = add1
palbright = 96,96,128
palcontrast = 96,64,160
paladd = 0,0,0
palmul = 1,1,1

[State 4100,8]
type = VarSet
trigger1 = Time = 0
v = 4
value = 0

[State -2,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 0, 8
channel = 0

[State 4100,9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ガードクラッシュ
;------------------- 
[Statedef 5910]
type    = S
movetype= H
physics = N
velset = 0,0

[State 5000, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 5910

[State -2, 1]
type = VarSet
trigger1 = Time = 0
var(17) = 0

[State -2,Envcolor]
type = Envcolor
trigger1 = Time = 1
value = 255, 255, 255
persistent = 0
ignorehitpause = 1
time = 1
under = 1

[State 5910,Explod]
type = Explod
trigger1 = Time = 0 && teamside = 2
anim = 7020+(var(38)*10)
id = 7010
postype = Left
pos = 8+(var(38)*2), 192-(var(38)*94)
persistent = 0
facing = 1
bindtime = -1
ontop = 1
removetime = -2
sprpriority = 5
ownpal = 1
ignorehitpause = 1

[State 5910,Explod]
type = Explod
trigger1 = Time = 0 && teamside = 1
anim = 7020+(var(38)*11)
id = 7010
postype = Right
pos = -108, 192-(var(38)*94)
persistent = 0
facing = 1
bindtime = -1
ontop = 1
removetime = -2
sprpriority = 5
ownpal = 1
ignorehitpause = 1

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = Pos Y != 0
value = 5930

[State 5000, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 5911

;------------------- 地上
[Statedef 5911]
type    = S
movetype= H
physics = S
anim = 5911

[State 5001, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5001, 3]
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5001, 4]
type = VelSet
trigger1 = AnimTime = 0
x = 0

[State 5001, 5]
type = DefenceMulSet
trigger1 = AnimTime = 0
value = 1

[State 5001, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;=====================================================================
; 特殊モード関連
;=====================================================================

;---------------------------------------------------------------------
; アーマーモード
;------------------------ 発動
[Statedef 3700]
type = S
movetype = A
physics = S
anim = 4250
velset = 0, 0
ctrl = 0
poweradd = -3000

[State 3000, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 10000, 1]
type = VarSet
trigger1 = 1
var(25) = 1
ignorehitpause = 1

[State 10000, VarSet(23)]
type = VarSet
trigger1 = Time = 0
var(24) = 121
ignorehitpause = 1

[State 10000, 1]
type = VarSet
trigger1 = Time = 7
Fv = 3
value = 57
ignorehitpause = 1

[State 3000,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 4000, 1]
type = Explod
trigger1 = Time = 7
anim = 2800
sprpriority = -1
pos = 0,-80
supermove = 1
ownpal = 1
ignorehitpause = 1

[State 4010, 1]
type = SuperPause
trigger1 = Time = 7
time = 19
darken = 0
movetime = 19
sound = S1, 7
anim = -1
ignorehitpause = 1

[State 4010, 1]
type = BGPalFX
trigger1 = Time = 7
time = 19
mul = 0,0,0
ignorehitpause = 1

[State -3,Super]
type = Helper
trigger1 = Time = 8
persistent = 0
id = 7100
name = "POWMAX"
pos = 0,0
postype = P1
stateno = 7100
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 3202,HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, HA
animtype = UP
damage    = 0
getpower = 0
guardflag = 
hitflag = MAF
pausetime = 12,14
hitsound = S3,5
guardsound = S4,1
sparkno = S2020
guard.sparkno = S2070
sparkxy = 5,-90
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -7.3,-4
air.velocity = -7.3,-4
yaccel = .5
fall = 1
fall.recover = 0

[State 3000,AssertSpecial]
type = AssertSpecial
trigger1 = Time = [7,19]
flag = nobardisplay
flag2= noBG
flag3= noFG
ignorehitpause = 1

[State 3000,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------ 内部処理
[Statedef 10000]
type = U
movetype = H
physics = N
ctrl = 0

[State 10000, ChangeState]
type = ChangeState
trigger1 = Time >= 0 && Life <= 0
value = 5000
ctrl = 0

[State 10000, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = anim
elem = AnimElemNo(0)

[State 10000, PalFX]
type = PalFX
trigger1 = 1
time = 1
add = 255,255,255

[State 3520, posadd]
type = posadd
trigger1 = 1
x = IfElse(Time % 2 = 0,1,-1)

[State 10000, VarSet(20)]
type = VarSet
trigger1 = Time = 0
var(20) = IfElse(((AnimElemTime(AnimElemNo(0)+1))<0),1,(AnimElemTime(AnimElemNo(0)+1)))

[State 10000, VarSet(21)]
type = VarSet
trigger1 = Time = 0
var(21) = GetHitVar(hitshaketime)

[State 10000, VarAdd(21)]
type = VarAdd
trigger1 = Var(21) > 0
var(21) = -1
ignorehitpause = 1

[State 10000, 1]
type = VarSet
trigger1 = Time = 0 && fvar(1) = 0
fvar(1) = vel x

[State 10000, 1]
type = VarSet
trigger1 = Time = 0 && fvar(2) = 0
fvar(2) = vel y

[State 10000, 1]
type = velset
trigger1 = Time = 0
x = 0
y = 0

[State 10000, 1]
type = velset
trigger1 = Time > 0 && Var(21) <= 0
x = fvar(1)
y = fvar(2)
ignorehitpause = 1

[State 10000, 2]
type = ChangeState
trigger1 = Time > 0 && Var(21) <= 0
value = Var(22)

;---------------------------------------------------------------------
; カウンターモード
;------------------------ 発動
[Statedef 3750]
type = S
movetype = A
physics = S
anim = 4200
velset = 0, 0
ctrl = 0
poweradd = -3000

[State 3000, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 10000, 1]
type = VarSet
trigger1 = Time = 7
Fv = 3
value = 57

[State 10000, 1]
type = VarSet
trigger1 = 1
var(25) = 2

[State 10000, VarSet(23)]
type = VarSet
trigger1 = Time = 0
var(24) = 121

[State 3000,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 4000, 1]
type = Explod
trigger1 = Time = 7
anim = 2900
sprpriority = -1
pos = 0,0
supermove = 1
ownpal = 1

[State 4010, 1]
type = SuperPause
trigger1 = Time = 7
time = 19
darken = 0
movetime = 19
sound = S1, 7
anim = -1

[State 4010, 1]
type = BGPalFX
trigger1 = Time = 7
time = 19
mul = 0,0,0

[State -3,Super]
type = Helper
trigger1 = Time = 8
persistent = 0
id = 7100
name = "POWMAX"
pos = 0,0
postype = P1
stateno = 7100
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 3202,HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, HA
animtype = UP
damage    = 0
getpower = 0
guardflag = 
hitflag = MAF
pausetime = 12,14
hitsound = S3,5
guardsound = S4,1
sparkno = S2020
guard.sparkno = S2070
sparkxy = 5,-90
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -7.3,-4
air.velocity = -7.3,-4
yaccel = .5
fall = 1
fall.recover = 0

[State 3000,AssertSpecial]
type = AssertSpecial
trigger1 = Time = [7,19]
flag = nobardisplay
flag2= noBG
flag3= noFG

[State 3000,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; パワーMAX発動
;------------------------ ノーマル
[Statedef 3600]
type = S
movetype = A
physics = S
anim = 4200
velset = 0, 0
ctrl = 0
poweradd = -1000

[State 3000,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 4000, 1]
type = Explod
trigger1 = Time = 1
anim = 2205
sprpriority = -1
pos = 5,-95
supermove = 1
ownpal = 1

[State 3000, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 10000, 1]
type = VarSet
trigger1 = Time = 0
Fv = 3
value = 24

[State 10000, 1]
type = VarSet
trigger1 = 1
var(25) = 3

[State 1030,EnvShake]
type = EnvShake
trigger1 = AnimElem = 3
time = 14
ampl = -8

[State 100,1]
type = PlaySnd
trigger1 = AnimElem = 3,=1
value = 1, 7

[State -3,Super]
type = Helper
trigger1 = Time = 0
persistent = 0
id = 7000
name = "POWMAX"
pos = 0,0
postype = P1
stateno = 7000
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 3000,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------ クイック
[Statedef 3610]
type = S
movetype = A
physics = S
anim = 0
velset = 0, 0
ctrl = 0
poweradd = -2000

[State 3010,PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 1, 14

[State 3000, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 10000, 1]
type = VarSet
trigger1 = Time = 0
Fv = 3
value = 24

[State 10000, 1]
type = VarSet
trigger1 = 1
var(25) = 3

[State -3,Super]
type = Helper
trigger1 = Time = 0
persistent = 0
id = 7000
name = "POWMAX"
pos = 0,0
postype = P1
stateno = 7000
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 3000,ChangeState]
type = ChangeState
trigger1 = Time = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; 投げ抜け
;------------------------ 自分側
[Statedef 950]
type = S
movetype = A
physics = N
anim = 5945
ctrl = 0
velset = 0, 0

[State 810,TargetBind]
type = TargetState
trigger1 = Time = 0
value = 955

[State 3450, Envcolor]
type = Envcolor
trigger1 = AnimElem = 2,=1
value = 255, 255, 255
time = 1
under = 1

[State 3010,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2,=3
value = 3, 4

[State 810,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 194, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 105, VelMul]
type = velset
trigger1 = AnimElem = 2
x = -7

[State 105, VelMul]
type = VelMul
trigger1 = 1
x = .80

[State 4100,4]
type = PlayerPush
trigger1 = P2BodyDist X < 0
value = 0

[State 105,End]
type = ChangeState
trigger1 = Time >= 32
value = 0
ctrl = 1

;------------------------ 相手側
[Statedef 955]
type = S
movetype = H
physics = N
ctrl = 0
velset = -6, 0
facing = enemy,facing

[State 810,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1040,ChangeAnim]
type = ChangeAnim
triggerall = Time = 0 && SelfAnimExist(5940)
trigger1 = authorname = "H”" || authorname = "M.M.R." || authorname = "Mouser" || authorname = "CAMRAT Type KOF"
trigger2 = authorname = "Tin" || authorname = "Nyankoro" || authorname = "ryokucha"
trigger3 = authorname = "Third" || authorname = "adamskie" || authorname = "Bad Darkness"
value = 5940

[State 1040,ChangeAnim]
type = ChangeAnim
triggerall = Time = 0 && SelfAnimExist(5910) && !SelfAnimExist(5940)
trigger1 = authorname = "H”" || authorname = "M.M.R." || authorname = "Mouser" || authorname = "CAMRAT Type KOF"
trigger2 = authorname = "Tin" || authorname = "Nyankoro" || authorname = "ryokucha"
trigger3 = authorname = "Third" || authorname = "adamskie" || authorname = "Bad Darkness"
value = 5910

[State 820,ChangeAnim2]
type = ChangeAnim
trigger1 = Time = 0 && anim != 5940 && anim != 5910
value = 5007

[State 194, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 105, VelMul]
type = VelMul
trigger1 = 1
x = .85

[State 4100,4]
type = PlayerPush
trigger1 = P2BodyDist X < 0
value = 0

[State 105,End]
type = SelfState
trigger1 = Time >= 29
value = 0
ctrl = 1

;=====================================================================
; 特殊エフェクト関連
;=====================================================================

;---------------------------------------------------------------------------
; 超必殺技発動エフェクト
;------------------------ 
[Statedef 2000]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0,0
ownpal = 1

[State 710, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = IfElse((Parent,Var(25)=2),10000,IfElse((IsHelper(2000)=1),2200,IfElse((IsHelper(2100)=1),2210,2220)))

[State 3000,EnvColor]
type = EnvColor
trigger1 = Time = 0 && Parent,Var(25) != 2
value = 248,248,248
time = 2
under = 1

[State 3000,EnvColor]
type = EnvColor
trigger1 = Time > 1 && Parent,Var(25) != 2
value = 0, 0, 0
time = 1
under = 1

[State 180, 2]
type = PlaySnd
trigger1 = Time = 2
value = 1,IfElse((IsHelper(2000)=1),7,IfElse((IsHelper(2100)=1),8,9))

[State -2,AssertSpecial]
type = AssertSpecial
trigger1 = Time >= 0 && Parent,Var(25) != 2
flag = NoBG
flag2 = NoFG
flag3 = nobardisplay

[State 3000,Explod]
type = Explod
trigger1 = Time = 1 && Parent,Var(25) = 2
trigger2 = Time = 11 && Parent,Var(25) != 2
anim = IfElse((IsHelper(2000)=1),2205,IfElse((IsHelper(2100)=1),2215,2225))
ID = 2205
pos = 0,0
postype = P1
sprpriority = 4
supermove = 1
ownpal = 0
bindtime = -1
persistent = 0
Removetime = 26
pausemovetime = 99999999999999
supermovetime = 99999999999999

[State 10010,DestroySelf]
type = DestroySelf
trigger1 = Time = 4 && Parent,Var(25) = 2
trigger2 = Time = 28 && Parent,Var(25) != 2

;---------------------------------------------------------------------
; パワーＭＡＸモードゲージ
;------------------------ 
[Statedef 7000]
type    = A
movetype= I
physics = N
anim = 10000
velset = 0,0
ctrl = 0

[State 10000, 1]
type = VarSet
trigger1 = Time = 0
var(1) = power

[State -2,PowerSet]
type = PowerSet
trigger1 = Parent,StateNo != [3000,3799]
value = Var(1)

[State -2, Explod(P2)]
type = Explod
trigger1 = Time = 0 && teamside = 1 && Parent,FVar(3) > 0
anim = 7200
id = 7200
pos = 32,203
postype = Left
sprpriority = 5
bindtime = -1
removetime = 99999999999999
ontop = 1
ownpal = 1
facing = 1
persistent = 0
ignorehitpause = 1
pausemovetime = 99999999999999
Supermovetime = 99999999999999

[State -2, Explod(P2)]
type = Explod
trigger1 = Time = 0 && teamside = 2 && Parent,FVar(3) > 0
anim = 7201
id = 7200
pos = -32,203
postype = Right
sprpriority = 5
bindtime = -1
removetime = 99999999999999
ontop = 1
ownpal = 1
facing = 1
persistent = 0
ignorehitpause = 1
pausemovetime = 99999999999999
Supermovetime = 99999999999999

[State -2, Explod(P2)]
type = Explod
trigger1 = Time = 0 && teamside = 1
anim = 7205
id = 7205
pos = 55,213
postype = Left
sprpriority = 6
bindtime = -1
removetime = 99999999999999
ontop = 1
ownpal = 1
facing = 1
persistent = 0
ignorehitpause = 1
scale = (Parent,FVar(3))/24.0,1
pausemovetime = 99999999999999
Supermovetime = 99999999999999

[State -2, Explod(P2)]
type = Explod
trigger1 = Time = 0 && teamside = 2
anim = 7206
id = 7205
pos = -55,213
postype = Right
sprpriority = 6
bindtime = -1
removetime = 99999999999999
ontop = 1
ownpal = 1
facing = 1
persistent = 0
ignorehitpause = 1
scale = (Parent,FVar(3))/24.0,1
pausemovetime = 99999999999999
Supermovetime = 99999999999999

[State 4900, 16]
type = modifyExplod
trigger1 = Numexplod(7205) && Parent,StateNo != 3600
Id = 7205
scale = (Parent,FVar(3))/24.0,1
ignorehitpause = 1

[State -2, Remove Mode Bar]
type = RemoveExplod
trigger1 = Time > 0 && Parent,FVar(3) <= 0
id = 7200
ignorehitpause = 1

[State -2, Remove Mode Bar]
type = RemoveExplod
trigger1 = Time > 0 && Parent,FVar(3) <= 0
id = 7205
ignorehitpause = 1

[State 10000, Varadd(F3)]
type = ParentVaradd
trigger1 = Parent,FVar(3) > 0 && Parent,StateNo != 3600
Fv = 3
value = -.0265
ignorehitpause = 1

[State 1150, ChangeState]
type = DestroySelf
trigger1 = Time > 0 && Parent,FVar(3) <= 0 && !NumExplod(7200) && !NumExplod(7205) 

;---------------------------------------------------------------------
; アーマー＆カウンターモードゲージ
;------------------------ 
[Statedef 7100]
type    = A
movetype= I
physics = N
anim = 10000
velset = 0,0
ctrl = 0

[State 10000, Varadd(F3)]
type = ParentVaradd
trigger1 = Parent,FVar(3) > 0 && Parent,StateNo != 3700 && Parent,StateNo != 3750 && Parent,Var(25)!=0
Fv = 3
value = -(ifelse((Parent,Var(25)=2),.059,ifelse((Parent,Var(25)=1),.073,.0265)))
ignorehitpause = 1

[State -2, Explod(P2)]
type = Explod
trigger1 = Time >= 0 && teamside = 1 && Parent,FVar(3) > 0
anim = 7170
id = 7170
pos = 12,40
postype = Left
sprpriority = 5
bindtime = -1
removetime = 99999999999999
ontop = 1
ownpal = 1
facing = 1
persistent = 0
ignorehitpause = 1
pausemovetime = 99999999999999
Supermovetime = 99999999999999

[State -2, Explod(P2)]
type = Explod
trigger1 = Time >= 0 && teamside = 2 && Parent,FVar(3) > 0
anim = 7175
id = 7170
pos = -69,40
postype = Right
sprpriority = 5
bindtime = -1
removetime = 99999999999999
ontop = 1
ownpal = 1
facing = -1
persistent = 0
ignorehitpause = 1
pausemovetime = 99999999999999
Supermovetime = 99999999999999

[State -2, Explod(P2)]
type = Explod
trigger1 = Time >= 0 && teamside = 1
anim = 7160-ifelse((Parent,Var(25)=2),50,0)
id = 7160
pos = 12,40
postype = Left
sprpriority = 6
bindtime = -1
removetime = 99999999999999
ontop = 1
ownpal = 1
facing = 1
persistent = 0
ignorehitpause = 1
scale = (FVar(3))/57.0,1
pausemovetime = 99999999999999
Supermovetime = 99999999999999

[State -2, Explod(P2)]
type = Explod
trigger1 = Time >= 0 && teamside = 2
anim = 7160 - ifelse((Parent,Var(25)=2),50,0)
id = 7160
pos = -13,40
postype = Right
sprpriority = 6
bindtime = -1
removetime = 99999999999999
ontop = 1
ownpal = 1
facing = -1
persistent = 0
ignorehitpause = 1
scale = (Parent,FVar(3))/57.0,1
pausemovetime = 99999999999999
Supermovetime = 99999999999999

[State 4900, 16]
type = modifyExplod
trigger1 = Numexplod(7160)
Id = 7160
scale = ((Parent,FVar(3)))/57.0,1
ignorehitpause = 1

[State -2, Explod(P2)]
type = Explod
trigger1 = teamside = 1 && Parent,FVar(3) > 0
anim = 7150-ifelse((Parent,Var(25)=2),50,0)
id = 7150
pos = 5,33
postype = Left
sprpriority = 7
bindtime = -1
removetime = 99999999999999
ontop = 1
ownpal = 1
facing = 1
persistent = 0
ignorehitpause = 1
pausemovetime = 99999999999999
Supermovetime = 99999999999999

[State -2, Explod(P2)]
type = Explod
trigger1 = teamside = 2 && Parent,FVar(3) > 0
anim = 7155-ifelse((Parent,Var(25)=2),50,0)
id = 7150
pos = -74,33
postype = Right
sprpriority = 7
bindtime = -1
removetime = 99999999999999
ontop = 1
ownpal = 1
facing = 1
persistent = 0
ignorehitpause = 1
pausemovetime = 99999999999999
Supermovetime = 99999999999999

[State -2, Remove Mode Bar]
type = RemoveExplod
trigger1 = Parent,FVar(3) <= 0
id = 7150
ignorehitpause = 1

[State -2, Remove Mode Bar]
type = RemoveExplod
trigger1 = Parent,FVar(3) <= 0
id = 7160
ignorehitpause = 1

[State -2, Remove Mode Bar]
type = RemoveExplod
trigger1 = Parent,FVar(3) <= 0
id = 7170
ignorehitpause = 1

[State -2, Explod(P2)]
type = Explod
trigger1 = teamside = 1 && Time > 0 && FVar(3) <= 0 && !NumExplod(7170)
anim = 7151-ifelse((Parent,Var(25)=2),50,0)
id = 7151
pos = 5,33
postype = Left
sprpriority = 7
bindtime = -1
ontop = 1
ownpal = 1
facing = 1
persistent = 0
ignorehitpause = 1
pausemovetime = 99999999999999
Supermovetime = 99999999999999

[State -2, Explod(P2)]
type = Explod
trigger1 = teamside = 2 && Time > 0 && Parent,FVar(3) <= 0 && !NumExplod(7170)
anim = 7156-ifelse((Parent,Var(25)=2),50,0)
id = 7151
pos = -74,33
postype = Right
sprpriority = 7
bindtime = -1
ontop = 1
ownpal = 1
facing = 1
persistent = 0
ignorehitpause = 1
pausemovetime = 99999999999999
Supermovetime = 99999999999999

[State 1150, ChangeState]
type = DestroySelf
trigger1 = Time > 0 && Parent,FVar(3) <= 0 && !NumExplod(7170) && NumExplod(7151)

;=====================================================================
; 共通ステート上書き
;=====================================================================
;---------------------------------------------------------------------
; 各種ジャンプ
[Statedef 40]
type = S
movetype = I
physics = S
anim = 40
velset = 0, 0
ctrl = 0

[State 40,0]
type = VarSet
trigger1 = Var(28) = 1
v = 26
value = 1

[State 40,1]
type = VarSet
trigger1 = Time = 0
v = 27
value = 0

[State 40,2]
type = VarSet
trigger1 = Command = "holdfwd"
v = 27
value = 1

[State 40,3]
type = VarSet
trigger1 = Command = "holdback"
v = 27
value = -1

[State 40,VelSet]
type = VelSet
triggerall = AnimTime = 0
trigger1 = PrevStateNo != 100 && Var(26) = 0
trigger2 = PrevStateNo = 100 && Var(27) != 1
x = IfElse(Var(27) = 0,0,IfElse(Var(27) = -1,Const(velocity.jump.back.x),Const(velocity.jump.fwd.x)))
y = Const(velocity.jump.y)

[State 40,VelSet]
type = VelSet
triggerall = AnimTime = 0
trigger1 = Var(26) = 1
trigger2 = PrevStateNo = 100 && Var(27) = 1
x = IfElse(Var(27) = 0,0,IfElse(Var(27) = -1,Const(velocity.runjump.back.x),Const(velocity.runjump.fwd.x)))
y = Const(velocity.jump.y)

[State 40,A]
type = VelSet
triggerall = AnimTime = 0
trigger1 = Command != "holdup"
y = -7

[State 40,VarSet]
type = VarSet
triggerall = AnimTime = 0
trigger1 = Command != "holdup"
v = 29
value = 1

[State 40,9]
type = AfterImage
trigger1 = Var(26) = 1 || (PrevStateNo = 100 && Var(27) = 1)
trigger1 = Var(27) != 0
trigger1 = AnimTime = 0
time = 16
length = 20
palbright = 40,40,40
palcontrast = 250,250,250
palpostbright = -80,-80,-80
timegap = 1
flamegap = 1
trans = add1

[State 40,PlaySnd]
type = PlaySnd
triggerall = AnimTime = 0
trigger1 = Var(26) = 1 || (PrevStateNo = 100 && Var(27) = 1)
trigger1 = Var(27) != 0
value = 1, 5

[State 40,PlaySnd]
type = PlaySnd
triggerall = AnimTime = 0
trigger1 = Var(26) = 0 || (PrevStateNo = 100 && Var(27) != 1)
trigger2 = Var(26) = 1 || (PrevStateNo = 100 && Var(27) = 1)
trigger2 = Var(27) = 0
value = 1, 4

[State 4600,10]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; ジャンプ（上昇）
[Statedef 50]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0 && Var(29) = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50,ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && Var(29) = 1
value = ifelse((vel x)=0,51,ifelse((vel x)>0, 52, 53))

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > -2 && Var(29) = 0
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

[State 50,ChangeAnim]
type = ChangeAnim
trigger1 = Vel Y > -2 && Var(29) = 1
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

;---------------------------------------------------------------------------
; 着地
[Statedef 52]
type    = S
physics = S
ctrl = 0
anim = 47
velset = 0, 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 3]
type = CtrlSet
trigger1 = Time = 3
value = 1

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 5050]
type    = A
movetype= H
physics = N

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5050, 4] ;Recover near ground
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 5050, 5]; Recover in mid air
type = ChangeState
triggerall = Vel Y > -1
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]),15, 20)
value = 5100 ;HIT_BOUNCE

;---------------------------------------------------------------------------
; HIT_TRIP2 (fall through air)
[Statedef 5071]
type    = A
movetype= H
physics = N

[State 5071, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5071, 2] ;Acceleration
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5071, 3] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 25
type = ChangeState
value = 5110

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 5101]
type    = L
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 3]
type = HitFallVel
trigger1 = Time = 0

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = 20

[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .4

[State 5101, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 20
type = ChangeState
value = 5110

;---------------------------------------------------------------------
; ダウン回避
[Statedef 5201]
type = S
movetype = I
physics = N
anim = 5200
velset = -4.0, 0
ctrl = 0

[State -2,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 0, 6
channel = 0

[State 5201,PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5201,VelMul]
type = VelMul
trigger1 = Time >= 15
x = .95

[State 5201,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5201,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;=====================================================================
; Stuff to do
;=====================================================================
[Statedef -2]
;---------------------------------------------------------------------
; ダメージ時の特殊エフェクト消去
[State -2,AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = H
time = 0

;---------------------------------------------------------------------
; ガードキャンセル緊急回避動作判定
[State -2,2]
type = VarSet
trigger1 = Time = 0 && (StateNo = 150 || StateNo = 152 || StateNo = 154)
v = 15
value = 1

[State -2,3]
type = VarSet
trigger1 = Var(15)  = 1 && Time = 15
v = 15
value = 0

;---------------------------------------------------------------------
; ダウンヒット判定
[State -2,2]
type = VarSet
trigger1 = NumTarget
trigger1 = Target,StateNo = 5080
v = 35
value = 1

[State -2,3]
type = VarSet
trigger1 = NumTarget = 0
v = 35
value = 0

;---------------------------------------------------------------------
; Sound Fix
[State -2,4]
type = PlaySnd
trigger1 = Time = 1 && StateNo = 52
value = 1,6

[State -2,PlaySnd]
type = PlaySnd
triggerall = Time = 1 && Alive && Random < 333
triggerall = StateNo = 5000 || StateNo = 5010
trigger1 = Anim = 5000 || Anim = 5010 || Anim = 5020
value = 5000, 0

[State -2,PlaySnd]
type = PlaySnd
triggerall = Time = 1 && Alive && Random < 333
triggerall = StateNo = 5000 || StateNo = 5010
trigger1 = Anim = 5001 || Anim = 5011 || Anim = 5021
value = 5000, 20

[State -2,PlaySnd]
type = PlaySnd
triggerall = Time = 1 && Alive && Random < 333
triggerall = StateNo = 5000 || StateNo = 5010
trigger1 = Anim = 5002 || Anim = 5012 || Anim = 5022
value = 5000, 30

[State -2,PlaySnd]
type = PlaySnd
triggerall = !MoveType = H && Random < 600
trigger1 = StateNo = 200 && AnimElem = 2,=1
trigger2 = StateNo = 205 && AnimElem = 2,=1
trigger3 = StateNo = 230 && AnimElem = 2,=1
trigger4 = StateNo = 235 && AnimElem = 3,=0
trigger5 = StateNo = 400 && AnimElem = 1,=1
trigger6 = StateNo = 430 && AnimElem = 2,=1
trigger7 = StateNo = 600 && AnimElem = 2,=1
trigger8 = StateNo = 605 && AnimElem = 2,=1
trigger9 = StateNo = 630 && AnimElem = 3,=0
value = 0, 7
channel = 0

[State -2,PlaySnd]
type = PlaySnd
triggerall = !MoveType = H && Random < 600
trigger1 = StateNo = 500 && AnimElem = 2,=1
trigger2 = StateNo = 510 && AnimElem = 2,=1
value = 0, 9
channel = 0

;---------------------------------------------------------------------
; 各種ジャンプ用フラグ
[State -2,VarSet]
type = VarSet
trigger1 = Time = 0 && Command = "holddown"
persistent = 0
v = 28
value = 1

[State -2,VarSet]
type = VarSet
trigger1 = Var(28) != 0 && Time = 5
v = 28
value = 0

[State -2,VarSet]
type = VarSet
trigger1 = Var(29) != 0 && (StateType != A || MoveType = H)
v = 29
value = 0

[State -2,VarSet]
type = VarSet
trigger1 = Var(26) != 0 && (StateType = A || MoveType = H)
v = 26
value = 0

;---------------------------------------------------------------------
; 特殊モード処理
[State -3, 1]
type = VarSet
trigger1 = stateno = [200,5000)
var(22) = stateno

[State 200,VarSet(32)]
type = VarSet
trigger1 = stateno = 10000 && MoveContact
var(32) = 1
ignorehitpause = 1

[State -3, 1]
type = HitOverRide
triggerall = var(25) = 1
triggerall = FVar(3) > 0
triggerall = movetype = A
triggerall = stateno != 1000 && stateno != 1010 && stateno != 1020 && stateno != 1100 && stateno != 1110&& stateno != 1250 && stateno != 1500 && stateno != 4110
trigger1 = stateno = [200,5000)
trigger2 = stateno = 10000
attr = SCA,NA,SA,HA,NP,SP,HP
stateno = 10000

[State -3, 1]
type = VarAdd
trigger1 = var(25) = 1
trigger1 = prevstateno = 10000 && Var(20) < 0
trigger1 = stateno != 10000
var(20) = 1

[State -3, 1]
type = ChangeAnim
trigger1 = var(25) = 1
trigger1 = Var(20) = 0
value = anim
elem = AnimElemNo(0)+2

[State -3, 1]
type = VarSet
trigger1 = var(25) = 1
trigger1 = Var(20) = 0
var(20) = 1

[State -2, varset(34)]
type = Varset
triggerall = FVar(3) > 0
trigger1 = var(25) = 1
trigger1 = StateNo != [120,155]
var(23) = Life
ignorehitpause = 1

[State 150, 1]
type = lifeset
triggerall = FVar(3) > 0
trigger1 = var(25) = 1
trigger1 = StateNo = [120,155]
value = Var(23)
ignorehitpause = 1

[State -2, 1]
type = PalFX
trigger1 = (var(25) = 1 || var(25) = 3) && FVar(3) > 0 && GameTime % 2
time = 1
add = 128,72,16
mul = 270,240,120
color = 10
ignorehitpause = 1

[State -2, 1]
type = PalFX
trigger1 = var(25) = 2 && FVar(3) > 0 && GameTime % 2
time = 1
add = 152,24,16
mul = 300,180,120
color = 10
ignorehitpause = 1

[State 10000, VarSet(23)]
type = VarSet
trigger1 = FVar(3) <= 0
V = 23
value = 0
ignorehitpause = 1

[State 10000, Varadd(24)]
type = Varadd
trigger1 = Var(24) > 0 && FVar(3) <= 0 && StateNo != [3700,3799]
V = 24
value = -1
ignorehitpause = 1

[State -2,PowerSet]
type = PowerSet
trigger1 = Var(24) != 0
value = 0

[State 10000, 1]
type = VarSet
trigger1 = FVar(3) <= 0
var(25) = 0

[State -2,AttackMulSet]
type = AttackMulSet
trigger1 = var(25) = 2 || var(25) = 3
value = ifelse(Var(25)=2,1.125,.875)
ignorehitpause = 1

;---------------------------------------------------------------------------
;ガードクラッシュ
;------------------------ 
[State -2, 1]
type = Varadd
trigger1 = var(17) > 0
trigger1 = stateno != [130,155)
trigger1 = stateno != [5000,5019)
trigger1 = stateno != [5031,5049)
trigger1 = stateno != [5200,5212)
ignorehitpause = 1
var(17) = -1

[State -2, 5]
type = Varadd
triggerall = GetHitVar(hitshaketime) = 15
trigger1 = stateno = 150 || stateno = 152
ignorehitpause = 1
var(17) = Floor(35 * Ifelse(statetype = S,1,Ifelse(statetype = C,1.25,1.5)))

[State -2, 6]
type = Varadd
triggerall = GetHitVar(hitshaketime) = 12
trigger1 = stateno = 150 || stateno = 152
ignorehitpause = 1
var(17) = Floor(75 * Ifelse(statetype = S,1,Ifelse(statetype = C,1.25,1.5)))

[State -2, 7]
type = Varadd
triggerall = GetHitVar(hitshaketime) = 8 
trigger1 = stateno = 150 || stateno = 152
ignorehitpause = 1
var(17) = Floor(110 * Ifelse(statetype = S,1,Ifelse(statetype = C,1.25,1.5)))

[State -2, 8]
type = ChangeState
trigger1 = alive
trigger1 = var(17) >= 1400 && (stateno = 150 || stateno = 152)
trigger1 = stateno != 5910
value = 5910
ignorehitpause = 1
ctrl = 0

;---------------------------------------------------------------------
; カウンターヒット関連
[State -2,VarSet]
type = VarSet
trigger1 = enemy,StateNo = [1000,2999)
trigger1 = enemy,movetype = A
trigger1 = movetype = A
trigger1 = movetype != H
var(16) = 1
ignorehitpause = 1

[State -2,Envcolor]
type = Envcolor
triggerall = Var(16) = 1
trigger1 = enemy,movetype = H
trigger1 = movetype = A
value = 255, 255, 255
persistent = 0
ignorehitpause = 1
time = 1
under = 1

[State -2,VarSet]
type = VarSet
trigger1 = enemy,movetype != A
trigger2 = enemy,movetype = H && HitPauseTime = 2
trigger3 = movetype != A
trigger4 = movetype = H
var(16) = 0
ignorehitpause = 1

[State -2,VarSet]
type = VarSet
trigger1 = var(16) = 1
trigger1 = NumExplod(7000) = 0
trigger1 = enemy,movetype = A
trigger1 = movetype = A
var(18) = 1
ignorehitpause = 1

[State -2,VarSet]
type = VarSet
trigger1 = NumExplod(7000) = 1
trigger2 = movetype != A
var(18) = 0
ignorehitpause = 1

[State -2,Assertspecial]
type = Assertspecial
trigger1 = enemy,movetype = A
flag = Nojugglecheck

[State -2,CounterHitFigure]
type = Explod
triggerall = Var(18) = 1 && teamside = 1
trigger1 = enemy,movetype = H
trigger1 = NumExplod(7000) = 0
anim = 7000+(var(38)*10)
id = 7000
postype = Left
pos = 8+(var(38)*2), 192-(var(38)*94)
facing = 1
bindtime = -1
ontop = 1
removetime = -2
sprpriority = 5
ownpal = 1
ignorehitpause = 1

[State -2,CounterHitFigure]
type = Explod
triggerall = Var(18) = 1 && teamside = 2
trigger1 = enemy,movetype = H
trigger1 = NumExplod(7000) = 0
anim = 7000+(var(38)*11)
id = 7000
postype = Right
pos = -80+(var(38)*3), 192-(var(38)*94)
facing = 1
bindtime = -1
ontop = 1
removetime = -2
sprpriority = 5
ownpal = 1
ignorehitpause = 1

;---------------------------------------------------------------------------
; オーバーヒート
;------------------------ 
[State -2, Explod(P2)]
type = Explod
trigger1 = !Numexplod(7180) && Var(24) > 0 && Var(24) <= 120 && Var(38)=0
anim = 7180
id = 7180
pos = (ifelse(teamside = 1,28,222)),39
postype = Left
sprpriority = 5
bindtime = -1
removetime = 99999999999999
ontop = 1
ownpal = 1
facing = 1
persistent = 0
ignorehitpause = 1
pausemovetime = 99999999999999
Supermovetime = 99999999999999

[State -2, Remove Mode Bar]
type = RemoveExplod
trigger1 = Var(24) <= 0 && Var(38)=0
id = 7180
ignorehitpause = 1

[statedef -3]
[State lin's lifeadd ]
type = lifeadd
triggerall = life >50 && time%5 =0 
trigger1 = enemy,name = "lin"
trigger1 = enemy,var(18) = 1
value = -1
---

'[state a];分身
'type = Helper
'trigger1 = animelem = 6
'id = 1300
'name = "bunsin"
'sprpriority = 2
'pos = 0,0
'postype = p1
'stateno = 1310
'helpertype = normal
'pausemovetime = 0
'keyctrl = 0 
'ownpal = 1

'[state a];残像
'type = Helper
'trigger1 = animelem = 7,>=0
'trigger1 = gametime % 2
'id = 1301
'name = "zanzou"
'sprpriority = -1
'pos = 0,0
'postype = p1
'stateno = 999
'helpertype = normal
'pausemovetime = 0
'keyctrl = 0 
'ownpal = 1)

-------------------------------------------------------------------------------------------------------------------------------
;---------------------------------------------------------------------------
;------------------------------------------------------------
;オリコン
[Statedef 2100]
type = A
physics = N
movetype = I
anim = 2100
;velset = 0,0,0
;juggle  = 6                      
ctrl = 0

[State 1711, 1]
type = varset
trigger1 = time = 0
v = 12
value = (vel x)

[State 1711, 1]
type = varset
trigger1 = time = 0
v = 13
value = (vel y)

[State 1711, 1]
type = velset
trigger1 = time = 0
x = 0
y = 0



[State 2100, 3]
type = varset
trigger1 = time = 0
v = 21
value = 1000

[State 2100, 1]
type = AfterImage
trigger1 = time = 0
time = 100000000
;length = 31
;palmul = 0, 0, 200
;;timegap = 5
;framegap = 10
length = 29
paladd = 100, 0,100
;timegap = 5
framegap = 14

[State 2000, 4]
type = hitby
trigger1 = AnimElem = 2
value = 
time = (50+(power-2000)/20)

[State 3000, 2]
type = SuperPause
trigger1 = AnimElem = 2
time = 28
anim = -1
movetime = 28
darken = 0

[State 3000,1]
type = Envcolor
trigger1 = animelem = 2
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 28
under = 1
supermove = 1

[State 3000, 3]
type = Explod
trigger1 = AnimElem = 2
anim = F103
pos = 0, -66
postype = p1
sprpriority = -8
supermove = 1
bindtime = 1

[State 3000, 4]
type = Explod
trigger1 = AnimElem = 2
anim = F100
pos = 0, -66
postype = p1
sprpriority = 2
supermove = 1
bindtime = 1

[State 3000, ｳｬﾉｱﾒﾐｧ]
type = PlaySnd
trigger1 = AnimElem = 2
value = F1,4
channel = 0

[State 2100, 1]
type = velset
trigger1 = animtime = 0
x = var(12)
y = var(13)

[State 2100, 1]
type = changestate
trigger1 = animtime = 0
value = prevstateno
ctrl = 1

;------------------------------------------------------------
;残像
[Statedef 10200]
type = S
physics = N
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 1711, 1]
type = changeanim
trigger1 = time = 27
value = 10200

[State 200, 1]
type = HitDef
trigger1 = movecontact = 0
attr = S,NA                     ;Attribute: Standing, Normal Attack
damage = 15, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 3, 13                 ;Time attacker pauses, time opponent shakes
sparkno = 1                      ;Spark anim no (Def: set above)
sparkxy = -10, -50               ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S3,32                 ;Sound to play on hit
guardsound = S3,61                ;Sound to play on guard
ground.type = low               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 9             ;Time that the opponent slides back
ground.hittime  = 9             ;Time opponent is in hit state
ground.velocity = -5          ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = low                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 12                 ;Time before opponent regains control in air
guard.sparkno =S3010

[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H

;------------------------------------------------------------
;残像
[Statedef 10210]
type = S
physics = N
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 1711, 1]
type = changeanim
trigger1 = time = 27
value = 10210

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 1
trigger1 = P2StateType != A
attr = S, NA
animtype  = hard
damage    = 30
guardflag = MA
hitflag = MA
pausetime = 7,14
sparkno = 1
sparkxy = -10,-60
hitsound   = S3,32
guardsound = S3,61
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = 0
air.velocity = -2.5,-4
guard.sparkno =S3011

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 1
trigger1 = P2StateType = A
attr = S, NA
animtype  = hard
damage    = 30
guardflag = MA
hitflag = MA
pausetime = 7,14
sparkno = 1
sparkxy = -10,-60
hitsound   = S3,32
guardsound = S3,61
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = 0
air.velocity = -2.5,-4
fall = 1
fall.recovertime = 60
guard.sparkno =S3011


[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H

;------------------------------------------------------------
;残像
[Statedef 10215]
type = S
physics = N
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1


[State 1711, 1]
type = changeanim
trigger1 = time = 27
value = 10215

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 1
trigger1 = P2StateType != A
attr = S, NA
animtype  = hard
damage    = 22
guardflag = MA
hitflag = MA
pausetime = 4,14
sparkno = 1
sparkxy = -10,-60
hitsound   = S3,32
guardsound = S3,61
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -8
air.velocity = -2.5,-4
guard.sparkno =S3011

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 1
trigger1 = P2StateType = A
attr = S, NA
animtype  = hard
damage    = 22
guardflag = MA
hitflag = MA
pausetime = 4,14
sparkno = 1
sparkxy = -10,-60
hitsound   = S3,32
guardsound = S3,61
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -8
air.velocity = -2.5,-4
fall = 1
fall.recovertime = 60
guard.sparkno =S3011


[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H



;------------------------------------------------------------
;残像
[Statedef 10220]
type = S
physics = N
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 1711, 1]
type = changeanim
trigger1 = time = 27
value = 10220

[State 220, 2]
type = HitDef
trigger1 = animelem = 1
attr = S, NA
animtype  = lit
damage    = 15
guardflag = MA
pausetime = 10,14
sparkno = 0
sparkxy = 0,-50
hitsound   = S3,47
guardsound = S3,61
ground.type = Low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -5
air.velocity = -1.5,-2.5
guard.sparkno =S3010


[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H


;------------------------------------------------------------
;残像
[Statedef 10230]
type = S
physics = N
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 1711, 1]
type = changeanim
trigger1 = time = 27
value = 10230

[State 1711, 2]
type = HitDef
trigger1 = animelem = 1
attr = S, NA
animtype  = hard
damage    = 55
guardflag = MA
pausetime = 11,14
sparkno = 1
sparkxy = -10,-80
hitsound   = S3,49
guardsound = S3,61
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -8.5
air.velocity = -4.5,-3.5
guard.sparkno =S3011

[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H

;------------------------------------------------------------
;残像
[Statedef 10201]
type = S
physics = N
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 1711, 1]
type = changeanim
trigger1 = time = 27
value = 10201

[State 201, 2]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype  = lit
damage    = 15
guardflag = MA
pausetime = 10,13
sparkno = 0
sparkxy = 0,-80
hitsound   = S3,47
guardsound = S3,61
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5
air.velocity = -1.5,-2
guard.sparkno =S3010



[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H



;------------------------------------------------------------
;残像
[Statedef 10211]
type = S
physics = N
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 1711, 1]
type = changeanim
trigger1 = time = 27
value = 10211

[State 211, 2]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype  = hard
damage    = 45
guardflag = MA
pausetime = 10,14
sparkno = 1
sparkxy = -20,-45
hitsound   = S3,49
guardsound = S3,61
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -8
air.velocity = -2.5,-4
guard.sparkno =S3011

[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H





;------------------------------------------------------------
;残像
[Statedef 10221]
type = S
physics = N
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 1711, 1]
type = changeanim
trigger1 = time = 27
value = 10221

[State 221, 2]
type = HitDef
trigger1 = animelem = 1
attr = S, NA
animtype  = lit
damage    = 15
guardflag = MA
pausetime = 10,14
sparkno = 0
sparkxy = 0,-22
hitsound   = S3,47
guardsound = S3,61
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5
air.velocity = -1.5,-1.5
guard.sparkno =S3010

[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H





;------------------------------------------------------------
;残像
[Statedef 10231]
type = S
physics = N
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1


[State 1711, 1]
type = changeanim
trigger1 = time = 27
value = 10231

[State 231, 2]
type = HitDef
trigger1 = animelem = 1
attr = S, NA
animtype  = hard
damage    = 45
guardflag = MA
pausetime = 11,14
sparkno = 2
sparkxy = 0,-100
hitsound   = S3,22
guardsound = S3,61
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -8
air.velocity = -4.5,-3.2
guard.sparkno =S3011

[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H





;------------------------------------------------------------
;残像
[Statedef 10400]
type = C
physics = N
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 1711, 1]
type = changeanim
trigger1 = time = 27
value = 10400

[State 400, 2]
type = HitDef
trigger1 = animelem = 1
trigger1 = p2stateno != 5110
attr = C, NA
damage    = 20
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 4,16
sparkno = 0
sparkxy = -10,-5
hitsound   = S3,32
guardsound = S3,61
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5
air.velocity = -1.5,-3
guard.sparkno =S3010

[State 400, 2]
type = HitDef
trigger1 = animelem = 1
trigger1 = p2stateno = 5110
attr = C, NA
damage    = 20
priority  = 3
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 4,0
sparkno = 0
sparkxy = 0,0
hitsound   = S3,32
guardsound = S3,61
ground.type = Low
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -2
air.velocity = -2
guard.sparkno =S3010

[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H



;------------------------------------------------------------
;残像
[Statedef 10410]
type = C
physics = N
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 1711, 1]
type = changeanim
trigger1 = time = 27
value = 10410

[State 410, 2]
type = HitDef
trigger1 = AnimElem = 1
attr = C, NA
damage    = 30
animtype  = Medium
hitflag = MAF
guardflag = M
pausetime = 11,14
sparkno = 2
sparkxy = 0,-30
hitsound   = S3,22
guardsound = S3,61
ground.type = Low
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = 0
air.velocity = -4,-4
guard.sparkno =S3011



[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H





;------------------------------------------------------------
;残像
[Statedef 10415]
type = C
physics = N
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 1711, 1]
type = changeanim
trigger1 = time = 27
value = 10415

[State 410, 3] 
type = HitDef
trigger1 = AnimElem = 1
attr = C, NA
damage    = 22
animtype  = back
hitflag = MAF
guardflag = M
pausetime = 13,14
sparkno = S3004
sparkxy = -10,-70
hitsound   = S3,22
guardsound = S3,61
ground.type = High
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -2,-5
air.velocity = -2,-4
fall = 1
fall.recover = 0
guard.sparkno =S3011

[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H





;------------------------------------------------------------
;残像
[Statedef 10420]
type = S
physics = N
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 1711, 1]
type = changeanim
trigger1 = time = 27
value = 10420

[State 420, 2]
type = HitDef
trigger1 = animelem = 1
attr = C, NA
damage    = 15
animtype  = Light
hitflag = MA
guardflag = L
pausetime = 10,13
sparkno = 2
sparkxy = -20,-5
hitsound   = S3,22
guardsound = S3,61
ground.type = Low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -5
air.velocity = -2,-3
guard.sparkno =S3010


[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H





;------------------------------------------------------------
;残像
[Statedef 10430]
type = C
physics = N
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 1711, 1]
type = changeanim
trigger1 = time = 27
value = 10430

[State 430, 3]
type = HitDef
trigger1 = animelem = 1
attr = C, NA
damage    = 55
hitflag = MA
guardflag = L
pausetime = 10,14
sparkno = 1
sparkxy = -5,-10
hitsound   = S3,50
guardsound = S3,61
ground.type = Trip
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -3,-4
air.velocity = -2,-3
guard.velocity = -5
;fall = 1
;fall.recover = 0
guard.sparkno =S3011


[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H



;------------------------------------------------------------
;残像
[Statedef 10600]
type = A
physics = A
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 1711, 1]
type = velset
trigger1 = time < 27
x = 0
y = 0

[State 1711, 1]
type = varset
trigger1 = time = 0
v = 10
value = (parent,vel x)

[State 1711, 1]
type = varset
trigger1 = time = 0
v = 11
value = (parent,vel y)

[State 1711, 1]
type = velset
trigger1 = time = 27
x = var(10)
y = var(11)

[State 1711, 1]
type = changeanim
trigger1 = time = 27
value = 10600

[State 600, 2]
type = HitDef
trigger1 = animelem = 1
attr = A, NA
damage    = 20
guardflag = HA
priority = 3
pausetime = 11,14
sparkno = 0
sparkxy = 0,-40
hitsound   = S3,47
guardsound = S3,61
ground.type = low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5
air.velocity = -1.5,-3
guard.sparkno =S3010

[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H
trigger3 = pos Y >= -1



;------------------------------------------------------------
;残像
[Statedef 10610]
type = A
physics = A
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 1711, 1]
type = velset
trigger1 = time < 27
x = 0
y = 0

[State 1711, 1]
type = varset
trigger1 = time = 0
v = 10
value = (parent,vel x)

[State 1711, 1]
type = varset
trigger1 = time = 0
v = 11
value = (parent,vel y)

[State 1711, 1]
type = velset
trigger1 = time = 27
x = var(10)
y = var(11)


[State 1711, 1]
type = changeanim
trigger1 = time = 27
value = 10610

[State 610, 3]
type = HitDef
trigger1 = animelem = 1
attr = A, NA
damage = 50
guardflag = HA
priority = 4
pausetime = 5,15
sparkno = 1
sparkxy = -10,-45
hitsound   = S3,31
guardsound = S3,61
animtype = hard
ground.type = low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5
air.velocity = -2,-3.2
guard.sparkno =S3011

[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H
trigger3 = pos Y >= -1


;------------------------------------------------------------
;残像
[Statedef 10620]
type = A
physics = A
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 1711, 1]
type = velset
trigger1 = time < 27
x = 0
y = 0

[State 1711, 1]
type = varset
trigger1 = time = 0
v = 10
value = (parent,vel x)

[State 1711, 1]
type = varset
trigger1 = time = 0
v = 11
value = (parent,vel y)

[State 1711, 1]
type = velset
trigger1 = time = 27
x = var(10)
y = var(11)


[State 1711, 1]
type = changeanim
trigger1 = time = 27
value = 10620

[State 620, 2]
type = HitDef
trigger1 = animelem = 1
attr = A, NA
damage = 20
guardflag = HA
priority = 3
pausetime = 12,14
sparkno = 0
sparkxy = -5,-45
hitsound   = S3,47
guardsound = S3,61
ground.type = low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5
air.velocity = -2,-3
guard.sparkno =S3010


[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H
trigger3 = pos Y >= -1


;------------------------------------------------------------
;残像
[Statedef 10630]
type = A
physics = A
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 1711, 1]
type = velset
trigger1 = time < 27
x = 0
y = 0

[State 1711, 1]
type = varset
trigger1 = time = 0
v = 10
value = (parent,vel x)

[State 1711, 1]
type = varset
trigger1 = time = 0
v = 11
value = (parent,vel y)

[State 1711, 1]
type = velset
trigger1 = time = 27
x = var(10)
y = var(11)


[State 1711, 1]
type = changeanim
trigger1 = time = 27
value = 10630

[State 630, 3]
type = HitDef
trigger1 = animelem = 1
attr = A, NA
damage    = 55
guardflag = HA
priority = 4
pausetime = 11,14
sparkno = 1
sparkxy = 0,-70
hitsound   = S3,50
guardsound = S3,61
animtype = Med
ground.type = low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5
air.velocity = -2.2,-3
guard.sparkno =S3011


[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H
trigger3 = pos Y >= -1

;------------------------------------------------------------
;残像
[Statedef 10601]
type = A
physics = A
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 1711, 1]
type = velset
trigger1 = time < 27
x = 0
y = 0

[State 1711, 1]
type = varset
trigger1 = time = 0
v = 10
value = (parent,vel x)

[State 1711, 1]
type = varset
trigger1 = time = 0
v = 11
value = (parent,vel y)

[State 1711, 1]
type = velset
trigger1 = time = 27
x = var(10)
y = var(11)


[State 1711, 1]
type = changeanim
trigger1 = time = 27
value = 10601

[State 601, 2]
type = HitDef
trigger1 = animelem = 1
attr = A, NA
damage    = 17
guardflag = HA
priority = 3
pausetime = 12,14
sparkno = 0
sparkxy = -10,-20
hitsound   = S3,47
guardsound = S3,61
ground.type = low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5
air.velocity = -1.5,-3
guard.sparkno =S3010

[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H
trigger3 = pos Y >= -1


;------------------------------------------------------------
;残像
[Statedef 10611]
type = A
physics = A
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 1711, 1]
type = velset
trigger1 = time < 27
x = 0
y = 0

[State 1711, 1]
type = varset
trigger1 = time = 0
v = 10
value = (parent,vel x)

[State 1711, 1]
type = varset
trigger1 = time = 0
v = 11
value = (parent,vel y)

[State 1711, 1]
type = velset
trigger1 = time = 27
x = var(10)
y = var(11)


[State 1711, 1]
type = changeanim
trigger1 = time = 27
value = 10611

[State 611, 3]
type = HitDef
trigger1 = animelem = 1
attr = A, NA
damage = 47
guardflag = HA
priority = 4
pausetime = 5,15
sparkno = 1
sparkxy = -10,0
hitsound   = S3,31
guardsound = S3,61
animtype = hard
ground.type = low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5
air.velocity = -2,-3.2
guard.sparkno =S3011


[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H
trigger3 = pos Y >= -1


;------------------------------------------------------------
;残像
[Statedef 10621]
type = A
physics = A
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 1711, 1]
type = velset
trigger1 = time < 27
x = 0
y = 0

[State 1711, 1]
type = varset
trigger1 = time = 0
v = 10
value = (parent,vel x)

[State 1711, 1]
type = varset
trigger1 = time = 0
v = 11
value = (parent,vel y)

[State 1711, 1]
type = velset
trigger1 = time = 27
x = var(10)
y = var(11)


[State 1711, 1]
type = changeanim
trigger1 = time = 27
value = 10621

[State 621, 2]
type = HitDef
trigger1 = animelem = 1
attr = A, NA
damage = 15
guardflag = HA
priority = 3
pausetime = 11,14
sparkno = 0
sparkxy = -5,-30
hitsound   = S3,47
guardsound = S3,61
ground.type = low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5
air.velocity = -2,-3
guard.sparkno =S3010


[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H
trigger3 = pos Y >= -1


;------------------------------------------------------------
;残像
[Statedef 10631]
type = A
physics = A
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 1711, 1]
type = velset
trigger1 = time < 27
x = 0
y = 0

[State 1711, 1]
type = varset
trigger1 = time = 0
v = 10
value = (parent,vel x)

[State 1711, 1]
type = varset
trigger1 = time = 0
v = 11
value = (parent,vel y)

[State 1711, 1]
type = velset
trigger1 = time = 27
x = var(10)
y = var(11)


[State 1711, 1]
type = changeanim
trigger1 = time = 27
value = 10631

[State 631, 3]
type = HitDef
trigger1 = animelem = 1
attr = A, NA
damage    = 30
guardflag = HA
priority = 4
pausetime = 8,14
sparkno = 2
sparkxy = 0,-45
hitsound   = S3,22
guardsound = S3,61
animtype = Med
ground.type = low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5
air.velocity = -2.2,-3
guard.sparkno =S3011

[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H
trigger3 = pos Y >= -1




;------------------------------------------------------------
;残像
[Statedef 10636]
type = A
physics = A
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 1711, 1]
type = velset
trigger1 = time < 27
x = 0
y = 0

[State 1711, 1]
type = varset
trigger1 = time = 0
v = 10
value = (parent,vel x)

[State 1711, 1]
type = varset
trigger1 = time = 0
v = 11
value = (parent,vel y)

[State 1711, 1]
type = velset
trigger1 = time = 27
x = var(10)
y = var(11)


[State 1711, 1]
type = changeanim
trigger1 = time = 27
value = 10636

[State 631, 3]
type = HitDef
trigger1 = animelem = 1
attr = A, NA
damage    = 30
guardflag = HA
priority = 4
pausetime = 12,14
sparkno = 1
sparkxy = 0,-45
hitsound   = S3,49
guardsound = S3,61
animtype = Med
ground.type = low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5
air.velocity = -2.2,-3
guard.sparkno =S3011

[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H
trigger3 = pos Y >= -1

;------------------------------------------------------------
;残像
[Statedef 10240]
type = S
physics = N
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 1711, 1]
type = changeanim
trigger1 = time = 27
value = 10240

[State 240, 2]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype  = back
damage    = 75
guardflag = M
pausetime = 11,8
sparkno = 2
sparkxy = -10,-75
hitsound   = S3,31
guardsound = S3,62
ground.type = High
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -3,-5
air.velocity = -3,-5
fall = 1
fall.recover = 0
guard.sparkno =S3011


[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H


;------------------------------------------------------------
;残像
[Statedef 10640]
type = A
physics = A
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 1711, 1]
type = velset
trigger1 = time < 27
x = 0
y = 0

[State 1711, 1]
type = varset
trigger1 = time = 0
v = 10
value = (parent,vel x)

[State 1711, 1]
type = varset
trigger1 = time = 0
v = 11
value = (parent,vel y)

[State 1711, 1]
type = velset
trigger1 = time = 27
x = var(10)
y = var(11)


[State 1711, 1]
type = changeanim
trigger1 = time = 27
value = 10640

[State 640, 2]
type = HitDef
trigger1 = movecontact = 0
attr = S, NA
animtype  = back
damage    = 70
guardflag = H
pausetime = 12,9
sparkno = S3004
sparkxy = -10,-40
hitsound   = S3,21
guardsound = S3,62
ground.type = low
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -5.5,-5
air.velocity = -4,-5
fall = 1
fall.recover = 0
guard.sparkno =S3011

[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H
trigger3 = pos Y >= -1



;------------------------------------------------------------
;残像
[Statedef 10203]
type = S
physics = N
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1


[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 11000, 1]
type = changeanim
trigger1 = time = 27
value = 10203

[State 203, 1]
type = HitDef
triggerall = movecontact = 0
triggerall = P2StateType != A
trigger1 = AnimElem = 1
attr = S, SA
animtype  = hard
damage    = 35
guardflag = MA
hitflag = MA
pausetime = 1,4
sparkno = 1
sparkxy = 0,-70
hitsound   = S3,31                 
guardsound = S3,61
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -8.5
air.velocity = -2.2,-3.2
guard.velocity = -13
guard.slidetime = 15
guard.pausetime = 2,7
guard.hittime = 15
guard.sparkno =S3011

[State 203, 1]
type = HitDef
triggerall = movecontact = 0
triggerall = P2StateType = A
trigger1 = AnimElem = 1
attr = S, SA
animtype  = hard
damage    = 35
guardflag = MA
hitflag = MA
pausetime = 1,4
sparkno = 1
sparkxy = 0,-70
hitsound   = S3,31                  
guardsound = S3,61
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -8.5
air.velocity = -2.2,-3.2
fall = 1
fall.recover = 0
guard.velocity = -13
guard.slidetime = 15
guard.pausetime = 2,7
guard.hittime = 15
guard.sparkno =S3011

[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H



;------------------------------------------------------------
;残像
[Statedef 10212]
type = S
physics = N
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 11000, 1]
type = changeanim
trigger1 = time = 27
value = 10212

[State 212, 1]
type = HitDef
triggerall = movecontact = 0
triggerall = P2StateType != A
trigger1 = AnimElem = 1
attr = S, SA
animtype  = hard
damage    = 35
guardflag = MA
hitflag = MA
pausetime = 1,4
sparkno = 1
sparkxy = -10,-40
hitsound   = S3,31             
guardsound = S3,61
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -8.5
air.velocity = -2.2,-3.2
guard.velocity = -13
guard.slidetime = 15
guard.pausetime = 2,7
guard.hittime = 15
guard.sparkno =S3011

[State 212, 1]
type = HitDef
triggerall = movecontact = 0
triggerall = P2StateType = A
trigger1 = AnimElem = 1
attr = S, SA
animtype  = hard
damage    = 35
guardflag = MA
hitflag = MA
pausetime = 1,4
sparkno = 1
sparkxy = -10,-40
hitsound   = S3,31                 
guardsound = S3,61
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -8.5
air.velocity = -2.2,-3.2
fall = 1
fall.recover = 0
guard.velocity = -13
guard.slidetime = 15
guard.pausetime = 2,7
guard.hittime = 15
guard.sparkno =S3011



[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H



;------------------------------------------------------------
;残像
[Statedef 11000]
type = S
physics = N
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 11000, 1]
type = changeanim
trigger1 = time = 27
value = 11000

[State 11000, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype  = back
damage    = 25,1
guardflag = MA
hitflag = MA
pausetime = 4,7
sparkno = 2
sparkxy = -10,-70
hitsound   = S3,31           
guardsound = S3,62
ground.type = high
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -7,-9
air.velocity = -5,-7
fall = 1
fall.recover = 0
guard.velocity = -15
guard.slidetime = 15
guard.pausetime = 5,13
guard.hittime = 15
guard.sparkno =S3012


[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H


;------------------------------------------------------------
;残像
[Statedef 11100]
type = A
physics = N
movetype = A
anim = 10000
;velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 1711, 1]
type = varset
trigger1 = time = 0
v = 10
value = (parent,vel x)

[State 1711, 1]
type = varset
trigger1 = time = 0
v = 11
value = (parent,vel y)

[State 1711, 1]
type = velset
trigger1 = time < 27
x = 0
y = 0

[State 1711, 1]
type = velset
trigger1 = time = 27
x = var(10)
y = var(11)

[State 11000, 1]
type = changeanim
trigger1 = time = 27
value = 11100


[State 1100, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype  = back
damage    = 45,2
guardflag = A
hitflag = A
pausetime = 12,12
sparkno = 2
sparkxy = 0,-60
hitsound   = S3,50                 
guardsound = S3,62
ground.type = high
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -3,-5
air.velocity = -3,-4
fall = 1
fall.recover = 0
guard.sparkno =S3012

[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H
trigger3 = pos Y >= -1


;------------------------------------------------------------
;残像
[Statedef 11101]
type = A
physics = N
movetype = A
anim = 10000
;velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 1711, 1]
type = varset
trigger1 = time = 0
v = 10
value = (parent,vel x)

[State 1711, 1]
type = varset
trigger1 = time = 0
v = 11
value = (parent,vel y)

[State 1711, 1]
type = velset
trigger1 = time < 27
x = 0
y = 0

[State 1711, 1]
type = velset
trigger1 = time = 27
x = var(10)
y = var(11)

[State 11000, 1]
type = changeanim
trigger1 = time = 27
value = 11101


[State 11000, 2]
type = HitDef
Trigger1 = animelem = 1
attr = S, SA
pausetime = 5,0
guardflag = MA
hitflag = MA
hitsound = S3,50               
guardsound = S3,62
damage = 60,2
;snap = 35, 0
sparkno = 2
sparkxy = 0,0
p2facing = 1
p2stateno = 1150
;p2getp1state = 1
guard.velocity = -5
guard.slidetime = 15
guard.pausetime = 5,13
guard.hittime = 15
guard.sparkno =S3012

[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H
trigger3 = pos Y >= -1


;------------------------------------------------------------
;残像
[Statedef 11300]
type = S
physics = N
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 11000, 1]
type = changeanim
trigger1 = time = 27
value = 11300

[State 1300, 1]
type = HitDef
trigger1 = AnimElem = 1
trigger1 = P2StateType != A
attr = S, SA
animtype  = hard
damage    = 10,1
guardflag = MA
hitflag = MA
pausetime = 4,5
sparkno = 1
sparkxy = -10,-30
hitsound   = S3,31               
guardsound = S3,62
ground.type = high
ground.slidetime = 12
ground.hittime  = 14
ground.velocity = -12
air.velocity = -5,-5
guard.velocity = -15
guard.slidetime = 15
guard.pausetime = 5,13
guard.hittime = 15
guard.sparkno =S3012


[State 1300, 1]
type = HitDef
trigger1 = AnimElem = 1
trigger1 = P2StateType = A
attr = S, SA
animtype  = hard
damage    = 10,1
guardflag = MA
hitflag = MA
pausetime = 4,5
sparkno = 1
sparkxy = -10,-30
hitsound   = S3,31                 
guardsound = S3,62
ground.type = high
ground.slidetime = 12
ground.hittime  = 14
ground.velocity = -12
air.velocity = -5,-5
fall = 1
fall.recover = 0
guard.velocity = -15
guard.slidetime = 15
guard.pausetime = 5,13
guard.hittime = 15
guard.sparkno =S3012


[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H



;------------------------------------------------------------
;残像
[Statedef 11400]
type = S
physics = N
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 11000, 1]
type = changeanim
trigger1 = time = 27
value = 11400

[State 1400, 1]
type = HitDef
trigger1 = AnimElem = 1
trigger1 = P2StateType != A
attr = S, SA
animtype  = hard
damage    = 10,1
guardflag = MA
hitflag = MA
pausetime = 4,8
sparkno = 1
sparkxy = -10,-65
hitsound   = S3,31                 
guardsound = S3,62
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -11
air.velocity = -5,-5
guard.velocity = -15
guard.slidetime = 15
guard.pausetime = 5,13
guard.hittime = 15
guard.sparkno =S3012


[State 1400, 1]
type = HitDef
trigger1 = AnimElem = 1
trigger1 = P2StateType = A
attr = S, SA
animtype  = hard
damage    = 10,1
guardflag = MA
hitflag = MA
pausetime = 4,8
sparkno = 1
sparkxy = -10,-65
hitsound   = S3,31                
guardsound = S3,62
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -7
air.velocity = -5,-5
fall = 1
fall.recover = 0
guard.velocity = -15
guard.slidetime = 15
guard.pausetime = 5,13
guard.hittime = 15
guard.sparkno =S3012


[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H

;------------------------------------------------------------
;残像
[Statedef 11500]
type = S
physics = N
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 11000, 1]
type = changeanim
trigger1 = time = 27
value = 11500

[State 1500, 1]
type = HitDef
trigger1 = AnimElem = 1
trigger1 = P2StateType != A
attr = S, SA
animtype  = hard
damage    = 20,1
guardflag = H
hitflag = MA
pausetime = 3,8
sparkno = 1
sparkxy = -10,-40
hitsound   = S3,31                
guardsound = S3,62
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -15
air.velocity = -5,-5
guard.velocity = -15
guard.slidetime = 15
guard.pausetime = 5,13
guard.hittime = 15
guard.sparkno =S3012



[State 1500, 1]
type = HitDef
trigger1 = AnimElem = 1
trigger1 = P2StateType = A
attr = S, SA
animtype  = hard
damage    = 20,1
guardflag = H
hitflag = MA
pausetime = 3,8
sparkno = 1
sparkxy = -10,40
hitsound   = S3,31                 
guardsound = S3,62
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -15
air.velocity = -5,-5
fall = 1
fall.recover = 0
guard.velocity = -15
guard.slidetime = 15
guard.pausetime = 5,13
guard.hittime = 15
guard.sparkno =S3012


[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H




;------------------------------------------------------------
;残像
[Statedef 11550]
type = S
physics = N
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1


[State 11000, 1]
type = changeanim
trigger1 = time = 27
value = 11550

[State 1500, 1]
type = HitDef
trigger1 = AnimElem = 9
attr = S, SA
animtype  = hard
damage    = 10,1
guardflag = M
hitflag = MA
pausetime = 12,6
sparkno = 1
sparkxy = -10,-60
hitsound   = S3,31               
guardsound = S3,62
ground.type = high
ground.slidetime = 20
ground.hittime  = 32
ground.velocity = 12
air.velocity = 12,0
p2stateno = 1510
p2getp1state = 1
p2facing = 1
guard.velocity = -15
guard.slidetime = 20
guard.pausetime = 5,13
guard.hittime = 20
guard.sparkno =S3012
HitOnce = 0


[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H






;------------------------------------------------------------
;残像
[Statedef 11601]
type = A
physics = N
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1



[State 11000, 1]
type = changeanim
trigger1 = time = 27
value = 11601


[State 1601, 1]
type = HitDef
trigger1 = movecontact = 0
attr = A, SA
animtype  = back
damage    = 70,3
guardflag = M
hitflag = MA
pausetime = 0,0
sparkno = 2
sparkxy = 0,-40
hitsound   = S3,50                 
guardsound = S3,62
ground.type = high
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -4,-6
air.velocity = -4,-6
fall = 1
fall.recover = 0
guard.velocity = -10
guard.slidetime = 12
guard.pausetime = 3,12
guard.hittime = 12
guard.sparkno =S3012

[State 1601, 1]
type = posadd
trigger1 = animelem = 1
trigger1 = anim = 11601
x = 28
y = -15

[State 1601, 1]
type = posadd
trigger1 = animelem = 2
trigger1 = anim = 11601
x = 0
y = 25

[State 1601, 1]
type = posadd
trigger1 = animelem = 3
trigger1 = anim = 11601
x = 20
y = 10


[State 1601, 1]
type = posadd
trigger1 = animelem = 5
trigger1 = anim = 11601
x = 40
y = 15

[State 1601, 1]
type = posadd
trigger1 = animelem = 6
trigger1 = anim = 11601
x = 10
y = 5

[State 1601, 1]
type = posadd
trigger1 = animelem = 7
trigger1 = anim = 11601
x = 20
y = 5

[State 1601, 1]
type = posadd
trigger1 = animelem = 8
trigger1 = anim = 11601
x = 20
y = 0

[State 1601, 1]
type = posadd
trigger1 = animelem = 9
trigger1 = anim = 11601
x = 20
y = 0

[State 1601, 1]
type = posadd
trigger1 = animelem = 10
trigger1 = anim = 11601
x = 20
y = -3

[State 1601, 1]
type = posadd
trigger1 = animelem = 11
trigger1 = anim = 11601
x = 10
y = -5

[State 1601, 1]
type = posadd
trigger1 = animelem = 12
trigger1 = anim = 11601
x = 20
y = -10

[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H




;------------------------------------------------------------
;残像
[Statedef 11611]
type = A
physics = N
movetype = A
anim = 10000
velset = 0,0,0
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1


[State 11000, 1]
type = changeanim
trigger1 = time = 27
value = 11601


[State 1611, 1]
type = HitDef
trigger1 = movecontact = 0
attr = A, SA
animtype  = back
damage    = 70,3
guardflag = M
hitflag = MA
pausetime = 0,0
sparkno = 2
sparkxy = 0,-40
hitsound   = S3,50                 
guardsound = S3,62
ground.type = high
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -4,-6
air.velocity = -4,-6
fall = 1
fall.recover = 0
guard.velocity = -10
guard.slidetime = 12
guard.pausetime = 3,8
guard.hittime = 12
guard.sparkno =S3012


[State 1611, 1]
type = posadd
trigger1 = animelem = 1
trigger1 = anim = 11601
x = 28
y = -15

[State 1611, 1]
type = posadd
trigger1 = animelem = 2
trigger1 = anim = 11601
x = 0
y = 25

[State 1611, 1]
type = posadd
trigger1 = animelem = 3
trigger1 = anim = 11601
x = 20
y = 10


[State 1611, 1]
type = posadd
trigger1 = animelem = 5
trigger1 = anim = 11601
x = 40
y = 20

[State 1611, 1]
type = posadd
trigger1 = animelem = 6
trigger1 = anim = 11601
x = 10
y = 9

[State 1611, 1]
type = posadd
trigger1 = animelem = 7
trigger1 = anim = 11601
x = 20
y = 9

[State 1611, 1]
type = posadd
trigger1 = animelem = 8
trigger1 = anim = 11601
x = 20
y = 0

[State 1611, 1]
type = posadd
trigger1 = animelem = 9
trigger1 = anim = 11601
x = 20
y = 0

[State 1611, 1]
type = posadd
trigger1 = animelem = 10
trigger1 = anim = 11601
x = 20
y = -4

[State 1611, 1]
type = posadd
trigger1 = animelem = 11
trigger1 = anim = 11601
x = 10
y = -7

[State 1611, 1]
type = posadd
trigger1 = animelem = 12
trigger1 = anim = 11601
x = 20
y = -13

[State 10000, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H




;------------------------------------------------------------
;残像
[Statedef 11720]
type = C
physics = N
movetype = A
anim = 10000
velset = 0,0,0
;juggle  = 2                    
ctrl = 0

[State 2000, 4]
type = nothitby
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1


[State 1010, Override]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000
time = -1

[State 11000, 1]
type = changeanim
trigger1 = time = 27
value = 11720

[State 11000, 1]
type = palfx
trigger1 = time >= 27
mul = 0, 0, 150
time = 1

[State 1700, 2009]
type = Explod
trigger1 = time = 27
anim = 3022
ID = 3022
pos = 0, 10
;random = 20,20 
postype = p1
facing = 1
vel = 0, 0
removetime = -2
sprpriority = 2
ontop = 0
bindtime = -1
persistent = 0
ignorehitpause = 1
ownpal = 0
mul = 0, 0, 150

[State 1720, 1]
type = HitDef
trigger1 = time >= 30
trigger1 = movecontact = 0
trigger1 = P2Stateno != 5110
attr = C, SA
animtype  = back
damage    = 25,2
guardflag = L
hitflag = MD
pausetime = 0,0
sparkno = 0
sparkxy = 0,0
hitsound   = S3,41                  
guardsound = S3,61
ground.type = low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -3.5,-5.5
air.velocity = -3.5,-5.5
guard.velocity = -5
guard.slidetime = 8
guard.pausetime = 8,8
guard.hittime = 8
guard.sparkno =S3011


[State 1720, 1]
type = HitDef
trigger1 = time >= 30
trigger1 = movecontact = 0
trigger1 = P2Stateno = 5110
attr = C, SA
animtype  = back
damage    = 10,1
guardflag = L
hitflag = MDF
pausetime = 0,0
sparkno = 0
sparkxy = 0,0
hitsound   = S3,41                  
guardsound = S3,61
ground.type = low
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -3,-4
air.velocity = -3,-4
fall = 1
fall.recover = 0
guard.velocity = -5
guard.slidetime = 8
guard.pausetime = 8,8
guard.hittime = 8
guard.sparkno =S3011

[State 1720, 1]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H








;------------------------------------------------------------
;残像
[Statedef 15000]
type = A
physics = N
;movetype = A
movetype = H
anim = 10000
velset = 0,0,0
;juggle  = 2                    
ctrl = 0

[State 15000, 1]
type = destroyself
trigger1 = time = 0


------super
[State 3200, 8]
type = Helper
triggerall = prevstateno = 1100 || prevstateno = 1205
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 3500
stateno = 3500
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1



;///////////////////////////////////////////////////////////////////////
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;コンボによるダメージ補正
;//////////////////////////////////////////////////////////////////////////
; 
;ネバリ補正関係
[state a];第一段階
type = varset
trigger1 = enemy,life >= 400
v = 26
value = 0

[state a];第二段階
type = varset
trigger1 = enemy,life <= 399 && enemy,life >= 150
v = 26
value = 1

[state a];第三段階
type = varset
trigger1 = enemy,life <= 149
v = 26
value = 2


[state a]
type = varset
trigger1 = 1
fvar(0) = 1.0

[state a]
type = varset
trigger1 = 1
fvar(2) = 0.0

[state a]
type = varset
trigger1 = var(14) >= 1
fvar(2) = 0.1

[state a];補正
type = varset
trigger1 = enemy,movetype = H
trigger1 = enemy,gethitvar(hitcount) > 1
fvar(0) = ((100.0-(25.0+(enemy,gethitvar(hitcount)/2.0)*5.0))/100.0)

[state a];補正
type = varset
trigger1 = stateno = 2201
fvar(0) = 1.0


[state a]
type = attackmulset
trigger1 = var(26) = 0
value = fvar(0) + fvar(2)

[state a]
type = attackmulset
trigger1 = var(26) = 1
value = (fvar(0) + fvar(2))*0.75

[state a]
type = attackmulset
trigger1 = var(26) = 2
value = (fvar(0) + fvar(2))*0.8


[state a]
type = DefenceMulSet
trigger1 = var(14) = 1
value = 1



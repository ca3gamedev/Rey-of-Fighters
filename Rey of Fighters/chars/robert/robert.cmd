;-| AI |-----------------------------------------------------------------------
[Command]
name = "CPU1"
command = U, D, F, U, D, U, B, F, U, D, F, z, z, z
time = 1

[Command]
name = "CPU2"
command = U, D, F, U, D, U, B, F, U, D, F, z, z, z
time = 1

[Command]
name = "CPU3"
command = U, D, F, U, D, U, B, F, U, D, F, z, z, z
time = 1

[Command]
name = "CPU4"
command = F, B, U, U, D, F, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU5"
command = U, F, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU6"
command = U, D, B, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU7"
command = F, F, B, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU8"
command = U, D, U, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU9"
command = F, B, B, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU10"
command = F, F, B, B, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU11"
command = U, U, F, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU12"
command = U, B, B, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU13"
command = U, B, F, F, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU14"
command = U, F, B, U, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU15"
command = U, B, F, U, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU16"
command = U, B, B, B, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU17"
command = U, D, B, F, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU18"
command = U, D, B, D, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU19"
command = U, D, F, U, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU20"
command = U, D, U, B, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU21"
command = U, D, F, F, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU22"
command = F, F, F, F, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU23"
command = U, U, U, D, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU24"
command = B, B, B, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU25"
command = D, D, D, D, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU26"
command = D, D, D, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU27"
command = F, F, F, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU28"
command = U, U, U, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU29"
command = U, U, B, B, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU30"
command = D, D, F, F, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU31"
command = U, D, F, U, D, U, B, F, U, D, F, z, z, z
time = 1

[Command]
name = "CPU32"
command = U, D, F, U, D, U, B, F, U, D, F, z, z, z
time = 1

[Command]
name = "CPU33"
command = U, D, F, U, D, U, B, F, U, D, F, z, z, z
time = 1

[Command]
name = "CPU34"
command = F, B, U, U, D, F, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU35"
command = U, F, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU36"
command = U, D, B, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU37"
command = F, F, B, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU38"
command = U, D, U, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU39"
command = F, B, B, U, B, U, D, F, z, z, z
time = 1

[Command]
name = "CPU40"
command = F, F, B, B, U, B, U, D, F, z, z, z
time = 1

;-| AI |-----------------------------------------------------------------------

;-| MAX2 Desperation Move(s) |-------------------------------------------------

; 02-ROBERT
[Command]
name = "Zetsu Ryuuko Ranbu"
command = ~D,DF,F,DF,D,B, a+b
time = 25

; EX-ROBERT
[Command]
name = "Metsu Ryuuko Ranbu"
command = ~D,DF,F,DF,D,B, a+b
time = 25

;-| MAX  Desperation Move(s) |-------------------------------------------------

; 02-ROBERT & EX-ROBERT
[Command]
name = "Ryuuko Ranbu3"
command = ~D, DF, F, DF, D, DB, B, x+y
time = 25

;-| Desperation Move(s) |------------------------------------------------------

; 02-ROBERT & EX-ROBERT
[Command]
name = "Haohshoukoken1"
command = ~F,B,DB,D,F, x
time = 23

; 02-ROBERT & EX-ROBERT
[Command]
name = "Haohshoukoken2"
command = ~F,B,DB,D,F, y
time = 23

; 02-ROBERT
[Command]
name = "Ryuuko Ranbu1"
command = ~D,DF,F,DF,D,B, x
time = 27

; 02-ROBERT
[Command]
name = "Ryuuko Ranbu2"
command = ~D,DF,F,DF,D,B, y
time = 27

; 02-ROBERT
[Command]
name = "Kuzuryuusen1"
command = ~D,DF,F,D,DF,F, a
time = 23

; 02-ROBERT
[Command]
name = "Kuzuryuusen2"
command = ~D,DF,F,D,DF,F, b
time = 23

; EX-ROBERT
[Command]
name = "ex-Ryuuko Ranbu1"
command = D,DF,F,DF,D,B, x
time = 27

; EX-ROBERT
[Command]
name = "ex-Ryuuko Ranbu2"
command = D,DF,F,DF,D,B, y
time = 27

; EX-ROBERT
[Command]
name = "ex-Kuzuryuusen1"
command = ~D, DF, F, D, DF, F, a
time = 23

; EX-ROBERT
[Command]
name = "ex-Kuzuryuusen1"
command = ~D, DF, F, D, DF, F, b
time = 23

;-| Special Move(s) |----------------------------------------------------------

;02
[Command]
name = "UpperW"
command = ~F,D,DF, x
time = 15

;02
[Command]
name = "UpperS"
command = ~F,D,DF, y
time = 15

; EX-ROBERT
[Command]
name = "exkouken1"
command = ~17$B, $F, x

; EX-ROBERT
[Command]
name = "exkouken2"
command = ~17$B, $F, y

;Weak Kouken
[Command]
name = "koukenW"
command = ~D,DF,F, x
time = 10

;Strong Kouken
[Command]
name = "koukenS"
command = ~D,DF,F, y
time = 10

; EX-ROBERT
[Command]
name = "exAhienW"
command = DF, a
time = 15

; EX-ROBERT
[Command]
name = "exAhienS"
command = DF, b
time = 15

; EX-ROBERT
[Command]
name = "exAhienW"
command = ~D,DF, a
time = 15

; EX-ROBERT
[Command]
name = "exAhienS"
command = ~D,DF, b
time = 15

;Weak Air Hien
[Command]
name = "AhienW"
command = ~D,DB,B, a
time = 15

;Strong Air Hien
[Command]
name = "AhienS"
command = ~D,DB,B, b
time = 15

;Hien Shippu Kyaku
[Command]
name = "hienW"
command = ~F,D,DB,B, a
time = 15

;Hien Shippu Kyaku
[Command]
name = "hienS"
command = ~F,D,DB,B, b
time = 15

;Hien Shippu Kyaku
[Command]
name = "hienW"
command = ~10$B, $F, a
time = 15

;Hien Shippu Kyaku
[Command]
name = "hienS"
command = ~10$B, $F, b
time = 15

;Supreme Dance
[Command]
name = "dance"
command = ~B,D,DF,F, a
time = 15

;Supreme Dance
[Command]
name = "dance"
command = ~B,D,DF,F, b
time = 15

[Command]
name = "zanretsuW"
command = ~F, B, F, a

[Command]
name = "zanretsuS"
command = ~F, B, F, b

;EX Ryuuzan Shou
[Command]
name = "Ryuuzan Shou1"
command = ~15$D, U, a

;EX Ryuuzan Shou
[Command]
name = "Ryuuzan Shou2"
command = ~15$D, $U, b

[Command]
name = "exdance"
command = ~15$D, U, x

[Command]
name = "exdance"
command = ~15$D, U, y

[Command]
name = "longjump"
command = D, $U
time = 12

;-| Double Tap |-----------------------------------------------------------

[Command]
name = "FF"
command = F, F
time = 10

[Command]
name = "BB"
command = B, B
time = 10

;-| 2 Button Combination |-----------------------------------------------

[Command]
name = "roll"
command = x+a
time = 1

[Command]
name = "knockdown"
command = y+b
time = 1

[Command]
name = "recovery"
command = x+a
time = 1

[Command]
name = "recovery"
command = z
time = 1

;-| Single Button |------------------------------------------------------------
[Command]
name = "a"
command = a
time = 1

[Command]
name = "b"
command = b
time = 1

[Command]
name = "c"
command = c
time = 1

[Command]
name = "x"
command = x
time = 1

[Command]
name = "y"
command = y
time = 1

[Command]
name = "z"
command = z
time = 1

[Command]
name = "s"
command = s
time = 1

;-| Hold Dir |--------------------------------------------------------------

[Command]
name = "holdfwd"
command = /$F
time = 1

[Command]
name = "holdback"
command = /$B
time = 1

[Command]
name = "holdup"
command = /$U
time = 1

[Command]
name = "holddown"
command = /$D
time = 1


[Statedef -1]
;=========================
; COMBO VAR 
;=========================
[State -1, Combo1]
type = Varset
trigger1 = 1
var(39) = 0

[State -1, Combo2]
type = Varset
trigger1 = (stateno = 210) && animelemtime(3) > 0  && animelemtime(4) < 0 && movetype = A && movecontact
trigger2 = (stateno = 230) && animelemtime(3) > 0 && animelemtime(4) < 0 && movetype = A && movecontact
trigger3 = (stateno = 250) && animelemtime(4) > 0 && animelemtime(6) < 0 && movetype = A && movecontact
trigger4 = (stateno = 270) && animelemtime(3) > 0 && animelemtime(4) < 0 && movetype = A && movecontact
trigger5 = (stateno = 400) && animelemtime(2) > 0 && animelemtime(3) < 0 && movetype = A && movecontact
trigger6 = (stateno = 420) && animelemtime(2) > 0 && animelemtime(3) < 0 && movetype = A && movecontact
trigger7 = (stateno = 440) && animelemtime(3) > 0 && animelemtime(4) < 0 && movetype = A && movecontact
trigger8 = (stateno = 460) && animelemtime(3) > 0 && animelemtime(4) < 0 && movetype = A && movecontact
trigger9 = (stateno = 310) && animelemtime(6) > 0 && animelemtime(7) < 0 && movetype = A && movecontact
trigger10 = (stateno = 320) && animelemtime(6) > 0 && animelemtime(8) < 0 && movetype = A && movecontact
trigger11 = (stateno = 335) && animelemtime(5) > 0 && animelemtime(6) < 0 && movetype = A && movecontact
trigger12 = (stateno = 280) && animelemtime(5) > 0 && animelemtime(6) < 0 && movetype = A && movecontact
trigger13 = (stateno = 311) && animelemtime(6) > 0 && animelemtime(7) < 0 && movetype = A && movecontact
ignorehitpause = 1
var(39) = var(39) | 1

[State -1, fakeCombo]
type = Varset
trigger1 = 1
var(42) = 0

[State -1, Combo2]
type = Varset
trigger1 = (stateno = 250) && animelemtime(4) > 1 && animelemtime(5) <= 3
trigger2 = (stateno = 270) && animelemtime(3) > 1 && animelemtime(3) <= 8
trigger3 = (stateno = 440) && animelemtime(3) > 1 && animelemtime(3) <= 2
trigger4 = (stateno = 460) && animelemtime(3) > 1 && animelemtime(3) <= 5
trigger5 = (stateno = 280) && animelemtime(5) > 0 && animelemtime(5) <= 4
ignorehitpause = 1
var(42) = var(42) | 1

[State -1, AirCombo1]
type = Varset
trigger1 = 1
var(40) = 0

[State -1, Combo2]
type = Varset
trigger1 = (stateno = 640) && animelemtime(2) > 0  && animelemtime(3) < 0 && movetype = A && movecontact 
trigger2 = (stateno = 650) && animelemtime(2) > 0  && animelemtime(3) < 0 && movetype = A && movecontact 
trigger3 = (stateno = 660) && animelemtime(3) > 0  && animelemtime(4) < 0 && movetype = A && movecontact 
trigger4 = (stateno = 670) && animelemtime(3) > 0  && animelemtime(4) < 0 && movetype = A && movecontact 
trigger5 = (stateno = 305) && animelemtime(6) > 0  && animelemtime(7) < 0 && movetype = A && movecontact 
ignorehitpause = 1
var(40) = var(40) | 1

[State -1, EX Metsu Ryuuko Ranbu]
type = ChangeState
value = 3900
triggerall = var(20) = 0
triggerall = var(9) != 1
triggerall = command = "Metsu Ryuuko Ranbu"
triggerall = power >= 2000; && life <= 250
trigger1 = statetype != A && ctrl

[State -1, Ryuuko Ranbu3]
type = ChangeState
value = 3500
triggerall = var(9) != 1
triggerall = command = "Ryuuko Ranbu3"
triggerall = power >= 2000
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1
;DreamCancel
trigger4 = stateno = 3150
trigger5 = stateno = 3850
trigger6 = stateno = 3702 && movecontact

[State -1, EX Ryuuko Ranbu1]
type = ChangeState
value = 3800
triggerall = var(20) = 0
triggerall = var(9) != 1
triggerall = command = "ex-Ryuuko Ranbu1"
triggerall = power >= 1000
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1
;supercancel
trigger4 = stateno = 310 && movecontact

[State -1, EX Ryuuko Ranbu2]
type = ChangeState
value = 3801
triggerall = var(20) = 0
triggerall = var(9) != 1
triggerall = command = "ex-Ryuuko Ranbu2"
triggerall = power >= 1000
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1
;supercancel
trigger4 = stateno = 310 && movecontact

[State -1, EX Kuzuryuusen1]
type = ChangeState
value = 3700
triggerall = var(20) = 0
triggerall = command = "ex-Kuzuryuusen1"
triggerall = power >= 1000
trigger1 = statetype = S
trigger1 = ctrl = 1

[State -1, 02 Zetsu Ryuuko Ranbu]
type = ChangeState
value = 3600
triggerall = var(20) = 10
triggerall = var(9) != 1
triggerall = command = "Zetsu Ryuuko Ranbu"
triggerall = power >= 2000
;triggerall = life <= 250
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1

[State -1, Haohshoukoken]
type = ChangeState
value = 3000
triggerall = var(9) != 1
triggerall = command = "Haohshoukoken1"
triggerall = power >= 1000
triggerall = NumProj = 0
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1

[State -1, Haohshoukoken]
type = ChangeState
value = 3010
triggerall = var(9) != 1
triggerall = command = "Haohshoukoken2"
triggerall = power >= 1000
triggerall = NumProj = 0
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1

[State -1, 02 Ryuuko Ranbu]
type = ChangeState
value = 3100
triggerall = var(20) = 10
triggerall = var(9) != 1
triggerall = command = "Ryuuko Ranbu1"
triggerall = power >= 1000
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1

[State -1, 02 Ryuuko Ranbu]
type = ChangeState
value = 3101
triggerall = var(20) = 10
triggerall = var(9) != 1
triggerall = command = "Ryuuko Ranbu2"
triggerall = power >= 1000
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1

[State -1, 02 Kuzuryuusen]
type = ChangeState
value = 3200
triggerall = var(20) = 10
triggerall = var(9) != 1
triggerall = command = "Kuzuryuusen1"
triggerall = power >= 1000
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1

[State -1, 02 Kuzuryuusen]
type = ChangeState
value = 3200
triggerall = var(20) = 10
triggerall = var(9) != 1
triggerall = command = "Kuzuryuusen2"
triggerall = power >= 1000
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1

;==============
;SPECIAL MOVES
;==============

[State -1, WUpper]
type = ChangeState
value = 1100
triggerall = var(20) = 10
triggerall = var(9) != 1
triggerall = command = "UpperW"
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1

[State -1, SUpper]
type = ChangeState
value = 1110
triggerall = var(20) = 10
triggerall = var(9) != 1
triggerall = command = "UpperS"
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1

[State -1, EX Kouken]
type = ChangeState
value = 1710
triggerall = var(20) = 0
triggerall = var(9) != 1
triggerall = command = "exkouken1" && NumProj = 0
trigger1 = statetype != A && ctrl

[State -1, EX Kouken]
type = ChangeState
value = 1700
triggerall = var(20) = 0
triggerall = var(9) != 1
triggerall = command = "exkouken2" && NumProj = 0
trigger1 = statetype != A && ctrl

[State -1, Wkouken]
type = ChangeState
value = 1000
triggerall = var(20) = 10
triggerall = var(9) != 1
triggerall = command = "koukenW" && NumProj = 0
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1

[State -1, Skouken]
type = ChangeState
value = 1001
triggerall = var(20) = 10
triggerall = var(9) != 1
triggerall = command = "koukenS" && NumProj = 0
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1

[State -1, EX AhienW]
type = ChangeState
value = 1250
triggerall = var(20) = 0
triggerall = var(9) != 1
triggerall = command = "exAhienW"
trigger1 = statetype = A && ctrl
trigger2 = var(40) = 1
trigger3 = stateno = 106

[State -1, EX AhienS]
type = ChangeState
value = 1260
triggerall = var(20) = 0
triggerall = var(9) != 1
triggerall = command = "exAhienS"
trigger1 = statetype = A && ctrl
trigger2 = var(40) = 1
trigger3 = stateno = 106

[State -1, AhienW]
type = ChangeState
value = 1200
triggerall = var(20) = 10
triggerall = var(9) != 1
triggerall = command = "AhienW"
trigger1 = statetype = A && ctrl
trigger2 = var(40) = 1
trigger3 = stateno = 106

[State -1, AhienS]
type = ChangeState
value = 1210
triggerall = var(20) = 10
triggerall = var(9) != 1
triggerall = command = "AhienS"
trigger1 = statetype = A && ctrl
trigger2 = var(40) = 1
trigger3 = stateno = 106

[State -1, HienW]
type = ChangeState
value = 1600
triggerall = var(20) = 0
triggerall = command = "hienW"
trigger1 = ctrl && statetype != A
trigger2 = var(39) = 1
trigger3 = var(42) = 1

[State -1, HienW]
type = ChangeState
value = 1610
triggerall = var(20) = 0
triggerall = command = "hienS"
trigger1 = ctrl && statetype != A
trigger2 = var(39) = 1
trigger3 = var(42) = 1

[State -1, ZanretsuW]
type = ChangeState
value = 1500
triggerall = var(20) = 10
triggerall = command = "zanretsuW"
trigger1 = ctrl && statetype != A
trigger2 = var(39) = 1
trigger3 = var(42) = 1

[State -1, ZanretsuS]
type = ChangeState
value = 1510
triggerall = var(20) = 10
triggerall = command = "zanretsuS"
trigger1 = ctrl && statetype != A
trigger2 = var(39) = 1
trigger3 = var(42) = 1

[State -1, 02 Supreme Dance]
type = ChangeState
value = 1400
triggerall = var(20) = 10
triggerall = stateno != 100 && command = "dance" && p2bodydist x < 27
trigger1 = (p2statetype = S) || (p2statetype = C)
trigger1 =  statetype = S && p2movetype != H && ctrl

[State -1, SupremeCancel]
type = ChangeState
value = 1400
triggerall = var(20) = 10
triggerall = stateno != 100 && command = "dance" && p2bodydist x < 10
triggerall = (p2statetype = S) || (p2statetype = C)
triggerall =  statetype = S || statetype = C
triggerall =  movehit
trigger1 = (stateno = 210) && animelemtime(3) > 0  && animelemtime(4) < 0 && movetype = A && movecontact
trigger2 = (stateno = 230) && animelemtime(3) > 0 && animelemtime(4) < 0 && movetype = A && movecontact
trigger3 = (stateno = 250) && animelemtime(4) > 0 && animelemtime(6) < 0 && movetype = A && movecontact
trigger4 = (stateno = 270) && animelemtime(3) > 0 && animelemtime(4) < 0 && movetype = A && movecontact
trigger5 = (stateno = 400) && animelemtime(2) > 0 && animelemtime(3) < 0 && movetype = A && movecontact
trigger6 = (stateno = 420) && animelemtime(2) > 0 && animelemtime(3) < 0 && movetype = A && movecontact
trigger7 = (stateno = 440) && animelemtime(3) > 0 && animelemtime(4) < 0 && movetype = A && movecontact
trigger8 = (stateno = 310) && animelemtime(6) > 0 && animelemtime(7) < 0 && movetype = A && movecontact
trigger9 = (stateno = 335) && animelemtime(5) > 0 && animelemtime(6) < 0 && movetype = A && movecontact
ignorehitpause = 1

[State -1, EX Supreme Dance]
type = ChangeState
value = 1450
triggerall = var(20) = 0
triggerall = stateno != 100 && command = "exdance" && p2bodydist x < 27
triggerall = (p2statetype = S) || (p2statetype = C)
trigger1 =  p2statetype != L
trigger1 = statetype != A ;&& ctrl

[State -1, EX Ryuuzan Shou]
type = ChangeState
value = 1800
triggerall = var(20) = 0
triggerall = command = "Ryuuzan Shou1"
trigger1 = statetype != A ;&& ctrl

[State -1, EX Ryuuzan Shou]
type = ChangeState
value = 1850
triggerall = var(20) = 0
triggerall = command = "Ryuuzan Shou2"
trigger1 = statetype != A ;&& ctrl

;================
;THROWS
;================
;GrabY
[State -1, GrabY ]
type = ChangeState
value = 350
triggerall = command = "y"
triggerall = statetype = S && ctrl && stateno != 100
trigger1 = command = "holdfwd" && p2bodydist X < 3 && p2movetype != H
trigger1 = (p2statetype = S) || (p2statetype = C)
trigger2 = command = "holdback" && p2bodydist X < 5 && p2movetype != H
trigger2 = (p2statetype = S) || (p2statetype = C)

;GrabB
[State -1, GrabB ]
type = ChangeState
value = 360
triggerall = command = "b"
triggerall = statetype = S && ctrl && stateno != 100
trigger1 = command = "holdfwd" && p2bodydist X < 3 && p2movetype != H
trigger1 = (p2statetype = S) || (p2statetype = C)
trigger2 = command = "holdback" && p2bodydist X < 5 && p2movetype != H
trigger2 = (p2statetype = S) || (p2statetype = C)

;================
;BASIC COMMANDS
;================
; Taunt
[State -1]
type = ChangeState
value = 195
triggerall = var(9) = 0
triggerall = command = "s"
triggerall = stateno != 190
triggerall = command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl

; Run fwd
[State -1]
type = ChangeState
value = 100
triggerall = var(9) = 0
triggerall = command = "FF"
trigger1 = statetype = S
trigger1 = ctrl

; Step back
[State -1]
type = ChangeState
value = 105
triggerall = command = "BB"
trigger1 = statetype = S
trigger1 = ctrl

[State -1,rollB]
type = ChangeState
value = 701
triggerall = var(9) != 1
;triggerall = command = "roll" && command = "holdback"
triggerall = (command = "roll" || command = "z") && command = "holdback"
triggerall = life > 0 && statetype != A
trigger1 = ctrl
trigger2 = power >= 1000
trigger2 = stateno = [150,151]

[State -1,RollF] 
type = ChangeState
value = 700
triggerall = var(9) != 1
;triggerall = command = "roll" && command = "holdfwd"
triggerall = (command = "roll" || command = "z")
triggerall = life > 0 && statetype != A
trigger1 = ctrl
trigger2 = power >= 1000
trigger2 = stateno = [150,151]

[State -1,rollB Counter]
type = ChangeState
value = 710
triggerall = var(9) != 1
;triggerall = command = "roll" && command = "holdback"
triggerall = (command = "roll" || command = "z") && command = "holdback"
triggerall = power >= 1000 && life > 0 && statetype != A
trigger1 = stateno = 150 
trigger2 = stateno = 152 

[State -1,RollF counter]
type = ChangeState
value = 711
triggerall = var(9) != 1
;triggerall = command = "roll" && command = "holdfwd"
triggerall = (command = "roll" || command = "z")
triggerall = power >= 1000 && life > 0 && statetype != A
trigger1 = stateno = 150 
trigger2 = stateno = 152 

[State -1,CD counter]
type = ChangeState
value = 712
;triggerall = var(9) != 1
triggerall = command = "knockdown"
triggerall = power >= 1000 && life > 0 && statetype != A
trigger1 = stateno = 150 
trigger2 = stateno = 152 

[State -1,Knockdown]
type = ChangeState
value = 280
;triggerall = var(9) != 1
;triggerall = command = "knockdown"
triggerall = command = "knockdown" || command = "c"
trigger1 = statetype = S && ctrl 
trigger2 = power >= 1000
trigger2 = stateno = [150,151]

[State -1,JCD]
type = ChangeState
value = 689
triggerall = var(9) != 1
triggerall = command = "knockdown"
triggerall = statetype = A && ctrl
trigger1 = anim = 201
trigger2 = anim = 202

[State -1,JCD]
type = ChangeState
value = 680
triggerall = var(20) = 10
triggerall = var(9) != 1
;triggerall = command = "knockdown"
triggerall = command = "knockdown" || command = "c"
trigger1 = statetype = A && ctrl

[State -1, Blow Off]
type = ChangeState
value = 681
triggerall = var(20) = 0
triggerall = var(9) != 1
;triggerall = command = "knockdown"
triggerall = command = "knockdown" || command = "c"
trigger1 = statetype = A && ctrl

;===============
;BASIC ATTACKS
;===============
[State -1,FLPcancel]
type = ChangeState
value = 305
;triggerall = var(9) != 1
triggerall = command = "x" && command = "holdfwd"
triggerall = command != "holddown"
trigger1 = statetype = S && ctrl
trigger1 = (stateno = 210) && animelemtime(3) > 0  && animelemtime(4) < 0 && movetype = A && movecontact
trigger2 = (stateno = 230) && animelemtime(3) > 0 && animelemtime(4) < 0 && movetype = A && movecontact
trigger3 = (stateno = 250) && animelemtime(4) > 0 && animelemtime(6) < 0 && movetype = A && movecontact
trigger4 = (stateno = 270) && animelemtime(3) > 0 && animelemtime(4) < 0 && movetype = A && movecontact
trigger5 = (stateno = 400) && animelemtime(2) > 0 && animelemtime(3) < 0 && movetype = A && movecontact
trigger6 = (stateno = 420) && animelemtime(2) > 0 && animelemtime(3) < 0 && movetype = A && movecontact
trigger7 = (stateno = 440) && animelemtime(3) > 0 && animelemtime(4) < 0 && movetype = A && movecontact
trigger8 = (stateno = 460) && animelemtime(3) > 0 && animelemtime(4) < 0 && movetype = A && movecontact

[State -1,FLP]
type = ChangeState
value = 300
;triggerall = var(9) != 1
triggerall = command = "x" && command = "holdfwd"
triggerall = command != "holddown"
trigger1 = statetype = S && ctrl
trigger2 = (stateno = 250) && animelemtime(4) > 1 && animelemtime(5) <= 3
trigger3 = (stateno = 270) && animelemtime(3) > 1 && animelemtime(3) <= 8
trigger4 = (stateno = 440) && animelemtime(3) > 1 && animelemtime(3) <= 2
trigger5 = (stateno = 460) && animelemtime(3) > 1 && animelemtime(3) <= 5

[State -1,FLK]
type = ChangeState
value = 310
;triggerall = var(9) != 1
triggerall = command != "holddown"
triggerall = statetype = S && ctrl
trigger1 = command = "a" && command = "holdfwd" 
trigger2 = command = "a" && command = "holdback"

[State -1,FLKcancel1]
type = ChangeState
value = 311
;triggerall = var(9) != 1
triggerall = command != "holddown"
triggerall = command = "a" && command = "holdfwd" 
trigger1 = (stateno = 210) && animelemtime(3) > 0  && animelemtime(4) < 0 && movetype = A && movecontact
trigger2 = (stateno = 230) && animelemtime(3) > 0 && animelemtime(4) < 0 && movetype = A && movecontact
trigger3 = (stateno = 250) && animelemtime(4) > 0 && animelemtime(6) < 0 && movetype = A && movecontact
trigger4 = (stateno = 270) && animelemtime(3) > 0 && animelemtime(4) < 0 && movetype = A && movecontact
trigger5 = (stateno = 400) && animelemtime(2) > 0 && animelemtime(3) < 0 && movetype = A && movecontact
trigger6 = (stateno = 420) && animelemtime(2) > 0 && animelemtime(3) < 0 && movetype = A && movecontact
trigger7 = (stateno = 440) && animelemtime(3) > 0 && animelemtime(4) < 0 && movetype = A && movecontact
trigger8 = (stateno = 460) && animelemtime(3) > 0 && animelemtime(4) < 0 && movetype = A && movecontact
trigger9 = (stateno = 250) && animelemtime(4) > 1 && animelemtime(5) <= 3
trigger10 = (stateno = 270) && animelemtime(3) > 1 && animelemtime(3) <= 8
trigger11 = (stateno = 440) && animelemtime(3) > 1 && animelemtime(3) <= 2
trigger12 = (stateno = 460) && animelemtime(3) > 1 && animelemtime(3) <= 5

[State -1,FLKcancel2]
type = ChangeState
value = 311
;triggerall = var(9) != 1
triggerall = command != "holddown"
triggerall = command = "a" && command = "holdback"
trigger1 = (stateno = 210) && animelemtime(3) > 0  && animelemtime(4) < 0 && movetype = A && movecontact
trigger2 = (stateno = 230) && animelemtime(3) > 0 && animelemtime(4) < 0 && movetype = A && movecontact
trigger3 = (stateno = 250) && animelemtime(4) > 0 && animelemtime(6) < 0 && movetype = A && movecontact
trigger4 = (stateno = 270) && animelemtime(3) > 0 && animelemtime(4) < 0 && movetype = A && movecontact
trigger5 = (stateno = 400) && animelemtime(2) > 0 && animelemtime(3) < 0 && movetype = A && movecontact
trigger6 = (stateno = 420) && animelemtime(2) > 0 && animelemtime(3) < 0 && movetype = A && movecontact
trigger7 = (stateno = 440) && animelemtime(3) > 0 && animelemtime(4) < 0 && movetype = A && movecontact
trigger8 = (stateno = 460) && animelemtime(3) > 0 && animelemtime(4) < 0 && movetype = A && movecontact

[State -1,BLP]
type = ChangeState
value = 320
;triggerall = var(9) != 1
triggerall = command = "x" && command = "holdback"
triggerall = command != "holddown"
trigger1 = statetype = S && ctrl
trigger2 = (stateno = 210) && animelemtime(3) > 0  && animelemtime(4) < 0 && movetype = A && movecontact
trigger3 = (stateno = 230) && animelemtime(3) > 0 && animelemtime(4) < 0 && movetype = A && movecontact
trigger4 = (stateno = 250) && animelemtime(4) > 0 && animelemtime(6) < 0 && movetype = A && movecontact
trigger5 = (stateno = 270) && animelemtime(3) > 0 && animelemtime(4) < 0 && movetype = A && movecontact
trigger6 = (stateno = 400) && animelemtime(2) > 0 && animelemtime(3) < 0 && movetype = A && movecontact
trigger7 = (stateno = 420) && animelemtime(2) > 0 && animelemtime(3) < 0 && movetype = A && movecontact
trigger8 = (stateno = 440) && animelemtime(3) > 0 && animelemtime(4) < 0 && movetype = A && movecontact
trigger9 = (stateno = 460) && animelemtime(3) > 0 && animelemtime(4) < 0 && movetype = A && movecontact
trigger10 = (stateno = 250) && animelemtime(4) > 1 && animelemtime(5) <= 3
trigger11 = (stateno = 270) && animelemtime(3) > 1 && animelemtime(3) <= 8
trigger12 = (stateno = 440) && animelemtime(3) > 1 && animelemtime(3) <= 2
trigger13 = (stateno = 460) && animelemtime(3) > 1 && animelemtime(3) <= 5



[State -1,CFLKcancel]
type = ChangeState
value = 335
;triggerall = var(9) != 1
triggerall = command = "a" && command = "holdfwd"
triggerall = command = "holddown"
trigger1 = (stateno = 210) && animelemtime(3) > 0  && animelemtime(4) < 0 && movetype = A && movecontact
trigger2 = (stateno = 230) && animelemtime(3) > 0 && animelemtime(4) < 0 && movetype = A && movecontact
trigger3 = (stateno = 250) && animelemtime(4) > 0 && animelemtime(6) < 0 && movetype = A && movecontact
trigger4 = (stateno = 270) && animelemtime(3) > 0 && animelemtime(4) < 0 && movetype = A && movecontact
trigger5 = (stateno = 400) && animelemtime(2) > 0 && animelemtime(3) < 0 && movetype = A && movecontact
trigger6 = (stateno = 420) && animelemtime(2) > 0 && animelemtime(3) < 0 && movetype = A && movecontact
trigger7 = (stateno = 440) && animelemtime(3) > 0 && animelemtime(4) < 0 && movetype = A && movecontact
trigger8 = (stateno = 460) && animelemtime(3) > 0 && animelemtime(4) < 0 && movetype = A && movecontact

[State -1,CFLK]
type = ChangeState
value = 330
;triggerall = var(9) != 1
triggerall = var(20) = 0
triggerall = command = "a" && command = "holdfwd"
triggerall = command = "holddown"
trigger1 = statetype = C && ctrl
trigger2 = (stateno = 250) && animelemtime(4) > 1 && animelemtime(5) <= 3
trigger3 = (stateno = 270) && animelemtime(3) > 1 && animelemtime(3) <= 3
trigger4 = (stateno = 440) && animelemtime(3) > 1 && animelemtime(3) <= 2
trigger5 = (stateno = 460) && animelemtime(3) > 1 && animelemtime(3) <= 5
;================
;NORMAL ATTACKS
;================
;Lp
[State -1,LP]
type = ChangeState
value = 200
triggerall = var(9) != 1
triggerall = command = "x"
triggerall = p2bodydist x >= 16
trigger1 = statetype = S && ctrl
trigger2 = (stateno = 200) && animelemtime(3) > 1
trigger3 = (stateno = 400) && animelemtime(2) > 1 && animelemtime(2) <= 4 && movetype = A && movecontact && command != "holddown" && command != "holdfwd" && command != "holdback"
trigger4 = (stateno = 420) && animelemtime(2) > 1 && animelemtime(4) <= 3 && movetype = A && movecontact && command != "holddown" && command != "holdfwd" && command != "holdback"
trigger5 = (stateno = 230) && animelemtime(5) > 1 && animelemtime(6) <= 3 && movetype = A && movecontact && command != "holddown" && command != "holdfwd" && command != "holdback"
trigger6 = (stateno = 210) && animelemtime(3) > 1 && animelemtime(4) <= 3 && movetype = A && movecontact && command != "holddown" && command != "holdfwd" && command != "holdback"
ignorehitpause = 1

;Lpc
[State -1,Lpc]
type = ChangeState
value = 210
triggerall = var(9) != 1
triggerall = command = "x"
triggerall = p2bodydist x < 16
trigger1 = statetype = S && ctrl
trigger2 = (stateno = 400) && animelemtime(2) > 1 && animelemtime(2) <= 4 && movetype = A && movecontact && command != "holddown" && command != "holdfwd" && command != "holdback"
trigger3 = (stateno = 420) && animelemtime(2) > 1 && animelemtime(4) <= 3 && movetype = A && movecontact && command != "holddown" && command != "holdfwd" && command != "holdback"
trigger4 = (stateno = 230) && animelemtime(5) > 1 && animelemtime(6) <= 3 && movetype = A && movecontact && command != "holddown" && command != "holdfwd" && command != "holdback"
trigger5 = (stateno = 210) && animelemtime(3) > 1 && animelemtime(4) <= 3 && movetype = A && movecontact && command != "holddown" && command != "holdfwd" && command != "holdback"
ignorehitpause = 1

;Lk
[State -1,Lk]
type = ChangeState
value = 220
triggerall = var(9) != 1
triggerall = command = "a"
triggerall = p2bodydist x >= 34
trigger1 = statetype = S && ctrl
trigger2 = (stateno = 220) && animelemtime(5) > 3 && animelemtime(6) <= 4 && movetype = A && movecontact && command != "holddown" && command != "holdfwd" && command != "holdback"
ignorehitpause = 1

;Lkc
[State -1,Lkc]
type = ChangeState
value = 230
triggerall = var(9) != 1
triggerall = command = "a"
triggerall = p2bodydist x < 34
trigger1 = statetype = S && ctrl
trigger2 = (stateno = 400) && animelemtime(2) > 1 && animelemtime(2) <= 4 && movetype = A && movecontact && command != "holddown" && command != "holdfwd" && command != "holdback"
trigger3 = (stateno = 420) && animelemtime(2) > 1 && animelemtime(4) <= 3 && movetype = A && movecontact && command != "holddown" && command != "holdfwd" && command != "holdback"
trigger4 = (stateno = 230) && animelemtime(5) > 1 && animelemtime(6) <= 3 && movetype = A && movecontact && command != "holddown" && command != "holdfwd" && command != "holdback"
trigger5 = (stateno = 210) && animelemtime(3) > 1 && animelemtime(4) <= 3 && movetype = A && movecontact && command != "holddown" && command != "holdfwd" && command != "holdback"
ignorehitpause = 1

;Hp
[State -1,HP]
type = ChangeState
value = 240
triggerall = var(9) != 1
triggerall = command = "y"
triggerall = p2bodydist x >= 28
trigger1 = statetype = S && ctrl
ignorehitpause = 1

;Hpc
[State -1,HPc]
type = ChangeState
value = 250
triggerall = var(9) != 1
triggerall = command = "y"
triggerall = p2bodydist x < 28
trigger1 = statetype = S && ctrl
ignorehitpause = 1

;Hk
[State -1,Hk]
type = ChangeState
value = 260
triggerall = var(9) != 1
triggerall = command = "b"
triggerall = p2bodydist x >= 40
trigger1 = statetype = S && ctrl
ignorehitpause = 1

;Hkc
[State -1,Hkc]
type = ChangeState
value = 270
triggerall = var(9) != 1
triggerall = command = "b"
triggerall = p2bodydist x < 40
trigger1 = statetype = S && ctrl
ignorehitpause = 1

[State -1,CLP]
type = ChangeState
value = 400
;triggerall = var(9) != 1
triggerall = command = "x"
triggerall = command = "holddown"
trigger1 = statetype = C && ctrl
trigger2 = stateno = 47
trigger3 = (stateno = 400) && animelemtime(2) >= 4
trigger4 = (stateno = 400) && animelemtime(2) > 1 && animelemtime(2) <= 4 && movetype = A && movecontact && command = "holddown"
trigger5 = (stateno = 420) && animelemtime(2) > 1 && animelemtime(4) <= 3 && movetype = A && movecontact && command = "holddown"
trigger6 = (stateno = 230) && animelemtime(3) > 1 && animelemtime(4) <= 3 && movetype = A && movecontact && command = "holddown"
trigger7 = (stateno = 210) && animelemtime(3) > 1 && animelemtime(4) <= 3 && movetype = A && movecontact && command = "holddown"
ignorehitpause = 1

[State -1,CLk]
type = ChangeState
value = 420
;triggerall = var(9) != 1
triggerall = command = "a"
triggerall = command = "holddown"
trigger1 = statetype = C && ctrl
trigger2 = stateno = 47
trigger3 = (stateno = 420) && animelemtime(3) >= 2
trigger4 = (stateno = 420) && animelemtime(2) > 1 && animelemtime(4) <= 3 && movetype = A && movecontact && command = "holddown" && command != "holdfwd"
trigger5 = (stateno = 400) && animelemtime(2) > 1 && animelemtime(2) <= 4 && movetype = A && movecontact && command = "holddown" && command != "holdfwd"
trigger6 = (stateno = 230) && animelemtime(3) > 1 && animelemtime(4) <= 3 && movetype = A && movecontact && command = "holddown" && command != "holdfwd"
trigger7 = (stateno = 210) && animelemtime(3) > 1 && animelemtime(4) <= 3 && movetype = A && movecontact && command = "holddown" && command != "holdfwd"
ignorehitpause = 1

[State -1,ChP]
type = ChangeState
value = 440
;triggerall = var(9) != 1
triggerall = command = "y"
triggerall = command = "holddown"
trigger1 = statetype = C && ctrl
trigger2 = stateno = 47

[State -1,Chk]
type = ChangeState
value = 460
;triggerall = var(9) != 1
triggerall = command = "b"
triggerall = command = "holddown"
trigger1 = statetype = C && ctrl
trigger2 = stateno = 47
ignorehitpause = 1

[State -1,JLP]
type = ChangeState
value = 610
triggerall = var(9) != 1
triggerall = command = "x"
triggerall = statetype = A
trigger1 = vel x != 0 && ctrl
trigger2 = stateno = 201 && ctrl

[State -1,JLPN]
type = ChangeState
value = 600
triggerall = var(9) != 1
triggerall = command = "x"
triggerall = statetype = A
trigger1 = vel x = 0 && ctrl

[State -1,JLK]
type = ChangeState
value = 630
triggerall = var(9) != 1
triggerall = command = "a"
triggerall = statetype = A
trigger1 = vel x != 0 && ctrl
trigger2 = stateno = 201 && ctrl

[State -1,JLKN]
type = ChangeState
value = 620
;triggerall = var(9) != 1
triggerall = command = "a"
triggerall = vel x = 0
trigger1 = statetype = A && ctrl

[State -1,JHPNshort]
type = ChangeState
value = 640
;triggerall = var(9) != 1
triggerall = command = "y"
triggerall = statetype = A && ctrl
trigger1 = anim = 201
trigger2 = anim = 202

[State -1,JHPN]
type = ChangeState
value = 640
;triggerall = var(9) != 1
triggerall = command = "y"
triggerall = vel x = 0
trigger1 = statetype = A && ctrl

[State -1,JHP]
type = ChangeState
value = 650
triggerall = var(9) != 1
triggerall = command = "y"
triggerall = statetype = A
trigger1 = vel x != 0 && ctrl

[State -1,JHK]
type = ChangeState
value = 670
triggerall = var(9) != 1
triggerall = command = "b"
triggerall = statetype = A
trigger1 = vel x != 0 && ctrl
trigger2 = stateno = 201 && ctrl

[State -1,JHKN]
type = ChangeState
value = 660
;triggerall = var(9) != 1
triggerall = command = "b"
triggerall = vel x = 0
trigger1 = statetype = A && ctrl

;------------------------------------------------------------------------------
[State -1, AI MODE]
type = Varset
triggerall = var(59) != 1
trigger1 = command = "CPU1"
trigger2 = command = "CPU2"
trigger3 = command = "CPU3"
trigger4 = command = "CPU4"
trigger5 = command = "CPU5"
trigger6 = command = "CPU6"
trigger7 = command = "CPU7"
trigger8 = command = "CPU8"
trigger9 = command = "CPU9"
trigger10 = command = "CPU10"
trigger11 = command = "CPU11"
trigger12 = command = "CPU12"
trigger13 = command = "CPU13"
trigger14 = command = "CPU14"
trigger15 = command = "CPU15"
trigger16 = command = "CPU16"
trigger17 = command = "CPU17"
trigger18 = command = "CPU18"
trigger19 = command = "CPU19"
trigger20 = command = "CPU20"
trigger21 = command = "CPU21"
trigger22 = command = "CPU22"
trigger23 = command = "CPU23"
trigger24 = command = "CPU24"
trigger25 = command = "CPU25"
trigger26 = command = "CPU26"
trigger27 = command = "CPU27"
trigger28 = command = "CPU28"
trigger29 = command = "CPU29"
trigger30 = command = "CPU30"
trigger31 = command = "CPU21"
trigger32 = command = "CPU22"
trigger33 = command = "CPU23"
trigger34 = command = "CPU24"
trigger35 = command = "CPU25"
trigger36 = command = "CPU26"
trigger37 = command = "CPU27"
trigger38 = command = "CPU28"
trigger39 = command = "CPU29"
trigger40 = command = "CPU30"
v = 59
value = 1

[State -1, AI SGuard]
type       = ChangeState
Value      = 130
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = statetype != A
triggerall = p2statetype != L
triggerall = p2movetype = A
triggerall = ctrl
trigger1   = StateType = S
trigger1   = p2statetype = S
trigger1   = p2bodydist X < 50
trigger1   = random = [551,999]
trigger2   = p2statetype = A
trigger2   = p2bodydist X <= 50 && random = [400,999]
trigger3   = p2movetype = A
trigger3   = p2bodydist X < 50

[State -1, AI CGuard]
type       = ChangeState
Value      = 131
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = statetype != A
triggerall = p2statetype != L
triggerall = p2movetype = A
triggerall = ctrl
trigger1   = EnemyNear,MoveType != A
Trigger1   = StateType = C
trigger1   = p2statetype = C
trigger1   = P2bodydist X <=  50

[State -1, AI AGuard]
type       = ChangeState
Value      = 132
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = statetype = A
triggerall = p2statetype != L
triggerall = p2movetype = A
triggerall = ctrl
trigger1   = P2bodydist X <= 80

[State -1, AI EX Metsu Ryuuko Ranbu]
type = ChangeState
value = 3900
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = var(20) = 0
triggerall = var(9) != 1
triggerall = power >= 2000 && life <= 250
triggerall = enemy,statetype != L && enemy,movetype != H
triggerall = Random <= 500
trigger1 = p2bodydist x < 120
trigger1 = statetype != A && ctrl

[State -1, AI Ryuuko Ranbu3]
type = ChangeState
value = 3500
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = var(9) != 1
triggerall = power >= 2000
triggerall = enemy,statetype != L && enemy,movetype != H
triggerall = Random <= 500
trigger1 = p2bodydist x < 120
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1
;DreamCancel
trigger4 = stateno = 3150
trigger5 = stateno = 3850
trigger6 = stateno = 3702 && movecontact

[State -1, AI EX Ryuuko Ranbu2]
type = ChangeState
value = 3801
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = var(20) = 0
triggerall = var(9) != 1
triggerall = power >= 1000
triggerall = enemy,statetype != L && enemy,movetype != H
triggerall = Random <= 500
trigger1 = p2bodydist x < 120
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1
;supercancel
trigger4 = stateno = 310 && movecontact

[State -1, AI EX Kuzuryuusen1]
type = ChangeState
value = 3700
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = var(20) = 0
triggerall = power >= 1000
triggerall = enemy,statetype != L && enemy,movetype != H
triggerall = p2bodydist x < 90
triggerall = Random <= 500
trigger1 = statetype = S
trigger1 = ctrl = 1

[State -1, AI 02 Zetsu Ryuuko Ranbu]
type = ChangeState
value = 3600
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = var(20) = 10
triggerall = var(9) != 1
triggerall = power >= 2000 && life <= 250
triggerall = enemy,statetype != L && enemy,movetype != H
triggerall = Random <= 500
trigger1 = p2bodydist x < 120
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1

[State -1, AI Haohshoukoken]
type = ChangeState
value = 3000
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = var(9) != 1
triggerall = power >= 1000
triggerall = NumProj = 0
triggerall = enemy,statetype != L && enemy,movetype != H
trigger1 = p2bodydist x > 100
triggerall = Random <= 500
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1

[State -1, AI 02 Ryuuko Ranbu]
type = ChangeState
value = 3101
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = var(20) = 10
triggerall = var(9) != 1
triggerall = power >= 1000
triggerall = enemy,statetype != L && enemy,movetype != H
triggerall = Random <= 500
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1

[State -1, AI 02 Kuzuryuusen]
type = ChangeState
value = 3200
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = var(20) = 10
triggerall = var(9) != 1
triggerall = power >= 1000
triggerall = p2bodydist x <= 40
triggerall = enemy,statetype != L && enemy,movetype != H
triggerall = Random <= 500
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1

[State -1, AI Haoken]
type = ChangeState
value = 1110
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = var(20) = 10
triggerall = var(9) != 1
triggerall = enemy,statetype != L && enemy,movetype != H
triggerall = Random <= 750
trigger1 = statetype != A && ctrl
trigger1 = p2bodydist X = [0,70]
trigger1 = p2bodydist Y = [-100,-40]
trigger1 = p2statetype = A

[State -1, AI EX Kouken]
type = ChangeState
value = 1710
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = var(20) = 0
triggerall = var(9) != 1
triggerall = NumProj = 0
triggerall = enemy,statetype != L && enemy,movetype != H
triggerall = p2bodydist x >= 100
triggerall = Random <= 100
trigger1 = statetype != A && ctrl

[State -1, AI EX Kouken]
type = ChangeState
value = 1700
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = var(20) = 0
triggerall = var(9) != 1
triggerall = NumProj = 0
triggerall = enemy,statetype != L && enemy,movetype != H
triggerall = p2bodydist x >= 100
triggerall = Random <= 100
trigger1 = statetype != A && ctrl

[State -1, AI Wkouken]
type = ChangeState
value = 1000
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = var(20) = 10
triggerall = var(9) != 1
triggerall = NumProj = 0
triggerall = enemy,statetype != L && enemy,movetype != H
triggerall = p2bodydist x > 100
triggerall = Random <= 100
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1

[State -1, AI Skouken]
type = ChangeState
value = 1001
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = var(20) = 10
triggerall = var(9) != 1
triggerall = NumProj = 0
triggerall = enemy,statetype != L && enemy,movetype != H
triggerall = p2bodydist x >= 100
triggerall = Random <= 100
trigger1 = statetype != A && ctrl
trigger2 = var(39) = 1
trigger3 = var(42) = 1

[State -1, AI EX AhienS]
type = ChangeState
value = 1210
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = var(20) = 0
triggerall = var(9) != 1
triggerall = Random <= 110
triggerall = p2bodydist x <= 60
triggerall = statetype = A
triggerall = enemy,statetype != L && enemy,movetype != H
trigger1 = ctrl

[State -1, AI AhienS]
type = ChangeState
value = 1260
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = var(20) = 10
triggerall = var(9) != 1
triggerall = Random <= 110
triggerall = p2bodydist x <= 60
triggerall = statetype = A
triggerall = enemy,statetype != L && enemy,movetype != H
trigger1 = ctrl

[State -1, AI HienW]
type = ChangeState
value = 1610
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = var(20) = 0
triggerall = p2bodydist x <= 70
triggerall = enemy,statetype != L && enemy,movetype != H
triggerall = Random <= 500
trigger1 = ctrl && statetype != A
trigger2 = var(39) = 1
trigger3 = var(42) = 1

[State -1, AI ZanretsuW]
type = ChangeState
value = 1500
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = var(20) = 10
triggerall = enemy,statetype != L && enemy,movetype != H
triggerall = Random <= 350
trigger1 = ctrl && statetype != A
trigger1 = P2BodyDist X < 54
trigger2 = var(39) = 1
trigger3 = var(42) = 1

[State -1, AI 02 Supreme Dance]
type = ChangeState
value = 1400
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = var(20) = 10
triggerall = stateno != 100 && p2bodydist x < 27
triggerall = enemy,statetype != L && enemy,movetype != H
triggerall = Random <= 500
trigger1 = (p2statetype = S) || (p2statetype = C)
trigger1 =  statetype = S && p2movetype != H && ctrl

[State -1, AI EX Ryuuzan Shou]
type = ChangeState
value = 1850
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = var(20) = 0
triggerall = var(9) != 1
triggerall = p2bodydist x <= 70
triggerall = enemy,statetype != L && enemy,movetype != H
triggerall = Random <= 500
trigger1 = statetype != A && ctrl
trigger1 = p2bodydist X = [0,70]
trigger1 = p2bodydist Y = [-100,-40]
trigger1 = p2statetype = A

[State -1, AI Robert Throw]
type = ChangeState
value = ifelse(Random<=500,350,360)
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = statetype != A
triggerall = enemy,statetype != L && enemy,movetype != H
triggerall = p2statetype != A
triggerall = p2bodydist X < 10
triggerall = Random <= 500
trigger1 = ctrl && (random = [0,500])

[State -1, AI FLP]
type = ChangeState
value = ifelse(Random<=500,300,310)
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = enemy,statetype != L && enemy,movetype != H
triggerall = Random <= 300
trigger1 = statetype = S && ctrl
trigger1 = p2bodydist x <= 60
trigger2 = (stateno = 250) && animelemtime(4) > 1 && animelemtime(5) <= 3
trigger3 = (stateno = 270) && animelemtime(3) > 1 && animelemtime(3) <= 8
trigger4 = (stateno = 440) && animelemtime(3) > 1 && animelemtime(3) <= 2
trigger5 = (stateno = 460) && animelemtime(3) > 1 && animelemtime(3) <= 5

[State -1, AI Blown Off]
type = ChangeState
value = 680
triggerall = var(20) = 10
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = P2bodydist X < 50
triggerall = statetype = A
triggerall = enemy,statetype = A
triggerall = Random <= 500
trigger1 = vel y > 0 && ctrl

[State -1, AI Blown Off]
type = ChangeState
value = 681
triggerall = var(20) = 0
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = P2bodydist X < 50
triggerall = statetype = A
triggerall = enemy,statetype = A
triggerall = Random <= 500
trigger1 = vel y > 0 && ctrl

[State -1, AI Jump Kick]
type = ChangeState
value = ifelse(Random<=500,630,670)
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = statetype = A
triggerall = P2BodyDist X < 50
triggerall = vel x > 0
triggerall = Random <= 500
trigger1 = vel y > 0 && ctrl

[State -1, AI Jump Punch]
type = ChangeState
value = ifelse(Random<=500,650,610)
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = statetype = A
triggerall = P2BodyDist X < 30
triggerall = vel x = 0
triggerall = Random <= 500
trigger1 = vel y > 0 && ctrl

[State -1, AI Crouching Strong Kick]
type = ChangeState
value = 460
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = P2BodyDist X < 50
triggerall = statetype != A
triggerall = enemy,statetype != L && enemy,movetype != H
triggerall = enemy,statetype != A
triggerall = Random <= 500
trigger1 = ctrl && (p2stateno = 100 || (p2stateno = [20,21]))

[State -1, AI Crouching Light Kick]
type = ChangeState
value = 420
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = P2BodyDist X < 50
triggerall = statetype != A
triggerall = enemy,statetype != L && enemy,movetype != H
triggerall = enemy,statetype != A
triggerall = Random <= 500
trigger1 = ctrl && (p2stateno = 100 || (p2stateno = [20,21]))

[State -1, AI Crouching Strong Punch]
type = ChangeState
value = 440
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = P2BodyDist X < 50
triggerall = statetype != A
triggerall = enemy,statetype != L && enemy,movetype != H
triggerall = Random <= 500
trigger1 = ctrl && (p2stateno = 100 || (p2stateno = [20,21]))

[State -1, AI Crouching Light Punch]
type = ChangeState
value = 400
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = P2BodyDist X < 50
triggerall = statetype != A
triggerall = enemy,statetype != L && enemy,movetype != H
triggerall = Random <= 500
trigger1 = ctrl && (p2stateno = 100 || (p2stateno = [20,21]))

[State -1, AI Counter]
type = ChangeState
value = 280
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = backedgebodydist <= 50
trigger1 = power >= 1000 && statetype != A
trigger1 = stateno = [150,151]

[State -1, AI Blown Off]
type = ChangeState
value = 280
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = enemy,statetype != L && enemy,movetype != H
triggerall = P2BodyDist X < 60
triggerall = Random <= 500
trigger1 = statetype != A && ctrl

[State -1, AI Standing Strong Kick]
type = ChangeState
value = ifelse(P2BodyDist X <= 30,270,260)
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = P2BodyDist X < 50
triggerall = statetype = S
triggerall = enemy,statetype != L && enemy,movetype != H
triggerall = enemy,statetype != A
triggerall = Random <= 500
trigger1 = ctrl
trigger2 = stateno = 100

[State -1, AI Stand Light Kick]
type = ChangeState
value = ifelse(P2BodyDist X <= 20,230,220)
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = P2BodyDist X < 50
triggerall = statetype = S
triggerall = enemy,statetype != L && enemy,movetype != H
triggerall = enemy,statetype != A
triggerall = Random <= 500
trigger1 = ctrl
trigger2 = stateno = 100

[State -1, AI Stand Strong Punch]
type = ChangeState
value = ifelse(P2BodyDist X <= 20,250,240)
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = P2BodyDist X < 50
triggerall = statetype = S
triggerall = enemy,statetype != L && enemy,movetype != H
triggerall = enemy,statetype != A
triggerall = Random <= 500
trigger1 = ctrl
trigger2 = stateno = 100

[State -1, AI Stand Light Punch]
type = ChangeState
value = ifelse(P2BodyDist X <= 25,210,200)
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = P2BodyDist X < 50
triggerall = statetype = S
triggerall = enemy,statetype != L && enemy,movetype != H
triggerall = enemy,statetype != A
triggerall = Random <= 500
trigger1 = ctrl
trigger2 = stateno = 100

[State -1, AI Jump]
type = ChangeState
value = 40
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = statetype != A && p2movetype != H
trigger1 = (p2bodydist x = [0,85]) && p2statetype = C && p2movetype != A
trigger1 = Random <= 100
trigger1 = ctrl

[State -1, AI Run]
type = ChangeState
value = 100
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = stateno != 100 && statetype = S
triggerall = enemy,statetype != L
trigger1 = p2bodydist x > 20 &&  p2movetype != A
trigger1 = Random <= 500
trigger1 = ctrl

[State -1, AI RollF]
type = ChangeState
value = 700
triggerall = Roundstate = 2 && Var(59) = 1
triggerall = var(9) != 1
triggerall = P2BodyDist X <= 50
triggerall = Enemy,statetype != L && Enemy,movetype != H
triggerall = EnemyNear,MoveType = A
triggerall = statetype != A
triggerall = Random <= 250
trigger1 = ctrl

